module.exports=function(t){function e(o){if(r[o])return r[o].exports;var n=r[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function o(t){function e(){d3.select(k.params.viz.viz_svg).style("opacity",.5);var t=500;this.params.viz.run_trans===!0&&(t=2500),setTimeout(o,t,this)}function o(t){s(t)}function y(t){_(this,t)}function b(t,e,r){f(this.params,t,e,r)}function x(){return w}var z=n(t),k={};if(k.params=a(z),k.config=z,k.params.zoom_behavior=d3.behavior.zoom().scaleExtent([1,k.params.viz.real_zoom*k.params.viz.zoom_switch]).on("zoom",function(){g(k)}),k.params.zoom_behavior.translate([k.params.viz.clust.margin.left,k.params.viz.clust.margin.top]),k.params.use_sidebar){var A=r(190);A(k)}return i(k),k.update_view=v,k.resize_viz=e,k.play_demo=l,k.ini_demo=c,k.filter_viz_using_nodes=d,k.filter_viz_using_names=u,k.update_cats=y,k.reset_cats=p,k.zoom=b,k.export_matrix=h,k.crop_matrix=m,k.d3_tip_custom=x,k}var n=r(1),a=r(9),i=r(37),s=r(82),l=r(126),c=r(165),d=r(168),u=r(169),_=r(170),p=r(171),f=r(94),v=r(173),h=r(176),m=r(178),g=r(83),w=r(49);d3.slider=r(180);r(182);r(184),r(188),t.exports=o},function(t,e,r){"use strict";var o=r(2),n=r(3),a=r(4),i=r(5),s=r(6),l=r(7),c=r(8);t.exports=function(t){var e=s(),r=o.extend(e,t);r.network_data=t.network_data;var d=": ";_.each(["row","col"],function(t){var e=r.network_data[t+"_nodes"],o=c(e);e.forEach(function(e){o&&(r.super_labels=!0,r["super"][t]=e.name.split(d)[0],e.name=e.name.split(d)[1]),e.name=e.name.replace(/_/g," ")})}),r.network_data.row_nodes_names=o.pluck(r.network_data.row_nodes,"name"),r.network_data.col_nodes_names=o.pluck(r.network_data.col_nodes,"name"),r.sim_mat=l(r);var u=a(r.network_data.views),p={};_.each(_.keys(u.possible_filters),function(t){var e=i(u.filter_data,t);p[t]=e}),_.has(r.network_data,"views")&&r.network_data.views.forEach(function(t){_.each(_.keys(u.possible_filters),function(e){_.has(t,e)||(t[e]=p[e])});var e=t.nodes;_.each(["row","col"],function(t){var r=c(e[t+"_nodes"]);e[t+"_nodes"].forEach(function(t){r&&(t.name=t.name.split(d)[1]),t.name=t.name.replace(/_/g," ")})})});var f=r.network_data.col_nodes,v=r.network_data.row_nodes;if(r.network_data.links.forEach(function(t){t.name=v[t.source].name+"_"+f[t.target].name,t.row_name=v[t.source].name,t.col_name=f[t.target].name}),r.transpose){r.network_data=n(r.network_data);var h=t.col_label,m=t.row_label;t.row_label=h,t.col_label=m}o.is_undefined(t.row_label)||o.is_undefined(t.col_label)||(r.super_labels=!0,r["super"]={},r["super"].row=t.row_label,r["super"].col=t.col_label),r.inst_order={},!o.is_undefined(t.order)&&o.is_supported_order(t.order)?(r.inst_order.row=t.order,r.inst_order.col=t.order):(r.inst_order.row="clust",r.inst_order.col="clust"),!o.is_undefined(t.row_order)&&o.is_supported_order(t.row_order)&&(r.inst_order.col=t.row_order),!o.is_undefined(t.col_order)&&o.is_supported_order(t.col_order)&&(r.inst_order.row=t.col_order);var g=o.has(r.network_data.row_nodes[0],"group"),w=o.has(r.network_data.col_nodes[0],"group");return r.show_dendrogram=g||w,o.has(r.network_data.links[0],"value_orig")?r.keep_orig=!0:r.keep_orig=!1,r}},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.exports={normal_name:function(t){var e=t.name.replace(/_/g," ").split("#")[0];return e},is_supported_order:function(t){return"ini"===t||"clust"===t||"rank_var"===t||"rank"===t||"class"===t||"alpha"==t},has:function(t,e){return null!=t&&hasOwnProperty.call(t,e)},property:function(t){return function(e){return null==e?void 0:e[t]}},pluck:function(t,e){var r=this;if(window._){if("function"==typeof _.pluck)return _.pluck(t,e);if("function"==typeof _.map)return _.map(t,r.property(e))}else if(t.map&&"function"==typeof t.map)return t.map(r.property(e))},is_undefined:function(t){return void 0===t},extend:function(t,e){t=t||{};for(var o in e)"object"===r(e[o])?t[o]=this.extend(t[o],e[o]):t[o]=e[o];return t}}},function(t,e,r){"use strict";var o=r(2);t.exports=function(t){var e,r,n={};for(n.row_nodes=t.col_nodes,n.col_nodes=t.row_nodes,n.links=[],r=0;r<t.links.length;r++)e={},e.source=t.links[r].target,e.target=t.links[r].source,e.value=t.links[r].value,o.has(t.links[r],"highlight")&&(e.highlight=t.links[r].highlight),o.has(t.links[r],"value_up")&&(e.value_up=t.links[r].value_up),o.has(t.links[r],"value_dn")&&(e.value_dn=t.links[r].value_dn),o.has(t.links[r],"info")&&(e.info=t.links[r].info),n.links.push(e);return n}},function(t,e){"use strict";t.exports=function(t){var e={},r={};_.each(t,function(t){var e=_.keys(t);_.each(e,function(e){"nodes"!=e&&(_.has(r,e)||(r[e]=[]),r[e].push(t[e]),r[e]=_.uniq(r[e]))})});var o=_.keys(r);_.each(o,function(t){var o=r[t],n=o.length,a="categorical";_.each(o,function(t){"number"==typeof t&&(a="numerical")}),n>1&&(e[t]=a)});var n={};return n.possible_filters=e,n.filter_data=r,n}},function(t,e){"use strict";t.exports=function(t,e){var r=t[e].sort(function(t,e){return e-t})[0];return r=String(r)}},function(t,e){"use strict";t.exports=function(){var t={row_label_scale:1,col_label_scale:1,super_labels:!1,"super":{},show_label_tooltips:!0,show_tile_tooltips:!0,transpose:!1,tile_colors:["#FF0000","#1C86EE"],bar_colors:["#FF0000","#1C86EE"],cat_value_colors:["#2F4F4F","#9370DB"],outline_colors:["orange","black"],highlight_color:"#FFFF00",tile_title:!1,input_domain:0,opacity_scale:"linear",do_zoom:!0,is_zoom:0,is_slider_drag:!1,is_cropping:!1,background_color:"#FFFFFF",super_border_color:"#F5F5F5",outer_margins:{top:0,bottom:0,left:0,right:0},ini_expand:!1,grey_border_width:2,tile_click_hlight:!1,super_label_scale:1,make_tile_tooltip:function(t){return t.info},ini_view:null,use_sidebar:!0,title:null,about:null,sidebar_width:160,sidebar_icons:!0,row_search_placeholder:"Row",buffer_width:10,show_sim_mat:!1,cat_colors:null,resize:!0,clamp_opacity:.85,expand_button:!0,max_allow_fs:20,dendro_filter:{row:!1,col:!1},cat_filter:{row:!1,col:!1},crop_filter_nodes:{row:!1,col:!1},row_tip_callback:null,col_tip_callback:null,tile_tip_callback:null,matrix_update_callback:null,dendro_callback:null,new_cat_data:null};return t}},function(t,e){"use strict";t.exports=function(t){var e=!1,r=t.network_data.row_nodes_names.length,o=t.network_data.col_nodes_names.length;if(r==o){var n=t.network_data.row_nodes_names,a=t.network_data.col_nodes_names;e=!0,_.each(n,function(t){var r=n.indexOf(t);t!==a[r]&&(e=!1)})}return e&&(t.expand_button=!1),e}},function(t,e){"use strict";t.exports=function(t){var e=": ",r=!0;return _.each(t,function(t){t.name.indexOf(e)<0&&(r=!1)}),r}},function(t,e,r){"use strict";var o=r(10),n=r(13),a=r(14),i=r(4),s=r(15),l=r(36);t.exports=function(t){console.log("********************");var e=$.extend(!0,{},t),r=e;if(r.inst_nodes={},r.inst_nodes.row_nodes=r.network_data.row_nodes,r.inst_nodes.col_nodes=r.network_data.col_nodes,null!==r.ini_view){var c=r.ini_view,d=i(r.network_data.views);r.viz={},r.viz.possible_filters=d.possible_filters,r.viz.filter_data=d.filter_data,c=a(r,c),r.network_data=o(e,r,c),r.viz.requested_view=c,console.log(r.viz.requested_view)}return r=s(r),r.use_sidebar&&(r.sidebar=n(r)),r.zoom_info=l(),r}},function(t,e,r){"use strict";var o=r(11),n=r(12);t.exports=function(t,e,r){var a=t.network_data.views,i=!1;_.has(a[0],"enr_score_type")&&(i=!0);var s=n(e,a,r);i&&0==s.length&&(r={N_row_sum:"all",N_col_sum:"10"},s=n(e,a,r));var l,c=s[0];if("undefined"!=typeof c){var d=c.nodes;l=o(t,d)}else l=t.network_data;return l}},function(t,e,r){"use strict";var o=r(2);t.exports=function(t,e){var r=t.network_data.links,n=o.pluck(e.row_nodes,"name"),a=o.pluck(e.col_nodes,"name"),i=_.filter(r,function(t){var e=t.name.split("_")[0],r=t.name.split("_")[1],o=_.indexOf(n,e),i=_.indexOf(a,r);if(o>-1&i>-1)return t.source=o,t.target=i,t}),s={};return s.row_nodes=e.row_nodes,s.row_nodes_names=n,s.col_nodes=e.col_nodes,s.col_nodes_names=a,s.links=i,s.all_links=r,s.views=t.network_data.views,s}},function(t,e,r){"use strict";var o=r(2),n=r(5);t.exports=function(t,e,r){var a,i,s=_.keys(r);_.each(s,function(t){a=r[t],/[^a-z_]/i.test(a)&&(a=parseInt(a,10)),i=!1,_.each(e,function(e){o.has(e,t)&&(i=!0)}),i&&(e=_.filter(e,function(e){return e[t]==a}))});var l,c,d=[],u=!1;return _.each(e,function(e){l=!0,_.each(_.keys(t.viz.possible_filters),function(r){c=n(t.viz.filter_data,r),e[r]!=c&&(l=!1)}),l?u===!1&&(u=!0,d.push(e)):d.push(e)}),d}},function(t,e){"use strict";t.exports=function(t){var e={};return e.wrapper={},e.row_search={},e.row_search.box={},e.row_search.box.height=34,e.row_search.box.width=95,e.row_search.placeholder=t.row_search_placeholder,e.row_search.margin_left=7,e.slider={},e.slider.width=t.sidebar_width-30,e.slider.margin_left=15,e.key_cat={},e.key_cat.width=t.sidebar_width-15,e.key_cat.margin_left=5,e.key_cat.max_height=100,e.title=t.title,e.title_margin_left=7,e.about=t.about,e.width=t.sidebar_width,e.buttons={},e.buttons.width=t.sidebar_width-15,e.text={},e.icons=t.sidebar_icons,e.icon_margin_left=-5,e}},function(t,e){"use strict";t.exports=function(t,e){var r=_.keys(e)[0];return _.each(_.keys(t.viz.possible_filters),function(o){if(o!=r&&!d3.select(t.root+" .slider_"+o).empty()){var n=d3.select(t.root+" .slider_"+o).attr("current_state");e[o]=n}}),e}},function(t,e,r){"use strict";var o=r(16),n=r(17),a=r(23),i=r(25),s=r(26),l=r(27),c=r(28),d=r(29),u=r(30),_=r(33),p=r(35);t.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1];return t.labels=o(t),t.viz=n(t,e),a(t),t=i(t),t.viz=s(t.viz),t.viz=l(t.viz),t.viz=c(t.viz),t.sim_mat&&(t.viz.clust.dim.width<=t.viz.clust.dim.height?t.viz.clust.dim.height=t.viz.clust.dim.width:t.viz.clust.dim.width=t.viz.clust.dim.height),t=d(t),t=u(t),t=_(t),t=p(t)}},function(t,e){"use strict";t.exports=function(t){var e={};return e.super_label_scale=t.super_label_scale,e.super_labels=t.super_labels,e.super_label_fs=13.8,e.super_labels&&(e["super"]={},e["super"].row=t["super"].row,e["super"].col=t["super"].col),e.show_label_tooltips=t.show_label_tooltips,e.row_max_char=_.max(t.network_data.row_nodes,function(t){return t.name.length}).name.length,e.col_max_char=_.max(t.network_data.col_nodes,function(t){return t.name.length}).name.length,e.max_allow_fs=t.max_allow_fs,e}},function(t,e,r){"use strict";var o=r(2),n=r(4),a=r(18);t.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1],r={};r.root=t.root,r.root_tips=t.root.replace("#",".")+"_d3-tip",r.viz_wrapper=t.root+" .viz_wrapper",r.do_zoom=t.do_zoom,r.background_color=t.background_color,r.super_border_color=t.super_border_color,r.outer_margins=t.outer_margins,r.is_expand=t.ini_expand,r.grey_border_width=t.grey_border_width,r.show_dendrogram=t.show_dendrogram,r.tile_click_hlight=t.tile_click_hlight,r.inst_order=t.inst_order,r.expand_button=t.expand_button,r.sim_mat=t.sim_mat,r.dendro_filter=t.dendro_filter,r.cat_filter=t.cat_filter,r.cat_value_colors=t.cat_value_colors,r.viz_svg=r.viz_wrapper+" .viz_svg",r.zoom_element=r.viz_wrapper+" .viz_svg",r.uni_duration=1e3,r.bottom_space=10,r.run_trans=!1,r.duration=1e3,r.show_dendrogram&&(t.group_level={}),r.resize=t.resize,o.has(t,"size")?r.fixed_size=t.size:r.fixed_size=!1,r.border_fraction=65,r.uni_margin=5,r.super_labels={},r.super_labels.margin={},r.super_labels.dim={},r.super_labels.margin.left=r.grey_border_width,r.super_labels.margin.top=r.grey_border_width,r.super_labels.dim.width=0,t.labels.super_labels&&(r.super_labels.dim.width=15*t.labels.super_label_scale),r.triangle_opacity=.6,r.norm_labels={},r.norm_labels.width={},r.dendro_room={},r.show_dendrogram?r.dendro_room.symbol_width=10:r.dendro_room.symbol_width=0,r.cat_colors=t.cat_colors,r=a(t,r,e),_.has(t,"group_level")&&(t.group_level.row=5,t.group_level.col=5),r.dendro_opacity=.35,r.spillover_col_slant=r.norm_labels.width.col;var i=n(t.network_data.views);return r.possible_filters=i.possible_filters,r.filter_data=i.filter_data,r}},function(t,e,r){"use strict";var o=r(19),n=r(22);t.exports=function(t,e){var r=arguments.length<=2||void 0===arguments[2]||arguments[2];return e=o(t,e,r),e=n(t,e)}},function(t,e,r){"use strict";var o=r(2),n=r(20),a=r(21);t.exports=function(t,e){var r,i,s,l=arguments.length<=2||void 0===arguments[2]||arguments[2],c=": ";e.show_categories={},e.all_cats={},e.cat_names={},e.cat_info={};var d={};d.row=null,d.col=null;var u=!1;null===e.cat_colors?(e.cat_colors={},e.cat_colors.value_opacity=d,u=!1):u=!0,l===!1&&(u=!1);var p=0;return _.each(["row","col"],function(l){e.show_categories[l]=!1,e.all_cats[l]=[];var d=_.keys(t.network_data[l+"_nodes"][0]);_.each(d,function(t){t.indexOf("cat-")>=0&&(e.show_categories[l]=!0,e.all_cats[l].push(t))}),e.cat_info[l]=null,e.show_categories[l]&&(u===!1&&(e.cat_colors[l]={}),e.cat_info[l]={},e.cat_names[l]={},_.each(e.all_cats[l],function(d){_.each(t.network_data[l+"_nodes"],function(t){"string"==typeof t[d]&&t[d].indexOf(c)>0?(r=t[d].split(c)[0],e.cat_names[l][d]=r):e.cat_names[l][d]=d});var f=o.pluck(t.network_data[l+"_nodes"],d),v=_.uniq(f).sort();if(i=a(v),"cat_strings"===i.type){var h=_.countBy(f);i.cat_hist=h}else i.cat_hist=null;e.cat_info[l][d]=i,u===!1&&(e.cat_colors[l][d]={},_.each(v,function(t,r){s=n.get_random_color(r+p),e.cat_colors[l][d][t]=s,"string"==typeof t&&(t.indexOf("Not ")>=0||t.indexOf(": false")>0)&&(e.cat_colors[l][d][t]="#eee"),p+=1}))})),t.sim_mat&&(e.cat_colors.col=e.cat_colors.row)}),e.cat_colors=e.cat_colors,e.cat_colors.opacity=.6,e.cat_colors.active_opacity=.9,e}},function(t,e){"use strict";function r(){return"#EEE"}function o(t){return a[t%n()]}function n(){return a.length}var a;a=["#393b79","#aec7e8","#ff7f0e","#ffbb78","#98df8a","#bcbd22","#404040","#ff9896","#c5b0d5","#8c564b","#1f77b4","#5254a3","#FFDB58","#c49c94","#e377c2","#7f7f7f","#2ca02c","#9467bd","#dbdb8d","#17becf","#637939","#6b6ecf","#9c9ede","#d62728","#8ca252","#8c6d31","#bd9e39","#e7cb94","#843c39","#ad494a","#d6616b","#7b4173","#a55194","#ce6dbd","#de9ed6"],t.exports={get_default_color:r,get_random_color:o,get_num_colors:n}},function(t,e){"use strict";t.exports=function(t){var e=t[0],r=!1,o=!1,n="cat_strings",a=NaN,i=[],s=null,l=": ";if("string"==typeof e&&e.indexOf(l)>-1&&(r=!0,e=e.split(l)[1]),0==isNaN(e)&&(o=!0),o&&(n="cat_values",_.each(t,function(t){r&&(t=t.split(l)[1]),1==isNaN(t)?n="cat_strings":(t=parseFloat(t),i.push(t))})),"cat_values"===n){var c=_.max(i,function(t){return Math.abs(t)});a=Math.abs(c),s=d3.scale.linear().domain([0,a]).range([0,1])}var d={};return d.type=n,d.max_abs_val=a,d.cat_scale=s,d}},function(t,e){"use strict";t.exports=function(t,e){var r,o=d3.scale.linear().domain([5,15]).range([85,120]).clamp("true");return e.cat_room={},e.cat_room.symbol_width=12,e.cat_room.separation=3,_.each(["row","col"],function(n){e.norm_labels.width[n]=o(t.labels[n+"_max_char"])*t[n+"_label_scale"],e["num_"+n+"_nodes"]=t.network_data[n+"_nodes"].length,"row"===n?e.dendro_room[n]=e.dendro_room.symbol_width:e.dendro_room[n]=e.dendro_room.symbol_width+3*e.uni_margin;var a=e.all_cats[n].length;if(e.show_categories[n]){r=(a-1)*e.cat_room.separation;var i;i="row"===n?a+1:a,e.cat_room[n]=i*e.cat_room.symbol_width+r}else"row"==n?e.cat_room[n]=e.cat_room.symbol_width:e.cat_room[n]=0}),e}},function(t,e,r){"use strict";var o=r(24);t.exports=function(t){d3.select(t.root+" .viz_wrapper").empty()&&(d3.select(t.root).append("div").classed("sidebar_wrapper",!0),d3.select(t.root).append("div").classed("viz_wrapper",!0));var e=o(t);d3.select(t.root+" .sidebar_wrapper").style("float","left").style("width",t.sidebar_width+"px").style("height",e.height+"px").style("overflow","hidden"),d3.select(t.viz.viz_wrapper).style("float","left").style("width",e.width+"px").style("height",e.height+"px")}},function(t,e){"use strict";t.exports=function(t){var e,r={},o=t.buffer_width,n=d3.select(t.root).style("width").replace("px",""),a=d3.select(t.root).style("height").replace("px","");return t.viz.is_expand===!1?(e=t.viz.outer_margins,r.width=n-t.sidebar_width-o):(e=t.viz.outer_margins,r.width=n-o),r.top=e.top,r.left=e.left,t.viz.resize?r.height=a:(t.viz.is_expand?r.width=t.viz.fixed_size.width:r.width=t.viz.fixed_size.width-t.sidebar_width,r.height=t.viz.fixed_size.height),r}},function(t,e){"use strict";t.exports=function(t){return t.viz.svg_dim={},t.viz.svg_dim.width=Number(d3.select(t.viz.viz_wrapper).style("width").replace("px","")),t.viz.svg_dim.height=Number(d3.select(t.viz.viz_wrapper).style("height").replace("px","")),t}},function(t,e){"use strict";t.exports=function(t){return t.norm_labels.margin={},t.norm_labels.margin.left=t.super_labels.margin.left+t.super_labels.dim.width,t.norm_labels.margin.top=t.super_labels.margin.top+t.super_labels.dim.width,t.label_background={},t.label_background.row=t.norm_labels.width.row+t.cat_room.row+t.uni_margin,t.label_background.col=t.norm_labels.width.col+t.cat_room.col+t.uni_margin,t}},function(t,e){"use strict";t.exports=function(t){t.clust={},t.clust.margin={},t.clust.margin.left=t.norm_labels.margin.left+t.norm_labels.width.row+t.cat_room.row+t.uni_margin,t.clust.margin.top=t.norm_labels.margin.top+t.norm_labels.width.col+t.cat_room.col+t.uni_margin;var e=t.svg_dim.width-t.clust.margin.left-t.spillover_col_slant,r=d3.scale.ordinal().rangeBands([0,e]).domain(_.range(t.num_col_nodes)),o=r.rangeBand()/2;if(o>t.norm_labels.width.col){var n=t.norm_labels.width.col/o;e*=n}return t.clust.dim={},t.clust.dim.width=e,t}},function(t,e){"use strict";t.exports=function(t){var e=t.svg_dim.height-t.clust.margin.top-t.dendro_room.col-t.bottom_space;return t.clust.dim.height=e,t}},function(t,e){"use strict";t.exports=function(t){var e=Math.abs(_.max(t.network_data.col_nodes,function(t){return Math.abs(t.value)}).value);return t.labels.bar_scale_col=d3.scale.linear().domain([0,e]).range([0,.75*t.viz.norm_labels.width.col]),e=Math.abs(_.max(t.network_data.row_nodes,function(t){return Math.abs(t.value)}).value),t.labels.bar_scale_row=d3.scale.linear().domain([0,e]).range([0,t.viz.norm_labels.width.row]),t}},function(t,e,r){"use strict";var o=r(31);t.exports=function(t){return t.matrix=o(t),t.viz.x_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.width]),t.viz.y_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.height]),_.each(["row","col"],function(e){var r=t.viz.inst_order[e];"custom"===r&&(r="clust"),"row"===e?t.viz.x_scale.domain(t.matrix.orders[r+"_"+e]):t.viz.y_scale.domain(t.matrix.orders[r+"_"+e])}),t.viz.border_width={},t.viz.border_width.x=t.viz.x_scale.rangeBand()/t.viz.border_fraction,t.viz.border_width.y=t.viz.y_scale.rangeBand()/t.viz.border_fraction,t}},function(t,e,r){"use strict";var o=r(2),n=r(32);t.exports=function(t){var e={},r=t.network_data;e.tile_colors=t.tile_colors,e.bar_colors=t.bar_colors,e.outline_colors=t.outline_colors,e.hlight_color=t.highlight_color,e.tile_title=t.tile_title,e.show_tile_tooltips=t.show_tile_tooltips,e.make_tile_tooltip=t.make_tile_tooltip,e.click_hlight_x=-666,e.click_hlight_y=-666,e.click_hlight_row=-666,e.click_hlight_col=-666,e.def_large_matrix=1e4,e.opacity_function=t.opacity_scale,e.orders={},_.each(["row","col"],function(n){var a;a="row"===n?"col":"row";var i=r[a+"_nodes"],s=i.length,l=o.pluck(i,"name"),c=l.sort(),d=_.map(c,function(t){return r[a+"_nodes_names"].indexOf(t)});e.orders["alpha_"+n]=d;var u=["clust","rank"];_.has(i[0],"rankvar")&&u.push("rankvar"),t.viz.all_cats[a].length>0&&_.each(t.viz.all_cats[a],function(t){t=t.replace("-","_"),u.push(t+"_index")}),_.each(u,function(t){var r=d3.range(s).sort(function(e,r){return i[r][t]-i[e][t]});e.orders[t+"_"+n]=r})}),o.has(r,"all_links")?e.max_link=_.max(r.all_links,function(t){return Math.abs(t.value)}).value:e.max_link=_.max(r.links,function(t){return Math.abs(t.value)}).value,e.abs_max_val=Math.abs(e.max_link)*t.clamp_opacity,0===t.input_domain?"linear"===e.opacity_function?e.opacity_scale=d3.scale.linear().domain([0,e.abs_max_val]).clamp(!0).range([0,1]):"log"===e.opacity_function&&(e.opacity_scale=d3.scale.log().domain([.001,e.abs_max_val]).clamp(!0).range([0,1])):"linear"===e.opacity_function?e.opacity_scale=d3.scale.linear().domain([0,t.input_domain]).clamp(!0).range([0,1]):"log"===e.opacity_function&&(e.opacity_scale=d3.scale.log().domain([.001,t.input_domain]).clamp(!0).range([0,1]));var a=o.has(r.links[0],"value_up"),i=o.has(r.links[0],"value_dn");return a||i?e.tile_type="updn":e.tile_type="simple",o.has(r.links[0],"highlight")?e.highlight=1:e.highlight=0,e.matrix=n(r),e.wait_tooltip=0,e}},function(t,e,r){"use strict";var o=r(2);t.exports=function(t){var e,r,n=[];return r=!!o.has(t.links[0],"value_orig"),t.row_nodes.forEach(function(a,i){n[i]={},n[i].name=t.row_nodes[i].name,n[i].row_data=d3.range(t.col_nodes.length).map(function(n){return e=o.has(t.links[0],"value_up")||o.has(t.links[0],"value_dn")?{pos_x:n,pos_y:i,value:0,value_up:0,value_dn:0,highlight:0}:{pos_x:n,pos_y:i,value:0,highlight:0},r&&(e.value_orig=0),e})}),t.links.forEach(function(t){n[t.source].row_data[t.target].value=t.value,n[t.source].row_data[t.target].row_name=t.row_name,n[t.source].row_data[t.target].col_name=t.col_name,(o.has(t,"value_up")||o.has(t,"value_dn"))&&(n[t.source].row_data[t.target].value_up=t.value_up,n[t.source].row_data[t.target].value_dn=t.value_dn),r&&(n[t.source].row_data[t.target].value_orig=t.value_orig),t.highlight&&(n[t.source].row_data[t.target].highlight=t.highlight),t.info&&(n[t.source].row_data[t.target].info=t.info)}),n}},function(t,e,r){"use strict";var o=r(34);t.exports=function(t){t.viz.zoom_scale_font={},t.viz.zoom_scale_font.row=1,t.viz.zoom_scale_font.col=1;var e=.75,r=t.viz.x_scale.rangeBand()/2;return t.viz.real_zoom=t.viz.norm_labels.width.col/r*e,t.viz=o(t.viz),t.viz.rect_width=t.viz.x_scale.rangeBand()-t.viz.border_width.x,t.viz.rect_height=t.viz.y_scale.rangeBand()-t.viz.border_width.y,t}},function(t,e){"use strict";t.exports=function(t){var e=t.clust.dim.width/t.num_col_nodes,r=t.clust.dim.height/t.num_row_nodes;return t.zoom_switch=e/r,t.zoom_switch_y=1,t.zoom_switch<1&&(t.zoom_switch_y=1/t.zoom_switch,t.zoom_switch=1),t}},function(t,e){"use strict";t.exports=function(t){return t.labels.default_fs_row=1.01*t.viz.y_scale.rangeBand(),t.labels.default_fs_col=.87*t.viz.x_scale.rangeBand(),t.labels.default_fs_row>t.labels.max_allow_fs&&(t.labels.default_fs_row=t.labels.max_allow_fs),t.labels.default_fs_col>t.labels.max_allow_fs&&(t.labels.default_fs_col=t.labels.max_allow_fs),t}},function(t,e){"use strict";t.exports=function(){var t={};return t.zoom_x=1,t.zoom_y=1,t.trans_x=0,t.trans_y=0,t}},function(t,e,r){"use strict";var o=r(38),n=r(50),a=r(72),i=r(75),s=r(76),l=r(81),c=r(93),d=r(113),u=r(119),p=r(89),f=r(120),v=r(121),h=r(122),m=r(125);t.exports=function(t){function e(){var t=r.viz.super_border_color;return r.viz.is_expand&&(t="white"),t}var r=t.params;d3.select(r.viz.viz_wrapper+" svg").remove();var g=d3.select(r.viz.viz_wrapper).append("svg").attr("class","viz_svg").attr("id","svg_"+r.root.replace("#","")).attr("width",r.viz.svg_dim.width).attr("height",r.viz.svg_dim.height).attr("is_zoom",0).attr("stopped_zoom",1);g.append("rect").attr("class","super_background").style("width",r.viz.svg_dim.width).style("height",r.viz.svg_dim.height).style("fill","white"),o(r,g);var w=0;n(t,w),r.viz.show_dendrogram&&(f(t),v(t)),m(t),a(t,w),_.each(["row","col"],function(t){var e=Number(d3.select("."+t+"_label_group").select("text").style("font-size").replace("px","")),o=8;e>o&&d3.selectAll(r.root+" ."+t+"_label_group").each(function(){p(r,this,t)})}),u(t),r.viz.show_categories.col&&d(t),s(t),r.labels.super_labels&&i(r),h(t),d3.select(r.viz.viz_svg).append("rect").classed("left_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.grey_border_width).attr("height",r.viz.svg_dim.height).attr("transform","translate(0,0)"),d3.select(r.viz.viz_svg).append("rect").classed("right_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.grey_border_width).attr("height",r.viz.svg_dim.height).attr("transform",function(){var t=r.viz.svg_dim.width-r.viz.grey_border_width;return"translate("+t+",0)"}),d3.select(r.viz.viz_svg).append("rect").classed("top_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.svg_dim.width).attr("height",r.viz.grey_border_width).attr("transform",function(){var t=0;return"translate("+t+",0)"}),d3.select(r.viz.viz_svg).append("rect").classed("bottom_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.svg_dim.width).attr("height",r.viz.grey_border_width).attr("transform",function(){var t=r.viz.svg_dim.height-r.viz.grey_border_width;return"translate(0,"+t+")"}),l(t),c(r),r.viz.do_zoom&&d3.select(r.viz.zoom_element).call(r.zoom_behavior),d3.select(r.viz.zoom_element).on("dblclick.zoom",null)}},function(t,e,r){"use strict";var o=r(2),n=r(39),a=r(42),i=r(43),s=r(49);t.exports=function(t,e){var r,l=t.network_data,c=[],d=l.row_nodes,u=o.pluck(d,"name");r=e.append("g").attr("class","clust_container").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.clust.margin.top+")").append("g").attr("class","clust_group").classed("clust_group",!0);var p=s().attr("class",function(){var e=t.viz.root_tips.replace(".",""),r=e+" d3-tip tile_tip";return r}).style("display","none").direction("nw").offset([0,0]).html(function(e){var r,o=String(e.value.toFixed(3));if(t.keep_orig){var n=String(e.value_orig.toFixed(3));r="<p>"+e.row_name+" and "+e.col_name+"</p><p> normalized value: "+o+"</p><div> original value: "+n+"</div>"}else r="<p>"+e.row_name+" and "+e.col_name+"</p><div> value: "+o+"</div>";return r});d3.select(t.root+" .clust_group").call(p),r.append("rect").classed("background",!0).classed("grey_background",!0).style("fill","#eee").style("opacity",.25).attr("width",t.viz.clust.dim.width).attr("height",t.viz.clust.dim.height),r.selectAll(".row").data(t.matrix.matrix,function(t){return t.name}).enter().append("g").attr("class","row").attr("transform",function(e){var r=_.indexOf(u,e.name);return"translate(0,"+t.viz.y_scale(r)+")"}).each(function(e){i(t,e,p,this)}),"function"==typeof t.click_tile?d3.selectAll(t.root+" .tile").on("click",function(e){var r={};r.row=t.network_data.row_nodes[e.pos_y].name,r.col=t.network_data.col_nodes[e.pos_x].name,r.value=e.value,o.has(e,"value_up")&&(r.value_up=e.value_up),o.has(e,"value_dn")&&(r.value_dn=e.value_dn),o.has(e,"info")&&(r.info=e.info),t.click_tile(r),a(t,this)}):t.tile_click_hlight&&d3.selectAll(t.root+" .tile").on("click",function(){a(t,this)});var f={},v=0;return f.enter=0,n(t,f,v),{get_clust_group:function(){return r},get_matrix:function(){return c},get_nodes:function(t){return"row"===t?l.row_nodes:l.col_nodes}}}},function(t,e,r){"use strict";var o=r(40),n=r(41);t.exports=function(t,e,r){var a=t.network_data.row_nodes,i=t.network_data.col_nodes,s=d3.select(t.root+" .clust_group").selectAll(".horz_lines").data(a,function(t){return t.name}).enter().append("g").attr("class","horz_lines"),l=d3.select(t.root+" .clust_group").selectAll(".vert_lines").data(i).enter().append("g").attr("class","vert_lines");o(t,r),s.select("line").attr("opacity",0).attr("stroke","white").attr("opacity",1),l.select("line").style("stroke","white").attr("opacity",0).transition().delay(e.enter).duration(2*r).attr("opacity",1),n(t)}},function(t,e){"use strict";t.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=0;e>0&&(r=2e3);var o=d3.selectAll(t.root+" .horz_lines"),n=d3.selectAll(t.root+" .vert_lines"),a=t.network_data.row_nodes_names,i=t.network_data.col_nodes_names;o.style("opacity",0).attr("transform",function(e){var r=_.indexOf(a,e.name),o=t.viz.y_scale(r);return"translate(  0,"+o+") rotate(0)"}).transition().duration(e).delay(r).style("opacity",1),o.append("line").attr("x1",0).attr("x2",t.viz.clust.dim.width).style("stroke-width",function(){var e=t.viz.border_width.y;return e+"px"}),n.style("opacity",0).attr("transform",function(e){var r=_.indexOf(i,e.name),o=t.viz.x_scale(r);return"translate("+o+") rotate(-90)"}).transition().duration(e).delay(r).style("opacity",1),n.append("line").attr("x1",0).attr("x2",-t.viz.clust.dim.height).style("stroke-width",function(){var e=t.viz.border_width.x;return e+"px"})}},function(t,e){"use strict";t.exports=function(t){t.zoom_info.zoom_x*t.viz.border_width.x>1?d3.selectAll(t.root+" .vert_lines").select("line").style("display","block").style("opacity",0).transition().style("opacity",1):d3.selectAll(t.root+" .vert_lines").select("line").style("display","none"),t.zoom_info.zoom_y*t.viz.border_width.y>1?d3.selectAll(t.root+" .horz_lines").select("line").style("display","block").style("opacity",0).transition().style("opacity",1):d3.selectAll(t.root+" .horz_lines").select("line").style("display","none")}},function(t,e){"use strict";t.exports=function(t,e){d3.select(e).each(function(r){var o=r.pos_x,n=r.pos_y;if(d3.selectAll(t.root+" .click_hlight").remove(),o!=t.matrix.click_hlight_x||n!=t.matrix.click_hlight_y){t.matrix.click_hlight_x=o,t.matrix.click_hlight_y=n;var a=6,i=.85,s=a*t.viz.border_width.x,l=a*t.viz.border_width.y;d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("top_hlight",!0).attr("width",t.viz.x_scale.rangeBand()).attr("height",l).attr("fill",t.matrix.hlight_color).attr("transform",function(){return"translate("+t.viz.x_scale(o)+",0)"}).attr("opacity",i),d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("left_hlight",!0).attr("width",s).attr("height",t.viz.y_scale.rangeBand()-.99*l).attr("fill",t.matrix.hlight_color).attr("transform",function(){return"translate("+t.viz.x_scale(o)+","+.99*l+")"}).attr("opacity",i),d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("right_hlight",!0).attr("width",s).attr("height",t.viz.y_scale.rangeBand()-.99*l).attr("fill",t.matrix.hlight_color).attr("transform",function(){var e=t.viz.x_scale(o)+t.viz.x_scale.rangeBand()-s;return"translate("+e+","+.99*l+")"}).attr("opacity",i),d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("bottom_hlight",!0).attr("width",function(){return t.viz.x_scale.rangeBand()-1.98*s}).attr("height",l).attr("fill",t.matrix.hlight_color).attr("transform",function(){var e=t.viz.x_scale(o)+.99*s,r=t.viz.y_scale.rangeBand()-l;return"translate("+e+","+r+")"}).attr("opacity",i)}else t.matrix.click_hlight_x=-666,t.matrix.click_hlight_y=-666})}},function(t,e,r){"use strict";var o=r(44),n=r(45),a=r(46),i=r(47),s=r(48);t.exports=function(t,e,r,l){var c,d=e.row_data;c=!!_.has(t.network_data.links[0],"value_orig");var u;u=c===!1?_.filter(d,function(t){return 0!==t.value}):d;var p=d3.select(l).selectAll("rect").data(u,function(t){return t.col_name}).enter().append("rect").attr("class","tile row_tile").attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).style("fill",function(e){var r;return r="NaN"===e.value_orig?"#000000":e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).on("mouseover",function(){for(var e=arguments.length,o=Array(e),n=0;n<e;n++)o[n]=arguments[n];a(t,this,r,o)}).on("mouseout",function(){i(t,this,r)}).style("fill-opacity",function(e){var r;return r="NaN"===e.value_orig?.175:t.matrix.opacity_scale(Math.abs(e.value))}).attr("transform",function(e){return s(t,e)});if("updn"==t.matrix.tile_type){var f=_.filter(d,function(t){return 0!=t.value_up||0!=t.value_dn});d3.select(l).selectAll(".tile_up").data(f,function(t){return t.col_name}).enter().append("path").attr("class","tile_up").attr("d",function(){return o(t)}).attr("transform",function(e){s(t,e)}).style("fill",function(){return t.matrix.tile_colors[0]}).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_dn)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_up))),r}).on("mouseover",function(){for(var e=arguments.length,o=Array(e),n=0;n<e;n++)o[n]=arguments[n];a(t,this,r,o)}).on("mouseout",function(){i(t,this,r)}),d3.select(l).selectAll(".tile_dn").data(f,function(t){return t.col_name}).enter().append("path").attr("class","tile_dn").attr("d",function(){
return n(t)}).attr("transform",function(e){s(t,e)}).style("fill",function(){return t.matrix.tile_colors[1]}).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_up)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_dn))),r}).on("mouseover",function(){for(var e=arguments.length,o=Array(e),n=0;n<e;n++)o[n]=arguments[n];a(t,this,r,o)}).on("mouseout",function(){i(t,this,r)}),p.each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}t.matrix.tile_title&&p.append("title").text(function(t){var e="value: "+t.value;return e})}},function(t,e){"use strict";t.exports=function(t){var e=0,r=t.viz.x_scale.rangeBand()-t.viz.border_width.x,o=0,n=t.viz.y_scale.rangeBand()-t.viz.border_width.y,a="M"+e+","+o+", L"+e+", "+n+", L"+r+",0 Z";return a}},function(t,e){"use strict";t.exports=function(t){var e=0,r=t.viz.x_scale.rangeBand()-t.viz.border_width.x,o=t.viz.y_scale.rangeBand()-t.viz.border_width.y,n=t.viz.y_scale.rangeBand()-t.viz.border_width.y,a="M"+e+", "+o+" ,   L"+r+", "+n+",  L"+r+",0 Z";return a}},function(t,e){"use strict";t.exports=function(t,e,r,o){function n(){if(d3.select(e).classed("hovering")){var o=Number(d3.select(t.root+" .viz_svg").attr("is_zoom"));if(0===o&&t.matrix.show_tile_tooltips&&(d3.selectAll(".tile_tip").style("display","block"),r.show.apply(e,s),null!=t.tile_tip_callback)){var n=s[0];t.tile_tip_callback(n)}}}var a,i=o[0],s=[].slice.call(o),l=1e3;d3.select(e).classed("hovering",!0),_.each(["row","col"],function(e){d3.selectAll(t.root+" ."+e+"_label_group text").style("font-weight",function(t){var r,o=i[e+"_name"].replace(/_/g," ")===t.name;return r=o?"bold":"normal"})}),s.push(e),clearTimeout(a),a=setTimeout(n,l,e)}},function(t,e){"use strict";t.exports=function(t,e,r){d3.select(e).classed("hovering",!1),d3.selectAll(".tile_tip").style("display","none"),_.each(["row","col"],function(e){d3.selectAll(t.root+" ."+e+"_label_group text").style("font-weight","normal")}),r.hide()}},function(t,e){"use strict";t.exports=function(t,e){var r=t.viz.x_scale(e.pos_x)+.5*t.viz.border_width.x,o=.5*t.viz.border_width.y;return"translate("+r+","+o+")"}},function(t,e){"use strict";t.exports=function(){function t(t){x=f(t),z=x.createSVGPoint(),document.body.appendChild(b)}function e(){return"n"}function r(){return[0,0]}function o(){return" "}function n(){var t=v();return{top:t.s.y,left:t.s.x}}function a(){var t=v();return{top:t.n.y-b.offsetHeight,left:t.n.x-b.offsetWidth/2}}function i(){var t=v();return{top:t.s.y,left:t.s.x-b.offsetWidth/2}}function s(){var t=v();return{top:t.e.y-b.offsetHeight/2,left:t.e.x}}function l(){var t=v();return{top:t.w.y-b.offsetHeight/2,left:t.w.x-b.offsetWidth}}function c(){var t=v();return{top:t.nw.y-b.offsetHeight,left:t.nw.x-b.offsetWidth}}function d(){var t=v();return{top:t.ne.y-b.offsetHeight,left:t.ne.x}}function u(){var t=v();return{top:t.sw.y,left:t.sw.x-b.offsetWidth}}function _(){var t=v();return{top:t.se.y,left:t.e.x}}function p(){var t=d3.select(document.createElement("div"));return t.style({position:"absolute",opacity:0,pointerEvents:"none",boxSizing:"border-box"}),t.node()}function f(t){return t=t.node(),"svg"==t.tagName.toLowerCase()?t:t.ownerSVGElement}function v(){var t=k||d3.event.target,e={},r=t.getScreenCTM(),o=t.getBBox(),n=o.width,a=o.height,i=o.x,s=o.y,l=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;return r.a=1,r.d=1,r.e=r.e+c,r.f=r.f+l,z.x=i,z.y=s,e.nw=z.matrixTransform(r),z.x=z.x+n,e.ne=z.matrixTransform(r),z.y=z.y+a,e.se=z.matrixTransform(r),z.x=z.x-n,e.sw=z.matrixTransform(r),z.y=z.y-a/2,e.w=z.matrixTransform(r),z.x=z.x+n,e.e=z.matrixTransform(r),z.x=z.x-n/2,z.y=z.y-a/2,e.n=z.matrixTransform(r),z.y=z.y+a,e.s=z.matrixTransform(r),e}function h(t){var e=d3.select(t).classed("hovering");e&&d3.selectAll(".d3-tip").transition().duration(250).style("opacity",0).style("display","none")}function m(t){var e={};return t&&"[object Function]"===e.toString.call(t)}var g=e,w=r,y=o,b=p(),x=null,z=null,k=null;t.show=function(){var e=Array.prototype.slice.call(arguments);e[e.length-1]instanceof SVGElement&&(k=e.pop());var r,o=y.apply(this,e),n=w.apply(this,e),a=g.apply(this,e),i=d3.select(b),s=0;for(i.html(o).style({opacity:1,"pointer-events":"all"});s--;)i.classed(O[s],!1);if(r=A.get(a).apply(this),i.classed(a,!0).style({top:r.top+n[0]+"px",left:r.left+n[1]+"px"}),m(this)===!1){var l=d3.select(this).attr("class");l.indexOf("tile")>=0&&setTimeout(h,5e3,this)}return t},t.hide=function(){var e=d3.select(b);return e.style({opacity:0,"pointer-events":"none"}),t},t.attr=function(e){if(arguments.length<2&&"string"==typeof e)return d3.select(b).attr(e);var r=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(d3.select(b),r),t},t.style=function(e){if(arguments.length<2&&"string"==typeof e)return d3.select(b).style(e);var r=Array.prototype.slice.call(arguments);return d3.selection.prototype.style.apply(d3.select(b),r),t},t.direction=function(e){return arguments.length?(g=null==e?e:d3.functor(e),t):g},t.offset=function(e){return arguments.length?(w=null==e?e:d3.functor(e),t):w},t.html=function(e){return arguments.length?(y=null==e?e:d3.functor(e),t):y};var A=d3.map({n:a,s:i,e:s,w:l,nw:c,ne:d,sw:u,se:_,south_custom:n}),O=A.keys();return t}},function(t,e,r){"use strict";var o=r(2),n=r(51),a=r(52),i=r(70),s=r(71);t.exports=function(t,e){var r,l=t.params,c=l.network_data.row_nodes,d=l.network_data.row_nodes_names;r=d3.select(l.viz.viz_svg+" .row_container").empty()?d3.select(l.viz.viz_svg).append("g").attr("class","row_container").attr("transform","translate("+l.viz.norm_labels.margin.left+","+l.viz.clust.margin.top+")"):d3.select(l.viz.viz_svg).select(".row_container").attr("transform","translate("+l.viz.norm_labels.margin.left+","+l.viz.clust.margin.top+")"),d3.select(l.root+" .row_white_background").empty()&&r.append("rect").classed("row_white_background",!0).classed("white_bars",!0).attr("fill",l.viz.background_color).attr("width",l.viz.label_background.row).attr("height",30*l.viz.clust.dim.height+"px"),d3.select(l.root+" .row_label_container").empty()?r.append("g").attr("class","row_label_container").attr("transform","translate("+l.viz.norm_labels.width.row+",0)").append("g").attr("class","row_label_zoom_container"):r.select(l.root+" .row_label_container").attr("transform","translate("+l.viz.norm_labels.width.row+",0)");var u=d3.select(l.root+" .row_label_zoom_container").selectAll("g").data(c,function(t){return t.name}).enter().append("g").attr("class","row_label_group").attr("transform",function(t){var e=_.indexOf(d,t.name);return"translate(0,"+l.viz.y_scale(e)+")"});d3.select(l.root+" .row_label_zoom_container").selectAll(".row_label_group").on("dblclick",function(e){var r="__data__",o=this[r].name;if(l.sim_mat){a(t,this,o);var s=d3.selectAll(l.root+" .col_label_text").filter(function(t){return t.name==o})[0][0];i(t,s,o)}else a(t,this,o);l.tile_click_hlight&&n(this,e.ini)}),s(l),u.insert("rect").style("opacity",0),u.append("text").attr("y",.5*l.viz.rect_height+.35*l.labels.default_fs_row).attr("text-anchor","end").style("font-size",l.labels.default_fs_row+"px").text(function(t){return o.normal_name(t)}).attr("pointer-events","none").style("opacity",0).style("cursor","default").transition().delay(e).duration(e).style("opacity",1),u.each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",t.x).attr("y",0).attr("width",t.width).attr("height",l.viz.y_scale.rangeBand()).style("fill",function(){var t="yellow";return t}).style("opacity",function(t){var e=0;return 1===t.target&&(e=1),e})}),o.has(l.network_data.row_nodes[0],"value")&&u.append("rect").attr("class","row_bars").attr("width",function(t){var e=0;return e=l.labels.bar_scale_row(Math.abs(t.value))}).attr("x",function(t){var e=0;return e=-l.labels.bar_scale_row(Math.abs(t.value))}).attr("height",l.viz.y_scale.rangeBand()).attr("fill",function(t){return t.value>0?l.matrix.bar_colors[0]:l.matrix.bar_colors[1]}).attr("opacity",.4)}},function(t,e){"use strict";t.exports=function(t,e,r){if(r!=t.click_hlight_row){var o=6,n=.85,a=o*t.viz.border_width.x;d3.selectAll(t.root+" .click_hlight").remove(),d3.select(e).append("rect").classed("click_hlight",!0).classed("row_top_hlight",!0).attr("width",t.viz.svg_dim.width).attr("height",a).attr("fill",t.matrix.hlight_color).attr("opacity",n),d3.select(e).append("rect").classed("click_hlight",!0).classed("row_bottom_hlight",!0).attr("width",t.viz.svg_dim.width).attr("height",a).attr("fill",t.matrix.hlight_color).attr("opacity",n).attr("transform",function(){var e=t.viz.y_scale.rangeBand()-a;return"translate(0,"+e+")"})}else d3.selectAll(t.root+" .click_hlight").remove(),t.click_hlight_row=-666}},function(t,e,r){"use strict";var o=r(2),n=r(53),a=r(54),i=r(68),s=r(36);t.exports=function(t,e,r){var l=t.params;l.viz.inst_order.row="custom",a(t,"col"),d3.selectAll(l.root+" .toggle_col_order .btn").classed("active",!1),l.viz.run_trans=!0;var c=l.matrix.matrix,d=l.network_data.row_nodes,u=l.network_data.col_nodes,p=o.pluck(u,"name"),f=[];d.forEach(function(t){f.push(t.name)}),r=_.indexOf(f,r),f=[],u.forEach(function(t,e){f.push(c[r].row_data[e].value)});var v=d3.range(f.length).sort(function(t,e){return f[e]-f[t]});l.viz.x_scale.domain(v),l.matrix.orders.custom_row=v;var h;l.network_data.links.length>l.matrix.def_large_matrix?(h=d3.select(l.root+" .clust_group"),d3.select(l.root+" .col_zoom_container").selectAll(".col_label_text").attr("transform",function(t){var e=_.indexOf(p,t.name);return"translate("+l.viz.x_scale(e)+")rotate(-90)"}),d3.selectAll(l.root+" .col_cat_group").attr("transform",function(t){var e=_.indexOf(p,t.name);return"translate("+l.viz.x_scale(e)+",0)"})):(h=d3.select(l.root+" .clust_group").transition().duration(2500),d3.select(l.root+" .col_zoom_container").selectAll(".col_label_text").transition().duration(2500).attr("transform",function(t){var e=_.indexOf(p,t.name);return"translate("+l.viz.x_scale(e)+")rotate(-90)"}),d3.selectAll(l.root+" .col_cat_group").transition().duration(2500).attr("transform",function(t){var e=_.indexOf(p,t.name);return"translate("+l.viz.x_scale(e)+",0)"})),h.selectAll(".tile").attr("transform",function(t){return"translate("+l.viz.x_scale(t.pos_x)+",0)"}),h.selectAll(".tile_up").attr("transform",function(t){return"translate("+l.viz.x_scale(t.pos_x)+",0)"}),h.selectAll(".tile_dn").attr("transform",function(t){return"translate("+l.viz.x_scale(t.pos_x)+",0)"}),d3.selectAll(l.root+" .row_label_group").select("rect").style("opacity",0),d3.select(e).select("rect").style("opacity",1),n(l),l.network_data.links.forEach(function(t){t.x=l.viz.x_scale(t.target),t.y=l.viz.y_scale(t.source)}),l.zoom_info=s(),i(l),setTimeout(function(){l.viz.run_trans=!1},2500)}},function(t,e){"use strict";t.exports=function(t){var e=6,r=e*t.viz.border_width.x,o=e*t.viz.border_width.y;d3.select(t.root+" .top_hlight").attr("width",t.viz.x_scale.rangeBand()).attr("height",o).transition().duration(2500).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+",0)"}),d3.select(t.root+" .left_hlight").attr("width",r).attr("height",t.viz.y_scale.rangeBand()-.99*o).transition().duration(2500).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+","+.99*o+")"}),d3.select(t.root+" .right_hlight").attr("width",r).attr("height",t.viz.y_scale.rangeBand()-.99*o).transition().duration(2500).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+t.viz.x_scale.rangeBand()-r;return"translate("+e+","+.99*o+")"}),d3.select(t.root+" .bottom_hlight").attr("width",function(){return t.viz.x_scale.rangeBand()-1.98*r}).attr("height",o).transition().duration(2500).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+.99*r,n=t.viz.y_scale.rangeBand()-o;return"translate("+e+","+n+")"})}},function(t,e,r){"use strict";var o=r(55);t.exports=function(t,e){var r=arguments.length<=2||void 0===arguments[2]?1500:arguments[2],n=t.params;"row"===e&&"clust"===n.viz.inst_order.col&&setTimeout(o,r,t,"row",!0),"col"===e&&"clust"===n.viz.inst_order.row&&setTimeout(o,r,t,"col",!0),"clust"!=n.viz.inst_order.row&&n.viz.dendro_filter.col===!1&&(d3.selectAll(n.root+" .col_dendro_group").style("opacity",0).on("mouseover",null).on("mouseout",null),d3.select(n.root+" .col_slider_group").style("opacity",0),d3.selectAll(n.root+" .col_dendro_crop_buttons").style("opacity",0).on("mouseover",null).on("mouseout",null)),"clust"!=n.viz.inst_order.col&&n.viz.dendro_filter.row===!1&&(d3.selectAll(n.root+" .row_dendro_group").style("opacity",0).on("mouseover",null).on("mouseout",null).on("click",null),d3.select(n.root+" .row_slider_group").style("opacity",0),d3.selectAll(n.root+" .row_dendro_crop_buttons").style("opacity",0).on("mouseover",null).on("mouseout",null))}},function(t,e,r){"use strict";var o=r(56),n=r(57),a=r(58),i=r(49),s=r(60),l=r(62);t.exports=function(t,e){function r(t,r,o){if(d3.select(t).classed("hovering")){var n=d.viz.root_tips+"_"+e+"_dendro_tip";d3.select(n+" .cat_graph").empty()&&null!==d.viz.cat_info[e]&&l(d,e,r,_[o],n,!0),d3.selectAll(d.viz.root_tips+"_"+e+"_dendro_tip").style("opacity",1)}}var c=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],d=t.params;"both"===e&&(e="row");var u;u="row"===e?"col":"row","clust"===d.viz.inst_order[u]&&d3.select(d.root+" ."+e+"_slider_group").style("opacity",1);var _;_="row"===e?o(d):n(d),d3.select(t.params.root+" ."+e+"_dendro_crop_buttons").empty()===!1&&s(t,e);var p=d.viz.dendro_opacity,f=500;d3.selectAll(t.params.viz.root_tips+"_"+e+"_dendro_tip").remove();var v;d3.selectAll(d.root+" ."+e+"_dendro_group").empty()?v=!1:(v=!0,d3.selectAll(d.root+" ."+e+"_dendro_group").remove());var h=0,m=-5,g=i().attr("class",function(){var t=d.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_"+e+"_dendro_tip";return r}).direction("nw").offset([h,m]).style("display","block").style("opacity",0);g.html(function(){var t='<div class="cluster_info_container"></div>Click for cluster information <br>and additional options.';return t}),c&&(v=!1);var w,y,b,x,z,k,A=d3.select(d.root+" ."+e+"_dendro_container").selectAll("path").data(_,function(t){return t.name}).enter().append("path").style("opacity",0).attr("class",e+"_dendro_group").style("fill","black");A.attr("d",function(t){"row"===e?(w=0,y=t.pos_top,b=30,x=t.pos_mid,z=0,k=t.pos_bot):(w=t.pos_top,y=0,b=t.pos_mid,x=30,z=t.pos_bot,k=0);var r="M"+w+","+y+", L"+b+", "+x+", L"+z+","+k+" Z";return r}),A.on("mouseover",function(o,n){d3.select(this).classed("hovering",!0),null!=t.params.dendro_callback&&t.params.dendro_callback(this),d3.select(d.viz.root_tips+"_"+e+"_dendro_tip").style("display","block"),a(d,this,o,e),g.show(o),d3.select(d.viz.root_tips+"_"+e+"_dendro_tip").style("opacity",0),setTimeout(r,f,this,o,n)}).on("mouseout",function(){"clust"===d.viz.inst_order[u]&&d3.select(this).style("opacity",p),d3.selectAll(d.root+" .dendro_shadow").remove(),d3.select(this).classed("hovering",!1),g.hide(this)}).on("click",function(t,r){$(d.root+" .dendro_info").modal("toggle");var o=t.all_names.join(", ");d3.select(d.root+" .dendro_info input").attr("value",o);var n=".dendro_info";d3.select(".dendro_info .cluster_info_container .cat_graph").remove(),null!==d.viz.cat_info[e]&&l(d,e,t,_[r],n)}).call(g);var O;O="clust"===d.viz.inst_order[u]?p:0,v?d3.select(d.root+" ."+e+"_dendro_container").selectAll("path").transition().delay(1e3).duration(1e3).style("opacity",O):d3.select(d.root+" ."+e+"_dendro_container").selectAll("path").style("opacity",O)}},function(t,e){"use strict";t.exports=function(t){var e={},r=t.group_level.row,o=t.network_data.row_nodes,n=t.network_data.row_nodes_names;_.each(o,function(o){var a=o.group[r],i=_.indexOf(n,o.name),s=t.viz.y_scale(i),l=s+t.viz.y_scale.rangeBand();_.has(e,a)===!1&&(e[a]={},e[a].name_top=o.name,e[a].name_bot=o.name,e[a].pos_top=s,e[a].pos_bot=l,e[a].pos_mid=(s+l)/2,e[a].name=a,e[a].all_names=[],e[a].inst_rc="row"),e[a].all_names.push(o.name),s<e[a].pos_top&&(e[a].name_top=o.name,e[a].pos_top=s,e[a].pos_mid=(s+e[a].pos_bot)/2),l>e[a].pos_bot&&(e[a].name_bot=o.name,e[a].pos_bot=l,e[a].pos_mid=(e[a].pos_top+l)/2)});var a=[];return _.each(e,function(t){a.push(t)}),a}},function(t,e){"use strict";t.exports=function(t){var e={},r=t.group_level.col,o=t.network_data.col_nodes,n=t.network_data.col_nodes_names;_.each(o,function(o){var a=o.group[r],i=_.indexOf(n,o.name),s=t.viz.x_scale(i),l=s+t.viz.x_scale.rangeBand();_.has(e,a)===!1&&(e[a]={},e[a].name_top=o.name,e[a].name_bot=o.name,e[a].pos_top=s,e[a].pos_bot=l,e[a].pos_mid=(s+l)/2,e[a].name=a,e[a].all_names=[],e[a].inst_rc="col"),e[a].all_names.push(o.name),s<e[a].pos_top&&(e[a].name_top=o.name,e[a].pos_top=s,e[a].pos_mid=(s+e[a].pos_bot)/2),l>e[a].pos_bot&&(e[a].name_bot=o.name,e[a].pos_bot=l,e[a].pos_mid=(e[a].pos_top+l)/2)});var a=[];return _.each(e,function(t){a.push(t)}),a}},function(t,e,r){"use strict";var o=r(59);t.exports=function(t,e,r,n){function a(){d3.select(e).classed("hovering")&&t.is_slider_drag===!1&&(d3.select(e).style("opacity",.7),i())}function i(){"row"===n?"clust"===t.viz.inst_order.col&&o(t,e,n,r):"col"===n?"clust"===t.viz.inst_order.row&&o(t,e,n,r):"both"===n&&("clust"===t.viz.inst_order.col&&o(t,e,"row",r),"clust"===t.viz.inst_order.row&&o(t,e,"col",r))}var s=500;setTimeout(a,s)}},function(t,e){"use strict";t.exports=function(t,e,r,o){var n,a=.2;d3.selectAll(t.root+" .dendro_shadow").remove(),"row"==r?(d3.select(t.root+" .clust_group").append("rect").style("width",t.viz.clust.dim.width+"px").style("height",o.pos_top+"px").style("fill","black").classed("dendro_shadow",!0).style("opacity",a),n=t.viz.clust.dim.height-o.pos_bot,d3.select(t.root+" .clust_group").append("rect").style("width",t.viz.clust.dim.width+"px").style("height",n+"px").attr("transform","translate(0,"+o.pos_bot+")").style("fill","black").classed("dendro_shadow",!0).style("opacity",a)):"col"===r&&(d3.select(t.root+" .clust_group").append("rect").style("width",o.pos_top+"px").style("height",t.viz.clust.dim.height+"px").style("fill","black").classed("dendro_shadow",!0).style("opacity",a),n=t.viz.clust.dim.width-o.pos_bot,d3.select(t.root+" .clust_group").append("rect").style("width",n+"px").style("height",t.viz.clust.dim.height+"px").attr("transform","translate("+o.pos_bot+",0)").style("fill","black").classed("dendro_shadow",!0).style("opacity",a))}},function(t,e,r){"use strict";var o=r(56),n=r(57),a=r(49),i=r(58),s=r(61);t.exports=function(t,e){function r(t){d3.select(t).classed("hovering")&&d3.selectAll(d.viz.root_tips+"_"+e+"_dendro_crop_tip").style("opacity",1).style("display","block")}var l,c,d=t.params,u=.6*d.viz.dendro_opacity;"row"===e?(l=o(d),c="col"):(l=n(d),c="row");var _=0,p=-5,f=a().attr("class",function(){var t=d.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_"+e+"_dendro_crop_tip";return r}).direction("nw").offset([_,p]),v=500;d3.selectAll(d.viz.root_tips+"_"+e+"_dendro_crop_tip").remove(),d3.selectAll(d.root+" ."+e+"_dendro_crop_buttons").remove();var h,m,g,w,y,b,x,z,k,A=45,O=.25,E=e+"_dendro_crop_buttons";d3.select(t.params.root+" ."+e+"_dendro_icons_group").classed("ran_filter")===!1?(h=d3.select(d.root+" ."+e+"_dendro_icons_group").selectAll("path").data(l,function(t){return t.name}).enter().append("path").classed(E,!0).attr("d",function(t){z=10,k=12;var r=t.pos_bot-t.pos_top;"row"===e?(r<A&&(z=r*O),m=k,g=-z,w=0,y=0,b=k,x=z):(r<A&&(k=r*O),m=-k,g=z,w=0,y=0,b=k,x=z);var o="M"+m+","+g+", L"+w+", "+y+", L"+b+","+x+" Z";return o}),f.html(function(){var t="Click to crop cluster";return t})):(h=d3.select(d.root+" ."+e+"_dendro_icons_group").selectAll("path").data(l,function(t){return t.name}).enter().append("path").classed(E,!0).attr("d",function(t){z=10,k=12;var r=t.pos_bot-t.pos_top;"row"===e?(r<A&&(z=r*O),m=0,g=-z,w=k,y=0,b=0,x=z):(r<A&&(k=r*O),m=-k,g=0,w=0,y=z,b=k,x=0);var o="M"+m+","+g+", L"+w+", "+y+", L"+b+","+x+" Z";return o}),f.html(function(){var t="Click to undo crop";return t})),h.style("cursor","pointer").style("opacity",u).attr("transform",function(t){var r,o,n;return"row"===e?(o=d.viz.uni_margin,n=t.pos_mid):(o=t.pos_mid,n=d.viz.uni_margin),r="translate("+o+","+n+")"}).on("mouseover",function(t){d3.select(this).classed("hovering",!0),f.show(t),i(d,this,t,e),d3.selectAll(d.viz.root_tips+"_"+e+"_dendro_crop_tip").style("opacity",0).style("display","block"),setTimeout(r,v,this)}).on("mouseout",function(){d3.select(this).classed("hovering",!1),d3.selectAll(d.root+" .dendro_shadow").remove(),d3.select(this).style("opacity",u),f.hide(this)}).on("click",function(r){d3.select(this).style("opacity",.9).style("fill","blue").transition().duration(1e3).style("opacity",0),t.params.dendro_filter.row===!1&&t.params.dendro_filter.col===!1&&t.params.cat_filter.row===!1&&t.params.cat_filter.col===!1?(d3.select(t.params.root+" ."+e+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)").classed("ran_filter",!0),d3.select(t.params.root+" ."+c+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)"),d3.select(t.params.root+" ."+e+"_slider_group").style("display","none"),d3.select(t.params.root+" ."+c+"_dendro_icons_container").style("display","none"),d3.select(t.params.root+" .crop_button").style("opacity",.2)):(d3.select(t.params.root+" ."+e+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)").classed("ran_filter",!1),d3.select(t.params.root+" ."+c+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)"),"clust"===d.viz.inst_order[c]&&d3.select(t.params.root+" ."+e+"_slider_group").style("display","block"),d3.select(t.params.root+" ."+c+"_dendro_icons_container").style("display","block"),d3.select(t.params.root+" .crop_button").style("opacity",1)),s(t,r,e)}).call(f);var T;"clust"===d.viz.inst_order[c]?T=u:(T=0,d3.select(d.root+" ."+e+"_dendro_icons_group").selectAll("path").style("display","none")),d3.select(d.root+" ."+e+"_dendro_icons_group").selectAll("path").style("opacity",T)}},function(t,e){"use strict";t.exports=function(t,e,r){var o={};if(t.params.dendro_filter.row===!1&&t.params.dendro_filter.col===!1&&t.params.cat_filter.row===!1&&t.params.cat_filter.col===!1){d3.select(t.params.root+" ."+r+"_slider_group").style("opacity",.35).style("pointer-events","none"),o[r]=e.all_names;var n=t.params.network_data[r+"_nodes_names"],a=t.params.network_data.row_nodes,i=t.params.network_data.col_nodes;t.filter_viz_using_names(o),t.params.inst_nodes.row_nodes=a,t.params.inst_nodes.col_nodes=i,d3.selectAll(t.params.root+" .dendro_shadow").transition().duration(1e3).style("opacity",0).remove(),t.params.dendro_filter[r]=n}else o[r]=t.params.dendro_filter[r],t.filter_viz_using_names(o),t.params.dendro_filter[r]=!1}},function(t,e,r){"use strict";var o=r(63);t.exports=function(t,e,r,n,a){var i=!(arguments.length<=5||void 0===arguments[5])&&arguments[5];"both"===e&&(e="row");var s=o(t,r,e),l=d3.select(a+" .cluster_info_container"),c=": ",d="<p>",u=225,p=23,f=20,v=15,h=135,m=27,g=3,w=5,y=20;_.each(s.slice(0,g),function(t){var e=t.bar_data.length;e>w&&(e=w),y+=m*(e+1)}),i&&l.append("text").text("Cluster Information");var b=l.append("div").style("margin-top","5px").classed("cat_graph",!0).append("svg").style("height",y+"px").style("width",u+"px");b.append("rect").classed("cat_background",!0).style("height",y+"px").style("width",u+"px").style("fill","white").style("opacity",1);var x=m;if(s=s.slice(0,g),_.each(s,function(e){e.bar_data=e.bar_data.slice(0,w),l.style("margin-bottom","5px");var r=b.append("g").classed("cat_graph_group",!0).attr("transform","translate(10, "+x+")");x+=m*(e.bar_data.length+1);var o=e.type_name;o.length>=v&&(o=o.slice(0,v)+".."),r.append("text").classed("cat_graph_title",!0).text(o).style("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').style("font-weight",800);var n=4;r.append("line").attr("x1",0).attr("x2",h).attr("y1",n).attr("y2",n).style("stroke","blue").style("stroke-width",1).style("opacity",1);var a=r.append("g").classed("cat_bar_container",!0).attr("transform","translate(0, 10)"),i=a.selectAll("g").data(e.bar_data).enter().append("g").attr("transform",function(t,e){var r=e*p;return"translate(0,"+r+")"}),s=d3.scale.linear().domain([0,e.num_in_clust]).range([0,h]);i.append("rect").style("height",f+"px").style("width",function(t){var e=s(t[2]);return e+"px"}).style("fill",function(t){return t[3]}).style("opacity",t.viz.cat_colors.opacity).style("stroke","grey").style("stroke-width","0.5px"),i.append("text").classed("bar_labels",!0).text(function(t){var e=t[1];return e.indexOf(c)>0&&(e=e.split(c)[1]),e.indexOf(d)>0&&(e=e.split(d)[0]),e.length>=v&&(e=e.slice(0,v)+".."),e}).attr("transform",function(){return"translate(5, "+.75*f+")"}).style("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').style("font-weight",400)}),i){var z=d3.select(a),k=z.style("top").split(".px")[0],A=z.style("left").split(".px")[0],O=0,E=0;"row"===e?(O=y+30,E=32,n.pos_top<y&&(O=-(y+(n.pos_mid-n.pos_top)/2))):(O=y+32,E=30),z.style("top",function(){var t=String(parseInt(k,10)-O)+"px";return t}).style("left",function(){var t=String(parseInt(A,10)-E)+"px";return t})}}},function(t,e,r){"use strict";var o=r(64);t.exports=function(t,e,r){"both"===r&&(r="row");var n,a=e.all_names,i=[],s=t.network_data[r+"_nodes"],l=a.length,c=s.length;_.each(s,function(t){n=t.name,a.indexOf(n)>=0&&i.push(t)});var d=[];if(null!==t.viz.cat_info[r]){for(var u,p,f,v=t.viz.cat_info[r],h=_.keys(v),m=[],g=[],w=0;w<h.length;w++)f="cat-"+String(w),"cat_strings"===t.viz.cat_info[r][f].type&&(u=t.viz.cat_names[r][f],g.push(u),m.push(f));var y,b,x={},z={},k=2,A=10;if(b=u===f,g.length>0){var O,E=a.length;_.each(m,function(e){if(p=e.split("-")[1],u=g[p],b)if(e.indexOf("-")>=0){var n=parseInt(e.split("-")[1],A)+1;u="Category "+String(n)}else u="Category";x[u]={},_.each(i,function(t){O=t[e],O.indexOf(": ")>=0&&(O=O.split(": ")[1]),O in x[u]?x[u][O]=x[u][O]+1:x[u][O]=1}),z={},z.type_name=u,z.num_in_clust=E,y=[];var a,s,f=x[u];for(var v in f){s=b?v:u+": "+v;var h=f[v],m=t.viz.cat_info[r][e].cat_hist[s],w=parseFloat(o(h,l,m,c));a=t.viz.cat_colors[r][e][s],y.push([e,s,f[v],a,w])}y.sort(function(t,e){return e[k]-t[k]}),z.bar_data=y,d.push(z)})}}return d}},function(t,e,r){"use strict";var o=r(65);t.exports=function(t,e,r,n){var a=t,i=r-t,s=e-t,l=n+t-e-r,c=o(a,i,s,l);return c.toPrecision()}},function(t,e,r){"use strict";var o=r(66);t.exports=function(t,e,r,n){var a=new o(t+e,t),i=new o(r+n,r),s=new o(t+e+r+n,t+r);return a.times(i).dividedBy(s)}},function(t,e,r){"use strict";var o=r(67);t.exports=function(t,e){if(e>t)return new o(0);if(t===e)return new o(1);e>t-e&&(e=t-e);for(var r=new o(1),n=1;n<=e;n++)r=r.times(t--),r=r.dividedBy(n);return r}},function(t,e,r){var o,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(a){"use strict";function i(t){function e(t,o){var n,a,i,s,l,c,d=this;if(!(d instanceof e))return G&&S(26,"constructor call without new",t),new e(t,o);if(null!=o&&q(o,2,64,R,"base")){if(o=0|o,c=t+"",10==o)return d=new e(t instanceof e?t:c),M(d,D+d.e+1,U);if((s="number"==typeof t)&&0*t!=0||!new RegExp("^-?"+(n="["+z.slice(0,o)+"]+")+"(?:\\."+n+")?$",o<37?"i":"").test(c))return L(d,c,s,o);s?(d.s=1/t<0?(c=c.slice(1),-1):1,G&&c.replace(/^0\.0*|\./,"").length>15&&S(R,x,t),s=!1):d.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1,c=r(c,10,o,d.s)}else{if(t instanceof e)return d.s=t.s,d.e=t.e,d.c=(t=t.c)?t.slice():t,void(R=0);if((s="number"==typeof t)&&0*t==0){if(d.s=1/t<0?(t=-t,-1):1,t===~~t){for(a=0,i=t;i>=10;i/=10,a++);return d.e=a,d.c=[t],void(R=0)}c=t+""}else{if(!m.test(c=t+""))return L(d,c,s);d.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1}}for((a=c.indexOf("."))>-1&&(c=c.replace(".","")),(i=c.search(/e/i))>0?(a<0&&(a=i),a+=+c.slice(i+1),c=c.substring(0,i)):a<0&&(a=c.length),i=0;48===c.charCodeAt(i);i++);for(l=c.length;48===c.charCodeAt(--l););if(c=c.slice(i,l+1))if(l=c.length,s&&G&&l>15&&(t>O||t!==w(t))&&S(R,x,d.s*t),a=a-i-1,a>H)d.c=d.e=null;else if(a<P)d.c=[d.e=0];else{if(d.e=a,d.c=[],i=(a+1)%A,a<0&&(i+=A),i<l){for(i&&d.c.push(+c.slice(0,i)),l-=A;i<l;)d.c.push(+c.slice(i,i+=A));c=c.slice(i),i=A-c.length}else i-=l;for(;i--;c+="0");d.c.push(+c)}else d.c=[d.e=0];R=0}function r(t,r,o,n){var a,i,s,c,d,u,p,v=t.indexOf("."),h=D,m=U;for(o<37&&(t=t.toLowerCase()),v>=0&&(s=W,W=0,t=t.replace(".",""),p=new e(o),d=p.pow(t.length-v),W=s,p.c=_(f(l(d.c),d.e),10,r),p.e=p.c.length),u=_(t,o,r),i=s=u.length;0==u[--s];u.pop());if(!u[0])return"0";if(v<0?--i:(d.c=u,d.e=i,d.s=n,d=C(d,p,h,m,r),u=d.c,c=d.r,i=d.e),a=i+h+1,v=u[a],s=r/2,c=c||a<0||null!=u[a+1],c=m<4?(null!=v||c)&&(0==m||m==(d.s<0?3:2)):v>s||v==s&&(4==m||c||6==m&&1&u[a-1]||m==(d.s<0?8:7)),a<1||!u[0])t=c?f("1",-h):"0";else{if(u.length=a,c)for(--r;++u[--a]>r;)u[a]=0,a||(++i,u.unshift(1));for(s=u.length;!u[--s];);for(v=0,t="";v<=s;t+=z.charAt(u[v++]));t=f(t,i)}return t}function o(t,r,o,n){var a,i,s,c,d;if(o=null!=o&&q(o,0,8,n,b)?0|o:U,!t.c)return t.toString();if(a=t.c[0],s=t.e,null==r)d=l(t.c),d=19==n||24==n&&s<=$?p(d,s):f(d,s);else if(t=M(new e(t),r,o),i=t.e,d=l(t.c),c=d.length,19==n||24==n&&(r<=i||i<=$)){for(;c<r;d+="0",c++);d=p(d,i)}else if(r-=s,d=f(d,i),i+1>c){if(--r>0)for(d+=".";r--;d+="0");}else if(r+=i-c,r>0)for(i+1==c&&(d+=".");r--;d+="0");return t.s<0&&a?"-"+d:d}function a(t,r){var o,n,a=0;for(u(t[0])&&(t=t[0]),o=new e(t[0]);++a<t.length;){if(n=new e(t[a]),!n.s){o=n;break}r.call(o,n)&&(o=n)}return o}function h(t,e,r,o,n){return(t<e||t>r||t!=v(t))&&S(o,(n||"decimal places")+(t<e||t>r?" out of range":" not an integer"),t),!0}function B(t,e,r){for(var o=1,n=e.length;!e[--n];e.pop());for(n=e[0];n>=10;n/=10,o++);return(r=o+r*A-1)>H?t.c=t.e=null:r<P?t.c=[t.e=0]:(t.e=r,t.c=e),t}function S(t,e,r){var o=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+r);throw o.name="BigNumber Error",R=0,o}function M(t,e,r,o){var n,a,i,s,l,c,d,u=t.c,_=E;if(u){t:{for(n=1,s=u[0];s>=10;s/=10,n++);if(a=e-n,a<0)a+=A,i=e,l=u[c=0],d=l/_[n-i-1]%10|0;else if(c=g((a+1)/A),c>=u.length){if(!o)break t;for(;u.length<=c;u.push(0));l=d=0,n=1,a%=A,i=a-A+1}else{for(l=s=u[c],n=1;s>=10;s/=10,n++);a%=A,i=a-A+n,d=i<0?0:l/_[n-i-1]%10|0}if(o=o||e<0||null!=u[c+1]||(i<0?l:l%_[n-i-1]),o=r<4?(d||o)&&(0==r||r==(t.s<0?3:2)):d>5||5==d&&(4==r||o||6==r&&(a>0?i>0?l/_[n-i]:0:u[c-1])%10&1||r==(t.s<0?8:7)),e<1||!u[0])return u.length=0,o?(e-=t.e+1,u[0]=_[(A-e%A)%A],t.e=-e||0):u[0]=t.e=0,t;if(0==a?(u.length=c,s=1,c--):(u.length=c+1,s=_[A-a],u[c]=i>0?w(l/_[n-i]%_[i])*s:0),o)for(;;){if(0==c){for(a=1,i=u[0];i>=10;i/=10,a++);for(i=u[0]+=s,s=1;i>=10;i/=10,s++);a!=s&&(t.e++,u[0]==k&&(u[0]=1));break}if(u[c]+=s,u[c]!=k)break;u[c--]=0,s=1}for(a=u.length;0===u[--a];u.pop());}t.e>H?t.c=t.e=null:t.e<P&&(t.c=[t.e=0])}return t}var C,L,R=0,F=e.prototype,I=new e(1),D=20,U=4,$=-7,j=21,P=-1e7,H=1e7,G=!0,q=h,V=!1,Z=1,W=0,Y={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0};return e.another=i,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.EUCLID=9,e.config=e.set=function(){var t,e,r=0,o={},a=arguments,i=a[0],s=i&&"object"==("undefined"==typeof i?"undefined":n(i))?function(){if(i.hasOwnProperty(e))return null!=(t=i[e])}:function(){if(a.length>r)return null!=(t=a[r++])};return s(e="DECIMAL_PLACES")&&q(t,0,N,2,e)&&(D=0|t),o[e]=D,s(e="ROUNDING_MODE")&&q(t,0,8,2,e)&&(U=0|t),o[e]=U,s(e="EXPONENTIAL_AT")&&(u(t)?q(t[0],-N,0,2,e)&&q(t[1],0,N,2,e)&&($=0|t[0],j=0|t[1]):q(t,-N,N,2,e)&&($=-(j=0|(t<0?-t:t)))),o[e]=[$,j],s(e="RANGE")&&(u(t)?q(t[0],-N,-1,2,e)&&q(t[1],1,N,2,e)&&(P=0|t[0],H=0|t[1]):q(t,-N,N,2,e)&&(0|t?P=-(H=0|(t<0?-t:t)):G&&S(2,e+" cannot be zero",t))),
o[e]=[P,H],s(e="ERRORS")&&(t===!!t||1===t||0===t?(R=0,q=(G=!!t)?h:d):G&&S(2,e+y,t)),o[e]=G,s(e="CRYPTO")&&(t===!0||t===!1||1===t||0===t?t?(t="undefined"==typeof crypto,!t&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?V=!0:G?S(2,"crypto unavailable",t?void 0:crypto):V=!1):V=!1:G&&S(2,e+y,t)),o[e]=V,s(e="MODULO_MODE")&&q(t,0,9,2,e)&&(Z=0|t),o[e]=Z,s(e="POW_PRECISION")&&q(t,0,N,2,e)&&(W=0|t),o[e]=W,s(e="FORMAT")&&("object"==("undefined"==typeof t?"undefined":n(t))?Y=t:G&&S(2,e+" not an object",t)),o[e]=Y,o},e.max=function(){return a(arguments,F.lt)},e.min=function(){return a(arguments,F.gt)},e.random=function(){var t=9007199254740992,r=Math.random()*t&2097151?function(){return w(Math.random()*t)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(t){var o,n,a,i,s,l=0,c=[],d=new e(I);if(t=null!=t&&q(t,0,N,14)?0|t:D,i=g(t/A),V)if(crypto.getRandomValues){for(o=crypto.getRandomValues(new Uint32Array(i*=2));l<i;)s=131072*o[l]+(o[l+1]>>>11),s>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),o[l]=n[0],o[l+1]=n[1]):(c.push(s%1e14),l+=2);l=i/2}else if(crypto.randomBytes){for(o=crypto.randomBytes(i*=7);l<i;)s=281474976710656*(31&o[l])+1099511627776*o[l+1]+4294967296*o[l+2]+16777216*o[l+3]+(o[l+4]<<16)+(o[l+5]<<8)+o[l+6],s>=9e15?crypto.randomBytes(7).copy(o,l):(c.push(s%1e14),l+=7);l=i/7}else V=!1,G&&S(14,"crypto unavailable",crypto);if(!V)for(;l<i;)s=r(),s<9e15&&(c[l++]=s%1e14);for(i=c[--l],t%=A,i&&t&&(s=E[A-t],c[l]=w(i/s)*s);0===c[l];c.pop(),l--);if(l<0)c=[a=0];else{for(a=-1;0===c[0];c.shift(),a-=A);for(l=1,s=c[0];s>=10;s/=10,l++);l<A&&(a-=A-l)}return d.e=a,d.c=c,d}}(),C=function(){function t(t,e,r){var o,n,a,i,s=0,l=t.length,c=e%T,d=e/T|0;for(t=t.slice();l--;)a=t[l]%T,i=t[l]/T|0,o=d*a+i*c,n=c*a+o%T*T+s,s=(n/r|0)+(o/T|0)+d*i,t[l]=n%r;return s&&t.unshift(s),t}function r(t,e,r,o){var n,a;if(r!=o)a=r>o?1:-1;else for(n=a=0;n<r;n++)if(t[n]!=e[n]){a=t[n]>e[n]?1:-1;break}return a}function o(t,e,r,o){for(var n=0;r--;)t[r]-=n,n=t[r]<e[r]?1:0,t[r]=n*o+t[r]-e[r];for(;!t[0]&&t.length>1;t.shift());}return function(n,a,i,l,c){var d,u,_,p,f,v,h,m,g,y,b,x,z,O,E,T,N,B=n.s==a.s?1:-1,S=n.c,C=a.c;if(!(S&&S[0]&&C&&C[0]))return new e(n.s&&a.s&&(S?!C||S[0]!=C[0]:C)?S&&0==S[0]||!C?0*B:B/0:NaN);for(m=new e(B),g=m.c=[],u=n.e-a.e,B=i+u+1,c||(c=k,u=s(n.e/A)-s(a.e/A),B=B/A|0),_=0;C[_]==(S[_]||0);_++);if(C[_]>(S[_]||0)&&u--,B<0)g.push(1),p=!0;else{for(O=S.length,T=C.length,_=0,B+=2,f=w(c/(C[0]+1)),f>1&&(C=t(C,f,c),S=t(S,f,c),T=C.length,O=S.length),z=T,y=S.slice(0,T),b=y.length;b<T;y[b++]=0);N=C.slice(),N.unshift(0),E=C[0],C[1]>=c/2&&E++;do{if(f=0,d=r(C,y,T,b),d<0){if(x=y[0],T!=b&&(x=x*c+(y[1]||0)),f=w(x/E),f>1)for(f>=c&&(f=c-1),v=t(C,f,c),h=v.length,b=y.length;1==r(v,y,h,b);)f--,o(v,T<h?N:C,h,c),h=v.length,d=1;else 0==f&&(d=f=1),v=C.slice(),h=v.length;if(h<b&&v.unshift(0),o(y,v,b,c),b=y.length,d==-1)for(;r(C,y,T,b)<1;)f++,o(y,T<b?N:C,b,c),b=y.length}else 0===d&&(f++,y=[0]);g[_++]=f,y[0]?y[b++]=S[z]||0:(y=[S[z]],b=1)}while((z++<O||null!=y[0])&&B--);p=null!=y[0],g[0]||g.shift()}if(c==k){for(_=1,B=g[0];B>=10;B/=10,_++);M(m,i+(m.e=_+u*A-1)+1,l,p)}else m.e=u,m.r=+p;return m}}(),L=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,r=/^([^.]+)\.$/,o=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,a=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(i,s,l,c){var d,u=l?s:s.replace(a,"");if(n.test(u))i.s=isNaN(u)?null:u<0?-1:1;else{if(!l&&(u=u.replace(t,function(t,e,r){return d="x"==(r=r.toLowerCase())?16:"b"==r?2:8,c&&c!=d?t:e}),c&&(d=c,u=u.replace(r,"$1").replace(o,"0.$1")),s!=u))return new e(u,d);G&&S(R,"not a"+(c?" base "+c:"")+" number",s),i.s=null}i.c=i.e=null,R=0}}(),F.absoluteValue=F.abs=function(){var t=new e(this);return t.s<0&&(t.s=1),t},F.ceil=function(){return M(new e(this),this.e+1,2)},F.comparedTo=F.cmp=function(t,r){return R=1,c(this,new e(t,r))},F.decimalPlaces=F.dp=function(){var t,e,r=this.c;if(!r)return null;if(t=((e=r.length-1)-s(this.e/A))*A,e=r[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},F.dividedBy=F.div=function(t,r){return R=3,C(this,new e(t,r),D,U)},F.dividedToIntegerBy=F.divToInt=function(t,r){return R=4,C(this,new e(t,r),0,1)},F.equals=F.eq=function(t,r){return R=5,0===c(this,new e(t,r))},F.floor=function(){return M(new e(this),this.e+1,3)},F.greaterThan=F.gt=function(t,r){return R=6,c(this,new e(t,r))>0},F.greaterThanOrEqualTo=F.gte=function(t,r){return R=7,1===(r=c(this,new e(t,r)))||0===r},F.isFinite=function(){return!!this.c},F.isInteger=F.isInt=function(){return!!this.c&&s(this.e/A)>this.c.length-2},F.isNaN=function(){return!this.s},F.isNegative=F.isNeg=function(){return this.s<0},F.isZero=function(){return!!this.c&&0==this.c[0]},F.lessThan=F.lt=function(t,r){return R=8,c(this,new e(t,r))<0},F.lessThanOrEqualTo=F.lte=function(t,r){return R=9,(r=c(this,new e(t,r)))===-1||0===r},F.minus=F.sub=function(t,r){var o,n,a,i,l=this,c=l.s;if(R=10,t=new e(t,r),r=t.s,!c||!r)return new e(NaN);if(c!=r)return t.s=-r,l.plus(t);var d=l.e/A,u=t.e/A,_=l.c,p=t.c;if(!d||!u){if(!_||!p)return _?(t.s=-r,t):new e(p?l:NaN);if(!_[0]||!p[0])return p[0]?(t.s=-r,t):new e(_[0]?l:3==U?-0:0)}if(d=s(d),u=s(u),_=_.slice(),c=d-u){for((i=c<0)?(c=-c,a=_):(u=d,a=p),a.reverse(),r=c;r--;a.push(0));a.reverse()}else for(n=(i=(c=_.length)<(r=p.length))?c:r,c=r=0;r<n;r++)if(_[r]!=p[r]){i=_[r]<p[r];break}if(i&&(a=_,_=p,p=a,t.s=-t.s),r=(n=p.length)-(o=_.length),r>0)for(;r--;_[o++]=0);for(r=k-1;n>c;){if(_[--n]<p[n]){for(o=n;o&&!_[--o];_[o]=r);--_[o],_[n]+=k}_[n]-=p[n]}for(;0==_[0];_.shift(),--u);return _[0]?B(t,_,u):(t.s=3==U?-1:1,t.c=[t.e=0],t)},F.modulo=F.mod=function(t,r){var o,n,a=this;return R=11,t=new e(t,r),!a.c||!t.s||t.c&&!t.c[0]?new e(NaN):!t.c||a.c&&!a.c[0]?new e(a):(9==Z?(n=t.s,t.s=1,o=C(a,t,0,3),t.s=n,o.s*=n):o=C(a,t,0,Z),a.minus(o.times(t)))},F.negated=F.neg=function(){var t=new e(this);return t.s=-t.s||null,t},F.plus=F.add=function(t,r){var o,n=this,a=n.s;if(R=12,t=new e(t,r),r=t.s,!a||!r)return new e(NaN);if(a!=r)return t.s=-r,n.minus(t);var i=n.e/A,l=t.e/A,c=n.c,d=t.c;if(!i||!l){if(!c||!d)return new e(a/0);if(!c[0]||!d[0])return d[0]?t:new e(c[0]?n:0*a)}if(i=s(i),l=s(l),c=c.slice(),a=i-l){for(a>0?(l=i,o=d):(a=-a,o=c),o.reverse();a--;o.push(0));o.reverse()}for(a=c.length,r=d.length,a-r<0&&(o=d,d=c,c=o,r=a),a=0;r;)a=(c[--r]=c[r]+d[r]+a)/k|0,c[r]=k===c[r]?0:c[r]%k;return a&&(c.unshift(a),++l),B(t,c,l)},F.precision=F.sd=function(t){var e,r,o=this,n=o.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(G&&S(13,"argument"+y,t),t!=!!t&&(t=null)),!n)return null;if(r=n.length-1,e=r*A+1,r=n[r]){for(;r%10==0;r/=10,e--);for(r=n[0];r>=10;r/=10,e++);}return t&&o.e+1>e&&(e=o.e+1),e},F.round=function(t,r){var o=new e(this);return(null==t||q(t,0,N,15))&&M(o,~~t+this.e+1,null!=r&&q(r,0,8,15,b)?0|r:U),o},F.shift=function(t){var r=this;return q(t,-O,O,16,"argument")?r.times("1e"+v(t)):new e(r.c&&r.c[0]&&(t<-O||t>O)?r.s*(t<0?0:1/0):r)},F.squareRoot=F.sqrt=function(){var t,r,o,n,a,i=this,c=i.c,d=i.s,u=i.e,_=D+4,p=new e("0.5");if(1!==d||!c||!c[0])return new e(!d||d<0&&(!c||c[0])?NaN:c?i:1/0);if(d=Math.sqrt(+i),0==d||d==1/0?(r=l(c),(r.length+u)%2==0&&(r+="0"),d=Math.sqrt(r),u=s((u+1)/2)-(u<0||u%2),d==1/0?r="1e"+u:(r=d.toExponential(),r=r.slice(0,r.indexOf("e")+1)+u),o=new e(r)):o=new e(d+""),o.c[0])for(u=o.e,d=u+_,d<3&&(d=0);;)if(a=o,o=p.times(a.plus(C(i,a,_,1))),l(a.c).slice(0,d)===(r=l(o.c)).slice(0,d)){if(o.e<u&&--d,r=r.slice(d-3,d+1),"9999"!=r&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(M(o,o.e+D+2,1),t=!o.times(o).eq(i));break}if(!n&&(M(a,a.e+D+2,0),a.times(a).eq(i))){o=a;break}_+=4,d+=4,n=1}return M(o,o.e+D+1,U,t)},F.times=F.mul=function(t,r){var o,n,a,i,l,c,d,u,_,p,f,v,h,m,g,w=this,y=w.c,b=(R=17,t=new e(t,r)).c;if(!(y&&b&&y[0]&&b[0]))return!w.s||!t.s||y&&!y[0]&&!b||b&&!b[0]&&!y?t.c=t.e=t.s=null:(t.s*=w.s,y&&b?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=s(w.e/A)+s(t.e/A),t.s*=w.s,d=y.length,p=b.length,d<p&&(h=y,y=b,b=h,a=d,d=p,p=a),a=d+p,h=[];a--;h.push(0));for(m=k,g=T,a=p;--a>=0;){for(o=0,f=b[a]%g,v=b[a]/g|0,l=d,i=a+l;i>a;)u=y[--l]%g,_=y[l]/g|0,c=v*u+_*f,u=f*u+c%g*g+h[i]+o,o=(u/m|0)+(c/g|0)+v*_,h[i--]=u%m;h[i]=o}return o?++n:h.shift(),B(t,h,n)},F.toDigits=function(t,r){var o=new e(this);return t=null!=t&&q(t,1,N,18,"precision")?0|t:null,r=null!=r&&q(r,0,8,18,b)?0|r:U,t?M(o,t,r):o},F.toExponential=function(t,e){return o(this,null!=t&&q(t,0,N,19)?~~t+1:null,e,19)},F.toFixed=function(t,e){return o(this,null!=t&&q(t,0,N,20)?~~t+this.e+1:null,e,20)},F.toFormat=function(t,e){var r=o(this,null!=t&&q(t,0,N,21)?~~t+this.e+1:null,e,21);if(this.c){var n,a=r.split("."),i=+Y.groupSize,s=+Y.secondaryGroupSize,l=Y.groupSeparator,c=a[0],d=a[1],u=this.s<0,_=u?c.slice(1):c,p=_.length;if(s&&(n=i,i=s,s=n,p-=n),i>0&&p>0){for(n=p%i||i,c=_.substr(0,n);n<p;n+=i)c+=l+_.substr(n,i);s>0&&(c+=l+_.slice(n)),u&&(c="-"+c)}r=d?c+Y.decimalSeparator+((s=+Y.fractionGroupSize)?d.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+Y.fractionGroupSeparator):d):c}return r},F.toFraction=function(t){var r,o,n,a,i,s,c,d,u,_=G,p=this,f=p.c,v=new e(I),h=o=new e(I),m=c=new e(I);if(null!=t&&(G=!1,s=new e(t),G=_,(_=s.isInt())&&!s.lt(I)||(G&&S(22,"max denominator "+(_?"out of range":"not an integer"),t),t=!_&&s.c&&M(s,s.e+1,1).gte(I)?s:null)),!f)return p.toString();for(u=l(f),a=v.e=u.length-p.e-1,v.c[0]=E[(i=a%A)<0?A+i:i],t=!t||s.cmp(v)>0?a>0?v:h:s,i=H,H=1/0,s=new e(u),c.c[0]=0;d=C(s,v,0,1),n=o.plus(d.times(m)),1!=n.cmp(t);)o=m,m=n,h=c.plus(d.times(n=h)),c=n,v=s.minus(d.times(n=v)),s=n;return n=C(t.minus(o),m,0,1),c=c.plus(n.times(h)),o=o.plus(n.times(m)),c.s=h.s=p.s,a*=2,r=C(h,m,a,U).minus(p).abs().cmp(C(c,o,a,U).minus(p).abs())<1?[h.toString(),m.toString()]:[c.toString(),o.toString()],H=i,r},F.toNumber=function(){return+this},F.toPower=F.pow=function(t,r){var o,n,a,i=w(t<0?-t:+t),s=this;if(null!=r&&(R=23,r=new e(r)),!q(t,-O,O,23,"exponent")&&(!isFinite(t)||i>O&&(t/=0)||parseFloat(t)!=t&&!(t=NaN))||0==t)return o=Math.pow(+s,t),new e(r?o%r:o);for(r?t>1&&s.gt(I)&&s.isInt()&&r.gt(I)&&r.isInt()?s=s.mod(r):(a=r,r=null):W&&(o=g(W/A+2)),n=new e(I);;){if(i%2){if(n=n.times(s),!n.c)break;o?n.c.length>o&&(n.c.length=o):r&&(n=n.mod(r))}if(i=w(i/2),!i)break;s=s.times(s),o?s.c&&s.c.length>o&&(s.c.length=o):r&&(s=s.mod(r))}return r?n:(t<0&&(n=I.div(n)),a?n.mod(a):o?M(n,W,U):n)},F.toPrecision=function(t,e){return o(this,null!=t&&q(t,1,N,24,"precision")?0|t:null,e,24)},F.toString=function(t){var e,o=this,n=o.s,a=o.e;return null===a?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(e=l(o.c),e=null!=t&&q(t,2,64,25,"base")?r(f(e,a),0|t,10,n):a<=$||a>=j?p(e,a):f(e,a),n<0&&o.c[0]&&(e="-"+e)),e},F.truncated=F.trunc=function(){return M(new e(this),this.e+1,1)},F.valueOf=F.toJSON=function(){var t,e=this,r=e.e;return null===r?e.toString():(t=l(e.c),t=r<=$||r>=j?p(t,r):f(t,r),e.s<0?"-"+t:t)},F.isBigNumber=!0,null!=t&&e.config(t),e}function s(t){var e=0|t;return t>0||t===e?e:e-1}function l(t){for(var e,r,o=1,n=t.length,a=t[0]+"";o<n;){for(e=t[o++]+"",r=A-e.length;r--;e="0"+e);a+=e}for(n=a.length;48===a.charCodeAt(--n););return a.slice(0,n+1||1)}function c(t,e){var r,o,n=t.c,a=e.c,i=t.s,s=e.s,l=t.e,c=e.e;if(!i||!s)return null;if(r=n&&!n[0],o=a&&!a[0],r||o)return r?o?0:-s:i;if(i!=s)return i;if(r=i<0,o=l==c,!n||!a)return o?0:!n^r?1:-1;if(!o)return l>c^r?1:-1;for(s=(l=n.length)<(c=a.length)?l:c,i=0;i<s;i++)if(n[i]!=a[i])return n[i]>a[i]^r?1:-1;return l==c?0:l>c^r?1:-1}function d(t,e,r){return(t=v(t))>=e&&t<=r}function u(t){return"[object Array]"==Object.prototype.toString.call(t)}function _(t,e,r){for(var o,n,a=[0],i=0,s=t.length;i<s;){for(n=a.length;n--;a[n]*=e);for(a[o=0]+=z.indexOf(t.charAt(i++));o<a.length;o++)a[o]>r-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/r|0,a[o]%=r)}return a.reverse()}function p(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function f(t,e){var r,o;if(e<0){for(o="0.";++e;o+="0");t=o+t}else if(r=t.length,++e>r){for(o="0",e-=r;--e;o+="0");t+=o}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}function v(t){return t=parseFloat(t),t<0?g(t):w(t)}var h,m=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,g=Math.ceil,w=Math.floor,y=" not a boolean or binary digit",b="rounding mode",x="number type has more than 15 significant digits",z="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",k=1e14,A=14,O=9007199254740991,E=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],T=1e7,N=1e9;h=i(),h["default"]=h.BigNumber=h,o=function(){return h}.call(e,r,e,t),!(void 0!==o&&(t.exports=o))}(void 0)},function(t,e,r){"use strict";var o=r(69);t.exports=function(t){var e={},r=t.zoom_info;return e.min_x=Math.abs(r.trans_x)/r.zoom_x-5*t.viz.rect_width,e.min_y=Math.abs(r.trans_y)/r.zoom_y-5*t.viz.rect_height,e.max_x=Math.abs(r.trans_x)/r.zoom_x+t.viz.clust.dim.width/r.zoom_x,e.max_y=Math.abs(r.trans_y)/r.zoom_y+t.viz.clust.dim.height/r.zoom_y,d3.selectAll(t.root+" .row_label_group").each(function(){o(e,this,"row")}),d3.selectAll(t.root+" .row").each(function(){o(e,this,"row")}),d3.selectAll(t.root+" .col_label_text").each(function(){o(e,this,"col")}),e}},function(t,e){"use strict";t.exports=function(t,e,r){var o=d3.select(e).attr("transform");if("row"===r){var n=Number(o.split(",")[1].split(")")[0]);d3.select(e).style("display",function(){var e;return e=n<t.max_y&&n>t.min_y?"block":"none"})}else{var a=Number(o.split("(")[1].split(",")[0].split(")")[0]);d3.select(e).style("display",function(){var e;return e=a<t.max_x&&a>t.min_x?"block":"none"})}}},function(t,e,r){"use strict";var o=r(2),n=r(53),a=r(54),i=r(68),s=r(36);t.exports=function(t,e,r){var l=t.params;l.viz.inst_order.col="custom",a(t,"col"),d3.selectAll(l.root+" .toggle_row_order .btn").classed("active",!1),l.viz.run_trans=!0;var c=l.matrix.matrix,d=l.network_data.row_nodes,u=l.network_data.col_nodes,p=o.pluck(d,"name"),f=[];u.forEach(function(t){f.push(t.name)});var v=_.indexOf(f,r);f=[],d.forEach(function(t,e){f.push(c[e].row_data[v].value)});var h=d3.range(f.length).sort(function(t,e){return f[e]-f[t]});l.viz.y_scale.domain(h),l.matrix.orders.custom_col=h;var m;l.network_data.links.length>l.matrix.def_large_matrix?(m=d3.select(l.root+" .clust_group"),d3.selectAll(l.root+" .row_cat_group").attr("transform",function(t){var e=_.indexOf(p,t.name);return"translate(0,"+l.viz.y_scale(e)+")"}),d3.select(l.root+" .row_label_zoom_container").selectAll(".row_label_group").attr("transform",function(t){var e=_.indexOf(p,t.name);return"translate(0,"+l.viz.y_scale(e)+")"})):(m=d3.select(l.root+" .clust_group").transition().duration(2500),d3.selectAll(l.root+" .row_cat_group").transition().duration(2500).attr("transform",function(t){var e=_.indexOf(p,t.name);return"translate(0,"+l.viz.y_scale(e)+")"}),d3.select(l.root+" .row_label_zoom_container").selectAll(".row_label_group").transition().duration(2500).attr("transform",function(t){var e=_.indexOf(p,t.name);return"translate(0,"+l.viz.y_scale(e)+")"})),m.selectAll(".row").attr("transform",function(t){var e=_.indexOf(p,t.name);return"translate(0,"+l.viz.y_scale(e)+")"}),d3.selectAll(l.root+" .col_label_text").select(".highlight_rect").style("opacity",0),d3.select(e).select(".highlight_rect").style("opacity",1),l.network_data.links.forEach(function(t){t.x=l.viz.x_scale(t.target),t.y=l.viz.y_scale(t.source)}),n(l),l.zoom_info=s(),i(l),setTimeout(function(){l.viz.run_trans=!1},2500)}},function(t,e,r){"use strict";var o=r(49);t.exports=function(t){if(t.labels.show_label_tooltips){var e=o().attr("class",function(){var e=t.viz.root_tips.replace(".",""),r=e+" d3-tip row_tip";return r}).direction("e").offset([0,10]).style("display","none").html(function(t){var e=t.name.replace(/_/g," ").split("#")[0];return"<span>"+e+"</span>"});d3.select(t.viz.viz_wrapper).select(t.root+" .row_container").call(e),d3.select(t.root+" .row_label_zoom_container").selectAll("g").on("mouseover",function(r){d3.select(" .row_tip").classed(r.name,!0),d3.selectAll(".row_tip").style("display","block"),d3.select(this).select("text").classed("active",!0),e.show(r),null!=t.row_tip_callback&&t.row_tip_callback(r)}).on("mouseout",function(t){d3.selectAll(".row_tip").style("display","none").classed(t.name,!1),d3.select(this).select("text").classed("active",!1),e.hide(t)})}else d3.select(t.root+" .row_label_zoom_container").selectAll("g").on("mouseover",function(){d3.select(this).select("text").classed("active",!0)}).on("mouseout",function(){d3.select(this).select("text").classed("active",!1)})}},function(t,e,r){"use strict";var o=r(2),n=r(73),a=r(70),i=r(52),s=r(74);t.exports=function(t,e){var r,l=t.params,c=l.network_data.col_nodes,d=l.network_data.col_nodes_names,u=l.viz.x_scale.rangeBand()/2+l.viz.border_width.x,p=.36*l.viz.x_scale.rangeBand();d3.select(l.root+" .col_container").empty()?(r=d3.select(l.viz.viz_svg).append("g").attr("class","col_container").attr("transform","translate("+l.viz.clust.margin.left+","+l.viz.norm_labels.margin.top+")"),r.append("rect").attr("fill",l.viz.background_color).attr("width",30*l.viz.clust.dim.width+"px").attr("height",l.viz.label_background.col).attr("class","white_bars"),r.append("g").attr("class","col_label_outer_container").attr("transform","translate(0,"+l.viz.norm_labels.width.col+")").append("g").attr("class","col_zoom_container")):(r=d3.select(l.root+" .col_container").attr("transform","translate("+l.viz.clust.margin.left+","+l.viz.norm_labels.margin.top+")"),r.select(".white_bars").attr("fill",l.viz.background_color).attr("width",30*l.viz.clust.dim.width+"px").attr("height",l.viz.label_background.col),r.select(l.root+" .col_label_outer_container"));var f=d3.select(l.root+" .col_zoom_container").selectAll(".col_label_text").data(c,function(t){return t.name}).enter().append("g").attr("class","col_label_text").attr("transform",function(t){var e=_.indexOf(d,t.name);return"translate("+l.viz.x_scale(e)+", 0) rotate(-90)"}),v=f.append("g").attr("class","col_label_group").attr("transform","translate("+l.viz.x_scale.rangeBand()/2+","+u+") rotate(45)").on("mouseover",function(){d3.select(this).select("text").classed("active",!0)}).on("mouseout",function(){d3.select(this).select("text").classed("active",!1)});o.has(l.network_data.col_nodes[0],"value")&&v.append("rect").attr("class","col_bars").attr("width",function(t){var e=0;return t.value>0&&(e=l.labels.bar_scale_col(t.value)),e}).attr("height",.66*l.viz.x_scale.rangeBand()).style("fill",function(t){return t.value>0?l.matrix.bar_colors[0]:l.matrix.bar_colors[1]}).attr("opacity",.6),v.append("text").attr("x",0).attr("y",.64*l.viz.x_scale.rangeBand()).attr("dx",l.viz.border_width.x).attr("text-anchor","start").attr("full_name",function(t){return t.name}).style("font-size",l.labels.default_fs_col+"px").style("cursor","default").text(function(t){return o.normal_name(t)}).style("opacity",0).transition().delay(e).duration(e).style("opacity",1),s(l),v.append("path").style("stroke-width",0).attr("d",function(){var t=-l.viz.border_width.y,e=0,r=l.viz.x_scale.rangeBand()-p,o=-(l.viz.x_scale.rangeBand()-p+l.viz.border_width.y),n=-l.viz.border_width.y,a="M "+t+",0 L "+o+","+e+", L "+n+","+r+" Z";return a}).attr("fill","#eee").style("opacity",0).transition().delay(e).duration(e).style("opacity",l.viz.triangle_opacity),d3.selectAll(l.root+" .col_label_text").on("click",function(t){"function"==typeof l.click_label?(l.click_label(t.name,"col"),n(l,this,t.ini)):l.tile_click_hlight&&n(l,this,t.ini)}).on("dblclick",function(e){var r="__data__",o=this[r].name;if(l.sim_mat){a(t,this,o);var s=d3.selectAll(l.root+" .row_label_group").filter(function(t){return t.name==o})[0][0];i(t,s,o)}else a(t,this,o);l.tile_click_hlight&&n(l,this,e.ini)})}},function(t,e){"use strict";t.exports=function(t,e,r){if(r!=t.click_hlight_col){t.click_hlight_col=r;var o=6,n=.85,a=o*t.viz.border_width.x;d3.selectAll(t.root+" .click_hlight").remove(),d3.select(e).append("rect").classed("click_hlight",!0).classed("col_top_hlight",!0).attr("width",t.viz.clust.dim.height).attr("height",a).attr("fill",t.matrix.hlight_color).attr("opacity",n).attr("transform",function(){var e=0,r=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+r+","+e+")"}),d3.select(e).append("rect").classed("click_hlight",!0).classed("col_bottom_hlight",!0).attr("width",t.viz.clust.dim.height).attr("height",a).attr("fill",t.matrix.hlight_color).attr("opacity",n).attr("transform",function(){var e=t.viz.x_scale.rangeBand()-a,r=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+r+","+e+")"})}else d3.selectAll(t.root+" .click_hlight").remove(),t.click_hlight_col=-666}},function(t,e,r){"use strict";var o=r(49);t.exports=function(t){if(t.labels.show_label_tooltips){var e=o().attr("class",function(){var e=t.viz.root_tips.replace(".",""),r=e+" d3-tip col_tip";return r}).direction("w").offset([20,0]).style("display","none").html(function(t){var e=t.name.replace(/_/g," ").split("#")[0];return"<span>"+e+"</span>"});d3.select(t.viz.viz_wrapper).select("svg").select(t.root+" .col_zoom_container").selectAll(".col_label_group").select("text").call(e),d3.select(t.root+" .col_zoom_container").selectAll(".col_label_group").on("mouseover",function(r){d3.selectAll(".col_tip").style("display","block"),e.show(r),null!=t.col_tip_callback&&t.col_tip_callback(r)}).on("mouseout",function(){e.hide(this),d3.selectAll(".col_tip").style("display","none")})}}},function(t,e){"use strict";t.exports=function(t){d3.select(t.viz.viz_svg).append("rect").attr("fill",t.viz.background_color).attr("height",t.viz.super_labels.dim.width+"px").attr("width","3000px").classed("super_col_bkg",!0).classed("white_bars",!0).attr("transform","translate(0,"+t.viz.super_labels.margin.top+")"),d3.select(t.viz.viz_svg).append("text").attr("class","super_col").text(t.labels["super"].col).attr("text-anchor","center").attr("transform",function(){var e=d3.select(this)[0][0].getBBox().width,r=t.viz.clust.dim.width/2+t.viz.norm_labels.width.row-e/2,o=t.viz.super_labels.dim.width;return"translate("+r+","+o+")"}).style("font-size",function(){var e=t.labels.super_label_fs*t.labels.super_label_scale;return e+"px"}).style("font-weight",300),d3.select(t.viz.viz_svg).append("rect").attr("fill",t.viz.background_color).attr("width",t.viz.super_labels.dim.width+"px").attr("height","3000px").classed("super_row_bkg",!0).classed("white_bars",!0).attr("transform","translate("+t.viz.super_labels.margin.left+",0)"),d3.select(t.viz.viz_svg).append("g").classed("super_row",!0).attr("transform",function(){var e=t.viz.super_labels.dim.width,r=t.viz.clust.dim.height/2+t.viz.norm_labels.width.col;return"translate("+e+","+r+")"}),d3.select(t.root+" .super_row").append("text").text(t.labels["super"].row).attr("text-anchor","center").attr("transform",function(){var e=d3.select(this)[0][0].getBBox().width,r=e/2+t.viz.norm_labels.width.col,o="translate(0,"+r+"), rotate(-90)";return o}).style("font-size",function(){var e=t.labels.super_label_fs*t.labels.super_label_scale;return e+"px"}).style("font-weight",300)}},function(t,e,r){"use strict";var o=r(77),n=r(78),a=r(80),i=r(60);t.exports=function(t){var e=t.params,r=e.viz;d3.select(r.root+" .col_container").append("path").style("stroke-width","0").attr("d","M 0,0 L 1000,-1000, L 1000,0 Z").attr("fill",r.background_color).attr("class","right_slant_triangle").attr("transform","translate("+r.clust.dim.width+","+r.norm_labels.width.col+")"),d3.select(r.root+" .col_container").append("path").style("stroke-width","0").attr("d","M 0,0 L 500,-500, L 0,-500 Z").attr("fill",r.background_color).attr("class","left_slant_triangle").attr("transform","translate(-1,"+r.norm_labels.width.col+")");var s=r.clust.margin.top+r.uni_margin/5;d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",r.clust.margin.left).attr("height",s).attr("class","top_left_white");var l=r.cat_room.col+1.5*r.uni_margin;d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",2*r.clust.dim.width).attr("height",l).attr("class","top_right_white").attr("transform",function(){var t=r.clust.margin.left+r.clust.dim.width,e=r.norm_labels.width.col+r.norm_labels.margin.top-r.uni_margin;return"translate("+t+", "+e+")"}),p=r.clust.margin.left+r.clust.dim.width+r.uni_margin,f=r.norm_labels.margin.top+r.norm_labels.width.col+2.5*r.uni_margin;var c=1.15*r.cat_room.symbol_width,d=.65,u=1.25;r.show_categories.col&&d3.select(r.viz_svg).selectAll().data(r.all_cats.col).enter().append("text").classed("col_cat_super",!0).style("font-size",c+"px").style("opacity",d).style("cursor","default").attr("transform",function(t){var e=parseInt(t.split("-")[1],10),o=f+u*r.cat_room.symbol_width*e;return"translate("+p+","+o+")"}).text(function(t){return o(r,t,"col")}),r.show_categories.row&&a(t),f=r.show_dendrogram?r.clust.margin.top+r.clust.dim.height+r.dendro_room.col-2*r.uni_margin:r.clust.margin.top+r.clust.dim.height;var _=d3.select(r.viz_svg).append("g").classed("bottom_spillover_container",!0).attr("transform",function(){return"translate(0,"+f+")"});_.append("rect").attr("class","bottom_spillover").attr("fill",r.background_color).attr("width",r.svg_dim.width).attr("height",2*r.svg_dim.height),p=r.clust.margin.left,f=0,_.append("g").classed("col_dendro_icons_container",!0).attr("transform","translate("+p+","+f+")").append("g").classed("col_dendro_icons_group",!0),i(t,"col");var p=r.clust.margin.left+r.clust.dim.width,f=r.clust.margin.top+r.clust.dim.height,v=r.cat_room.col+r.clust.dim.width,h=r.cat_room.row+10*r.uni_margin;d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",v).attr("height",h).attr("transform",function(){return"translate("+p+","+f+")"}).classed("white_bars",!0).classed("dendro_corner_spillover",!0),p=0,f=r.clust.margin.top+r.clust.dim.height,v=r.clust.margin.left,h=10*r.clust.dim.height,d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",v).attr("height",h).attr("transform",function(){return"translate("+p+","+f+")"}).classed("white_bars",!0).classed("dendro_col_spillover",!0),n(t)}},function(t,e){"use strict";t.exports=function(t,e,r){var o;if(t.cat_names[r][e]===e){var n=parseInt(e.split("-")[1],10)+1;o="Category "+n}else o=t.cat_names[r][e];return o}},function(t,e,r){"use strict";var o=r(79);t.exports=function(t){var e=t.params;_.each(["row","col"],function(r){e.viz.show_categories[r]&&d3.selectAll(e.root+" ."+r+"_cat_super").on("dblclick",function(){e.sim_mat&&(r="both"),d3.selectAll(e.root+" .toggle_"+r+"_order .btn").classed("active",!1);var n=this.__data__.replace("-","_")+"_index";e.viz.sim_mat?(o(t,n,"row"),o(t,n,"col")):o(t,n,r)})})}},function(t,e,r){"use strict";var o=r(2),n=r(54),a=r(68),i=r(36),s=r(48);t.exports=function(t,e,r){var l,c=t.params;"row"===r?l="col":"col"===r&&(l="row"),c.viz.run_trans=!0,"row"===l?c.viz.inst_order.row=e:"col"===l&&(c.viz.inst_order.col=e),c.viz.show_dendrogram&&n(t,r);var d=c.network_data.row_nodes,u=o.pluck(d,"name"),p=c.network_data.col_nodes,f=o.pluck(p,"name");"row"===l?c.viz.x_scale.domain(c.matrix.orders[c.viz.inst_order.row+"_row"]):"col"==l&&c.viz.y_scale.domain(c.matrix.orders[c.viz.inst_order.col+"_col"]);var v;d3.selectAll(c.root+" .tile")[0].length<c.matrix.def_large_matrix?(v=d3.select(c.root+" .clust_group").transition().duration(2500),v.selectAll(".row").attr("transform",function(t){var e=_.indexOf(u,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),v.selectAll(".row").selectAll(".tile").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"}),v.selectAll(".row").selectAll(".tile_circle").attr("transform",function(t){return s(c,t)}),v.selectAll(".tile_up").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"}),v.selectAll(".tile_dn").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"}),d3.select(c.root+" .row_label_zoom_container").selectAll(".row_label_group").transition().duration(2500).attr("transform",function(t){var e=_.indexOf(u,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),d3.select(c.root+" .col_zoom_container").selectAll(".col_label_text").transition().duration(2500).attr("transform",function(t){var e=_.indexOf(f,t.name);return"translate("+c.viz.x_scale(e)+") rotate(-90)"}),d3.selectAll(c.root+" .row_cat_group").transition().duration(2500).attr("transform",function(t){var e=_.indexOf(u,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),d3.selectAll(c.root+" .col_cat_group").transition().duration(2500).attr("transform",function(t){var e=_.indexOf(f,t.name);return"translate("+c.viz.x_scale(e)+",0)"})):(v=d3.select(c.root+" .clust_group"),v.selectAll(".row").attr("transform",function(t){var e=_.indexOf(u,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}).selectAll(".tile").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"}),v.selectAll(".tile_up").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"}),v.selectAll(".tile_dn").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"}),d3.select(c.root+" .row_label_zoom_container").selectAll(".row_label_group").attr("transform",function(t){var e=_.indexOf(u,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),d3.select(c.root+" .col_zoom_container").selectAll(".col_label_text").attr("transform",function(t){var e=_.indexOf(f,t.name);return"translate("+c.viz.x_scale(e)+") rotate(-90)"}),d3.selectAll(c.root+" .row_cat_group").attr("transform",function(t){var e=_.indexOf(u,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),d3.selectAll(c.root+" .col_cat_group").attr("transform",function(t){var e=_.indexOf(f,t.name);return"translate("+c.viz.x_scale(e)+",0)"})),c.network_data.links.forEach(function(t){t.x=c.viz.x_scale(t.target),t.y=c.viz.y_scale(t.source)}),c.zoom_info=i(),a(c),setTimeout(function(){c.viz.run_trans=!1},2500)}},function(t,e,r){"use strict";var o=r(77),n=r(49);t.exports=function(t){var e=t.params,r=e.viz,a=2.75;d3.select(".row_cat_label_container").empty()&&(d3.select(t.params.viz.viz_svg).append("g").classed("row_cat_label_container",!0),d3.select(t.params.viz.viz_svg+" .row_cat_label_container").append("g").classed("row_cat_label_bar_container",!0));var i=r.clust.margin.left+r.clust.dim.width+r.uni_margin,s=r.norm_labels.margin.top+r.norm_labels.width.col+2.5*r.uni_margin,l=1.15*r.cat_room.symbol_width,c=.65,d=1.25;d3.select(e.root+" .row_cat_label_container").attr("transform",function(){return i=r.norm_labels.margin.left+r.norm_labels.width.row+r.cat_room.symbol_width+a*r.uni_margin,s=r.clust.margin.top-r.uni_margin,"translate("+i+","+s+") rotate(-90)"}),d3.selectAll(e.root+" .row_cat_label_container text").remove(),d3.selectAll(e.root+" .row_cat_selection_bar").remove(),d3.selectAll(t.params.viz.root_tips+"_row_cat_super").remove();var u=50,_=-75,p=n().attr("class",function(){var t=e.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_row_cat_super";return r}).direction("south_custom").offset([u,_]).style("display","none").style("opacity",0).html(function(t){var n,a=e.network_data.row_nodes[0][t];if(a.indexOf("<p>")>-1){var i=a.split(": ")[0],s=a.split("<p>")[1];n=i+"<p>"+s}else n=o(r,t,"row");return n}),f=d*r.cat_room.symbol_width,v=.9*f;r.sim_mat===!1&&(d3.select(e.root+" .row_cat_label_container").selectAll().data(r.all_cats.row).enter().append("text").style("width","100px").style("height",v+"px").classed("row_cat_super",!0).style("font-size",l+"px").style("opacity",c).style("cursor","default").attr("transform",function(t){var e=d*r.cat_room.symbol_width*parseInt(t.split("-")[1],10);return"translate(0,"+e+")"}).text(function(t){return o(r,t,"row")}),d3.select(e.root+" .row_cat_label_container").selectAll().data(r.all_cats.row).enter().append("rect").classed("row_cat_super",!0).classed("row_cat_selection_bar",!0).style("height",v+"px").style("fill","green").style("width","120px").style("opacity",0).attr("transform",function(t){var e=f*(parseInt(t.split("-")[1],10)-.75);return"translate(0,"+e+")"}).on("mouseover",function(t){d3.selectAll(e.viz.root_tips+"_row_cat_super").style("display","block").style("opacity",1),p.show(t)}).on("mouseout",function(){p.hide(this),d3.selectAll(".d3-tip").style("display","none"),d3.selectAll(e.viz.root_tips+"_row_cat_super").style("display","none").style("opacity",0);
})),d3.select(e.root+" .row_cat_selection_bar").empty()===!1&&d3.selectAll(e.root+" .row_cat_selection_bar").call(p)}},function(t,e,r){"use strict";var o=r(82);t.exports=function(t){var e,r=t.params;d3.select(r.root+" .expand_button").on("click",null);var n=.4;e=d3.select(r.root+" .expand_button").empty()?d3.select(r.viz.viz_svg).append("text").attr("class","expand_button"):d3.select(r.root+" .expand_button"),e.attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-family","FontAwesome").attr("font-size","30px").text(function(){return r.viz.is_expand===!1?"":""}).attr("y","25px").attr("x","25px").style("cursor","pointer").style("opacity",n).on("mouseover",function(){d3.select(this).style("opacity",.75)}).on("mouseout",function(){d3.select(this).style("opacity",n)}).on("click",function(){r.viz.is_expand===!1?(d3.select(this).text(function(){return""}),r.viz.is_expand=!0,d3.selectAll(r.root+" .borders").style("fill","white"),d3.select(r.root+" .sidebar_wrapper").style("display","none")):(d3.select(this).text(function(){return""}),r.viz.is_expand=!1,d3.selectAll(r.root+" .borders").style("fill","#eee"),d3.select(r.root+" .viz_wrapper").style("width","100px"),d3.select(r.root+" .sidebar_wrapper").style("display","block")),d3.select(r.viz.viz_svg).style("opacity",.5);var e=500;1==r.viz.run_trans&&(e=2500),setTimeout(o,e,t)})}},function(t,e,r){"use strict";var o=r(2),n=r(83),a=r(93),i=r(96),s=r(97),l=r(98),c=r(99),d=r(100),u=r(101),p=r(102),f=r(103),v=r(104),h=r(105),m=r(106),g=r(107),w=r(108),y=r(109),b=r(110),x=r(95),z=r(55),k=r(54),A=r(68),O=r(24),E=r(111),T=r(80),N=r(78),B=r(112),S=r(36),M=r(40);t.exports=function(t){var e=t.params,r=O(e);d3.select(e.root+" .play_button"),d3.select(e.root+" .sidebar_wrapper").style("height",r.height+"px"),d3.select(e.viz.viz_wrapper).style("margin-top",r.top+"px").style("width",r.width+"px").style("height",r.height+"px"),e=w(e),e.zoom_info=S(),i(e);var C=d3.select(e.viz.viz_svg);_.each(e.network_data.links,function(t){t.x=e.viz.x_scale(t.target),t.y=e.viz.y_scale(t.source)}),C.on(".zoom",null),e.zoom_behavior.scaleExtent([1,e.viz.real_zoom*e.viz.zoom_switch]).on("zoom",function(){n(t)}),e.viz.do_zoom&&C.call(e.zoom_behavior),a(e),C.attr("width",e.viz.svg_dim.width).attr("height",e.viz.svg_dim.height),C.select(".super_background").style("width",e.viz.svg_dim.width).style("height",e.viz.svg_dim.height),C.select(".grey_background").attr("width",e.viz.clust.dim.width).attr("height",e.viz.clust.dim.height),setTimeout(E,100,e);var L=e.network_data.row_nodes,R=o.pluck(L,"name");y(e,C),C.selectAll(".highlighting_rect").attr("width",.8*e.viz.x_scale.rangeBand()).attr("height",.8*e.viz.y_scale.rangeBand()),p(e),u(e,C),f(e,C),C.selectAll(".row_label_group").each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",t.x).attr("y",0).attr("width",t.width).attr("height",e.viz.rect_height).style("fill","yellow").style("opacity",function(t){var e=0;return 1===t.target&&(e=1),e})}),C.selectAll(".row_label_group").select("text").attr("y",.5*e.viz.rect_height+.35*e.labels.default_fs_row),o.has(e.network_data.row_nodes[0],"value")&&b(t,C),C.selectAll(".row_cat_group").attr("transform",function(t){var r=_.indexOf(R,t.name);return"translate(0, "+e.viz.y_scale(r)+")"}),C.selectAll(".row_cat_group").select("path").attr("d",function(){var t=e.viz.cat_room.symbol_width-1,r=0,o=1,n=e.viz.rect_height/2,a=e.viz.cat_room.symbol_width-1,i=e.viz.rect_height,s="M "+t+","+r+" L "+o+","+n+", L "+a+","+i+" Z";return s});var F=!0;e.viz.show_dendrogram?(z(t,"row",F),z(t,"col",F),s(e,C),k(t,"row",0),k(t,"col",0)):s(e,C),v(e,C),h(e,C),m(e,C),g(e,C),l(e,C),c(e.viz,C),M(e),d(e,C),e.zoom_behavior.scale(1).translate([e.viz.clust.margin.left,e.viz.clust.margin.top]),x(e),d3.select(e.root+" .clust_container").attr("transform","translate("+e.viz.clust.margin.left+","+e.viz.clust.margin.top+")"),A(e),T(t),d3.select(e.viz.viz_svg).style("opacity",1),N(t),d3.select(t.params.root+" .row_slider_group").style("opacity",0),d3.select(t.params.root+" .col_slider_group").style("opacity",0),setTimeout(B,500,t,"row"),setTimeout(B,500,t,"col")}},function(t,e,r){"use strict";var o=r(84),n=r(91),a=r(92);t.exports=function(t){var e=t.params,r={};if(r.zoom_x=d3.event.scale,r.zoom_y=d3.event.scale,r.trans_x=e.zoom_behavior.translate()[0]-e.viz.clust.margin.left,r.trans_y=e.zoom_behavior.translate()[1]-e.viz.clust.margin.top,d3.selectAll(e.viz.root_tips).style("display","none"),e.zoom_info=n(e.viz,r),e.zoom_info=a(e.viz,r),e.is_slider_drag===!1&&e.is_cropping===!1){var i=r.trans_x+e.viz.clust.margin.left,s=r.trans_y+e.viz.clust.margin.top;e.zoom_behavior.translate([i,s]),o(e)}}},function(t,e,r){"use strict";var o=r(85),n=r(87),a=r(68),i=r(90),s=r(88);t.exports=function(t){var e=t.zoom_info;d3.select(t.root+" .clust_group").attr("transform","translate("+[e.trans_x,e.trans_y]+") scale("+e.zoom_x+","+e.zoom_y+")"),d3.select(t.root+" .row_label_zoom_container").attr("transform","translate("+[0,e.trans_y]+") scale("+e.zoom_y+")"),d3.select(t.root+" .col_zoom_container").attr("transform","translate("+[e.trans_x,0]+") scale("+e.zoom_x+")"),d3.select(t.root+" .row_cat_container").attr("transform","translate("+[0,e.trans_y]+") scale( 1,"+e.zoom_y+")"),d3.select(t.root+" .row_dendro_container").attr("transform","translate("+[t.viz.uni_margin/2,e.trans_y]+") scale( 1,"+e.zoom_y+")"),d3.select(t.root+" .row_dendro_icons_group").attr("transform",function(){var t=e.trans_y,r="translate("+[0,t]+") ",o="scale(1, "+e.zoom_y+")",n=r+o;return n}),d3.select(t.root+" .row_dendro_icons_group").selectAll("path").attr("transform",function(r){var o=t.viz.uni_margin,n=r.pos_mid;return"translate("+o+","+n+") scale(1, "+1/e.zoom_y+")"}),d3.select(t.root+" .col_dendro_icons_group").attr("transform",function(){var t=e.trans_x,r="translate("+[t,0]+")",o="scale("+e.zoom_x+", 1)",n=r+o;return n}),d3.select(t.root+" .col_dendro_icons_group").selectAll("path").attr("transform",function(r){var o=r.pos_mid,n=t.viz.uni_margin;return"translate("+o+","+n+") scale("+1/e.zoom_x+", 1)"}),d3.select(t.root+" .col_cat_container").attr("transform","translate("+[e.trans_x,0]+") scale("+e.zoom_x+",1)"),d3.select(t.root+" .col_dendro_container").attr("transform","translate("+[e.trans_x,t.viz.uni_margin/2]+") scale("+e.zoom_x+",1)"),o(t),i(t,e),d3.select(t.root+" .viz_svg").attr("is_zoom",function(){var e=Number(d3.select(t.root+" .viz_svg").attr("is_zoom"));return d3.select(t.root+" .viz_svg").attr("stopped_zoom",1),e+1});var r=function(){d3.select(t.root+" .viz_svg").attr("is_zoom",function(){var e=Number(d3.select(t.root+" .viz_svg").attr("is_zoom"));return e-1})};setTimeout(r,100),setTimeout(n,1e3,t),_.each(["row","col"],function(e){var r=s(t,e);if(d3.selectAll(".horz_lines").select("line").style("display","none"),d3.selectAll(".vert_lines").select("line").style("display","none"),r>250)d3.selectAll(t.root+" ."+e+"_label_group").select("text").style("display","none"),d3.selectAll(t.root+" ."+e+"_cat_group").select("path").style("display","none");else if(r>40){var o=d3.scale.linear().domain([1,500]).range([3,1]).clamp(!0),n=Math.floor(o(r));d3.selectAll(t.root+" ."+e+"_label_group").select("text").style("opacity",.5).text(function(t){return t.name.substring(0,n)+".."})}}),a(t,e)}},function(t,e,r){"use strict";var o=r(86);t.exports=function(t){var e,r=t.labels.default_fs_row,n=o(t);n.row>t.labels.max_allow_fs?(e=t.viz.zoom_switch_y?t.zoom_behavior.scale()/t.viz.zoom_switch_y:t.zoom_behavior.scale(),e<1&&(e=1),r=t.labels.max_allow_fs/e,d3.selectAll(t.root+" .row_label_group").select("text").style("font-size",r+"px").attr("y",.5*t.viz.rect_height+.35*r)):d3.selectAll(t.root+" .row_label_group").select("text").style("font-size",t.labels.default_fs_row+"px").attr("y",.5*t.viz.rect_height+.35*t.labels.default_fs_row),n.col>t.labels.max_allow_fs?(e=t.viz.zoom_switch>1?t.zoom_behavior.scale()/t.viz.zoom_switch:t.zoom_behavior.scale(),e<1&&(e=1),r=t.labels.max_allow_fs/e,r>.7*t.viz.rect_width&&(r=.7*t.viz.rect_width),d3.selectAll(t.root+" .col_label_text").select("text").style("font-size",r+"px")):d3.selectAll(t.root+" .col_label_text").select("text").style("font-size",t.labels.default_fs_col+"px")}},function(t,e){"use strict";t.exports=function(t){var e={};return t.viz.zoom_switch>1?(e.row=t.labels.default_fs_row*t.zoom_behavior.scale(),e.col=t.labels.default_fs_col*t.zoom_behavior.scale()):(e.row=t.labels.default_fs_row*t.zoom_behavior.scale()/t.viz.zoom_switch_y,e.col=t.labels.default_fs_col*t.zoom_behavior.scale()),e}},function(t,e,r){"use strict";var o=r(88),n=r(89),a=r(85),i=r(41);t.exports=function(t){function e(){_.each(["row","col"],function(e){d3.selectAll(t.root+" ."+e+"_label_group").filter(function(){return"none"!=d3.select(this).style("display")}).select("text").style("font-size",function(){var t=Number(d3.select(this).style("font-size").replace("px",""));return t})})}var r=Number(d3.select(t.root+" .viz_svg").attr("is_zoom"));if(_.each(["row","col"],function(e){d3.selectAll(t.root+" ."+e+"_label_group").select("text").style("opacity",1),d3.selectAll(t.root+" ."+e+"_cat_group").select("path").style("display","block")}),0===r){var s=Number(d3.select(t.root+" .viz_svg").attr("stopped_zoom"));0!=s&&(d3.selectAll(t.viz.root_tips).style("display","block"),d3.selectAll(t.root+" .row_label_group").select("text").style("display","none"),d3.selectAll(t.root+" .row_label_group").select("text").style("display","block"),d3.select(t.root+" .viz_svg").attr("stopped_zoom",0),d3.selectAll(t.root+" .row_label_group").select("text").style("display","block"),d3.selectAll(t.root+" .col_label_group").select("text").style("display","block"),i(t),_.each(["row","col"],function(e){var r=o(t,e);r<125&&d3.selectAll(t.root+" ."+e+"_label_group").each(function(){n(t,this,e)})}),e(),a(t)),setTimeout(e,25),setTimeout(e,100)}}},function(t,e){"use strict";t.exports=function(t,e){var r;"row"===e?r="group":"col"===e&&(r="text");var o=d3.selectAll(t.root+" ."+e+"_label_"+r).filter(function(){return"none"!=d3.select(this).style("display")})[0].length;return o}},function(t,e){"use strict";t.exports=function(t,e,r){function o(){return d=d3.select(this).text(),c=d.length,_=c-3,l=d.substring(0,_)+".."}function n(t){return d=d3.select(this).text(),c=".."===d.slice(-2)?d.length-2:d.length,u=t.name,_=c+2,l=u.substring(0,_)+"..",l.length>u.length&&(l=u),l}function a(t,e){return s=e<1?t:t*e}if("none"!=d3.select(e).style("display")){var i,s,l,c,d,u,_,p,f=t.viz.norm_labels.width[r];i="row"===r?t.viz.zoom_switch_y?t.zoom_behavior.scale()/t.viz.zoom_switch_y:t.zoom_behavior.scale():t.viz.zoom_switch>1?t.zoom_behavior.scale()/t.viz.zoom_switch:t.zoom_behavior.scale();var v;d3.select(e).select("text").each(function(t){v=t.name.length});var h=d3.select(e).select("text").node().getBBox().width;if(s=a(h,i),s>f)for(p=1;p<v;p++)s>f&&(d3.select(e).select("text").text(o),h=d3.select(e).select("text").node().getBBox().width,s=a(h,i));else if(s<.75*f)for(p=1;p<v;p++)s<.75*f&&(d3.select(e).select("text").text(n),h=d3.select(e).select("text").node().getBBox().width,s=a(h,i))}}},function(t,e,r){"use strict";var o=r(2);t.exports=function(t){var e=t.zoom_info;o.has(t.network_data.row_nodes[0],"value")&&d3.selectAll(t.root+" .row_bars").attr("width",function(r){var o=0;return o=t.labels.bar_scale_row(Math.abs(r.value))/e.zoom_y}).attr("x",function(r){var o=0;return o=-t.labels.bar_scale_row(Math.abs(r.value))/e.zoom_y}),o.has(t.network_data.col_nodes[0],"value")&&d3.selectAll(t.root+" .col_bars").attr("width",function(r){var o=0;return r.value>0&&(o=t.labels.bar_scale_col(r.value)/e.zoom_x),o})}},function(t,e){"use strict";t.exports=function(t,e){return t.zoom_switch_y>1&&(e.zoom_y<t.zoom_switch_y?(e.trans_y=0,e.zoom_y=1):e.zoom_y=e.zoom_y/t.zoom_switch_y),e.pan_room_y=(e.zoom_y-1)*t.clust.dim.height,e.trans_y>=0?e.trans_y=0:e.trans_y<=-e.pan_room_y&&(e.trans_y=-e.pan_room_y),e}},function(t,e){"use strict";t.exports=function(t,e){return t.zoom_switch>1&&(e.zoom_x<t.zoom_switch?(e.trans_x=0,e.zoom_x=1):e.zoom_x=e.zoom_x/t.zoom_switch),e.pan_room_x=(e.zoom_x-1)*t.clust.dim.width,e.trans_x>0?e.trans_x=0:e.trans_x<=-e.pan_room_x&&(e.trans_x=-e.pan_room_x),e}},function(t,e,r){"use strict";var o=r(94);t.exports=function(t){d3.selectAll(t.viz.zoom_element).on("dblclick.zoom",null),d3.select(t.viz.zoom_element).on("dblclick",function(){o(t,0,0,1)})}},function(t,e,r){"use strict";var o=r(2),n=r(95),a=r(68),i=r(36),s=r(41);t.exports=function(t,e,r,l){function c(e,r){d3.selectAll(t.root+" ."+e+"_dendro_crop_buttons").transition().duration(m).style("opacity",r)}if(d3.selectAll(t.viz.root_tips).style("display","none"),t.zoom_info=i(),a(t),!t.viz.run_trans){var d=t.viz.clust.dim.height/2,u=d/t.viz.zoom_switch;if(r>=d-u){var p=d-r,f=-d/t.viz.zoom_switch+p;r+=f}r<-(d-u)&&(p=d+r,f=d/t.viz.zoom_switch-p,r+=f);var v,h=l;v=l<=t.viz.zoom_switch?1:l/t.viz.zoom_switch;var m=700,g=-(h-1)*d;d3.select(t.root+" .clust_group").transition().duration(m).attr("transform","translate("+[0,0+g]+") scale("+v+","+h+")translate("+[e,r]+")"),d3.select(t.root+" .row_label_zoom_container").transition().duration(m).attr("transform","translate("+[0,g]+") scale("+h+","+h+")translate("+[0,r]+")"),d3.select(t.root+" .row_cat_container").transition().duration(m).attr("transform","translate("+[0,g]+") scale(1,"+h+")translate("+[0,r]+")"),d3.select(t.root+" .row_dendro_container").transition().duration(m).attr("transform","translate("+[0,g]+") scale("+v+","+h+")translate("+[t.viz.uni_margin/2,r]+")");var w;_.each(["row","col"],function(e){w=d3.select(t.root+" ."+e+"_dendro_crop_buttons").style("opacity"),d3.selectAll(t.root+" ."+e+"_dendro_crop_buttons").style("opacity",0),setTimeout(c,700,e,w)}),d3.select(t.root+" .col_zoom_container").transition().duration(m).attr("transform"," scale("+v+","+v+")translate("+[e,0]+")"),d3.select(t.root+" .col_cat_container").transition().duration(m).attr("transform"," scale("+v+",1)translate("+[e,0]+")"),d3.select(t.root+" .col_dendro_container").transition().duration(m).attr("transform"," scale("+v+",1)translate("+[e,t.viz.uni_margin/2]+")");var y=t.viz.clust.margin.top+g+r*h,b=t.viz.clust.margin.left+e;t.zoom_behavior.scale(h).translate([b,y]),n(t),d3.select(t.root+" .row_label_zoom_container").each(function(){var e=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",.5*e.x).attr("y",0).attr("width",.5*e.width).attr("height",t.viz.y_scale.rangeBand()).style("fill","yellow")}),d3.select(t.root+" .row_dendro_icons_group").attr("transform","translate("+[0,0+g]+") scale("+v+","+h+")translate("+[e,r]+")"),d3.select(t.root+" .row_dendro_icons_group").selectAll("path").attr("transform",function(e){var r=t.viz.uni_margin,o=e.pos_mid;return"translate("+r+","+o+") scale(1, "+1/h+")"}),d3.select(t.root+" .col_dendro_icons_group").attr("transform","translate("+[0,0+g]+") scale("+v+","+h+")translate("+[e,r]+")"),d3.select(t.root+" .col_dendro_icons_group").selectAll("path").attr("transform",function(e){var r=e.pos_mid,o=t.viz.uni_margin;return"translate("+r+","+o+") scale("+1/v+",1)"}),o.has(t.network_data.col_nodes[0],"value")&&d3.selectAll(t.root+" .col_bars").attr("width",function(e){var r=0;return e.value>0&&(r=t.labels.bar_scale_col(e.value)/v),r}),o.has(t.network_data.row_nodes[0],"value")&&d3.selectAll(t.root+" .row_bars").transition().duration(m).attr("width",function(e){var r=0;return r=t.labels.bar_scale_row(Math.abs(e.value))/h}).attr("x",function(e){var r=0;return r=-t.labels.bar_scale_row(Math.abs(e.value))/h}),s(t)}}},function(t,e,r){"use strict";var o=r(2),n=r(89),a=r(85);t.exports=function(t){d3.selectAll(t.root+" .row_label_group").select("text").text(function(t){return o.normal_name(t)}),d3.selectAll(t.root+" .col_label_text").select("text").text(function(t){return o.normal_name(t)}),a(t),d3.selectAll(t.root+" .row_label_group").each(function(){n(t,this,"row")}),d3.selectAll(t.root+" .col_label_group").each(function(){n(t,this,"col")})}},function(t,e){"use strict";t.exports=function(t){var e=1,r=0,o=0,n=t.viz.clust.dim.height/2,a=-(e-1)*n;d3.select(t.root+" .clust_group").attr("transform","translate("+[0,0+a]+") scale(1,"+e+")translate("+[r,o]+")"),d3.select(t.root+" .row_label_zoom_container").attr("transform","translate("+[0,a]+") scale("+e+","+e+")translate("+[0,o]+")"),d3.select(t.root+" .row_cat_container").attr("transform","translate("+[0,a]+") scale(1,"+e+")translate("+[0,o]+")"),d3.select(t.root+" .row_dendro_container").attr("transform","translate("+[0,a]+") scale("+e+","+e+")translate("+[t.viz.uni_margin/2,o]+")"),d3.select(t.root+" .col_zoom_container").attr("transform"," scale(1,1)translate("+[r,0]+")"),d3.select(t.root+" .col_cat_container").attr("transform"," scale(1,1)translate("+[r,0]+")"),d3.select(t.root+" .col_dendro_container").attr("transform"," scale(1,1)translate("+[r,t.viz.uni_margin/2]+")"),d3.select(t.root+" .row_dendro_icons_group").attr("transform",function(){return"translate(0,0) scale(1)"}),d3.select(t.root+" .row_dendro_icons_group").selectAll("path").attr("transform",function(t){var e=7,r=t.pos_mid;return"translate("+e+","+r+") scale(1, 1)"})}},function(t,e){"use strict";t.exports=function(t,e){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o={};r===!1?o.run_transition=!1:o=r;var n,a=t.viz.duration,i=t.network_data.col_nodes,s=t.network_data.col_nodes_names;o.run_transition?(n=e.transition().delay(o.update).duration(a),e.selectAll(".col_cat_group").data(i,function(t){return t.name}).transition().delay(o.update).duration(a).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+",0)"}),e.selectAll(".col_dendro_group").data(i,function(t){return t.name}).transition().delay(o.update).duration(a).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+",0)"})):(n=e,e.selectAll(".col_cat_group").data(i,function(t){return t.name}).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+",0)"}),d3.select(t.root).selectAll(".col_dendro_group").data(i,function(t){return t.name}).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+",0)"}));var l,c;_.each(["row","col"],function(e){var r=t.viz.all_cats[e].length;for(l=0;l<r;l++)c="."+e+"_cat_rect_"+String(l),"row"===e?n.selectAll(c).attr("height",t.viz.y_scale.rangeBand()):n.selectAll(c).attr("width",t.viz.x_scale.rangeBand())});var d=t.viz.clust.margin.left+t.viz.clust.dim.width,u=t.viz.clust.margin.top,p=t.viz.dendro_room.row+t.viz.uni_margin;d3.select(t.root+" .viz_svg").select("row_dendro_outer_container").attr("transform","translate("+d+","+u+")"),d3.select(t.root+" .row_dendro_outer_container").select(".row_dendro_spillover").attr("width",p+"px").attr("height",t.viz.svg_dim.height),d=t.viz.clust.margin.left,u=t.viz.clust.margin.top+t.viz.clust.dim.height;var f=t.viz.dendro_room.col+t.viz.uni_margin;d3.select(t.root+" .col_dendro_outer_container").select(".col_dendro_spillover").attr("width",t.viz.svg_dim.width).attr("height",f+"px"),d3.select(t.root+" .col_dendro_outer_container").select(".col_dendro_spillover_top").attr("width",t.viz.svg_dim.width).attr("height",t.viz.svg_dim.height).attr("transform","translate(0,"+t.viz.dendro_room.col+")"),d=t.viz.clust.margin.left,u=0,d3.select(t.root+" .col_dendro_icons_container").attr("transform","translate("+d+","+u+")")}},function(t,e){"use strict";t.exports=function(t,e){var r,o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n={},a=t.viz.duration;o===!1?n.run_transition=!1:n=o,r=n.run_transition?e.transition().delay(n.update).duration(a):e,r.select(".super_col_bkg").attr("height",t.viz.super_labels.dim.width+"px").attr("transform","translate(0,"+t.viz.grey_border_width+")"),r.select(".super_col").attr("transform",function(){var e=t.viz.clust.dim.width/2+t.viz.norm_labels.width.row,r=t.viz.super_labels.dim.width;return"translate("+e+","+r+")"}),r.select(".super_row_bkg").attr("width",t.viz.super_labels.dim.width+"px").attr("transform","translate("+t.viz.grey_border_width+",0)"),r.select(".super_row").attr("transform",function(){var e=t.viz.super_labels.dim.width,r=t.viz.clust.dim.height/2+t.viz.norm_labels.width.col;return"translate("+e+","+r+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n={},a=t.duration;o===!1?n.run_transition=!1:n=o,r=n.run_transition?e.transition().delay(n.update).duration(a):e,r.select(t.root+" .right_slant_triangle").attr("transform","translate("+t.clust.dim.width+","+t.norm_labels.width.col+")"),r.select(t.root+" .left_slant_triangle").attr("transform","translate(-1,"+t.norm_labels.width.col+")");var i=t.clust.margin.top+t.uni_margin/5;r.select(t.root+" .top_left_white").attr("width",t.clust.margin.left).attr("height",i);var s=t.clust.margin.left+t.clust.dim.width+t.uni_margin+t.dendro_room.row,l=t.norm_labels.margin.top+t.norm_labels.width.col;r.select(t.root+" .right_spillover_container").attr("transform",function(){return"translate("+s+", 0)"}),l=t.norm_labels.margin.top+t.norm_labels.width.col,r.select(t.root+" .right_spillover_container rect").attr("transform",function(){return"translate( 0,"+l+")"}),r.select(t.root+" .right_spillover").attr("height",t.svg_dim.height+"px");var c=t.clust.margin.left+t.clust.dim.width,d=l,u=t.dendro_room.row+t.uni_margin,_=t.cat_room.col+t.uni_margin;d3.select(t.root+" .dendro_row_spillover").attr("width",u).attr("height",_).attr("transform",function(){return"translate("+c+","+d+")"}),c=0,d=t.clust.margin.top+t.clust.dim.height,u=t.clust.margin.left,_=10*t.clust.dim.height,r.select(".dendro_col_spillover").attr("width",u).attr("height",_).attr("transform",function(){return"translate("+c+","+d+")"}),c=t.clust.margin.left+t.clust.dim.width,d=t.clust.margin.top+t.clust.dim.height,u=t.cat_room.col+t.clust.dim.width,_=t.cat_room.row+t.uni_margin,r.select(".dendro_corner_spillover").attr("width",u).attr("height",_).attr("transform",function(){return"translate("+c+","+d+")"}),c=t.clust.margin.left+t.clust.dim.width+t.uni_margin,d=t.norm_labels.margin.top+t.norm_labels.width.col+2.5*t.uni_margin;var p=2.75,f=1.2;t.show_categories.col&&d3.selectAll(t.root+" .col_cat_super").attr("transform",function(e){var r=parseInt(e.split("-")[1],10),o=d+f*t.cat_room.symbol_width*r;return"translate("+c+","+o+")"}),t.show_categories.row&&d3.select(t.root+" .row_cat_label_container").attr("transform",function(){return c=t.norm_labels.margin.left+t.norm_labels.width.row+t.cat_room.symbol_width+p*t.uni_margin,d=t.clust.margin.top-t.uni_margin,"translate("+c+","+d+") rotate(-90)"}),d=t.show_dendrogram?t.clust.margin.top+t.clust.dim.height+t.dendro_room.col-2*t.uni_margin:t.clust.margin.top+t.clust.dim.height,d3.select(t.root+" .bottom_spillover_container").attr("transform",function(){return"translate(0,"+d+")"}),r.select(t.root+" .bottom_spillover").attr("width",t.svg_dim.width).attr("height",2*t.svg_dim.height);var v=t.cat_room.col+1.5*t.uni_margin;d3.select(t.viz_svg+" .top_right_white").attr("fill",t.background_color).attr("width",2*t.clust.dim.width).attr("height",v).attr("transform",function(){var e=t.clust.margin.left+t.clust.dim.width,r=t.norm_labels.width.col+t.norm_labels.margin.top-t.uni_margin;return"translate("+e+", "+r+")"})}},function(t,e){"use strict";t.exports=function(t,e){e.select(".left_border").attr("width",t.viz.grey_border_width).attr("height",t.viz.svg_dim.height).attr("transform","translate(0,0)"),e.select(".right_border").attr("width",t.viz.grey_border_width).attr("height",t.viz.svg_dim.height).attr("transform",function(){var e=t.viz.svg_dim.width-t.viz.grey_border_width;return"translate("+e+",0)"}),e.select(".top_border").attr("width",t.viz.svg_dim.width).attr("height",t.viz.grey_border_width).attr("transform",function(){var t=0;return"translate("+t+",0)"}),e.select(".bottom_border").attr("width",t.viz.svg_dim.width).attr("height",t.viz.grey_border_width).attr("transform",function(){var e=t.viz.svg_dim.height-t.viz.grey_border_width;return"translate(0,"+e+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n={},a=t.viz.duration,i=t.network_data.row_nodes,s=t.network_data.row_nodes_names;o===!1?n.run_transition=!1:n=o,n.run_transition?(e.selectAll(".row_label_group").data(i,function(t){return t.name}).transition().delay(n.update).duration(a).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate(0,"+t.viz.y_scale(r)+")"}).attr("y",.5*t.viz.rect_height+.35*t.labels.default_fs_row),r=e.transition().delay(n.update).duration(a)):(e.selectAll(".row_label_group").data(i,function(t){return t.name}).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate(0,"+t.viz.y_scale(r)+")"}).attr("y",.5*t.viz.rect_height+.35*t.labels.default_fs_row),r=e),r.select(t.root+" .row_container").attr("transform","translate("+t.viz.norm_labels.margin.left+","+t.viz.clust.margin.top+")"),r.select(t.root+" .row_container").select(".white_bars").attr("width",t.viz.label_background.row).attr("height",30*t.viz.clust.dim.height+"px"),r.select(t.root+" .row_container").select(".row_label_container").attr("transform","translate("+t.viz.norm_labels.width.row+",0)")}},function(t,e){"use strict";t.exports=function(t){var e=6,r=e*t.viz.border_width.x,o=e*t.viz.border_width.y;d3.select(t.root+" .top_hlight").attr("width",t.viz.rect_width).attr("height",o).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+",0)"}),d3.select(t.root+" .left_hlight").attr("width",r).attr("height",t.viz.rect_width-.99*o).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+","+.99*o+")"}),d3.select(t.root+" .right_hlight").attr("width",r).attr("height",t.viz.rect_height-.99*o).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+t.viz.rect_width-r;return"translate("+e+","+.99*o+")"}),d3.select(t.root+" .bottom_hlight").attr("width",function(){return t.viz.rect_width-1.98*r}).attr("height",o).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+.99*r,n=t.viz.rect_height-o;return"translate("+e+","+n+")"}),d3.select(t.root+" .row_top_hlight").attr("width",t.viz.svg_dim.width).attr("height",o),d3.select(t.root+" .row_bottom_hlight").attr("width",t.viz.svg_dim.width).attr("height",o).attr("transform",function(){var e=t.viz.rect_height-o;return"translate(0,"+e+")"}),d3.select(t.root+" .col_top_hlight").attr("width",t.viz.clust.dim.height).attr("height",r).attr("transform",function(){var e=0,r=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+r+","+e+")"}),d3.select(t.root+" .col_bottom_hlight").attr("width",t.viz.clust.dim.height).attr("height",r).attr("transform",function(){var e=t.viz.rect_width-r,o=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+o+","+e+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n={},a=t.viz.duration;o===!1?n.run_transition=!1:n=o,r=n.run_transition?e.transition().delay(n.update).duration(a):e,r.select(".row_cat_outer_container").attr("transform","translate("+t.viz.norm_labels.width.row+",0)").select("white_bars").attr("width",t.viz.cat_room.row+"px").attr("height",function(){var e=t.viz.clust.dim.height;return e});var i=t.viz.clust.margin.left+t.viz.clust.dim.width,s=t.viz.clust.margin.top;r.select(".row_dendro_outer_container").attr("transform","translate("+i+","+s+")"),i=t.viz.clust.margin.left,s=t.viz.clust.margin.top+t.viz.clust.dim.height,r.select(" .col_dendro_outer_container").attr("transform",function(){return"translate("+i+","+s+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,o=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n={},a=t.viz.duration,i=t.network_data.col_nodes,s=t.network_data.col_nodes_names;o===!1?n.run_transition=!1:n=o,n.run_transition?(r=e.transition().delay(n.update).duration(a),e.selectAll(".col_label_text").data(i,function(t){return t.name}).transition().delay(n.update).duration(a).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+", 0) rotate(-90)"})):(r=e,e.selectAll(".col_label_text").data(i,function(t){return t.name}).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+", 0) rotate(-90)"}));var l=t.viz.x_scale.rangeBand()/2+t.viz.border_width.x;r.select(t.root+" .col_container").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.norm_labels.margin.top+")"),r.select(t.root+" .col_container").select(".white_bars").attr("width",30*t.viz.clust.dim.width+"px").attr("height",t.viz.label_background.col),r.select(t.root+" .col_container").select(".col_label_outer_container").attr("transform","translate(0,"+t.viz.norm_labels.width.col+")"),r.selectAll(".col_label_group").attr("transform","translate("+t.viz.x_scale.rangeBand()/2+","+l+") rotate(45)"),r.selectAll(".col_label_group").select("text").attr("y",.6*t.viz.x_scale.rangeBand()).attr("dx",2*t.viz.border_width.x)}},function(t,e,r){"use strict";var o=r(2);t.exports=function(t,e){e.selectAll(".col_label_group").select("text").style("font-size",t.labels.default_fs_col+"px").text(function(t){return o.normal_name(t)}),e.selectAll(".col_label_group").each(function(){d3.select(this).select("text")[0][0].getBBox()})}},function(t,e){"use strict";t.exports=function(t,e){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],o=e.selectAll(".col_label_group").select("path"),n={},a=t.viz.duration;r===!1?n.run_transition=!1:n=r;var i;i=n.run_transition?o.transition().delay(n.update).duration(a):o;var s=.36*t.viz.x_scale.rangeBand();i.attr("d",function(){var e=-t.viz.border_width.x,r=0,o=t.viz.x_scale.rangeBand()-s,n=-(t.viz.x_scale.rangeBand()-s+t.viz.border_width.x),a=-t.viz.border_width.x,i="M "+e+",0 L "+n+","+r+", L "+a+","+o+" Z";return i}).attr("fill","#eee")}},function(t,e,r){"use strict";var o=r(2);t.exports=function(t,e){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n={};r===!1?n.run_transition=!1:n=r,o.has(t.network_data.col_nodes[0],"value")&&e.selectAll(".col_bars").data(t.network_data.col_nodes,function(t){return t.name}).attr("width",function(e){var r=0;return e.value>0&&(r=t.labels.bar_scale_col(e.value)),r}).attr("height",.66*t.viz.rect_width)}},function(t,e,r){"use strict";var o=r(25),n=r(28),a=r(27),i=r(35),s=r(34);t.exports=function(t){return t=o(t),t.viz=a(t.viz),t.viz=n(t.viz),t.sim_mat&&(t.viz.clust.dim.width<=t.viz.clust.dim.height?t.viz.clust.dim.height=t.viz.clust.dim.width:t.viz.clust.dim.width=t.viz.clust.dim.height),t.viz=s(t.viz),t.viz.x_scale.rangeBands([0,t.viz.clust.dim.width]),t.viz.y_scale.rangeBands([0,t.viz.clust.dim.height]),t.viz.border_width.x=t.viz.x_scale.rangeBand()/t.viz.border_fraction,t.viz.border_width.y=t.viz.y_scale.rangeBand()/t.viz.border_fraction,t.viz.rect_width=t.viz.x_scale.rangeBand()-t.viz.border_width.x,t.viz.rect_height=t.viz.y_scale.rangeBand()-t.viz.border_width.y,t.viz.real_zoom=t.viz.norm_labels.width.col/(t.viz.rect_width/2),t=i(t)}},function(t,e,r){"use strict";var o=r(2),n=r(44),a=r(45),i=r(48);t.exports=function(t,e){var r=t.network_data.row_nodes,s=o.pluck(r,"name");e.selectAll(".row").attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate(0,"+t.viz.y_scale(r)+")"}),e.selectAll(".row").selectAll(".tile").attr("transform",function(e){return i(t,e)}).attr("width",t.viz.rect_width).attr("height",t.viz.rect_height),e.selectAll(".row").selectAll(".tile_up").attr("d",function(){return n(t)}).attr("transform",function(e){return i(t,e)}),e.selectAll(".row").selectAll(".tile_dn").attr("d",function(){return a(t)}).attr("transform",function(e){return i(t,e)})}},function(t,e,r){"use strict";var o=r(29);t.exports=function(t,e){var r=t.params;r=o(r),e.selectAll(".row_bars").attr("width",function(t){
var e=0;return e=r.labels.bar_scale_row(Math.abs(t.value))}).attr("x",function(t){var e=0;return e=-r.labels.bar_scale_row(Math.abs(t.value))}).attr("height",r.viz.y_scale.rangeBand())}},function(t,e){"use strict";t.exports=function(t){var e=d3.select(t.root+" .clust_container").attr("transform"),r=Number(e.split("(")[1].split(",")[0]),o=Number(e.split(",")[1].replace(")","")),n=r+t.viz.clust.dim.width/2,a=o+t.viz.clust.dim.height/2;d3.select(t.root+" .play_button").attr("transform",function(){return"translate("+n+","+a+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,o,n=t.params.viz;if("row"===e){var a=n.svg_dim.width-3*n.uni_margin;r=n.clust.margin.left+n.clust.dim.width+100,r>a&&(r=a),o=n.clust.margin.top+3*n.uni_margin}else r=2*n.uni_margin,o=n.svg_dim.height-2.5*n.uni_margin;d3.select(t.params.root+" ."+e+"_slider_group").attr("transform",function(){var t;return t="row"===e?"translate("+r+","+o+")":"translate("+r+","+o+"), rotate(-90)"}).style("opacity",1)}},function(t,e,r){"use strict";var o=r(114),n=r(49),a=r(115),i=r(116),s=r(117),l=r(118);t.exports=function(t){var e=t.params;d3.select(e.root+" .col_cat_outer_container").empty()?d3.select(e.root+" .col_container").append("g").attr("class","col_cat_outer_container").attr("transform",function(){var t=e.viz.norm_labels.width.col+2;return"translate(0,"+t+")"}).append("g").attr("class","col_cat_container"):d3.select(e.root+" .col_container").select("col_cat_outer_container").attr("transform",function(){var t=e.viz.norm_labels.width.col+2;return"translate(0,"+t+")"});var r=n().attr("class",function(){var t=e.viz.root_tips.replace(".",""),r=t+" d3-tip col_cat_tip";return r}).direction("s").offset([5,0]).style("display","none").html(function(t){return o(e,t,this,"col")});d3.select(e.root+" .col_cat_container").selectAll("g").data(e.network_data.col_nodes,function(t){return t.name}).enter().append("g").attr("class","col_cat_group").attr("transform",function(t){var r=_.indexOf(e.network_data.col_nodes_names,t.name);return"translate("+e.viz.x_scale(r)+",0)"}),d3.select(e.root+" .col_cat_container").selectAll(".col_cat_group").call(r),d3.selectAll(e.root+" .col_cat_group").each(function(){var o,n=this;_.each(e.viz.all_cats.col,function(s){var d=parseInt(s.split("-")[1],10),u="col_cat_rect_"+String(d);o=d3.select(n).select("."+u).empty()?d3.select(n).append("rect").attr("class",u).attr("cat",s).attr("transform",function(){var t=e.viz.cat_room.symbol_width+e.viz.cat_room.separation,r=d*t;return"translate(0,"+r+")"}).on("click",function(r){if(d3.select(this).classed("cat_strings"))if(d3.event.shiftKey===!0)c(t,r,this,"col");else{var o=l(e,r,this,"col");$(e.root+" .dendro_info").modal("toggle");var n=o.join(", ");d3.select(e.root+" .dendro_info input").attr("value",n)}}):d3.select(n).select("."+u),o.attr("width",e.viz.x_scale.rangeBand()).attr("height",e.viz.cat_room.symbol_width).style("fill",function(t){var r=t[s],o=e.viz.cat_colors.col[s][r];return o}).on("mouseover",r.show).on("mouseout",function(){r.hide(this),a(e),d3.select(this).classed("hovering",!1),d3.selectAll(".d3-tip").style("display","none")}),i(e.viz,"col",o,s)})});var c=_.debounce(s,1500)}},function(t,e,r){"use strict";var o=r(77);t.exports=function(t,e,r,n){function a(){var e=!1;if(d3.select(r).classed("hovering")){var o=[n];t.viz.sim_mat&&(o=["row","col"]),_.each(o,function(r){"string"==typeof l&&l.indexOf("Not ")<0&&"false"!=l&&(e=!0),e&&d3.selectAll(t.root+" ."+r+"_cat_group").selectAll("rect").style("opacity",function(e){var r=d3.select(this).style("opacity");if(d3.select(this).classed("cat_strings")&&d3.select(this).classed("filtered_cat")===!1){var o,n=d3.select(this).attr("cat");o=e[n].indexOf(": ")>=0?e[n].split(": ")[1]:e[n],r=n===i&&o===l?t.viz.cat_colors.active_opacity:t.viz.cat_colors.opacity/4}return r})})}}d3.selectAll(".col_cat_tip").style("display","block"),d3.selectAll(".row_cat_tip").style("display","block");var i=d3.select(r).attr("cat"),s=o(t.viz,i,n),l=e[i];"string"==typeof l&&l.indexOf(": ")>=0&&(l=l.split(": ")[1]);var c=s+": "+l;return d3.select(r).classed("hovering",!0),setTimeout(a,500),c}},function(t,e){"use strict";t.exports=function(t){_.each(["row","col"],function(e){d3.selectAll(t.root+" ."+e+"_cat_group").selectAll("rect").style("opacity",function(){var e=d3.select(this).style("opacity");return d3.select(this).classed("cat_strings")&&d3.select(this).classed("filtered_cat")===!1&&(e=t.viz.cat_colors.opacity),e})})}},function(t,e){"use strict";t.exports=function(t,e,r,o){function n(t){"string"==typeof t&&t.indexOf(i)>-1&&(t=t.split(i)[1]);var e=parseFloat(t);return e}var a=!(arguments.length<=4||void 0===arguments[4])&&arguments[4],i=": ",s=t.cat_info[e][o].type;"cat_strings"===s?a?r.classed("cat_strings",!0).style("opacity",0).transition().duration(1e3).style("opacity",t.cat_colors.opacity):r.classed("cat_strings",!0).style("opacity",t.cat_colors.opacity):r.classed("cat_values",!0).style("opacity",function(r){var a=r[o],i=n(a);return t.cat_info[e][o].cat_scale(Math.abs(i))}).style("fill",function(e){var r,a=n(e[o]);return r=a>0?t.cat_value_colors[0]:t.cat_value_colors[1]})}},function(t,e,r){"use strict";var o=r(118);t.exports=function(t,e,r,n){function a(t,e,r){d3.selectAll(i.root+" ."+t+"_cat_group").selectAll("rect").style("opacity",function(t){var o=d3.select(this).style("opacity");if(d3.select(this).classed("cat_strings")){var n,a=d3.select(this).attr("cat");n=t[a],a===e&&n===r&&(o=1,d3.select(this).classed("filtered_cat",!0))}return o})}var i=t.params,s=d3.select(r).attr("cat"),l=e[s],c=o(i,e,r,n),d={row:"col",col:"row"},u=d[n],_={};if(_[n]=c,t.params.cat_filter[n]===!1){if(t.params.dendro_filter.row===!1&&t.params.dendro_filter.col===!1&&t.params.cat_filter[u]===!1){var p=t.params.network_data.col_nodes_names,f=t.params.network_data.row_nodes,v=t.params.network_data.col_nodes;t.filter_viz_using_names(_),t.params.inst_nodes.row_nodes=f,t.params.inst_nodes.col_nodes=v,t.params.cat_filter[n]=p,a(n,s,l)}}else _=t.params.cat_filter[n],t.filter_viz_using_names(_),t.params.cat_filter[n]=!1,d3.selectAll(i.root+" ."+n+"_cat_group").selectAll("rect").classed("filtered_cat",!1)}},function(t,e,r){"use strict";var o=r(2);t.exports=function(t,e,r,n){var a=d3.select(r).attr("cat"),i=e[a],s=t.network_data[n+"_nodes"],l=_.filter(s,function(t){return t[a]==i}),c=o.pluck(l,"name");return c}},function(t,e,r){"use strict";var o=r(114),n=r(49),a=r(115),i=r(116),s=r(117),l=r(118);t.exports=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=t.params;d3.select(r.root+" .row_cat_outer_container").empty()?d3.select(r.root+" .row_container").append("g").attr("class","row_cat_outer_container").attr("transform","translate("+r.viz.norm_labels.width.row+",0)").append("g").attr("class","row_cat_container"):d3.select(r.root+" .row_container").select("row_cat_outer_container").attr("transform","translate("+r.viz.norm_labels.width.row+",0)"),d3.select(r.root+" .row_cat_container").select(".white_bars").empty()?d3.select(r.root+" .row_cat_container").append("rect").attr("class","white_bars").attr("fill",r.viz.background_color).attr("width",r.viz.cat_room.row+"px").attr("height",function(){var t=r.viz.clust.dim.height;return t}):d3.select(r.root+" .row_cat_container").select(".white_bars").attr("fill",r.viz.background_color).attr("width",r.viz.cat_room.row+"px").attr("height",function(){var t=r.viz.clust.dim.height;return t});var c=n().attr("class",function(){var t=r.viz.root_tips.replace(".",""),e=t+" d3-tip row_cat_tip";return e}).direction("e").offset([5,0]).style("display","none").html(function(t){return o(r,t,this,"row")}),d=d3.select(r.root+" .row_cat_container").selectAll("g").data(r.network_data.row_nodes,function(t){return t.name}).enter().append("g").attr("class","row_cat_group").attr("transform",function(t){var e=_.indexOf(r.network_data.row_nodes_names,t.name);return"translate(0, "+r.viz.y_scale(e)+")"});d3.select(r.root+" .row_cat_container").selectAll(".row_cat_group").call(c),d.append("path").attr("d",function(){var t=r.viz.cat_room.symbol_width-1,e=0,o=1,n=r.viz.y_scale.rangeBand()/2,a=r.viz.cat_room.symbol_width-1,i=r.viz.y_scale.rangeBand(),s="M "+t+","+e+" L "+o+","+n+", L "+a+","+i+" Z";return s}).attr("fill","#eee").style("opacity",r.viz.triangle_opacity);var u,p;d3.selectAll(r.root+" .row_cat_group rect").remove(),r.viz.show_categories.row&&d3.selectAll(r.root+" .row_cat_group").each(function(){p=this,_.each(r.viz.all_cats.row,function(o){var n=parseInt(o.split("-")[1],10),s="row_cat_rect_"+String(n);u=d3.select(p).select("."+s).empty()?d3.select(p).append("rect").attr("class",s).attr("cat",o):d3.select(p).select("."+s),u.attr("width",r.viz.cat_room.symbol_width).attr("height",r.viz.y_scale.rangeBand()).style("fill",function(t){var e=t[o],n=r.viz.cat_colors.row[o][e];return n}).attr("x",function(){var t=r.viz.cat_room.symbol_width+r.viz.uni_margin/2;return t+"px"}).attr("transform",function(){var t=r.viz.cat_room.symbol_width+r.viz.cat_room.separation,e=n*t;return"translate("+e+",0)"}).on("click",function(e){if(d3.select(this).classed("cat_strings"))if(d3.event.shiftKey===!0)f(t,e,this,"row");else{var o=l(r,e,this,"row");$(r.root+" .dendro_info").modal("toggle");var n=o.join(", ");d3.select(r.root+" .dendro_info input").attr("value",n)}}).on("mouseover",c.show).on("mouseout",function(){c.hide(this),a(r),d3.select(this).classed("hovering",!1),d3.selectAll(".d3-tip").style("display","none")}),i(r.viz,"row",u,o,e)})});var f=_.debounce(s,1500)}},function(t,e,r){"use strict";var o=r(55);t.exports=function(t){var e=t.params,r=e.viz.dendro_room.row+e.viz.uni_margin,n=e.viz.clust.margin.left+e.viz.clust.dim.width,a=e.viz.clust.margin.top;d3.select(e.root+" .row_dendro_outer_container").empty()?(d3.select(e.root+" .viz_svg").append("g").attr("class","row_dendro_outer_container").attr("transform","translate("+n+","+a+")"),d3.select(e.root+" .row_dendro_outer_container").append("rect").classed("row_dendro_spillover",!0).attr("fill",e.viz.background_color).attr("width",r+"px").attr("height",e.viz.svg_dim.height),d3.select(e.root+" .row_dendro_outer_container").append("g").attr("class","row_dendro_container").attr("transform","translate("+e.viz.uni_margin/2+",0)")):(d3.select(e.root+" .viz_svg").select("row_dendro_outer_container").attr("transform","translate("+n+","+a+")"),d3.select(e.root+" .row_dendro_outer_container").select(".row_dendro_spillover").attr("width",r+"px").attr("height",e.viz.svg_dim.height)),o(t,"row",!1),"clust"!=e.viz.inst_order.col&&d3.selectAll(e.root+" .row_dendro_group").remove()}},function(t,e,r){"use strict";var o=r(55);t.exports=function(t){var e=t.params,r=e.viz.clust.margin.left,n=e.viz.clust.margin.top+e.viz.clust.dim.height,a=e.viz.dendro_room.col+e.viz.uni_margin;d3.select(e.root+" .col_dendro_outer_container").empty()?(d3.select(e.root+" .viz_svg").append("g").attr("class","col_dendro_outer_container").attr("transform","translate("+r+","+n+")"),d3.select(e.root+" .col_dendro_outer_container").append("rect").classed("col_dendro_spillover",!0).attr("fill",e.viz.background_color).attr("width",e.viz.svg_dim.width).attr("height",a+"px"),d3.select(e.root+" .col_dendro_outer_container").append("g").attr("class","col_dendro_container").attr("transform","translate(0,"+e.viz.uni_margin/2+")"),d3.select(e.root+" .col_dendro_outer_container").append("rect").classed("col_dendro_spillover_top",!0).attr("fill",e.viz.background_color).attr("width",e.viz.svg_dim.width).attr("height",e.viz.svg_dim.height).attr("transform","translate(0,"+e.viz.dendro_room.col+")")):(d3.select(e.root+" .viz_svg").select("col_dendro_outer_container").attr("transform","translate("+r+","+n+")"),d3.select(e.root+" .col_dendro_outer_container").select(".col_dendro_spillover").attr("width",e.viz.svg_dim.width).attr("height",a+"px")),o(t,"col",!1),"clust"!=e.viz.inst_order.row&&d3.selectAll(e.root+" .col_dendro_group").remove()}},function(t,e,r){"use strict";var o=r(123);t.exports=function(t){o(t,"row"),o(t,"col")}},function(t,e,r){"use strict";var o=r(124),n=r(112);t.exports=function(t,e){function r(){t.params.is_slider_drag=!0;var r=d3.event.y;r<0&&(r=0),r>i&&(r=i),this.nextSibling&&this.parentNode.appendChild(this),r=d3.round(r,-1);var n=10-r/10;d3.select(this).attr("transform","translate(0, "+r+")"),o(t,e,n)}function a(){var r=d3.mouse(this),n=d3.round(r[1],-1);d3.select(t.params.root+" ."+e+"_group_circle").attr("transform","translate(0, "+n+")");var a=10-n/10;o(t,e,a)}var i=100,s=d3.behavior.drag().on("drag",r).on("dragend",function(){t.params.is_slider_drag=!1}),l=d3.select(t.params.root+" .viz_svg").append("g").classed(e+"_slider_group",!0);n(t,e);var c=i+20,d=30;l.append("rect").classed(e+"_slider_background",!0).attr("height",c+"px").attr("width",d+"px").attr("fill",t.params.viz.background_color).attr("transform",function(){var t="translate(-10, -5)";return t}).style("opacity",0),l.append("line").style("stroke-width",i/7+"px").style("stroke","black").style("stroke-linecap","round").style("opacity",0).attr("y1",0).attr("y2",function(){return i-2}).on("click",a);var u=-i/40;l.append("path").style("fill","black").attr("transform","translate("+u+", 0)").attr("d",function(){var t=0,e=0,r=0,o=i,n=i/10,a=0,s="M"+t+","+e+", L"+r+", "+o+", L"+n+","+a+" Z";return s}).style("opacity",.35).on("click",a);var _=.35,p=.6;l.append("circle").classed(e+"_group_circle",!0).attr("r",.08*i).attr("transform",function(){return"translate(0, "+i/2+")"}).style("fill","blue").style("opacity",_).on("mouseover",function(){d3.select(this).style("opacity",p)}).on("mouseout",function(){d3.select(this).style("opacity",_)}).call(s)}},function(t,e,r){"use strict";var o=r(55);t.exports=function(t,e,r){var n=t.params;"row"===e?n.group_level.row=r:"col"===e&&(n.group_level.col=r);var a=!0;o(t,e,a)}},function(t,e,r){"use strict";var o=r(60);t.exports=function(t){var e=t.params.viz,r=e.clust.margin.left+e.clust.dim.width+e.uni_margin+e.dendro_room.row,n=d3.select(e.viz_svg).append("g").classed("right_spillover_container",!0).attr("transform",function(){return"translate("+r+", 0)"}),a=e.norm_labels.margin.top+e.norm_labels.width.col;n.append("rect").attr("fill",e.background_color).attr("width",10*e.clust.dim.width).attr("height",e.svg_dim.height+"px").attr("class","white_bars").attr("class","right_spillover").attr("transform",function(){return"translate( 0,"+a+")"});var i=0,s=e.clust.margin.top;n.append("g").classed("row_dendro_icons_container",!0).attr("transform","translate("+i+","+s+")").append("g").classed("row_dendro_icons_group",!0),o(t,"row"),i=e.clust.margin.left+e.clust.dim.width,s=a;var l=e.dendro_room.row+e.uni_margin,c=e.cat_room.col+e.uni_margin;d3.select(e.viz_svg).append("rect").attr("fill",e.background_color).attr("width",l).attr("height",c).attr("transform",function(){return"translate("+i+","+s+")"}).classed("white_bars",!0).classed("dendro_row_spillover",!0)}},function(t,e,r){"use strict";var o=r(127),n=r(128),a=r(130),i=r(131),s=r(133),l=r(134),c=r(136),d=r(137),u=r(159),_=r(160),p=r(161),f=r(162),v=r(163),h=r(164);t.exports=function(){var t=this,e=t.params;if(d3.select(e.root+" .running_demo").empty()){d3.select(e.root+" .play_button").classed("running_demo",!0),v(e,!1),$.blockUI({css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:0,color:"#fff",cursor:"default"}}),d3.selectAll(".blockUI").style("opacity",0);var r=750;t.params.viz.is_expand===!1&&(r=o(e,r,u),r-=1500),r=o(e,r,n),r=o(e,r,a),r=o(e,r,i),r=o(e,r,p),r=o(e,r,s),r=o(e,r,h),r=o(e,r,_),r=o(e,r,l),r=o(e,r,c),r=o(t,r,d),r=o(e,r,u),r=o(e,r,f)}}},function(t,e){"use strict";t.exports=function(t,e,r){var o=(setTimeout(r().run,e,t),r().get_duration());return e+=o}},function(t,e,r){"use strict";var o=r(129);t.exports=function(){function t(t){var e="Clustergrammer allows users to generate\ninteractive and sharable visualizations\nby uploading a matrix",n="This demo will quickly overview some\nof Clustergrammer's interactive features";setTimeout(o,0,t,e,4500/r),setTimeout(o,4500/r,t,n,4500/r)}function e(){return 1e4/r}var r=1;return{run:t,get_duration:e}}},function(t,e){"use strict";t.exports=function(t,e,r){var o=e.split("\n");o.length<3&&o.push(""),d3.select(t.root+" .demo_group").style("opacity",0).transition().duration(250).style("opacity",1).transition().duration(250).delay(r).style("opacity",0);for(var n=0;n<o.length;n++){var a=n+1,i=d3.select(t.root+" .demo_group").select("#text_"+a).text(o[n]),s=i[0][0].getBBox(),l=.9,c=Number(d3.select(".demo_group").select("text").style("font-size").replace("px","")),d=1.3*c;d3.select(t.root+" .demo_group").select(".rect_"+a).style("fill","white").attr("width",s.width+20).attr("height",s.height).attr("x",-10).attr("y",s.y+n*d).style("opacity",l)}}},function(t,e,r){"use strict";var o=r(129),n=r(94);t.exports=function(){function t(t){var e="Zoom and pan by\nscrolling and dragging";o(t,e,4e3),setTimeout(n,1500,t,0,0,4)}function e(){return 4e3}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var o=r(129),n=r(94),a=r(132);t.exports=function(){function t(t){var e="Reset zoom by double-clicking\n";o(t,e,4e3),setTimeout(a,2e3,t,"double",300,300),setTimeout(n,2400,t,0,0,1)}function e(){return 4500}return{run:t,get_duration:e}}},function(t,e){"use strict";t.exports=function(t,e,r,o){var n=200,a=d3.select(t.root+" .viz_svg").append("circle").attr("cx",r).attr("cy",o).attr("r",25).style("stroke","black").style("stroke-width","3px").style("fill","#007f00").style("opacity",.5);"double"===e?a.transition().duration(n).style("opacity",0).transition().duration(50).style("opacity",.5).transition().duration(n).style("opacity",0).remove():a.transition().duration(n).style("opacity",0).transition().duration(250).remove()}},function(t,e,r){"use strict";var o=r(129),n=r(132);t.exports=function(){function t(t){var e="Reorder the matrix based on a single\nrow or column by double-clicking a\nlabel";o(t,e,7e3);var i=r(t,"EGFR"),s=d3.select(i).attr("transform"),l=d3.select(t.root+" .clust_container").attr("transform").split(",")[1].replace(")",""),c=.9*t.viz.norm_labels.width.row,d=s.split(",")[1].replace(")",""),u=String(Number(d)+Number(l)+t.viz.rect_height/2),_=4e3;setTimeout(n,_,t,"double",c,u);var p=_+300;setTimeout(a,p,t,i)}function e(){return 8e3}function r(t,e){var r=d3.selectAll(t.root+" .row_label_group").filter(function(){var t=this.__data__;return t.name==e})[0][0];return r}function a(t,e){$(e).d3DblClick()}return jQuery.fn.d3DblClick=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("dblclick",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var o=r(129),n=r(135);t.exports=function(){function t(t){var e="Reorder all rows and columns\nby clicking the reorder\n buttons";o(t,e,9e3),setTimeout(n,3e3,t,"toggle_col_order"),setTimeout(r,3500,t,"col","rank"),setTimeout(n,7e3,t,"toggle_row_order"),setTimeout(r,7500,t,"row","rank")}function e(){return 11e3}function r(t,e,r){var o=d3.selectAll(".toggle_"+e+"_order .btn").filter(function(){return this.__data__==r})[0];$(o).click()}return{run:t,get_duration:e}}},function(t,e){"use strict";t.exports=function(t,e){var r=arguments.length<=2||void 0===arguments[2]?4e3:arguments[2];e.indexOf("slider")<0?d3.select(t.root+" ."+e).style("background","#007f00").style("box-shadow","0px 0px 10px 5px #007f00").transition().duration(1).delay(r).style("background","#FFFFFF").style("box-shadow","none"):d3.select(t.root+" ."+e).style("box-shadow","0px 0px 10px 5px #007f00").transition().duration(1).delay(r).style("box-shadow","none")}},function(t,e,r){"use strict";var o=r(129),n=r(135),a=r(94);t.exports=function(){function t(t){var e="Search for rows using\nthe search box";o(t,e,5e3);var s=2500;setTimeout(n,s,t,"gene_search_container"),setTimeout(r,s+1e3,t,"E"),setTimeout(r,s+1500,t,"EG"),setTimeout(r,s+2e3,t,"EGF"),setTimeout(r,s+2500,t,"EGFR"),setTimeout(i,5500,t),setTimeout(a,7500,t,0,0,1)}function e(){return 1e4}function r(t,e){$(t.root+" .gene_search_box").val(e),$(t.root+" .gene_search_box").autocomplete("search",e)}function i(t){$(t.root+" .submit_gene_button").click(),$(t.root+" .gene_search_box").autocomplete("search","")}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var o=r(129),n=r(135),a=r(138);t.exports=function(){function t(t){var e=t.params,a="Filter rows based on sum or\nvariance using the sliders";o(e,a,4e3);var i="N_row_sum";setTimeout(n,5e3,e,"slider_"+i,13e3),a="Filter: Top 20 rows by sum",setTimeout(o,5e3,e,a,4e3),setTimeout(r,5300,t,i,20,1),a="Filter: Top 10 rows by sum",setTimeout(o,1e4,e,a,4e3),setTimeout(r,10300,t,i,10,2),a="Filter: All rows",setTimeout(o,15e3,e,a,4e3),setTimeout(r,15300,t,i,"all",0)}function e(){return 19500}function r(t,e,r,o){var n=t.params,i={};i[e]=r,a(t,i),$(n.root+" .slider_"+e).slider("value",o);var s;s="N_row_sum"===e?"sum":"variance",d3.select(n.root+" .title_"+e).text("Top rows "+s+": "+r)}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var o=r(10),n=r(139),a=r(140);t.exports=function(t,e){n(t.params);var r=o(t.config,t.params,e);d3.select(t.params.root+" .crop_button").style("color","#337ab7").classed("fa-crop",!0).classed("fa-undo",!1).classed("active_cropping",!1),_.each(["row","col"],function(e){d3.select(t.params.root+" ."+e+"_dendro_icons_group").classed("ran_filter",!1),d3.select(t.params.root+" ."+e+"_dendro_icons_container").style("display","block")}),a(t,r)}},function(t,e){"use strict";t.exports=function(t){console.log("improve sidebar disable"),d3.selectAll(t.root+" .btn").attr("disabled",!0),d3.select(t.viz.viz_svg).style("opacity",.7)}},function(t,e,r){"use strict";var o=r(9),n=r(141),a=r(142),i=r(81),s=r(113),l=r(119),c=r(120),d=r(121),u=r(153),_=r(155),p=r(93),f=r(156),v=r(80),h=r(157),m=r(83);t.exports=function(t,e){null!=t.params.matrix_update_callback&&t.params.matrix_update_callback();var r=t.params.group_level,g=t.params.crop_filter_nodes,w=jQuery.extend(!0,{},t.config),y=null;null!=t.params.new_cat_data&&(h(t.params.new_cat_data,e.row_nodes),y=t.params.new_cat_data),w.network_data=e,w.inst_order=t.params.viz.inst_order,w.input_domain=t.params.matrix.opacity_scale.domain()[1],f(w,t.params),w.ini_expand=!1,w.ini_view=null,w.current_col_cat=t.params.current_col_cat,w.cat_colors=t.params.viz.cat_colors;var b=o(w),x=n(t.params,b);t.params=b,t.params.zoom_behavior=d3.behavior.zoom().scaleExtent([1,t.params.viz.real_zoom*t.params.viz.zoom_switch]).on("zoom",function(){m(t)}),null!=y&&(t.params.new_cat_data=y),t.params.group_level=r,t.params.crop_filter_nodes=g,a(t,e,x),l(t),v(t),t.params.viz.show_categories.col&&s(t),t.params.viz.show_dendrogram&&(c(t),d(t)),i(t),d3.select(t.params.viz.viz_svg).call(t.params.zoom_behavior),p(t.params),u(t),t.params.viz.run_trans=!0,setTimeout(_,2500,t.params)}},function(t,e){"use strict";t.exports=function(t,e){function r(){d3.select(e.viz.viz_svg).transition().duration(250).style("opacity",1)}var o=t.network_data.row_nodes,n=t.network_data.col_nodes,a=_.map(o,function(t){return t.name}),i=_.map(n,function(t){return t.name}),s=a.concat(i),l=e.network_data.row_nodes,c=e.network_data.col_nodes,d=_.map(l,function(t){return t.name}),u=_.map(c,function(t){return t.name}),p=d.concat(u),f=_.difference(s,p).length,v=_.difference(p,s).length,h={};f>0?h.update=1e3:h.update=0,v>0?h.enter=1e3:h.enter=0,h.enter=h.enter+h.update,h.run_transition=!0;var m=t.network_data.links.length,g=e.network_data.links.length,w=.5*e.matrix.def_large_matrix;return(m>w||g>w)&&(h.run_transition=!1,h.update=0,h.enter=0),d3.select(e.viz.viz_svg).style("opacity",.7),setTimeout(r,h.enter),h}},function(t,e,r){"use strict";var o=r(143),n=r(50),a=r(72),i=r(144),s=r(148),l=r(39),c=r(149),d=r(152),u=r(95),p=r(49);t.exports=function(t,e,r){var f=t.params;d3.selectAll(f.viz.root_tips).remove();var v=p().attr("class",function(){var t=f.viz.root_tips.replace(".",""),e=t+" d3-tip tile_tip";return e}).direction("nw").offset([0,0]).style("display","none").html(function(t){var e,r=String(t.value.toFixed(3));if(f.keep_orig){var o=String(t.value_orig.toFixed(3));e="<p>"+t.row_name+" and "+t.col_name+"</p><p> normalized value: "+r+"</p><div> original value: "+o+"</div>"}else e="<p>"+t.row_name+" and "+t.col_name+"</p><div> value: "+r+"</div>";return e});d3.select(f.root+" .clust_group").call(v),d(f);for(var h=f.network_data.row_nodes_names,m=1e3,g=e.row_nodes,w=e.col_nodes,y=e.links,b=y,x=0;x<b.length;x++){var z=b[x];b[x].name=g[z.source].name+"_"+w[z.target].name}var k=d3.select(f.root+" .clust_group").selectAll(".row").data(f.matrix.matrix,function(t){return t.name});r.run_transition?k.transition().delay(r.update).duration(m).attr("transform",function(t){var e=_.indexOf(h,t.name);return"translate(0,"+f.viz.y_scale(e)+")"}):k.attr("transform",function(t){var e=_.indexOf(h,t.name);return"translate(0,"+f.viz.y_scale(e)+")"}),d3.select(f.root+" .clust_group").selectAll(".row").each(function(t){var e=this;i(f,t,r,m,e,v)}),d3.selectAll(f.root+" .horz_lines").remove(),d3.selectAll(f.root+" .vert_lines").remove(),s(f,r,m),o(t,g,w,y,m,r),c(f,r,m,v),n(t,m),a(t,m),l(f,r,m),setTimeout(u,2e3,f)}},function(t,e,r){"use strict";var o=r(2),n=r(28),a=r(25),i=r(27),s=r(96),l=r(97),c=r(98),d=r(99),u=r(101),p=r(103),f=r(104),v=r(105),h=r(106),m=r(107),g=r(110),w=r(35),y=r(34),b=r(68),x=r(36);t.exports=function(t,e,r,z,k,A){var O=t.params;O.zoom_info=x(),b(O),setTimeout(b,2200,O,O.zoom_info);var E=O.network_data.row_nodes_names;s(O),O=a(O),O.viz=i(O.viz),O.viz=n(O.viz),O.sim_mat&&(O.viz.clust.dim.width<=O.viz.clust.dim.height?O.viz.clust.dim.height=O.viz.clust.dim.width:O.viz.clust.dim.width=O.viz.clust.dim.height),O.viz=y(O.viz),O.viz.x_scale.rangeBands([0,O.viz.clust.dim.width]),O.viz.y_scale.rangeBands([0,O.viz.clust.dim.height]),O.viz.real_zoom=O.viz.norm_labels.width.col/(O.viz.x_scale.rangeBand()/2),O.zoom_behavior.scaleExtent([1,O.viz.real_zoom*O.viz.zoom_switch]),O.viz.border_width.x=O.viz.x_scale.rangeBand()/O.viz.border_fraction,O.viz.border_width.y=O.viz.y_scale.rangeBand()/O.viz.border_fraction,O=w(O);var T=d3.select(O.viz.viz_wrapper).select("svg");T.select(O.root+" .grey_background").transition().delay(A.update).duration(k).attr("width",O.viz.clust.dim.width).attr("height",O.viz.clust.dim.height),u(O,T,A),T.selectAll(".row_label_group").select("text").style("font-size",O.labels.default_fs_row+"px").text(function(t){return o.normal_name(t)}),T.selectAll(".row_label_group").each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",t.x).attr("y",0).attr("width",t.width).attr("height",O.viz.y_scale.rangeBand()).style("fill","yellow").style("opacity",function(t){var e=0;return 1===t.target&&(e=1),e})}),p(O,T,A),A.run_transition?(T.selectAll(".row_label_group").select("text").transition().delay(A.update).duration(k).attr("y",.5*O.viz.rect_height+.35*O.labels.default_fs_row),T.selectAll(".row_cat_group").data(e,function(t){return t.name}).transition().delay(A.update).duration(k).attr("transform",function(t){var e=_.indexOf(E,t.name);return"translate(0, "+O.viz.y_scale(e)+")"}),T.selectAll(".row_cat_group").select("path").transition().delay(A.update).duration(k).attr("d",function(){var t=O.viz.cat_room.symbol_width-1,e=0,r=1,o=O.viz.y_scale.rangeBand()/2,n=O.viz.cat_room.symbol_width-1,a=O.viz.y_scale.rangeBand(),i="M "+t+","+e+" L "+r+","+o+", L "+n+","+a+" Z";return i}),T.selectAll(".row_dendro_group").data(e,function(t){return t.name}).transition().delay(A.update).duration(k).attr("transform",function(t){var e=_.indexOf(E,t.name);return"translate(0, "+O.viz.y_scale(e)+")"})):(T.selectAll(".row_label_group").select("text").attr("y",.5*O.viz.rect_height+.35*O.labels.default_fs_row),T.selectAll(".row_cat_group").data(e,function(t){return t.name}).attr("transform",function(t){var e=_.indexOf(E,t.name);return"translate(0, "+O.viz.y_scale(e)+")"}),T.selectAll(".row_cat_group").select("path").attr("d",function(){var t=O.viz.cat_room.symbol_width-1,e=0,r=1,o=O.viz.y_scale.rangeBand()/2,n=O.viz.cat_room.symbol_width-1,a=O.viz.y_scale.rangeBand(),i="M "+t+","+e+" L "+r+","+o+", L "+n+","+a+" Z";return i}),T.selectAll(".row_dendro_group").data(e,function(t){return t.name}).attr("transform",function(t){var e=_.indexOf(E,t.name);return"translate(0, "+O.viz.y_scale(e)+")"})),o.has(O.network_data.row_nodes[0],"value")&&g(t,T),f(O,T,A),v(O,T),h(O,T,A),m(O,T,A),l(O,T,A),c(O,T,A),d(O.viz,T,A),O.zoom_behavior.scale(1).translate([O.viz.clust.margin.left,O.viz.clust.margin.top])}},function(t,e,r){"use strict";var o=r(145),n=r(146),a=r(147),i=r(46),s=r(47),l=r(48);t.exports=function(t,e,r,c,d,u){var p=e.row_data,f=_.filter(p,function(t){return 0!=t.value}),v=d3.select(d).selectAll(".tile").data(f,function(t){return t.col_name});o(t,r,v,p,d);var h=v.on("mouseover",function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];i(t,this,u,r)}).on("mouseout",function(){s(t,this,u)}),m=t.network_data.col_nodes_names;r.run_transition?h.transition().delay(r.update).duration(c).attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).attr("transform",function(e){if(_.contains(m,e.col_name))return l(t,e)}):h.attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).attr("transform",function(e){if(_.contains(m,e.col_name))return l(t,e)}),"updn"==t.matrix.tile_type&&a(t,p,d,r,c,v,u),n(t,r,c,v,u)}},function(t,e){"use strict";t.exports=function(t,e,r,o,n){if(e.run_transition?r.exit().transition().duration(300).attr("fill-opacity",0).remove():r.exit().attr("fill-opacity",0).remove(),"updn"==t.matrix.tile_type){var a=_.filter(o,function(t){return 0!=t.value_up||0!=t.value_dn}),i=d3.select(n).selectAll(".tile_up").data(a,function(t){return t.col_name});e.run_transition?i.exit().transition().duration(300).attr("fill","0").remove():i.exit().attr("fill",0).remove();var s=d3.select(n).selectAll(".tile_dn").data(a,function(t){return t.col_name});e.run_transition?s.exit().transition().duration(300).attr("fill",0).remove():s.exit().attr("fill",0).remove()}}},function(t,e,r){"use strict";var o=r(46),n=r(47),a=r(48);t.exports=function(t,e,r,i,s){var l=i.enter().append("rect").attr("class","tile row_tile").attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).on("mouseover",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o(t,this,s,r)}).on("mouseout",function(){n(t,this,s)}).attr("fill-opacity",0).attr("transform",function(e){return a(t,e)});e.run_transition?l.transition().delay(e.enter).duration(r).style("fill",function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).attr("fill-opacity",function(e){var r=t.matrix.opacity_scale(Math.abs(e.value));return r}):l.style("fill",function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).attr("fill-opacity",function(e){var r=t.matrix.opacity_scale(Math.abs(e.value));return r}),l.each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}},function(t,e,r){"use strict";var o=r(44),n=r(45),a=r(46),i=r(47),s=r(48);t.exports=function(t,e,r,l,c,d,u){var p=_.filter(e,function(t){return 0!=t.value_up||0!=t.value_dn}),f=d3.select(r).selectAll(".tile_up").data(p,function(t){return t.col_name}),v=f.on("mouseover",function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];a(t,this,u,r)}).on("mouseout",function(){i(t,this,u)});l.run_transition?v.transition().delay(l.update).duration(c).attr("d",function(){return o(t)}).attr("transform",function(e){return s(t,e)}):v.attr("d",function(){return o(t)}).attr("transform",function(e){return s(t,e)});var h=d3.select(r).selectAll(".tile_dn").data(p,function(t){return t.col_name}),m=h.on("mouseover",function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];a(t,this,u,r)}).on("mouseout",function(){i(t,this,u)});l.run_transition?m.transition().delay(l.update).duration(c).attr("d",function(){return n(t)}).attr("transform",function(e){
return s(t,e)}):m.attr("d",function(){return n(t)}).attr("transform",function(e){return s(t,e)}),d.selectAll(".tile").each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}},function(t,e){"use strict";t.exports=function(t,e,r){var o=t.network_data.row_nodes,n=t.network_data.col_nodes,a=d3.select(t.root+" .clust_group").selectAll(".row").data(t.matrix.matrix,function(t){return t.name}).exit();e.run_transition?a.transition().duration(r).style("opacity",0).remove():a.style("opacity",0).remove(),d3.selectAll(t.root+" .row_label_group").data(o,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_label_group").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .row_cat_group").data(o,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .row_dendro_group").data(o,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_label_text").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .horz_lines").data(o,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .vert_lines").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_cat_group").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_dendro_group").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove()}},function(t,e,r){"use strict";var o=r(150);t.exports=function(t,e,r,n){var a=t.network_data.row_nodes_names,i=d3.select(t.root+" .clust_group").selectAll(".row").data(t.matrix.matrix,function(t){return t.name}).enter().append("g").attr("class","row").attr("transform",function(e){var r=_.indexOf(a,e.name);return"translate(0,"+t.viz.y_scale(r)+")"});i.each(function(a){o(t,a,e,r,n,this)})}},function(t,e,r){"use strict";var o=r(151),n=r(46),a=r(47),i=r(48);t.exports=function(t,e,r,s,l,c){var d=e.row_data,u=_.filter(d,function(t){return 0!==t.value}),p=d3.select(c).selectAll("rect").data(u,function(t){return t.col_name}).enter().append("rect").attr("class","tile row_tile").attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).style("fill",function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).on("mouseover",function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];n(t,this,l,r)}).on("mouseout",function(){a(t,this,l)});p.style("fill-opacity",0).transition().delay(r.enter).duration(s).style("fill-opacity",function(e){var r=t.matrix.opacity_scale(Math.abs(e.value));return r}),p.attr("transform",function(e){return i(t,e)}),"updn"==t.matrix.tile_type&&o(t,d,c,l,r,s,p)}},function(t,e,r){"use strict";var o=r(44),n=r(45),a=r(48);t.exports=function(t,e,r,i,s,l,c){var d=_.filter(e,function(t){return 0!=t.value_up||0!=t.value_dn}),u=d3.select(r).selectAll(".tile_up").data(d,function(t){return t.col_name}).enter().append("path").attr("class","tile_up").attr("d",function(){return o(t)}).attr("transform",function(e){return a(t,e)}).style("fill",function(){return t.matrix.tile_colors[0]}).on("mouseover",function(e){d3.selectAll(t.root+" .row_label_group text").classed("active",function(t){return e.row_name===t.name}),d3.selectAll(t.root+" .col_label_text text").classed("active",function(t){return e.col_name===t.name}),t.matrix.show_tile_tooltips&&i.show(e)}).on("mouseout",function(){d3.selectAll(t.root+" text").classed("active",!1),t.matrix.show_tile_tooltips&&i.hide()});u.style("fill-opacity",0).transition().delay(s.enter).duration(l).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_dn)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_up))),r});var p=d3.select(r).selectAll(".tile_dn").data(d,function(t){return t.col_name}).enter().append("path").attr("class","tile_dn").attr("d",function(){return n(t)}).attr("transform",function(e){return a(t,e)}).style("fill",function(){return t.matrix.tile_colors[1]}).on("mouseover",function(e){d3.selectAll(t.root+" .row_label_group text").classed("active",function(t){return e.row_name===t.name}),d3.selectAll(t.root+" .col_label_text text").classed("active",function(t){return e.col_name===t.name}),t.matrix.show_tile_tooltips&&i.show(e)}).on("mouseout",function(){d3.selectAll(t.root+" text").classed("active",!1),t.matrix.show_tile_tooltips&&i.hide()});p.style("fill-opacity",0).transition().delay(s.enter).duration(l).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_up)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_dn))),r}),c.each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}},function(t,e){"use strict";t.exports=function(t){d3.select(t.root+" .clust_container").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.clust.margin.top+")"),d3.select(t.root+" .col_label_outer_container").attr("transform","translate(0,"+t.viz.norm_labels.width.col+")"),d3.select(t.root+" .col_cat_outer_container").attr("transform",function(){var e=t.viz.norm_labels.width.col+2;return"translate(0,"+e+")"})}},function(t,e,r){"use strict";var o=r(124),n=r(79),a=r(78),i=r(154);t.exports=function(t){function e(e,r,n){$("#amount").val("$"+r);var a=10*r;"both"!=n?o(t,n,a):(o(t,"row",a),o(t,"col",a))}function r(e,r){var o=2-r,n=t.params.matrix.abs_max_val*o;t.params.matrix.opacity_scale.domain([0,n]),d3.selectAll(t.params.root+" .tile").style("fill-opacity",function(e){var r=t.params.matrix.opacity_scale(Math.abs(e.value));return r})}var s=t.params,l=d3.select(s.root+" .gene_search_box")[0][0],c=new Awesomplete(l,{minChars:1,maxItems:15}),d=t.params.network_data.row_nodes_names;c.list=d,$(s.root+" .gene_search_box").keyup(function(e){if(13===e.keyCode){var r=$(s.root+" .gene_search_box").val();i(t,r,d)}}),$(s.root+" .submit_gene_button").off().click(function(){var e=$(s.root+" .gene_search_box").val();i(t,e,d)});var u;if(u=s.sim_mat?["both"]:["row","col"],_.each(u,function(r){var o=r;if("both"===o&&(o="row"),s.show_dendrogram){var a=t.params.group_level[o],i=a/10;if(d3.select(s.root+" .slider_"+r).select("#handle-one").empty()){var l=d3.slider().snap(!0).value(i).min(0).max(1).step(.1).on("slide",function(t,o){e(t,o,r)});d3.select(s.root+" .slider_"+r).call(l)}}$(s.root+" .toggle_"+r+"_order .btn").off().click(function(e){var o=$(e.target).attr("name").replace("_row","").replace("_col","");d3.selectAll(s.root+" .toggle_"+r+"_order .btn").classed("active",!1),d3.select(this).classed("active",!0),"both"!=r?n(t,o,r):(n(t,o,"row"),n(t,o,"col"))})}),a(t),d3.select(t.params.root+" .opacity_slider").select("#handle-one").empty()){var p=d3.slider().snap(!0).value(1).min(.1).max(1.9).step(.1).on("slide",function(t,e){r(t,e)});d3.select(t.params.root+" .opacity_slider").call(p)}}},function(t,e,r){"use strict";var o=r(94);t.exports=function(t,e,r){var n="name";if(r.indexOf(e)!==-1){d3.selectAll(t.params.root+" .row_label_group").select("rect").style("opacity",0);var a=_.indexOf(r,e),i=t.params.viz.y_scale(a),s=t.params.viz.clust.dim.height/2-i;o(t.params,0,s,t.params.viz.zoom_switch),t.params.zoom_info.zoom_y=t.params.viz.zoom_switch,d3.selectAll(t.params.root+" .row_label_group").filter(function(t){return t[n]===e}).select("rect").style("opacity",1)}}},function(t,e){"use strict";t.exports=function(t){t.dendro_filter.row===!1&&"clust"===t.viz.inst_order.col&&d3.select(t.root+" .row_slider_group").style("opacity",1).style("pointer-events","all"),d3.selectAll(t.root+" .toggle_row_order .btn").attr("disabled",null),t.dendro_filter.col===!1&&"clust"===t.viz.inst_order.row&&d3.select(t.root+" .col_slider_group").style("opacity",1).style("pointer-events","all"),d3.selectAll(t.root+" .toggle_col_order .btn").attr("disabled",null),d3.selectAll(t.root+" .gene_search_button .btn").attr("disabled",null),t.viz.run_trans=!1}},function(t,e){"use strict";t.exports=function(t,e){_.each(["row","col"],function(r){var o;o="row"===r?"col":"row",d3.selectAll(e.root+" .toggle_"+o+"_order .btn").filter(function(){return d3.select(this).attr("name")===t.inst_order[r]}).classed("active",!0)})}},function(t,e,r){"use strict";var o=r(158),n=r(2);t.exports=function(t,e){var r,a,i,s,l,c,d,u,p=0,f=0;_.each(e,function(e){s=e.name,s=s.toUpperCase(),p=0,o(e),_.each(t,function(t){if(r=t.cat_title,a=t.cats,l="false",f=-1,u=0,_.each(a,function(t){c=t.cat_name,i=t.members,_.contains(i,s)&&(l=c,f=u),u+=1}),n.has(t,"pval")){var o=t.pval.toExponential();d=r+": "+l+"<p> Pval "+String(o)+"</p>"}else d=r+": "+l;e["cat-"+String(p)]=d,e["cat_"+String(p)+"_index"]=f,p+=1})})}},function(t,e){"use strict";t.exports=function(t){var e=_.keys(t);_.each(e,function(e){e.indexOf("cat-")>-1&&delete t[e],e.indexOf("cat_")>-1&&delete t[e]})}},function(t,e,r){"use strict";var o=r(132);t.exports=function(){function t(t){var e=Number(d3.select(t.root+" .expand_button").attr("x").replace("px","")),a=Number(d3.select(t.root+" .expand_button").attr("y").replace("px","")),i=0,s=400;setTimeout(o,i,t,"single",e,a),setTimeout(r,s,t),setTimeout(n,1500,t)}function e(){return 3500}function r(t){$(t.root+" .expand_button").d3Click()}function n(t){a(t,"row","clust"),a(t,"col","clust")}function a(t,e,r){var o=d3.selectAll(".toggle_"+e+"_order .btn").filter(function(){return this.__data__==r})[0];$(o).click()}return jQuery.fn.d3Click=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var o=r(129),n=r(135),a=r(124);t.exports=function(){function t(t){var e="Identify row and column groups\nof varying sizes using  the\nsliders and dendrogram";o(t,e,1e4),setTimeout(n,3e3,t,"slider_col",7e3),setTimeout(r,4e3,t,"row",3),setTimeout(r,5e3,t,"row",4),setTimeout(r,6e3,t,"row",5),setTimeout(r,7e3,t,"row",6),setTimeout(r,8e3,t,"row",7),setTimeout(r,9e3,t,"row",5)}function e(){return 11e3}function r(t,e,r){$(cgm.params.root+" .slider_col").slider("value",r/10),a(cgm,e,r)}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var o=r(129),n=r(132);t.exports=function(){function t(t){var e="Row and column categories\ncan be use to reorder\nby double-clicking";o(t,e,7e3);var a=d3.selectAll(t.root+" .col_cat_super").filter(function(){return"cat-1"===this.__data__})[0],i=d3.select(".col_cat_super").attr("transform"),s=Number(i.split("(")[1].split(",")[0].replace(")",""))+20,l=Number(i.split(",")[1].replace(")","")),c=4e3;setTimeout(n,c,t,"double",s,l);var d=c+300;setTimeout(r,d,t,a)}function e(){return 8e3}function r(t,e){$(e).d3DblClick()}return jQuery.fn.d3DblClick=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("dblclick",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var o=r(129),n=r(163);t.exports=function(){function t(t){var r="Clustergrammer is built with gene\nexpression data in mind and interfaces\nwith several Ma'ayan lab web tools",n="The example data being visualized is\ngene expression data obtained from the\nCancer Cell Line Encyclopedia",a="For more information please view\nthe help documentation";setTimeout(o,0,t,r,4500),setTimeout(o,4500,t,n,4500),setTimeout(o,9e3,t,a,4500),setTimeout(e,14e3,t)}function e(t){d3.select(t.root+" .play_button").classed("running_demo",!1),n(t,!0)}function r(){return 12e3}return{run:t,get_duration:r}}},function(t,e){"use strict";t.exports=function(t,e){e===!1?d3.select(t.root+" .play_button").transition().duration(500).style("opacity",0):(d3.select(t.root+" .play_button").transition().duration(500).style("opacity",1),$.unblockUI())}},function(t,e,r){"use strict";var o=r(129),n=r(132);t.exports=function(){function t(t){var e="View additional controls\nby clicking the menu button";o(t,e,4e3);var a=Number(d3.select(t.root+" .expand_button").attr("x").replace("px","")),i=Number(d3.select(t.root+" .expand_button").attr("y").replace("px","")),s=3e3,l=3400;setTimeout(n,s,t,"single",a,i),setTimeout(r,l,t)}function e(){return 5e3}function r(t){$(t.root+" .expand_button").d3Click()}return jQuery.fn.d3Click=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},jQuery.fn.d3DblClick=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("dblclick",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var o=r(166),n=r(167);t.exports=function(){var t=this,e=t.params;o(t);var r=30;n(e,r)}},function(t,e,r){"use strict";var o=r(111);t.exports=function(t){var e=t.params;if(d3.select(e.root+" .play_button").empty()){var r=d3.select(e.root+" .viz_svg").append("g").classed("play_button",!0).classed("running_demo",!1);o(e),r.append("circle").style("r",45).style("fill","white").style("stroke","black").style("stroke-width","3px").style("opacity",.5),r.append("path").attr("d",function(){var t=40,e=22,r=15;return"M-"+r+",-"+e+" l "+t+","+e+" l -"+t+","+e+" z "}).style("fill","black").style("opacity",.5),r.on("mouseover",function(){d3.select(this).select("path").style("fill","red").style("opacity",1),d3.select(this).select("circle").style("opacity",1)}).on("mouseout",function(){d3.select(this).select("path").style("fill","black").style("opacity",.5),d3.select(this).select("circle").style("opacity",.5)}).on("click",function(){t.play_demo()})}}},function(t,e){"use strict";t.exports=function(t,e){if(d3.select(t.root+" .demo_group").empty()){var r=d3.select(t.root+" .clust_container").attr("transform"),o=Number(r.split("(")[1].split(",")[0]),n=Number(r.split(",")[1].replace(")","")),a=d3.select(t.root+" .viz_svg").append("g").classed("demo_group",!0).attr("transform",function(){var t=o+20,e=n+40;return"translate("+t+","+e+")"});a.append("rect").classed("rect_1",!0),a.append("rect").classed("rect_2",!0),a.append("rect").classed("rect_3",!0);var i=1.3*e;a.append("text").attr("id","text_1").attr("font-size",e+"px").attr("font-weight",1e3).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif'),a.append("text").attr("id","text_2").attr("font-size",e+"px").attr("font-weight",1e3).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("transform",function(){return"translate(0,"+String(i)+")"}),a.append("text").attr("id","text_3").attr("font-size",e+"px").attr("font-weight",1e3).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("transform",function(){return"translate(0,"+String(2*i)+")"})}}},function(t,e,r){"use strict";var o=r(11),n=r(140);t.exports=function(t){var e=o(this.config,t);n(this,e)}},function(t,e,r){"use strict";var o=r(11),n=r(140);t.exports=function(t){var e,r=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];e=r===!1?this:r;var a,i=e.params,s={};_.each(["row","col"],function(e){var r=i.inst_nodes[e+"_nodes"];if(_.has(t,e)){var o=t[e];a=$.grep(r,function(t){return $.inArray(t.name,o)>-1})}else a=r;s[e+"_nodes"]=a});var l=o(e.config,s);n(e,l)}},function(t,e,r){"use strict";var o=r(119),n=r(15),a=r(82),i=r(157);t.exports=function(t,e){var r=t.params.viz.cat_colors.col;i(e,t.params.network_data.row_nodes),i(e,t.params.inst_nodes.row_nodes),t.params=n(t.params,!1),o(t,!0),a(t),t.params.new_cat_data=e,t.params.viz.cat_colors.col=r}},function(t,e,r){"use strict";var o=r(119),n=r(15),a=r(82),i=r(157),s=r(172);t.exports=function(){var t=this,e=s(t),r=t.params.viz.cat_colors.col;i(e,t.params.network_data.row_nodes),i(e,t.params.inst_nodes.row_nodes),t.params=n(t.params,!1),o(t,!0),a(t),t.params.new_cat_data=e,t.params.viz.cat_colors.col=r}},function(t,e){"use strict";t.exports=function(t){function e(t,e,n){r={},r.cat_title=t,r.cats=[],o={},o.cat_name=e,o.members=[],o.members.push(n),r.cats.push(o),c.push(r)}var r,o,n,a,i,s=t.config.network_data.row_nodes,l=": ",c=[];return _.each(s,function(t){var r=_.keys(t);_.each(r,function(r){if(r.indexOf("cat-")>-1){i=t[r];var s=r;i=t[r];var d=t[r],u=t.name;d.indexOf(l)>-1&&(s=d.split(l)[0],i=d.split(l)[1]),0===c.length?e(s,i,u):(n=!1,_.each(c,function(t){s===t.cat_title&&(n=!0,a=!1,_.each(t.cats,function(t){i===t.cat_name&&(a=!0,t.members.push(u))}),a===!1&&(o={},o.cat_name=i,o.members=[],o.members.push(u),t.cats.push(o)))}),n===!1&&e(s,i,u))}})}),c}},function(t,e,r){"use strict";var o=r(138),n=r(174);t.exports=function(t,e){var r=this,a={};a[t]=e,o(this,a),n(r,t,e)}},function(t,e,r){"use strict";var o=r(175);t.exports=function(t,e,r){var n,a,i=t.params;d3.select(i.root+" .slider_"+e).attr("current_state",r),_.each(_.keys(i.viz.possible_filters),function(r){if(n=e.indexOf("row")>-1?"row":e.indexOf("col")>-1?"col":"neither",a=r.indexOf("row")>-1?"row":r.indexOf("col")>-1?"col":"neither",e!=r&&"neither"!=n&&n==a){var s=o(i,r);t.slider_functions[r].value(0),d3.select(i.root+" .title_"+r).text(s.text+s.state),d3.select(i.root+" .slider_"+r).attr("current_state",s.state)}});var s=o(i,e);d3.select(i.root+" .title_"+e).text(s.text+r+s.suffix)}},function(t,e,r){"use strict";var o=r(5);t.exports=function(t,e){var r={},n={},a={};return r.state=o(t.viz.filter_data,e),a.top=e.split("_")[0],a.node=e.split("_")[1],a.measure=e.split("_")[2],"row"===a.node?n.node="rows":n.node="columns","N"===a.top&&(r.suffix=""),"pct"===a.top&&(r.suffix="%"),"sum"==a.measure?n.measure="sum":"var"==a.measure&&(n.measure="variance"),"sum"===a.measure&&(r.text="Top "+n.node+" "+n.measure+": "),"var"===a.measure&&(r.text="Top "+n.node+" "+n.measure+": "),_.keys(t.viz.possible_filters).indexOf("enr_score_type")>-1&&"col"===a.node&&(r.text="Top Enriched Terms: ",r.suffix=""),r}},function(t,e,r){"use strict";var o=r(177);t.exports=function(){function t(t,e){var r=t.name,o=n.viz.all_cats[e].length;if(o>0){r="('"+r+"'";for(var a=0;a<o;a++)s="cat-"+String(a),r=r+", '"+t[s]+"'"}return r+=")"}var e,r=o(),n=this.params,a=n.matrix,i={};_.each(["row","col"],function(t){var r;r="row"===t?"col":"row",e=n.inst_order[t],i[r]=a.orders[e+"_"+t]});for(var s,l="\t",c=n.network_data.row_nodes,d=n.network_data.col_nodes,u=0;u<i.col.length;u++){var p=i.col[u],f=d[p],v=t(f,"col");u<i.col.length-1?l=l+v+"\t":l+=v}var h;l+="\n",_.each(i.row,function(e){h=a.matrix[e].row_data;var r=c[e],o=t(r,"row");l=l+o+"\t";for(var n=0;n<i.col.length;n++){var s=i.col[n];n<i.col.length-1?l=l+String(h[s].value)+"\t":l+=String(h[s].value)}l+="\n"});var m=new Blob([l],{type:"text/plain;charset=utf-8"});r(m,"clustergrammer.txt")}},function(t,e){"use strict";t.exports=function(){/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var t=t||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(t){var e=t.document,r=function(){return t.URL||t.webkitURL||t},o=t.URL||t.webkitURL||t,n=e.createElementNS("http://www.w3.org/1999/xhtml","a"),a="download"in n,i=function(r){var o=e.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(o)},s=t.webkitRequestFileSystem,l=t.requestFileSystem||s||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},d="application/octet-stream",u=0,_=[],p=function(){for(var t=_.length;t--;){var e=_[t];"string"==typeof e?o.revokeObjectURL(e):e.remove()}_.length=0},f=function(t,e,r){e=[].concat(e);for(var o=e.length;o--;){var n=t["on"+e[o]];if("function"==typeof n)try{n.call(t,r||t)}catch(a){c(a)}}},v=function(e,o){var c,p,v,h=this,m=e.type,g=!1,w=function(){var t=r().createObjectURL(e);return _.push(t),t},y=function(){f(h,"writestart progress write writeend".split(" "))},b=function(){!g&&c||(c=w(e)),p&&(p.location.href=c),h.readyState=h.DONE,y()},x=function(t){return function(){if(h.readyState!==h.DONE)return t.apply(this,arguments)}},z={create:!0,exclusive:!1};return h.readyState=h.INIT,o||(o="download"),a?(c=w(e),n.href=c,n.download=o,i(n),h.readyState=h.DONE,void y()):(t.chrome&&m&&m!==d&&(v=e.slice||e.webkitSlice,e=v.call(e,0,e.size,d),g=!0),s&&"download"!==o&&(o+=".download"),p=m===d||s?t:t.open(),l?(u+=e.size,void l(t.TEMPORARY,u,x(function(t){t.root.getDirectory("saved",z,x(function(t){var r=function(){t.getFile(o,z,x(function(t){t.createWriter(x(function(r){r.onwriteend=function(e){p.location.href=t.toURL(),_.push(t),h.readyState=h.DONE,f(h,"writeend",e)},r.onerror=function(){var t=r.error;t.code!==t.ABORT_ERR&&b()},"writestart progress write abort".split(" ").forEach(function(t){r["on"+t]=h["on"+t]}),r.write(e),h.abort=function(){r.abort(),h.readyState=h.DONE},h.readyState=h.WRITING}),b)}),b)};t.getFile(o,{create:!1},x(function(t){t.remove(),r()}),x(function(t){t.code===t.NOT_FOUND_ERR?r():b()}))}),b)}),b)):void b())},h=v.prototype,m=function(t,e){return new v(t,e)};return h.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,t.addEventListener("unload",p,!1),m}(self);return t}},function(t,e,r){"use strict";var o=r(179);t.exports=function(){function t(){d3.select(r.params.root+" .col_dendro_icons_container").style("display","none"),d3.select(r.params.root+" .row_dendro_icons_container").style("display","none");var t=c.extent(),a=t[0],i=t[1],s=a[0],l=i[0],d=a[1],u=i[1];if(s!=l&&d!=u){setTimeout(o,500,r);var _=e(s,l,d,u,a,i);r.filter_viz_using_names(_),d3.select(n.root+" .crop_button").style("color","#337ab7").classed("fa-crop",!1).classed("fa-undo",!0)}}function e(t,e,r,o,a,i){t>e&&(t=i[0],e=a[0]),r>o&&(r=i[1],o=a[1]),r-=n.viz.rect_height,t-=n.viz.rect_width;var s={};return s.row=[],s.col=[],d3.selectAll(n.root+" .row_label_group").each(function(t){var e=d3.select(this).attr("transform"),n=Number(e.split(",")[1].split(")")[0]);n>r&&n<o&&s.row.push(t.name)}),d3.selectAll(n.root+" .col_label_text").each(function(r){var o=d3.select(this).attr("transform"),n=Number(o.split(",")[0].split("(")[1]);n>t&&n<e&&s.col.push(r.name)}),s}var r=this,n=r.params,a=n.viz.clust.dim.width,i=n.viz.clust.dim.height,s=d3.scale.linear().domain([0,a]).range([0,a]),l=d3.scale.linear().domain([0,i]).range([0,i]);d3.select(n.root+" .clust_container").append("g").classed("brush_group",!0),r.params.is_cropping=!0;var c=d3.svg.brush().x(s).y(l).on("brushend",t);d3.select(n.root+" .brush_group").call(c),d3.selectAll(n.root+" .extent").style("opacity",.2).style("fill","black")}},function(t,e){"use strict";t.exports=function(t){d3.select(t.params.root+" .brush_group").transition().style("opacity",0).remove(),t.params.is_cropping=!1}},function(t,e,r){var o,n,a;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(i,s){n=[r(181)],o=s,a="function"==typeof o?o.apply(e,n):o,!(void 0!==a&&(t.exports=a))}(void 0,function(t){return function(){"use strict";function e(e){e.each(function(){function e(e){"boolean"==typeof m&&(m=t.svg.axis().ticks(Math.round(u/100)).tickFormat(z).orient("horizontal"===h?"bottom":"right")),l=s.ticks?s.copy().range([0,u]):s.copy().rangePoints([0,u],.5),m.scale(l);var r=e.append("svg").classed("d3-slider-axis d3-slider-axis-"+m.orient(),!0).on("click",O),o=r.append("g");"horizontal"===h?(r.style("margin-left",-g+"px"),r.attr({width:u+2*g,height:g}),"top"===m.orient()?(r.style("top",-g+"px"),o.attr("transform","translate("+g+","+g+")")):o.attr("transform","translate("+g+",0)")):(r.style("top",-g+"px"),r.attr({width:g,height:u+2*g}),"left"===m.orient()?(r.style("left",-g+"px"),o.attr("transform","translate("+g+","+g+")")):o.attr("transform","translate(0,"+g+")")),o.call(m)}function f(){if("array"!=a(i)){var e=Math.max(0,Math.min(u,t.event.offsetX||t.event.layerX));r(s.invert?o(s.invert(e/u)):n(e/u))}}function v(){if("array"!=a(i)){var e=u-Math.max(0,Math.min(u,t.event.offsetY||t.event.layerY));r(s.invert?o(s.invert(e/u)):n(e/u))}}function y(){"handle-one"===t.event.sourceEvent.target.id?w=1:"handle-two"==t.event.sourceEvent.target.id&&(w=2);var e=Math.max(0,Math.min(u,t.event.x));r(s.invert?o(s.invert(e/u)):n(e/u))}function A(){"handle-one"===t.event.sourceEvent.target.id?w=1:"handle-two"==t.event.sourceEvent.target.id&&(w=2);var e=u-Math.max(0,Math.min(u,t.event.y));r(s.invert?o(s.invert(e/u)):n(e/u))}function O(){t.event.stopPropagation()}s||(s=t.scale.linear().domain([_,p])),i=i||s.domain()[0];var E=t.select(this).classed("d3-slider d3-slider-"+h,!0),T=t.behavior.drag();if(T.on("dragend",function(){b.slideend(t.event,i)}),"array"==a(i)&&2==i.length?(c=E.append("a").classed("d3-slider-handle",!0).attr("xlink:href","#").attr("id","handle-one").on("click",O).call(T),k=E.append("a").classed("d3-slider-handle",!0).attr("id","handle-two").attr("xlink:href","#").on("click",O).call(T)):c=E.append("a").classed("d3-slider-handle",!0).attr("xlink:href","#").attr("id","handle-one").on("click",O).call(T),"horizontal"===h){if(E.on("click",f),"array"==a(i)&&2==i.length){d=t.select(this).append("div").classed("d3-slider-range",!0),c.style("left",x(s(i[0]))),d.style("left",x(s(i[0]))),T.on("drag",y);var N=100-parseFloat(x(s(i[1])));k.style("left",x(s(i[1]))),d.style("right",N+"%"),T.on("drag",y)}else c.style("left",x(s(i))),T.on("drag",y);u=parseInt(E.style("width"),10)}else{if(E.on("click",v),T.on("drag",A),"array"==a(i)&&2==i.length){d=t.select(this).append("div").classed("d3-slider-range-vertical",!0),c.style("bottom",x(s(i[0]))),d.style("bottom",x(s(i[0]))),T.on("drag",A);var B=100-parseFloat(x(s(i[1])));k.style("bottom",x(s(i[1]))),d.style("top",B+"%"),T.on("drag",A)}else c.style("bottom",x(s(i))),T.on("drag",A);u=parseInt(E.style("height"),10)}m&&e(E)})}function r(e){var r="array"==a(i)&&2==i.length?i[w-1]:i,n=x(s(o(r))),l=x(s(o(e))),u="horizontal"===h?"left":"bottom";if(n!==l){if("array"==a(i)&&2==i.length?(i[w-1]=e,t.event&&b.slide(t.event,i)):t.event&&b.slide(t.event.sourceEvent||t.event,i=e),i[0]>=i[1])return;if(1===w)"array"==a(i)&&2==i.length&&("left"===u?d.style("left",l):d.style("bottom",l)),v?c.transition().styleTween(u,function(){return t.interpolate(n,l)}).duration("number"==typeof v?v:250):c.style(u,l);else{var _=100-parseFloat(l),p=100-parseFloat(l);"left"===u?d.style("right",_+"%"):d.style("top",p+"%"),v?k.transition().styleTween(u,function(){return t.interpolate(n,l)}).duration("number"==typeof v?v:250):k.style(u,l)}}}function o(t){if(t===s.domain()[0]||t===s.domain()[1])return t;var e=t;if(y)e=n(s(t));else{var r=(t-s.domain()[0])%f;e=t-r,2*Math.abs(r)>=f&&(e+=r>0?f:-f)}return e}function n(t){var e=s.ticks?s.ticks():s.domain(),r=e.map(function(e){return t-s(e)}),o=-1,n=0,a=s.ticks?s.range()[1]:s.rangeExtent()[1];do o++,Math.abs(r[o])<a&&(a=Math.abs(r[o]),n=o);while(r[o]>0&&o<r.length-1);return e[n]}function a(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}var i,s,l,c,d,u,_=0,p=100,f=.01,v=!1,h="horizontal",m=!1,g=50,w=1,y=!1,b=t.dispatch("slide","slideend"),x=t.format(".2%"),z=t.format(".0"),k=null;return e.min=function(t){return arguments.length?(_=t,e):_},e.max=function(t){return arguments.length?(p=t,e):p},e.step=function(t){return arguments.length?(f=t,e):f},e.animate=function(t){return arguments.length?(v=t,e):v},e.orientation=function(t){return arguments.length?(h=t,e):h},e.axis=function(t){return arguments.length?(m=t,e):m},e.margin=function(t){return arguments.length?(g=t,e):g},e.value=function(t){return arguments.length?(i&&r(o(t)),i=t,e):i},e.snap=function(t){return arguments.length?(y=t,e):y},e.scale=function(t){return arguments.length?(s=t,e):s},t.rebind(e,b,"on"),e}})},function(t,e){t.exports=require("d3")},function(t,e,r){(function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(){function r(t){var r=Array.isArray(t)?{label:t[0],value:t[1]}:"object"===("undefined"==typeof t?"undefined":e(t))&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=r.label||r.value,this.value=r.value}function o(t,e,r){for(var o in e){var n=e[o],a=t.input.getAttribute("data-"+o.toLowerCase());"number"==typeof n?t[o]=parseInt(a):n===!1?t[o]=null!==a:n instanceof Function?t[o]=null:t[o]=a,t[o]||0===t[o]||(t[o]=o in r?r[o]:n)}}function n(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function a(t,e){return l.call((e||document).querySelectorAll(t))}function i(){a("input.awesomplete").forEach(function(t){new s(t)})}var s=function c(t,e){var r=this;this.input=n(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),e=e||{},o(this,{minChars:2,maxItems:10,autoFirst:!1,data:c.DATA,filter:c.FILTER_CONTAINS,sort:c.SORT_BYLENGTH,item:c.ITEM,replace:c.REPLACE},e),this.index=-1,this.container=n.create("div",{className:"awesomplete",around:t}),this.ul=n.create("ul",{hidden:"hidden",inside:this.container}),this.status=n.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),n.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;r.opened&&(13===e&&r.selected?(t.preventDefault(),r.select()):27===e?r.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),r[38===e?"previous":"next"]()))}}),n.bind(this.input.form,{submit:this.close.bind(this,{reason:"submit"})}),n.bind(this.ul,{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),r.select(e,t.target))}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||e.list||[],c.all.push(this)};s.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if(t=n(t),t&&t.children){var e=[];l.apply(t.children).forEach(function(t){if(!t.disabled){var r=t.textContent.trim(),o=t.value||r,n=t.label||r;""!==o&&e.push({label:n,value:o})}}),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return!this.ul.hasAttribute("hidden")},close:function(t){this.opened&&(this.ul.setAttribute("hidden",""),this.index=-1,n.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&this.index===-1&&this["goto"](0),n.fire(this.input,"awesomplete-open")},next:function(){var t=this.ul.children.length;this["goto"](this.index<t-1?this.index+1:-1)},previous:function(){var t=this.ul.children.length;this["goto"](this.selected?this.index-1:t-1)},"goto":function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent,n.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=n.siblingIndex(t):t=this.ul.children[this.index],t){var r=this.suggestions[this.index],o=n.fire(this.input,"awesomplete-select",{text:r,origin:e||t});o&&(this.replace(r),this.close({reason:"select"}),n.fire(this.input,"awesomplete-selectcomplete",{text:r}))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(o){return new r(t.data(o,e))}).filter(function(r){return t.filter(r,e)}).sort(this.sort).slice(0,this.maxItems),this.suggestions.forEach(function(r){t.ul.appendChild(t.item(r,e))}),0===this.ul.children.length?this.close({reason:"nomatches"}):this.open()):this.close({reason:"nomatches"})}},s.all=[],s.FILTER_CONTAINS=function(t,e){return RegExp(n.regExpEscape(e.trim()),"i").test(t)},s.FILTER_STARTSWITH=function(t,e){return RegExp("^"+n.regExpEscape(e.trim()),"i").test(t)},s.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},s.ITEM=function(t,e){var r=""===e?t:t.replace(RegExp(n.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>");return n.create("li",{innerHTML:r,"aria-selected":"false"})},s.REPLACE=function(t){this.input.value=t.value},s.DATA=function(t){return t},Object.defineProperty(r.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),r.prototype.toString=r.prototype.valueOf=function(){return""+this.label};var l=Array.prototype.slice;return n.create=function(t,e){var r=document.createElement(t);for(var o in e){var a=e[o];if("inside"===o)n(a).appendChild(r);else if("around"===o){var i=n(a);i.parentNode.insertBefore(r,i),r.appendChild(i)}else o in r?r[o]=a:r.setAttribute(o,a)}return r},n.bind=function(t,e){if(t)for(var r in e){var o=e[r];r.split(/\s+/).forEach(function(e){t.addEventListener(e,o)})}},n.fire=function(t,e,r){var o=document.createEvent("HTMLEvents");o.initEvent(e,!0,!0);for(var n in r)o[n]=r[n];return t.dispatchEvent(o)},n.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},n.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof Document&&("loading"!==document.readyState?i():document.addEventListener("DOMContentLoaded",i)),s.$=n,s.$$=a,"undefined"!=typeof self&&(self.Awesomplete=s),"object"===e(t)&&t.exports&&(t.exports=s),s}()}).call(e,r(183)(t))},function(t,e){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){var o=r(185);"string"==typeof o&&(o=[[t.id,o,""]]);r(187)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,r){e=t.exports=r(186)(),e.push([t.id,".d3-slider{position:relative;font-family:Verdana,Arial,sans-serif;font-size:1.1em;border:1px solid #aaa;z-index:2}.d3-slider-horizontal{height:.8em}.d3-slider-range{height:.8em}.d3-slider-range,.d3-slider-range-vertical{background:#2980b9;left:0;right:0;position:absolute}.d3-slider-range-vertical{top:0}.d3-slider-vertical{width:.8em;height:100px}.d3-slider-handle{position:absolute;width:1.2em;height:1.2em;border:1px solid #d3d3d3;border-radius:4px;background:#eee;background:linear-gradient(180deg,#eee 0,#ddd);z-index:3}.d3-slider-handle:hover{border:1px solid #999}.d3-slider-horizontal .d3-slider-handle{top:-.3em;margin-left:-.6em}.d3-slider-axis{position:relative;z-index:1}.d3-slider-axis-bottom{top:.8em}.d3-slider-axis-right{left:.8em}.d3-slider-axis path{stroke-width:0;fill:none}.d3-slider-axis line{fill:none;stroke:#aaa;shape-rendering:crispEdges}.d3-slider-axis text{font-size:11px}.d3-slider-vertical .d3-slider-handle{left:-.25em;margin-left:0;margin-bottom:-.6em}",""])},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(o[a]=!0)}for(n=0;n<e.length;n++){var i=e[n];"number"==typeof i[0]&&o[i[0]]||(r&&!i[2]?i[2]=r:r&&(i[2]="("+i[2]+") and ("+r+")"),t.push(i))}},t}},function(t,e,r){function o(t,e){for(var r=0;r<t.length;r++){var o=t[r],n=p[o.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](o.parts[a]);for(;a<o.parts.length;a++)n.parts.push(c(o.parts[a],e))}else{for(var i=[],a=0;a<o.parts.length;a++)i.push(c(o.parts[a],e));p[o.id]={id:o.id,refs:1,parts:i}}}}function n(t){for(var e=[],r={},o=0;o<t.length;o++){var n=t[o],a=n[0],i=n[1],s=n[2],l=n[3],c={css:i,media:s,sourceMap:l};r[a]?r[a].parts.push(c):e.push(r[a]={id:a,parts:[c]})}return e}function a(t,e){var r=h(),o=w[w.length-1];if("top"===t.insertAt)o?o.nextSibling?r.insertBefore(e,o.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}function i(t){t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",a(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",a(t,e),e}function c(t,e){var r,o,n;if(e.singleton){var a=g++;r=m||(m=s(e)),o=d.bind(null,r,a,!1),n=d.bind(null,r,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=l(e),o=_.bind(null,r),n=function(){i(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(e),o=u.bind(null,r),n=function(){i(r)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else n()}}function d(t,e,r,o){var n=r?"":o.css;if(t.styleSheet)t.styleSheet.cssText=y(e,n);else{var a=document.createTextNode(n),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function u(t,e){var r=e.css,o=e.media;if(o&&t.setAttribute("media",o),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function _(t,e){var r=e.css,o=e.sourceMap;o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var n=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(n),a&&URL.revokeObjectURL(a)}var p={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=f(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,w=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var r=n(t);return o(r,e),function(t){for(var a=[],i=0;i<r.length;i++){var s=r[i],l=p[s.id];l.refs--,a.push(l)}if(t){var c=n(t);o(c,e)}for(var i=0;i<a.length;i++){var l=a[i];if(0===l.refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete p[l.id]}}}};var y=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,e,r){var o=r(189);"string"==typeof o&&(o=[[t.id,o,""]]);r(187)(o,{});o.locals&&(t.exports=o.locals)},function(t,e,r){e=t.exports=r(186)(),e.push([t.id,'[hidden]{display:none}.visually-hidden{position:absolute;clip:rect(0,0,0,0)}div.awesomplete{display:inline-block;position:relative}div.awesomplete>input{display:block}div.awesomplete>ul{position:absolute;left:0;z-index:1;min-width:100%;box-sizing:border-box;list-style:none;padding:0;border-radius:.3em;margin:.2em 0 0;background:hsla(0,0%,100%,.9);background:linear-gradient(to bottom right,#fff,hsla(0,0%,100%,.8));border:1px solid rgba(0,0,0,.3);box-shadow:.05em .2em .6em rgba(0,0,0,.2);text-shadow:none}div.awesomplete>ul:empty,div.awesomplete>ul[hidden]{display:none}@supports (transform:scale(0)){div.awesomplete>ul{transition:.3s cubic-bezier(.4,.2,.5,1.4);transform-origin:1.43em -.43em}div.awesomplete>ul:empty,div.awesomplete>ul[hidden]{opacity:0;transform:scale(0);display:block;transition-timing-function:ease}}div.awesomplete>ul:before{content:"";position:absolute;top:-.43em;left:1em;width:0;height:0;padding:.4em;background:#fff;border:inherit;border-right:0;border-bottom:0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}div.awesomplete>ul>li{position:relative;padding:.2em .5em;cursor:pointer}div.awesomplete>ul>li:hover{background:#b8d3e0;color:#000}div.awesomplete>ul>li[aria-selected=true]{background:#3d6d8f;color:#fff}div.awesomplete mark{background:#eaff00}div.awesomplete li:hover mark{background:#b5d100}div.awesomplete li[aria-selected=true] mark{background:#3d6b00;color:inherit}',""])},function(t,e,r){"use strict";var o=r(153),n=r(191),a=r(196),i=r(197),s=r(198),l=r(199),c=r(201),d=r(203);t.exports=function u(t){var e=t.params,u=d3.select(e.root+" .sidebar_wrapper");e.viz.is_expand&&u.style("display","none"),u.append("div").classed("title_section",!0),null!=e.sidebar.title&&u.select(".title_section").append("h4").style("margin-left","20px").style("margin-top","5px").style("margin-bottom","0px").text(e.sidebar.title),u.append("div").style("padding-left","10px").style("padding-right","10px").classed("about_section",!0),null!=e.sidebar.about&&u.select(".about_section").append("h5").classed("sidebar_text",!0).style("margin-left","7px").style("margin-top","5px").style("margin-bottom","2px").style("text-align","justify").html(e.sidebar.about),u.append("div").classed("icons_section",!0).style("text-align","center"),c(e),e.sidebar.icons&&l(t,u),i(e,u),a(u,e),d(u);var r=_.keys(e.viz.possible_filters);r.indexOf("enr_score_type")>-1&&r.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}),t.slider_functions={},_.each(r,function(e){n(t,e)}),o(t),null!==e.ini_view&&(s(e),e.ini_view=null)}},function(t,e,r){"use strict";var o=r(192),n=r(195);t.exports=function(t,e){var r=t.params,a=d3.select(r.root+" .sidebar_wrapper").append("div").classed("div_filters",!0).style("padding-left","10px").style("padding-right","10px");"numerical"==r.viz.possible_filters[e]?o(t,e,a):"categorical"==r.viz.possible_filters[e]&&n(t,e,a)}},function(t,e,r){"use strict";var o=r(175),n=r(193),a=r(5),i=r(12);d3.slider=r(180),t.exports=function(t,e,r){var s=t.params,l={},c=_.keys(s.viz.possible_filters);_.each(c,function(t){if(t!=e){var r=a(s.viz.filter_data,t);l[t]=r}});var d=o(s,e);r.append("div").classed("title_"+e,!0).classed("sidebar_text",!0).classed("slider_description",!0).style("margin-top","5px").style("margin-bottom","3px").text(d.text+d.state+d.suffix),r.append("div").classed("slider_"+e,!0).classed("slider",!0).attr("current_state",d.state);var u=s.network_data.views,p=i(s,u,l);p=p.sort(function(t,r){return r[e]-t[e]});var f=p.length-1,v=d3.slider().value(0).min(0).max(f).step(1).on("slide",function(r,o){h(t,e,p,o)}).on("slideend",function(r,o){h(t,e,p,o)});t.slider_functions[e]=v,d3.select(t.params.root+" .slider_"+e).call(v);var h=_.debounce(n,1500)}},function(t,e,r){"use strict";var o=r(138),n=r(174),a=r(194),i=r(14);t.exports=function(t,e,r,s){var l=t.params,c=r[s][e];n(t,e,c),l=a(l);var d={};if(d[e]=c,d=i(l,d),_.has(r[0],"enr_score_type")){var u=d3.select(l.root+" .toggle_enr_score_type").attr("current_state");d.enr_score_type=u}o(t,d)}},function(t,e){"use strict";t.exports=function(t){var e;return _.each(["row","col"],function(r){e="row"===r?"col":"row",d3.select(t.root+" .toggle_"+e+"_order .active").empty()===!1?t.viz.inst_order[r]=d3.select(t.root+" .toggle_"+e+"_order").select(".active").attr("name"):t.viz.inst_order[r]="clust"}),t}},function(t,e,r){"use strict";var o=r(14);t.exports=function(t,e,r,n){var a=n.append("div").classed("categorical_filter",!0).classed("toggle_"+r,!0).classed("btn-group-vertical",!0).style("width","100%").style("margin-top","10px").attr("current_state","combined_score"),i=e.viz.filter_data[r],s={combined_score:"Combined Score",pval:"P-Value",zscore:"Z-score"};a.selectAll("button").data(i).enter().append("button").attr("type","button").classed("btn",!0).classed("btn-primary",!0).classed(".filter_button",!0).classed("active",function(t){var e=!1;return"combined_score"==t&&(e=!0),e}).attr("name",function(t){return t}).html(function(t){return s[t]}),$(e.root+" .categorical_filter .btn").off().click(function(){d3.selectAll(e.root+" .categorical_filter .btn").classed("active",!1),d3.select(this).classed("active",!0);var t=d3.select(this).attr("name"),r={enr_score_type:t};o(e,r),d3.select(e.root+" .toggle_enr_score_type").attr("current_state",t)})}},function(t,e){"use strict";t.exports=function(t,e){var r=t.append("div").classed("gene_search_container",!0).style("padding-left","10px").style("padding-right","10px").style("margin-top","10px");r.append("input").classed("form-control",!0).classed("gene_search_box",!0).classed("sidebar_text",!0).attr("type","text").attr("placeholder",e.sidebar.row_search.placeholder).style("height",e.sidebar.row_search.box.height+"px"),r.append("div").classed("gene_search_button",!0).style("margin-top","5px").attr("data-toggle","buttons").append("button").classed("sidebar_text",!0).html("Search").attr("type","button").classed("btn",!0).classed("btn-primary",!0).classed("submit_gene_button",!0).style("width","100%").style("font-size","14px")}},function(t,e){"use strict";t.exports=function(t,e){var r,o,n,a,i,s={row:"Row",col:"Column",both:""},l=e.append("div").style("padding-left","10px").style("padding-right","10px").classed("reorder_section",!0);i=t.sim_mat?["both"]:["row","col"],_.each(i,function(e){r={clust:"Cluster",rank:"Rank by Sum",rankvar:"Rank by Variance",ini:"Initial Order",alpha:"Alphabetically"};var i;i="row"===e?"col":"row",o=Object.keys(t.matrix.orders);var c=[];_.each(o,function(t){t.indexOf(i)>-1&&(t=t.replace("_row","").replace("_col",""),t.indexOf("cat_")<0&&c.push(t))}),_.keys(t.viz.filter_data).indexOf("enr_score_type")>-1&&(c=["clust","rank"]),c=_.uniq(c),c=c.sort();var d;d="both"!=e?" Order":"Reorder Matrix",l.append("div").classed("sidebar_button_text",!0).style("clear","both").style("margin-top","10px").html(s[e]+d),a=l.append("div").classed("btn-group-vertical",!0).style("width","100%").classed("toggle_"+e+"_order",!0).attr("role","group"),a.selectAll(".button").data(c).enter().append("button").attr("type","button").classed("btn",!0).classed("btn-primary",!0).classed("sidebar_button_text",!0).classed("active",function(e){return n=!1,e==t.viz.inst_order[i]&&(n=!0),n}).attr("name",function(t){return t}).html(function(t){return r[t]})})}},function(t,e,r){"use strict";var o=r(175);t.exports=function(t){_.each(_.keys(t.ini_view),function(e){var r=t.ini_view[e],n=t.viz.possible_filters[e];if("numerical"===n){"all"!=r&&(r=parseInt(r,10)),t.viz.filter_data[e].indexOf(r)<=-1&&(r="all");var a=o(t,e);d3.select(t.root+" .title_"+e).text(a.text+r+a.suffix),d3.select(t.root+" .slider_"+e).attr("current_state",r)}})}},function(t,e,r){"use strict";var o=r(200),n=r(177),a=r(94),i=r(179);t.exports=function(t,e){function r(){d3.select(s.root+" .expand_button").style("opacity",0);var t=d3.select(s.root+" svg").attr("title","test2").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().parentNode.innerHTML,e=new Blob([t],{type:"image/svg+xml"});c(e,"clustergrammer.svg"),d3.select(s.root+" .expand_button").style("opacity",.4)}var s=t.params,l=o(),c=n(),d=e.select(".icons_section").style("margin-top","7px").style("margin-left","5%"),u="22%",_="0px",p="0px";d.append("div").classed("clust_icon",!0).style("float","left").style("width",u).style("padding-left",_).style("padding-right",p).append("i").classed("fa",!0).classed("fa-share-alt",!0).classed("icon_buttons",!0).style("font-size","25px").on("click",function(){$(s.root+" .share_info").modal("toggle"),$(".share_url").val(window.location.href)}).classed("sidebar_tooltip",!0).append("span").classed("sidebar_tooltip_text",!0).html("Share").style("left","0%"),d.append("div").classed("clust_icon",!0).style("float","left").style("width",u).style("padding-left",_).style("padding-right",p).append("i").classed("fa",!0).classed("fa-camera",!0).classed("icon_buttons",!0).style("font-size","25px").on("click",function(){$(s.root+" .picture_info").modal("toggle")}).classed("sidebar_tooltip",!0).append("span").classed("sidebar_tooltip_text",!0).html("Take snapshot").style("left","-100%"),d.append("div").classed("clust_icon",!0).style("float","left").style("width",u).style("padding-left",_).style("padding-right",p).append("i").classed("fa",!0).classed("fa fa-cloud-download",!0).classed("icon_buttons",!0).style("font-size","25px").on("click",function(){t.export_matrix()}).classed("sidebar_tooltip",!0).append("span").classed("sidebar_tooltip_text",!0).html("Download matrix").style("left","-200%"),d.append("div").classed("clust_icon",!0).style("float","left").style("width",u).style("padding-left",_).style("padding-right","-5px").append("i").classed("fa",!0).classed("fa-crop",!0).classed("crop_button",!0).classed("icon_buttons",!0).style("font-size","25px").on("click",function(){if(t.params.dendro_filter.row===!1&&t.params.dendro_filter.col===!1){var e=d3.select(this).classed("fa-crop"),r=d3.select(this).classed("fa-undo");e&&(t.params.crop_filter_nodes={},t.params.crop_filter_nodes.row_nodes=t.params.network_data.row_nodes,t.params.crop_filter_nodes.col_nodes=t.params.network_data.col_nodes,t.crop_matrix(),d3.select(this).classed("active_cropping")===!1?d3.select(this).classed("active_cropping",!0).style("color","red"):(d3.select(this).classed("active_cropping",!1).style("color","#337ab7"),i(t))),r&&(d3.select(s.root+" .crop_button").style("color","#337ab7").classed("fa-crop",!0).classed("fa-undo",!1),t.filter_viz_using_nodes(t.params.crop_filter_nodes),d3.select(t.params.root+" .col_dendro_icons_container").style("display","block"),d3.select(t.params.root+" .row_dendro_icons_container").style("display","block")),a(s,0,0,1)}}).classed("sidebar_tooltip",!0).append("span").classed("sidebar_tooltip_text",!0).html("Crop matrix").style("left","-400%"),d3.select(s.root+" .download_buttons").append("p").append("a").html("Download SVG").on("click",function(){r()});var f="svg_"+s.root.replace("#","");d3.select(s.root+" .download_buttons").append("p").append("a").html("Download PNG").on("click",function(){d3.select(s.root+" .expand_button").style("opacity",0),l(document.getElementById(f),"clustergrammer.png"),d3.select(s.root+" .expand_button").style("opacity",.4)})}},function(t,e){"use strict";t.exports=function(){function t(t){return t&&0==t.lastIndexOf("http",0)&&t.lastIndexOf(window.location.host)==-1}function r(e,r){var o=e.querySelectorAll("image"),n=o.length;0==n&&r();for(var a=0;a<o.length;a++)!function(e){var o=e.getAttributeNS("http://www.w3.org/1999/xlink","href");if(o&&t(o.value))return void console.warn("Cannot render embedded images linking to external hosts: "+o.value);var a=document.createElement("canvas"),i=a.getContext("2d"),s=new Image;o=o||e.getAttribute("href"),s.src=o,s.onload=function(){a.width=s.width,a.height=s.height,i.drawImage(s,0,0),e.setAttributeNS("http://www.w3.org/1999/xlink","href",a.toDataURL("image/png")),n--,0==n&&r()},s.onerror=function(){console.log("Could not load "+o),n--,0==n&&r()}}(o[a])}function o(t,e){for(var r="",o=document.styleSheets,n=0;n<o.length;n++){try{var a=o[n].cssRules}catch(i){console.warn("Stylesheet could not be loaded: "+o[n].href);continue}if(null!=a)for(var s=0;s<a.length;s++){var l=a[s];if("undefined"!=typeof l.style){
var c=null;try{c=t.querySelector(l.selectorText)}catch(d){console.warn('Invalid CSS selector "'+l.selectorText+'"',d)}if(c){var u=e?e(l.selectorText):l.selectorText;r+=u+" { "+l.style.cssText+" }\n"}else l.cssText.match(/^@font-face/)&&(r+=l.cssText+"\n")}}}return r}function n(t,e,r){var o=t.viewBox.baseVal&&t.viewBox.baseVal[r]||null!==e.getAttribute(r)&&!e.getAttribute(r).match(/%$/)&&parseInt(e.getAttribute(r))||t.getBoundingClientRect()[r]||parseInt(e.style[r])||parseInt(window.getComputedStyle(t).getPropertyValue(r));return"undefined"==typeof o||null===o||isNaN(parseFloat(o))?0:o}function a(t){return t=encodeURIComponent(t),t=t.replace(/%([0-9A-F]{2})/g,function(t,e){var r=String.fromCharCode("0x"+e);return"%"===r?"%25":r}),decodeURIComponent(t)}var i="undefined"!=typeof e&&e||this,s='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">';return i.svgAsDataUri=function(t,e,i){e=e||{},e.scale=e.scale||1;var l="http://www.w3.org/2000/xmlns/";r(t,function(){var r,c,d=document.createElement("div"),u=t.cloneNode(!0);if("svg"==t.tagName)r=e.width||n(t,u,"width"),c=e.height||n(t,u,"height");else{if(!t.getBBox)return void console.error("Attempted to render non-SVG element",t);var _=t.getBBox();r=_.x+_.width,c=_.y+_.height,u.setAttribute("transform",u.getAttribute("transform").replace(/translate\(.*?\)/,""));var p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(u),u=p}u.setAttribute("version","1.1"),u.setAttributeNS(l,"xmlns","http://www.w3.org/2000/svg"),u.setAttributeNS(l,"xmlns:xlink","http://www.w3.org/1999/xlink"),u.setAttribute("width",r*e.scale),u.setAttribute("height",c*e.scale),u.setAttribute("viewBox",[e.left||0,e.top||0,r,c].join(" ")),d.appendChild(u);var f=o(t,e.selectorRemap),v=document.createElement("style");v.setAttribute("type","text/css"),v.innerHTML="<![CDATA[\n"+f+"\n]]>";var h=document.createElement("defs");h.appendChild(v),u.insertBefore(h,u.firstChild);var p=s+d.innerHTML,m="data:image/svg+xml;base64,"+window.btoa(a(p));i&&i(m)})},i.svgAsPngUri=function(t,e,r){i.svgAsDataUri(t,e,function(t){var o=new Image;o.onload=function(){var t=document.createElement("canvas");t.width=o.width,t.height=o.height;var n=t.getContext("2d");e&&e.backgroundColor&&(n.fillStyle=e.backgroundColor,n.fillRect(0,0,t.width,t.height)),n.drawImage(o,0,0);var a;document.createElement("a");try{a=t.toDataURL("image/png")}catch(i){if(i instanceof SecurityError)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw i}r(a)},o.src=t})},i.saveSvgAsPng=function(t,e,r){r=r||{},i.svgAsPngUri(t,r,function(t){var r=document.createElement("a");r.download=e,r.href=t,document.body.appendChild(r),r.addEventListener("click",function(t){r.parentNode.removeChild(r)}),r.click()})},i.saveSvgAsPng}},function(t,e,r){"use strict";var o=r(202);t.exports=function(t){var e=o(t,"share_info");e.header.append("a").attr("target","_blank").attr("href","/clustergrammer/"),e.header.append("h4").classed("modal-title",!0).html("Share the visualization using the current URL:"),e.body.append("input").classed("bootstrap_highlight",!0).classed("share_url",!0);var r=o(t,"picture_info");r.header.append("h4").classed("modal-title",!0).html("Save a snapshot of the visualization"),r.body.append("div").classed("download_buttons",!0);var n=o(t,"dendro_info");n.header.append("h4").classed("modal-title",!0).html("Cluster Information"),n.body.append("g").classed("cluster_info_container",!0),n.body.append("div").classed("dendro_text",!0).append("input").classed("bootstrap_highlight",!0).classed("current_names",!0).style("width","100%")}},function(t,e){"use strict";t.exports=function(t,e){var r={},o=d3.select(t.root).append("div").classed("modal",!0).classed("fade",!0).classed(e,!0).attr("role","dialog"),n=o.append("div").classed("modal-dialog",!0),a=n.append("div").classed("modal-content",!0);return r.header=a.append("div").classed("modal-header",!0),r.header.append("button").attr("type","button").classed("close",!0).attr("data-dismiss","modal").html("&times;"),r.body=a.append("div").classed("modal-body",!0),r}},function(t,e){"use strict";t.exports=function(t){var e=t.append("div").classed("opacity_slider_container",!0).style("margin-top","5px").style("padding-left","10px").style("padding-right","10px");e.append("div").classed("sidebar_text",!0).classed("opacity_slider_text",!0).style("margin-bottom","3px").text("Opacity Slider"),e.append("div").classed("slider",!0).classed("opacity_slider",!0)}}]);
//# sourceMappingURL=clustergrammer.node.min.js.map