module.exports=function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){function e(){b.select(T.params.viz.viz_svg).style("opacity",.5);var t=500;this.params.viz.run_trans===!0&&(t=2500),setTimeout(r,t,this)}function r(t){s(t)}function n(t){f(this,t)}function z(t,e,r){h(this,t,e,r)}function k(){return y}function A(t,e){"sum"===e&&(e="rank"),"var"===e&&(e="rankvar"),w(this,e,t)}function E(){return x(this.params)}function N(t,e){_(this,t,e)}var S=o(t),T={};return T.params=i(S),T.config=S,T.params.zoom_behavior=b.behavior.zoom().scaleExtent([1,T.params.viz.square_zoom*T.params.viz.zoom_ratio.x]).on("zoom",function(){g(T)}),T.params.zoom_behavior.translate([T.params.viz.clust.margin.left,T.params.viz.clust.margin.top]),a(T),T.update_view=_,T.resize_viz=e,T.play_demo=l,T.ini_demo=c,T.filter_viz_using_nodes=u,T.filter_viz_using_names=d,T.update_cats=n,T.reset_cats=p,T.zoom=z,T.save_matrix=v,T.brush_crop_matrix=m,T.d3_tip_custom=k,T.reorder=A,T.export_matrix_string=E,T.update_view=N,T}var o=r(1),i=r(22),a=r(123),s=r(200),l=r(243),c=r(284),u=r(287),d=r(288),f=r(289),p=r(290),h=r(192),_=r(292),v=r(295),m=r(299),g=r(201),y=r(134),w=r(191),x=r(297),b=r(301);r(111);b.slider=r(302),t.exports=n},function(t,e,r){"use strict";var n=r(2),o=r(3),i=r(4),a=r(18),s=r(19),l=r(20),c=r(21);t.exports=function(t){var e=s(),r=n.extend(e,t);r.network_data=t.network_data;var u=": ";["row","col"].forEach(function(t){var e=r.network_data[t+"_nodes"]||[],n=c(e);e.forEach(function(e,o){e[t+"_index"]=o,n&&(r.super_labels=!0,r.super[t]=e.name.split(u)[0],e.name=e.name.split(u)[1]),e.name=String(e.name),e.name=e.name.replace(/_/g," ")})}),r.network_data.row_nodes_names=n.pluck(r.network_data.row_nodes,"name"),r.network_data.col_nodes_names=n.pluck(r.network_data.col_nodes,"name"),r.sim_mat=l(r);var d=i(r.network_data.views),f={};Object.keys(d.possible_filters||{}).forEach(function(t){var e=a(d.filter_data,t);f[t]=e}),n.has(r.network_data,"views")&&r.network_data.views.forEach(function(t){Object.keys(d.possible_filters||{}).forEach(function(e){n.has(t,e)||(t[e]=f[e])});var e=t.nodes;["row","col"].forEach(function(t){var r=c(e[t+"_nodes"]);e[t+"_nodes"].forEach(function(e,n){e[t+"_index"]=n,r&&(e.name=e.name.split(u)[1]),e.name=String(e.name),e.name=e.name.replace(/_/g," ")})})});var p=r.network_data.col_nodes,h=r.network_data.row_nodes;if(n.has(r.network_data,"mat")){for(var _=[],v=r.network_data.mat,m={},g=0;g<v.length;g++)for(var y=0;y<v[0].length;y++)m={},m.source=g,m.target=y,m.value=v[g][y],_.push(m);r.network_data.links=_}if(r.network_data.links.forEach(function(t){t.name=h[t.source].name+"_"+p[t.target].name,t.row_name=h[t.source].name,t.col_name=p[t.target].name}),r.transpose){r.network_data=o(r.network_data);var w=t.col_label,x=t.row_label;t.row_label=w,t.col_label=x}n.is_undefined(t.row_label)||n.is_undefined(t.col_label)||(r.super_labels=!0,r.super={},r.super.row=t.row_label,r.super.col=t.col_label),r.inst_order={},!n.is_undefined(t.order)&&n.is_supported_order(t.order)?(r.inst_order.row=t.order,r.inst_order.col=t.order):(r.inst_order.row="clust",r.inst_order.col="clust"),!n.is_undefined(t.row_order)&&n.is_supported_order(t.row_order)&&(r.inst_order.col=t.row_order),!n.is_undefined(t.col_order)&&n.is_supported_order(t.col_order)&&(r.inst_order.row=t.col_order);var b=n.has(r.network_data.row_nodes[0],"group"),z=n.has(r.network_data.col_nodes[0],"group");return r.show_dendrogram=b||z,n.has(r.network_data.links[0],"value_orig")?r.keep_orig=!0:r.keep_orig=!1,r}},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports={normal_name:function(t){var e=t.name.replace(/_/g," ").split("#")[0];return e},is_supported_order:function(t){return"ini"===t||"clust"===t||"rank_var"===t||"rank"===t||"class"===t||"alpha"==t},has:function(t,e){return t&&hasOwnProperty.call(t,e)},property:function(t){return function(e){return null==e?void 0:e[t]}},pluck:function(t,e){var r=this;return t.map(r.property(e))},is_undefined:function(t){return void 0===t},extend:function(t,e){t=t||{};for(var n in e)"object"===r(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t}}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t){var e,r,o={};for(o.row_nodes=t.col_nodes,o.col_nodes=t.row_nodes,o.links=[],r=0;r<t.links.length;r++)e={},e.source=t.links[r].target,e.target=t.links[r].source,e.value=t.links[r].value,n.has(t.links[r],"highlight")&&(e.highlight=t.links[r].highlight),n.has(t.links[r],"value_up")&&(e.value_up=t.links[r].value_up),n.has(t.links[r],"value_dn")&&(e.value_dn=t.links[r].value_dn),n.has(t.links[r],"info")&&(e.info=t.links[r].info),o.links.push(e);return o}},function(t,e,r){"use strict";var n=r(5),o=r(2);t.exports=function(t){var e={},r={};n(t,function(t){var e=Object.keys(t||{});e.forEach(function(e){"nodes"!=e&&(o.has(r,e)||(r[e]=[]),r[e].push(t[e]),r[e]=Array.from(new Set([r[e]])))})});var i=Object.keys(r);i.forEach(function(t){var o=r[t],i=o.length,a="categorical";n(o,function(t){"number"==typeof t&&(a="numerical")}),i>1&&(e[t]=a)});var a={};return a.possible_filters=e,a.filter_data=r,a}},function(t,e,r){"use strict";function n(t,e,r){e=o(e,r);var n,s;if(i(t))for(n=0,s=t.length;n<s;n++)e(t[n],n,t);else{var l=a(t);for(n=0,s=l.length;n<s;n++)e(t[l[n]],l[n],t)}return t}var o=r(6),i=r(7),a=r(12);t.exports=n},function(t,e){"use strict";function r(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,o){return t.call(e,r,n,o)};case 4:return function(r,n,o,i){return t.call(e,r,n,o,i)}}return function(){return t.apply(e,arguments)}}t.exports=r},function(t,e,r){"use strict";var n=r(8),o=r(10),i=n(o);t.exports=i},function(t,e,r){"use strict";function n(t){return function(e){var r=t(e);return"number"==typeof r&&r>=0&&r<=o.MAX_ARRAY_INDEX}}var o=r(9);t.exports=n},function(t,e){(function(t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0});var n="1.13.6",o="object"==("undefined"==typeof self?"undefined":r(self))&&self.self===self&&self||"object"==("undefined"==typeof t?"undefined":r(t))&&t.global===t&&t||Function("return this")()||{},i=Array.prototype,a=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,l=i.push,c=i.slice,u=a.toString,d=a.hasOwnProperty,f="undefined"!=typeof ArrayBuffer,p="undefined"!=typeof DataView,h=Array.isArray,_=Object.keys,v=Object.create,m=f&&ArrayBuffer.isView,g=isNaN,y=isFinite,w=!{toString:null}.propertyIsEnumerable("toString"),x=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],b=Math.pow(2,53)-1;e.ArrayProto=i,e.MAX_ARRAY_INDEX=b,e.ObjProto=a,e.SymbolProto=s,e.VERSION=n,e._isFinite=y,e._isNaN=g,e.hasEnumBug=w,e.hasOwnProperty=d,e.nativeCreate=v,e.nativeIsArray=h,e.nativeIsView=m,e.nativeKeys=_,e.nonEnumerableProps=x,e.push=l,e.root=o,e.slice=c,e.supportsArrayBuffer=f,e.supportsDataView=p,e.toString=u}).call(e,function(){return this}())},function(t,e,r){"use strict";var n=r(11),o=n("length");t.exports=o},function(t,e){"use strict";function r(t){return function(e){return null==e?void 0:e[t]}}t.exports=r},function(t,e,r){"use strict";function n(t){if(!o(t))return[];if(i.nativeKeys)return i.nativeKeys(t);var e=[];for(var r in t)a(t,r)&&e.push(r);return i.hasEnumBug&&s(t,e),e}var o=r(13),i=r(9),a=r(14),s=r(15);t.exports=n},function(t,e){"use strict";function r(t){var e="undefined"==typeof t?"undefined":n(t);return"function"===e||"object"===e&&!!t}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=r},function(t,e,r){"use strict";function n(t,e){return null!=t&&o.hasOwnProperty.call(t,e)}var o=r(9);t.exports=n},function(t,e,r){"use strict";function n(t){for(var e={},r=t.length,n=0;n<r;++n)e[t[n]]=!0;return{contains:function(t){return e[t]===!0},push:function(r){return e[r]=!0,t.push(r)}}}function o(t,e){e=n(e);var r=i.nonEnumerableProps.length,o=t.constructor,l=a(o)&&o.prototype||i.ObjProto,c="constructor";for(s(t,c)&&!e.contains(c)&&e.push(c);r--;)c=i.nonEnumerableProps[r],c in t&&t[c]!==l[c]&&!e.contains(c)&&e.push(c)}var i=r(9),a=r(16),s=r(14);t.exports=o},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(17),i=r(9),a=o("Function"),s=i.root.document&&i.root.document.childNodes;"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":n(Int8Array))&&"function"!=typeof s&&(a=function(t){return"function"==typeof t||!1});var l=a;t.exports=l},function(t,e,r){"use strict";function n(t){var e="[object "+t+"]";return function(t){return o.toString.call(t)===e}}var o=r(9);t.exports=n},function(t,e){"use strict";t.exports=function(t,e){var r=t[e].sort(function(t,e){return e-t})[0];return r=String(r)}},function(t,e){"use strict";t.exports=function(){var t={row_label_scale:1,col_label_scale:1,super_labels:!1,super:{},show_label_tooltips:!0,show_tile_tooltips:!0,transpose:!1,tile_colors:["#FF0000","#1C86EE"],bar_colors:["#FF0000","#1C86EE"],cat_value_colors:["#2F4F4F","#9370DB"],outline_colors:["orange","black"],highlight_color:"#FFFF00",tile_title:!1,input_domain:0,opacity_scale:"linear",do_zoom:!0,is_zoom:0,is_slider_drag:!1,is_cropping:!1,background_color:"#FFFFFF",super_border_color:"#F5F5F5",outer_margins:{top:0,bottom:0,left:0,right:0},ini_expand:!1,grey_border_width:2,tile_click_hlight:!1,super_label_scale:1,make_tile_tooltip:function(t){return t.info},ini_view:null,requested_view:null,use_sidebar:!0,title:null,about:null,sidebar_width:160,sidebar_icons:!0,row_search_placeholder:"Row",buffer_width:10,show_sim_mat:!1,cat_colors:null,resize:!0,clamp_opacity:.85,expand_button:!0,max_allow_fs:20,dendro_filter:{row:!1,col:!1},cat_filter:{row:!1,col:!1},crop_filter_nodes:{row:!1,col:!1},row_tip_callback:null,col_tip_callback:null,tile_tip_callback:null,matrix_update_callback:null,cat_update_callback:null,dendro_callback:null,dendro_click_callback:null,new_row_cats:null,make_modals:!0,show_viz_border:!1};return t}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t){var e=!1,r=t.network_data.row_nodes_names.length,o=t.network_data.col_nodes_names.length;if(r==o){var i=t.network_data.row_nodes_names,a=t.network_data.col_nodes_names;e=!0,n(i,function(t){var r=i.indexOf(t);t!==a[r]&&(e=!1)})}return e&&(t.expand_button=!1),e}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t){var e=": ",r=!0;return n(t,function(t){var n=String(t.name);n.indexOf(e)<0&&(r=!1)}),r}},function(t,e,r){"use strict";var n=r(23),o=(r(92),r(93)),i=r(4),a=r(94),s=r(122),l=r(111);t.exports=function(t){var e=l.extend(!0,{},t),r=e;if(r.inst_nodes={},r.inst_nodes.row_nodes=r.network_data.row_nodes,r.inst_nodes.col_nodes=r.network_data.col_nodes,null!==r.ini_view){var c=r.ini_view,u=i(r.network_data.views);r.viz={},r.viz.possible_filters=u.possible_filters,r.viz.filter_data=u.filter_data,c=o(r,c),r.network_data=n(e,r,c),r.requested_view=c}return r=a(r),r.zoom_info=s(),r}},function(t,e,r){"use strict";var n=r(24),o=r(76),i=r(2);t.exports=function(t,e,r){var a=t.network_data.views,s=!1;i.has(a[0],"enr_score_type")&&(s=!0);var l=o(e,a,r);s&&0==l.length&&(r={N_row_sum:"all",N_col_sum:"10"},l=o(e,a,r));var c,u=l[0];if("undefined"!=typeof u){var d=u.nodes;c=n(t,d)}else c=t.network_data;return c}},function(t,e,r){"use strict";var n=r(2),o=r(25),i=o.create();i.import(r(38)),i.import(r(75)),t.exports=function(t,e){var r=t.network_data.links,o=n.pluck(e.row_nodes,"name")||[],a=n.pluck(e.col_nodes,"name")||[],s=i.matrix(i.zeros([e.row_nodes.length,e.col_nodes.length]));s=s.toArray();var l=_.filter(r,function(t){var e=t.name.split("_")[0],r=t.name.split("_")[1],n=o.indexOf(e),i=a.indexOf(r);if(n>-1&i>-1)return t.source=n,t.target=i,s[n][i]=t.value,t}),c={};return c.row_nodes=e.row_nodes,c.row_nodes_names=o,c.col_nodes=e.col_nodes,c.col_nodes_names=a,c.links=l,c.all_links=r,c.mat=s,c.views=t.network_data.views,n.has(t.network_data,"cat_colors")&&(c.cat_colors=t.network_data.cat_colors),c}},function(t,e,r){"use strict";t.exports=r(26)},function(t,e,r){"use strict";var n=r(27).isFactory,o=r(29),i=r(33),a=r(35),s=r(37);e.create=function(t){function e(t){if(!n(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var o,i=r.indexOf(t);return i===-1?(o=t.math===!0?t.factory(c.type,u,e,c.typed,c):t.factory(c.type,u,e,c.typed),r.push(t),l.push(o)):o=l[i],o}if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var r=[],l=[],c=i.mixin({});c.type={},c.expression={transform:{},mathWithTransform:{}},c.typed=o.create(c.type);var u={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};return c.import=e(a),c.config=e(s),c.expression.mathWithTransform.config=c.config,t&&c.config(t),c}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(28);e.clone=function t(r){var i="undefined"==typeof r?"undefined":n(r);if("number"===i||"string"===i||"boolean"===i||null===r||void 0===r)return r;if("function"==typeof r.clone)return r.clone();if(Array.isArray(r))return r.map(function(e){return t(e)});if(r instanceof Number)return new Number(r.valueOf());if(r instanceof String)return new String(r.valueOf());if(r instanceof Boolean)return new Boolean(r.valueOf());if(r instanceof Date)return new Date(r.valueOf());if(o(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return e.map(r,t)},e.map=function(t,r){var n={};for(var o in t)e.hasOwnProperty(t,o)&&(n[o]=r(t[o]));return n},e.extend=function(t,r){for(var n in r)e.hasOwnProperty(r,n)&&(t[n]=r[n]);return t},e.deepExtend=function t(r,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var o in n)if(e.hasOwnProperty(n,o))if(n[o]&&n[o].constructor===Object)void 0===r[o]&&(r[o]={}),r[o].constructor===Object?t(r[o],n[o]):r[o]=n[o];else{if(Array.isArray(n[o]))throw new TypeError("Arrays are not supported by deepExtend");r[o]=n[o]}return r},e.deepEqual=function(t,r){var o,i,a;if(Array.isArray(t)){if(!Array.isArray(r))return!1;if(t.length!=r.length)return!1;for(i=0,a=t.length;i<a;i++)if(!e.deepEqual(t[i],r[i]))return!1;return!0}if(t instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(o in t)if(!e.deepEqual(t[o],r[o]))return!1;for(o in r)if(!e.deepEqual(t[o],r[o]))return!1;return!0}return("undefined"==typeof t?"undefined":n(t))===("undefined"==typeof r?"undefined":n(r))&&t==r},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},e.lazy=function(t,r,n){if(e.canDefineProperty()){var o,i=!0;Object.defineProperty(t,r,{get:function(){return i&&(o=n(),i=!1),o},set:function(t){o=t,i=!1},configurable:!0,enumerable:!0})}else t[r]=n()},e.traverse=function(t,e){var r=t;if(e)for(var n=e.split("."),o=0;o<n.length;o++){var i=n[o];i in r||(r[i]={}),r=r[i]}return r},e.hasOwnProperty=function(t,e){return t&&Object.hasOwnProperty.call(t,e)},e.isFactory=function(t){return t&&"function"==typeof t.factory}},function(t,e){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isBigNumber||!1}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=r(30),i=r(31).digits,a=r(28),s=r(32),l=function(){return l=o.create,o};e.create=function(t){t.isNumber=function(t){return"number"==typeof t},t.isComplex=function(e){return t.Complex&&e instanceof t.Complex||!1},t.isBigNumber=a,t.isFraction=function(e){return t.Fraction&&e instanceof t.Fraction||!1},t.isUnit=function(t){return t&&t.constructor.prototype.isUnit||!1},t.isString=function(t){return"string"==typeof t},t.isArray=Array.isArray,t.isMatrix=s,t.isDenseMatrix=function(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix||!1},t.isSparseMatrix=function(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix||!1},t.isRange=function(t){return t&&t.constructor.prototype.isRange||!1},t.isIndex=function(t){return t&&t.constructor.prototype.isIndex||!1},t.isBoolean=function(t){return"boolean"==typeof t},t.isResultSet=function(t){return t&&t.constructor.prototype.isResultSet||!1},t.isHelp=function(t){return t&&t.constructor.prototype.isHelp||!1},t.isFunction=function(t){return"function"==typeof t},t.isDate=function(t){return t instanceof Date},t.isRegExp=function(t){return t instanceof RegExp},t.isObject=function(t){return"object"===("undefined"==typeof t?"undefined":n(t))},t.isNull=function(t){return null===t},t.isUndefined=function(t){return void 0===t},t.isAccessorNode=function(t){return t&&t.isAccessorNode&&t.constructor.prototype.isNode||!1},t.isArrayNode=function(t){return t&&t.isArrayNode&&t.constructor.prototype.isNode||!1},t.isAssignmentNode=function(t){return t&&t.isAssignmentNode&&t.constructor.prototype.isNode||!1},t.isBlockNode=function(t){return t&&t.isBlockNode&&t.constructor.prototype.isNode||!1},t.isConditionalNode=function(t){return t&&t.isConditionalNode&&t.constructor.prototype.isNode||!1},t.isConstantNode=function(t){return t&&t.isConstantNode&&t.constructor.prototype.isNode||!1},t.isFunctionAssignmentNode=function(t){return t&&t.isFunctionAssignmentNode&&t.constructor.prototype.isNode||!1},t.isFunctionNode=function(t){return t&&t.isFunctionNode&&t.constructor.prototype.isNode||!1},t.isIndexNode=function(t){return t&&t.isIndexNode&&t.constructor.prototype.isNode||!1},t.isNode=function(t){return t&&t.isNode&&t.constructor.prototype.isNode||!1},t.isObjectNode=function(t){return t&&t.isObjectNode&&t.constructor.prototype.isNode||!1},t.isOperatorNode=function(t){return t&&t.isOperatorNode&&t.constructor.prototype.isNode||!1},t.isParenthesisNode=function(t){return t&&t.isParenthesisNode&&t.constructor.prototype.isNode||!1},t.isRangeNode=function(t){return t&&t.isRangeNode&&t.constructor.prototype.isNode||!1},t.isSymbolNode=function(t){return t&&t.isSymbolNode&&t.constructor.prototype.isNode||!1},t.isChain=function(t){return t&&t.constructor.prototype.isChain||!1};var e=l();return e.types=[{name:"number",test:t.isNumber},{name:"Complex",test:t.isComplex},{name:"BigNumber",test:t.isBigNumber},{name:"Fraction",test:t.isFraction},{name:"Unit",test:t.isUnit},{name:"string",test:t.isString},{name:"Array",test:t.isArray},{name:"Matrix",test:t.isMatrix},{name:"DenseMatrix",test:t.isDenseMatrix},{name:"SparseMatrix",test:t.isSparseMatrix},{name:"Range",test:t.isRange},{name:"Index",test:t.isIndex},{name:"boolean",test:t.isBoolean},{name:"ResultSet",test:t.isResultSet},{name:"Help",test:t.isHelp},{name:"function",test:t.isFunction},{name:"Date",test:t.isDate},{name:"RegExp",test:t.isRegExp},{name:"Object",test:t.isObject},{name:"null",test:t.isNull},{name:"undefined",test:t.isUndefined},{name:"OperatorNode",test:t.isOperatorNode},{name:"ConstantNode",test:t.isConstantNode},{name:"SymbolNode",test:t.isSymbolNode},{name:"ParenthesisNode",test:t.isParenthesisNode},{name:"FunctionNode",test:t.isFunctionNode},{name:"FunctionAssignmentNode",test:t.isFunctionAssignmentNode},{name:"ArrayNode",test:t.isArrayNode},{name:"AssignmentNode",test:t.isAssignmentNode},{name:"BlockNode",test:t.isBlockNode},{name:"ConditionalNode",test:t.isConditionalNode},{name:"IndexNode",test:t.isIndexNode},{name:"RangeNode",test:t.isRangeNode},{name:"Node",test:t.isNode}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){var r=new t.Fraction(e);if(r.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(e){try{return new t.BigNumber(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){try{return new t.Fraction(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){try{return new t.Complex(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction(+e)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new t.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new t.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}},function(t,e,r){var n,o,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(r,a){o=[],n=a,i="function"==typeof n?n.apply(e,o):n,!(void 0!==i&&(t.exports=i))}(void 0,function(){function t(){function e(t){for(var e,r=0;r<A.types.length;r++){var n=A.types[r];if(n.name===t){e=n.test;break}}if(!e){var o;for(r=0;r<A.types.length;r++)if(n=A.types[r],n.name.toLowerCase()==t.toLowerCase()){o=n.name;break}throw new Error('Unknown type "'+t+'"'+(o?'. Did you mean "'+o+'"?':""))}return e}function r(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(n.signatures&&""!=n.name)if(""==e)e=n.name;else if(e!=n.name){var o=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw o.data={actual:n.name,expected:e},o}}return e}function n(t,e,r,n,o){var i,a=v(n),s=o?o.split(","):null,l=t||"unnamed",c=s&&m(s,"any"),u={fn:t,index:r,actual:n,expected:s};i=s?e>r&&!c?"Unexpected type of argument in function "+l+" (expected: "+s.join(" or ")+", actual: "+a+", index: "+r+")":"Too few arguments in function "+l+" (expected: "+s.join(" or ")+", index: "+r+")":"Too many arguments in function "+l+" (expected: "+r+", actual: "+e+")";var d=new TypeError(i);return d.data=u,d}function o(t){this.name=t||"refs",this.categories={}}function i(t,e){if("string"==typeof t){var r=t.trim(),n="..."===r.substr(0,3);if(n&&(r=r.substr(3)),""===r)this.types=["any"];else{this.types=r.split("|");for(var o=0;o<this.types.length;o++)this.types[o]=this.types[o].trim()}}else{if(!Array.isArray(t)){if(t instanceof i)return t.clone();throw new Error("String or Array expected")}this.types=t}this.conversions=[],this.varArgs=n||e||!1,this.anyType=this.types.indexOf("any")!==-1}function s(t,e){var r;if("string"==typeof t)r=""!==t?t.split(","):[];else{if(!Array.isArray(t))throw new Error("string or Array expected");r=t}this.params=new Array(r.length),this.anyType=!1,this.varArgs=!1;for(var n=0;n<r.length;n++){var o=new i(r[n]);if(this.params[n]=o,o.anyType&&(this.anyType=!0),n===r.length-1)this.varArgs=o.varArgs;else if(o.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=e}function l(t,e,r,n){this.path=t||[],this.param=t[t.length-1]||null,this.signature=e||null,this.childs=r||[],this.fallThrough=n||!1}function c(t){var e,r,n={},o=[];for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];if(e=new s(i,a),e.ignore())continue;var l=e.expand();for(r=0;r<l.length;r++){var c=l[r],u=c.toString(),d=n[u];if(d){var f=s.compare(c,d);if(f<0)n[u]=c;else if(0===f)throw new Error('Signature "'+u+'" is defined twice')}else n[u]=c}}for(u in n)n.hasOwnProperty(u)&&o.push(n[u]);for(o.sort(function(t,e){return s.compare(t,e)}),r=0;r<o.length;r++)if(e=o[r],e.varArgs)for(var p=e.params.length-1,h=e.params[p],_=0;_<h.types.length;){if(h.conversions[_])for(var v=h.types[_],g=0;g<o.length;g++){var y=o[g],w=y.params[p];if(y!==e&&w&&m(w.types,v)&&!w.conversions[p]){h.types.splice(_,1),h.conversions.splice(_,1),_--;break}}_++}return o}function u(t){for(var e=[],r=0;r<t.length;r++)t[r].anyType&&e.push(t[r]);return e}function d(t){for(var e={},r=0;r<t.length;r++){var n=t[r];if(n.fn&&!n.hasConversions()){var o=n.params.join(",");e[o]=n.fn}}return e}function f(t,e,r){var n,o,a,s=e.length,c=[];for(n=0;n<t.length;n++)o=t[n],o.params.length!==s||a||(a=o),void 0!=o.params[s]&&c.push(o);c.sort(function(t,e){return i.compare(t.params[s],e.params[s])});var u=[];for(n=0;n<c.length;n++){o=c[n];var d=o.params[s],p=u.filter(function(t){return t.param.overlapping(d)})[0];if(p){if(p.param.varArgs)throw new Error('Conflicting types "'+p.param+'" and "'+d+'"');p.signatures.push(o)}else u.push({param:d,signatures:[o]})}var h=[];for(n=0;n<r.length;n++)r[n].paramsStartWith(e)&&h.push(r[n]);var _=!1;for(n=0;n<h.length;n++)if(!m(t,h[n])){_=!0;break}var v=new Array(u.length);for(n=0;n<u.length;n++){var g=u[n];v[n]=f(g.signatures,e.concat(g.param),h)}return new l(e,a,v,_)}function p(t){for(var e=[],r=0;r<t;r++)e[r]="arg"+r;return e}function h(t,e){var r=new o,i=c(e);if(0==i.length)throw new Error("No signatures provided");var a=u(i),s=f(i,[],a),l=[],h=(t||"").replace(/[^a-zA-Z0-9_$]/g,"_"),v=p(_(i));l.push("function "+h+"("+v.join(", ")+") {"),l.push('  "use strict";'),l.push("  var name = "+JSON.stringify(t||"")+";"),l.push(s.toCode(r,"  ",!1)),l.push("}");var m=[r.toCode(),"return "+l.join("\n")].join("\n"),g=new Function(r.name,"createError",m),y=g(r,n);return y.signatures=d(i),y}function _(t){for(var e=0,r=0;r<t.length;r++){var n=t[r].params.length;n>e&&(e=n)}return e}function v(t){for(var e,r=0;r<A.types.length;r++){var n=A.types[r];if("Object"===n.name)e=n;else if(n.test(t))return n.name}return e&&e.test(t)?e.name:"unknown"}function m(t,e){return t.indexOf(e)!==-1}function g(t){return t[t.length-1]}function y(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof e){r=e.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e}var o=r.join(","),i=t.signatures[o];if(i)return i;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")}function w(t,e){var r=v(t);if(e===r)return t;for(var n=0;n<A.conversions.length;n++){var o=A.conversions[n];if(o.from===r&&o.to===e)return o.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)}o.prototype.add=function(t,e){var r=e||"fn";this.categories[r]||(this.categories[r]=[]);var n=this.categories[r].indexOf(t);return n==-1&&(n=this.categories[r].length,this.categories[r].push(t)),r+n},o.prototype.toCode=function(){var t=[],e=this.name+".categories",r=this.categories;for(var n in r)if(r.hasOwnProperty(n))for(var o=r[n],i=0;i<o.length;i++)t.push("var "+n+i+" = "+e+"['"+n+"']["+i+"];");return t.join("\n")},i.compare=function(t,e){if(t.anyType)return 1;if(e.anyType)return-1;if(m(t.types,"Object"))return 1;if(m(e.types,"Object"))return-1;if(t.hasConversions()){if(e.hasConversions()){var r,n,o;for(r=0;r<t.conversions.length;r++)if(void 0!==t.conversions[r]){n=t.conversions[r];break}for(r=0;r<e.conversions.length;r++)if(void 0!==e.conversions[r]){o=e.conversions[r];break}return A.conversions.indexOf(n)-A.conversions.indexOf(o)}return 1}if(e.hasConversions())return-1;var i,a;for(r=0;r<A.types.length;r++)if(A.types[r].name===t.types[0]){i=r;break}for(r=0;r<A.types.length;r++)if(A.types[r].name===e.types[0]){a=r;break}return i-a},i.prototype.overlapping=function(t){for(var e=0;e<this.types.length;e++)if(m(t.types,this.types[e]))return!0;return!1},i.prototype.matches=function(t){return this.anyType||t.anyType||this.overlapping(t)},i.prototype.clone=function(){var t=new i(this.types.slice(),this.varArgs);return t.conversions=this.conversions.slice(),t},i.prototype.hasConversions=function(){return this.conversions.length>0},i.prototype.contains=function(t){for(var e=0;e<this.types.length;e++)if(t[this.types[e]])return!0;return!1},i.prototype.toString=function(t){for(var e=[],r={},n=0;n<this.types.length;n++){var o=this.conversions[n],i=t&&o?o.to:this.types[n];i in r||(r[i]=!0,e.push(i))}return(this.varArgs?"...":"")+e.join("|")},s.prototype.clone=function(){return new s(this.params.slice(),this.fn)},s.prototype.expand=function(){function t(r,n){if(n.length<r.params.length){var o,a,l,c=r.params[n.length];if(c.varArgs){for(a=c.clone(),o=0;o<A.conversions.length;o++)if(l=A.conversions[o],!m(c.types,l.from)&&m(c.types,l.to)){var u=a.types.length;a.types[u]=l.from,a.conversions[u]=l}t(r,n.concat(a))}else{for(o=0;o<c.types.length;o++)t(r,n.concat(new i(c.types[o])));for(o=0;o<A.conversions.length;o++)l=A.conversions[o],!m(c.types,l.from)&&m(c.types,l.to)&&(a=new i(l.from),a.conversions[0]=l,t(r,n.concat(a)))}}else e.push(new s(n,r.fn))}var e=[];return t(this,[]),e},s.compare=function(t,e){if(t.params.length>e.params.length)return 1;if(t.params.length<e.params.length)return-1;var r,n=t.params.length,o=0,a=0;for(r=0;r<n;r++)t.params[r].hasConversions()&&o++,e.params[r].hasConversions()&&a++;if(o>a)return 1;if(o<a)return-1;for(r=0;r<t.params.length;r++){var s=i.compare(t.params[r],e.params[r]);if(0!==s)return s}return 0},s.prototype.hasConversions=function(){for(var t=0;t<this.params.length;t++)if(this.params[t].hasConversions())return!0;return!1},s.prototype.ignore=function(){for(var t={},e=0;e<A.ignore.length;e++)t[A.ignore[e]]=!0;for(e=0;e<this.params.length;e++)if(this.params[e].contains(t))return!0;return!1},s.prototype.paramsStartWith=function(t){if(0===t.length)return!0;for(var e=g(this.params),r=g(t),n=0;n<t.length;n++){var o=this.params[n]||(e.varArgs?e:null),i=t[n]||(r.varArgs?r:null);if(!o||!i||!o.matches(i))return!1}return!0},s.prototype.toCode=function(t,e){for(var r=[],n=new Array(this.params.length),o=0;o<this.params.length;o++){var i=this.params[o],a=i.conversions[0];i.varArgs?n[o]="varArgs":a?n[o]=t.add(a.convert,"convert")+"(arg"+o+")":n[o]="arg"+o}var s=this.fn?t.add(this.fn,"signature"):void 0;return s?e+"return "+s+"("+n.join(", ")+"); // signature: "+this.params.join(", "):r.join("\n")},s.prototype.toString=function(){
return this.params.join(", ")},l.prototype.toCode=function(t,r){var n=[];if(this.param){var o=this.path.length-1,i=this.param.conversions[0],a="// type: "+(i?i.from+" (convert to "+i.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)n.push(r+"if (arguments.length > "+o+") {"),n.push(r+"  var varArgs = [];"),n.push(r+"  for (var i = "+o+"; i < arguments.length; i++) {"),n.push(r+"    varArgs.push(arguments[i]);"),n.push(r+"  }"),n.push(this.signature.toCode(t,r+"  ")),n.push(r+"}");else{for(var s=function(r,n){for(var o=[],i=0;i<r.length;i++)o[i]=t.add(e(r[i]),"test")+"("+n+")";return o.join(" || ")}.bind(this),l=this.param.types,c=[],u=0;u<l.length;u++)void 0===this.param.conversions[u]&&c.push(l[u]);n.push(r+"if ("+s(l,"arg"+o)+") { "+a),n.push(r+"  var varArgs = [arg"+o+"];"),n.push(r+"  for (var i = "+(o+1)+"; i < arguments.length; i++) {"),n.push(r+"    if ("+s(c,"arguments[i]")+") {"),n.push(r+"      varArgs.push(arguments[i]);");for(var u=0;u<l.length;u++){var d=this.param.conversions[u];if(d){var f=t.add(e(l[u]),"test"),p=t.add(d.convert,"convert");n.push(r+"    }"),n.push(r+"    else if ("+f+"(arguments[i])) {"),n.push(r+"      varArgs.push("+p+"(arguments[i]));")}}n.push(r+"    } else {"),n.push(r+"      throw createError(name, arguments.length, i, arguments[i], '"+c.join(",")+"');"),n.push(r+"    }"),n.push(r+"  }"),n.push(this.signature.toCode(t,r+"  ")),n.push(r+"}")}else if(this.param.anyType)n.push(r+"// type: any"),n.push(this._innerCode(t,r));else{var h=this.param.types[0],f="any"!==h?t.add(e(h),"test"):null;n.push(r+"if ("+f+"(arg"+o+")) { "+a),n.push(this._innerCode(t,r+"  ")),n.push(r+"}")}}else n.push(this._innerCode(t,r));return n.join("\n")},l.prototype._innerCode=function(t,e){var r,n=[];for(this.signature&&(n.push(e+"if (arguments.length === "+this.path.length+") {"),n.push(this.signature.toCode(t,e+"  ")),n.push(e+"}")),r=0;r<this.childs.length;r++)n.push(this.childs[r].toCode(t,e));if(!this.fallThrough||this.param&&this.param.anyType){var o=this._exceptions(t,e);o&&n.push(o)}return n.join("\n")},l.prototype._exceptions=function(t,e){var r=this.path.length;if(0===this.childs.length)return[e+"if (arguments.length > "+r+") {",e+"  throw createError(name, arguments.length, "+r+", arguments["+r+"]);",e+"}"].join("\n");for(var n={},o=[],i=0;i<this.childs.length;i++){var a=this.childs[i];if(a.param)for(var s=0;s<a.param.types.length;s++){var l=a.param.types[s];l in n||a.param.conversions[s]||(n[l]=!0,o.push(l))}}return e+"throw createError(name, arguments.length, "+r+", arguments["+r+"], '"+o.join(",")+"');"};var x=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"===("undefined"==typeof t?"undefined":a(t))}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],b={},z=[],k=[],A={config:b,types:x,conversions:z,ignore:k};return A=h("typed",{Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);var o=r(e);return h(o,t)},"string, Object":h,"...Function":function(t){for(var e,n=r(t),o={},i=0;i<t.length;i++){var s=t[i];if("object"!==a(s.signatures))throw e=new TypeError("Function is no typed-function (index: "+i+")"),e.data={index:i},e;for(var l in s.signatures)if(s.signatures.hasOwnProperty(l))if(o.hasOwnProperty(l)){if(s.signatures[l]!==o[l])throw e=new Error('Signature "'+l+'" is defined twice'),e.data={signature:l},e}else o[l]=s.signatures[l]}return h(n,o)}}),A.config=b,A.types=x,A.conversions=z,A.ignore=k,A.create=t,A.find=y,A.convert=w,A.addType=function(t){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");A.types.push(t)},A.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");A.conversions.push(t)},A}return t()})},function(t,e){"use strict";function r(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}e.isNumber=function(t){return"number"==typeof t},e.isInteger=function(t){return!!isFinite(t)&&t==Math.round(t)},e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.format=function(t,r){if("function"==typeof r)return r(t);if(t===1/0)return"Infinity";if(t===-(1/0))return"-Infinity";if(isNaN(t))return"NaN";var n="auto",o=void 0;switch(r&&(r.notation&&(n=r.notation),e.isNumber(r)?o=r:r.precision&&(o=r.precision)),n){case"fixed":return e.toFixed(t,o);case"exponential":return e.toExponential(t,o);case"engineering":return e.toEngineering(t,o);case"auto":return e.toPrecision(t,o,r&&r.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},e.splitNumber=function(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],o=parseFloat(e[4]||"0"),i=n.indexOf(".");o+=i!==-1?i-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(t){return o-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===a.length&&(a.push(0),o++),{sign:r,coefficients:a,exponent:o}},e.toEngineering=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var o=e.roundDigits(e.splitNumber(t),n),i=o.exponent,a=o.coefficients,s=i%3===0?i:i<0?i-3-i%3:i-i%3,l=i>=0?i:Math.abs(s);a.length-1<l&&(a=a.concat(r(l-(a.length-1))));for(var c=Math.abs(i-s),u=1;--c>=0;)u++;var d=a.slice(u).join(""),f=d.match(/[1-9]/)?"."+d:"",p=a.slice(0,u).join("")+f+"e"+(i>=0?"+":"")+s.toString();return o.sign+p},e.toFixed=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var o=e.splitNumber(t),i=e.roundDigits(o,o.exponent+1+(n||0)),a=i.coefficients,s=i.exponent+1,l=s+(n||0);return a.length<l&&(a=a.concat(r(l-a.length))),s<0&&(a=r(-s+1).concat(a),s=1),n&&a.splice(s,0,0===s?"0.":"."),i.sign+a.join("")},e.toExponential=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var o=e.splitNumber(t),i=n?e.roundDigits(o,n):o,a=i.coefficients,s=i.exponent;a.length<n&&(a=a.concat(r(n-a.length)));var l=a.shift();return i.sign+l+(a.length>0?"."+a.join(""):"")+"e"+(s>=0?"+":"")+s},e.toPrecision=function(t,n,o){if(isNaN(t)||!isFinite(t))return String(t);var i=o&&void 0!==o.lower?o.lower:.001,a=o&&void 0!==o.upper?o.upper:1e5,s=e.splitNumber(t),l=Math.abs(Math.pow(10,s.exponent));if(l<i||l>=a)return e.toExponential(t,n);var c=n?e.roundDigits(s,n):s,u=c.coefficients,d=c.exponent;u.length<n&&(u=u.concat(r(n-u.length))),u=u.concat(r(d-u.length+1+(u.length<n?n-u.length:0))),u=r(-d).concat(u);var f=d>0?d:0;return f<u.length-1&&u.splice(f+1,0,"."),c.sign+u.join("")},e.roundDigits=function(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var o=n.splice(e,n.length-e);if(o[0]>=5){var i=e-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}}return r},e.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},e.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,e.nearlyEqual=function(t,r,n){if(null==n)return t==r;if(t==r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var o=Math.abs(t-r);return o<e.DBL_EPSILON||o<=Math.max(Math.abs(t),Math.abs(r))*n}return!1}},function(t,e){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isMatrix||!1}},function(t,e,r){"use strict";var n=r(34);e.mixin=function(t){var e=new n;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},function(t,e){"use strict";function r(){}r.prototype={on:function(t,e,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){function n(){o.off(t,n),e.apply(r,arguments)}var o=this;return n._=e,this.on(t,n,r)},emit:function(t){var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=r.length;for(n;n<o;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],o=[];if(n&&e)for(var i=0,a=n.length;i<a;i++)n[i].fn!==e&&n[i].fn._!==e&&o.push(n[i]);return o.length?r[t]=o:delete r[t],this}},t.exports=r},function(t,e,r){"use strict";function n(t,e,r,n,c){function u(t,e){var r=arguments.length;if(1!==r&&2!==r)throw new l("import",r,1,2);if(e||(e={}),a(t))h(t,e);else if(Array.isArray(t))t.forEach(function(t){u(t,e)});else if("object"===("undefined"==typeof t?"undefined":o(t))){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];_(i)?d(n,i,e):a(t)?h(t,e):u(i,e)}}else if(!e.silent)throw new TypeError("Factory, Object, or Array expected")}function d(t,e,r){if(r.wrap&&"function"==typeof e&&(e=p(e)),v(c[t])&&v(e))return e=r.override?n(t,e.signatures):n(c[t],e),c[t]=e,f(t,e),void c.emit("import",t,function(){return e});if(void 0===c[t]||r.override)return c[t]=e,f(t,e),void c.emit("import",t,function(){return e});if(!r.silent)throw new Error('Cannot import "'+t+'": already exists')}function f(t,e){e&&"function"==typeof e.transform?(c.expression.transform[t]=e.transform,m(t)&&(c.expression.mathWithTransform[t]=e.transform)):(delete c.expression.transform[t],m(t)&&(c.expression.mathWithTransform[t]=e))}function p(t){var e=function(){for(var e=[],r=0,n=arguments.length;r<n;r++){var o=arguments[r];e[r]=o&&o.valueOf()}return t.apply(c,e)};return t.transform&&(e.transform=t.transform),e}function h(t,e){if("string"==typeof t.name){var o=t.name,a=o in c.expression.transform,l=t.path?s(c,t.path):c,u=l.hasOwnProperty(o)?l[o]:void 0,d=function(){var i=r(t);if(i&&"function"==typeof i.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(v(u)&&v(i))return e.override||(i=n(u,i)),i;if(void 0===u||e.override)return i;if(!e.silent)throw new Error('Cannot import "'+o+'": already exists')};t.lazy!==!1?(i(l,o,d),a||("expression.transform"===t.path||g(t))&&i(c.expression.mathWithTransform,o,d)):(l[o]=d(),a||("expression.transform"===t.path||g(t))&&(c.expression.mathWithTransform[o]=d())),c.emit("import",o,d,t.path)}else r(t)}function _(e){return"function"==typeof e||"number"==typeof e||"string"==typeof e||"boolean"==typeof e||null===e||e&&t.isUnit(e)||e&&t.isComplex(e)||e&&t.isBigNumber(e)||e&&t.isFraction(e)||e&&t.isMatrix(e)||e&&Array.isArray(e)}function v(t){return"function"==typeof t&&"object"===o(t.signatures)}function m(t){return!y.hasOwnProperty(t)}function g(t){return void 0===t.path&&!y.hasOwnProperty(t.name)}var y={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return u}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(27).lazy,a=r(27).isFactory,s=r(27).traverse,l=r(36);e.math=!0,e.name="import",e.factory=n,e.lazy=!0},function(t,e){"use strict";function r(t,e,n,o){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=o,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(void 0!=o?"-"+o:"")+" expected)",this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="ArgumentsError",r.prototype.isArgumentsError=!0,t.exports=r},function(t,e,r){"use strict";function n(t,e,r,n,o){function i(t){if(t){var r=s.map(e,s.clone);a(t,"matrix",l),a(t,"number",c),s.deepExtend(e,t);var n=s.map(e,s.clone),i=s.map(t,s.clone);return o.emit("config",n,r,i),n}return s.map(e,s.clone)}var l=["Matrix","Array"],c=["number","BigNumber","Fraction"];return i.MATRIX=l,i.NUMBER=c,i}function o(t,e){return t.indexOf(e)!==-1}function i(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}function a(t,e,r){if(void 0!==t[e]&&!o(r,t[e])){var n=i(r,t[e]);n!==-1?(console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+r[n]+'" instead of "'+t[e]+'".'),t[e]=r[n]):console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+r.map(JSON.stringify).join(", ")+".")}}var s=r(27);e.name="config",e.math=!0,e.factory=n},function(t,e,r){"use strict";t.exports=[r(39),r(49),r(51),r(54),r(64),r(70),r(71),r(72),r(73),r(56),r(74)]},function(t,e,r){"use strict";function n(t,e,r,n){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator")}return o.prototype.type="Matrix",o.prototype.isMatrix=!0,o.storage=function(t){if(!a(t))throw new TypeError("format must be a string value");var e=o._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},o._storage={},o.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},o.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},o.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},o.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},o.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},o.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},o.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},o.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},o.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},o.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},o.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},o.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},o.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},o.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},o.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},o.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},o}var o=r(40),i=o.string,a=i.isString;e.name="Matrix",e.path="type",e.factory=n},function(t,e,r){"use strict";e.array=r(41),e.boolean=r(47),e.function=r(48),e.number=r(31),e.object=r(27),e.string=r(42),e.types=r(44),e.emitter=r(33)},function(t,e,r){"use strict";function n(t,e,r){var o,i=t.length;if(i!=e[r])throw new u(i,e[r]);if(r<e.length-1){var a=r+1;for(o=0;o<i;o++){var s=t[o];if(!Array.isArray(s))throw new u(e.length-1,e.length,"<");n(t[o],e,a)}}else for(o=0;o<i;o++)if(Array.isArray(t[o]))throw new u(e.length+1,e.length,">")}function o(t,r,n,i){var a,s,l=t.length,c=r[n],u=Math.min(l,c);if(t.length=c,n<r.length-1){var d=n+1;for(a=0;a<u;a++)s=t[a],Array.isArray(s)||(s=[s],t[a]=s),o(s,r,d,i);for(a=u;a<c;a++)s=[],t[a]=s,o(s,r,d,i)}else{for(a=0;a<u;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];if(i!==e.UNINITIALIZED)for(a=u;a<c;a++)t[a]=i}}function i(t,e){var r,n=[];if(0===e.length){if(0===t.length)throw new u(null,null,"!=");return t.shift()}for(r=0;r<e[0];r+=1)n.push(i(t,e.slice(1)));return n}function a(t,e,r){var n,o;if(r<e){var i=r+1;for(n=0,o=t.length;n<o;n++)t[n]=a(t[n],e,i)}else for(;Array.isArray(t);)t=t[0];return t}function s(t,e,r){var n,o;if(Array.isArray(t)){var i=r+1;for(n=0,o=t.length;n<o;n++)t[n]=s(t[n],e,i)}else for(var a=r;a<e;a++)t=[t];return t}var l=r(31),c=r(42),u=(r(27),r(44),r(45)),d=r(46);e.size=function(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e},e.validate=function(t,e){var r=0==e.length;if(r){if(Array.isArray(t))throw new u(t.length,0)}else n(t,e,0)},e.validateIndex=function(t,e){if(!l.isNumber(t)||!l.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new d(t,e)},e.UNINITIALIZED={},e.resize=function(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!l.isNumber(t)||!l.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+c.format(e)+")")});var n=void 0!==r?r:0;return o(t,e,0,n),t},e.reshape=function(t,r){var n,o=e.flatten(t),a=function(t){return t.reduce(function(t,e){return t*e})};if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new u(0,a(e.size(t)),"!=");try{n=i(o,r)}catch(n){if(n instanceof u)throw new u(a(r),a(e.size(t)),"!=");throw n}if(o.length>0)throw new u(a(r),a(e.size(t)),"!=");return n},e.squeeze=function(t,r){for(var n=r||e.size(t);Array.isArray(t)&&1===t.length;)t=t[0],n.shift();for(var o=n.length;1===n[o-1];)o--;return o<n.length&&(t=a(t,o,0),n.length=o),t},e.unsqueeze=function(t,r,n,o){var i=o||e.size(t);if(n)for(var a=0;a<n;a++)t=[t],i.unshift(1);for(t=s(t,r,0);i.length<r;)i.push(1);return t},e.flatten=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function t(r){Array.isArray(r)?r.forEach(t):e.push(r)}),e},e.map=function(t,e){return Array.prototype.map.call(t,e)},e.forEach=function(t,e){Array.prototype.forEach.call(t,e)},e.filter=function(t,r){if(1!==e.size(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r)},e.filterRegExp=function(t,r){if(1!==e.size(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,function(t){return r.test(t)})},e.join=function(t,e){return Array.prototype.join.call(t,e)},e.identify=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e},e.generalize=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e},e.isArray=Array.isArray},function(t,e,r){"use strict";function n(t,r){if(Array.isArray(t)){for(var o="[",i=t.length,a=0;a<i;a++)0!=a&&(o+=", "),o+=n(t[a],r);return o+="]"}return e.format(t,r)}function o(t){return t&&"object"===("undefined"==typeof t?"undefined":i(t))&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=r(31).format,s=r(43).format,l=r(28);e.isString=function(t){return"string"==typeof t},e.endsWith=function(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e},e.format=function(t,r){if("number"==typeof t)return a(t,r);if(l(t))return s(t,r);if(o(t))return r&&"decimal"===r.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return n(t,r);if(e.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===("undefined"==typeof t?"undefined":i(t))){if("function"==typeof t.format)return t.format(r);if(t&&t.toString()!=={}.toString())return t.toString();var c=[];for(var u in t)t.hasOwnProperty(u)&&c.push('"'+u+'": '+e.format(t[u],r));return"{"+c.join(", ")+"}"}return String(t)},e.stringify=function(t){for(var e=String(t),r="",n=0;n<e.length;){var o=e.charAt(n);"\\"===o?(r+=o,n++,o=e.charAt(n),""!==o&&'"\\/bfnrtu'.indexOf(o)!==-1||(r+="\\"),r+=o):r+='"'===o?'\\"':o,n++}return'"'+r+'"'},e.escape=function(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(t,e){"use strict";e.format=function(t,r){if("function"==typeof r)return r(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n="auto",o=void 0;switch(void 0!==r&&(r.notation&&(n=r.notation),"number"==typeof r?o=r:r.precision&&(o=r.precision)),n){case"fixed":return e.toFixed(t,o);case"exponential":return e.toExponential(t,o);case"auto":var i=.001,a=1e5;r&&r.exponential&&(void 0!==r.exponential.lower&&(i=r.exponential.lower),void 0!==r.exponential.upper&&(a=r.exponential.upper));({toExpNeg:t.constructor.toExpNeg,toExpPos:t.constructor.toExpPos});if(t.constructor.config({toExpNeg:Math.round(Math.log(i)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),t.isZero())return"0";var s,l=t.abs();return s=l.gte(i)&&l.lt(a)?t.toSignificantDigits(o).toFixed():e.toExponential(t,o),s.replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},e.toFixed=function(t,e){return t.toFixed(e||0)}},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.type=function(t){var e="undefined"==typeof t?"undefined":r(t);return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":"Object":"function"===e?"Function":e}},function(t,e){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",r.prototype.isDimensionError=!0,t.exports=r},function(t,e){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="IndexError",r.prototype.isIndexError=!0,t.exports=r},function(t,e){"use strict";e.isBoolean=function(t){return"boolean"==typeof t}},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.memoize=function(t,e){return function n(){"object"!==r(n.cache)&&(n.cache={});for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=e?e(o):JSON.stringify(o);return a in n.cache?n.cache[a]:n.cache[a]=t.apply(t,o)}},e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var r=(e.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)},e.callWithRightArgumentCount=function(t,e,r){return Object.keys(t.signatures||{}).reduce(function(t,e){var r=(e.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)}},function(t,e,r){"use strict";function n(t,e,n,c){function _(e,r){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!p(r))throw new Error("Invalid datatype: "+r);if(t.isMatrix(e))"DenseMatrix"===e.type?(this._data=l.clone(e._data),this._size=l.clone(e._size),this._datatype=r||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=r||e._datatype);else if(e&&u(e.data)&&u(e.size))this._data=e.data,this._size=e.size,this._datatype=r||e.datatype;else if(u(e))this._data=x(e),this._size=s.size(this._data),s.validate(this._data,this._size),this._datatype=r;else{if(e)throw new TypeError("Unsupported type of data ("+o.types.type(e)+")");this._data=[],this._size=[0],this._datatype=r}}function v(e,r){if(!t.isIndex(r))throw new TypeError("Invalid index");var n=r.isScalar();if(n)return e.get(r.min());var o=r.size();if(o.length!=e._size.length)throw new i(o.length,e._size.length);for(var a=r.min(),s=r.max(),l=0,c=e._size.length;l<c;l++)h(a[l],e._size[l]),h(s[l],e._size[l]);return new _(m(e._data,r,o.length,0),e._datatype)}function m(t,e,r,n){var o=n===r-1,i=e.dimension(n);return o?i.map(function(e){return h(e,t.length),t[e]}).valueOf():i.map(function(o){h(o,t.length);var i=t[o];return m(i,e,r,n+1)}).valueOf()}function g(e,r,n,o){if(!r||r.isIndex!==!0)throw new TypeError("Invalid index");var a,c=r.size(),u=r.isScalar();if(t.isMatrix(n)?(a=n.size(),n=n.valueOf()):a=s.size(n),u){if(0!==a.length)throw new TypeError("Scalar expected");e.set(r.min(),n,o)}else{if(c.length<e._size.length)throw new i(c.length,e._size.length,"<");if(a.length<c.length){for(var d=0,f=0;1===c[d]&&1===a[d];)d++;for(;1===c[d];)f++,d++;n=s.unsqueeze(n,c.length,f,a)}if(!l.deepEqual(c,a))throw new i(c,a,">");var p=r.max().map(function(t){return t+1});w(e,p,o);var h=c.length,_=0;y(e._data,r,n,h,_)}return e}function y(t,e,r,n,o){var i=o===n-1,a=e.dimension(o);i?a.forEach(function(e,n){h(e),t[e]=r[n[0]]}):a.forEach(function(i,a){h(i),y(t[i],e,r[a[0]],n,o+1)})}function w(t,e,r){for(var n=t._size.slice(0),o=!1;n.length<e.length;)n.push(0),o=!0;for(var i=0,a=e.length;i<a;i++)e[i]>n[i]&&(n[i]=e[i],o=!0);o&&z(t,n,r)}function x(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];u(n)?t[e]=x(n):n&&n.isMatrix===!0&&(t[e]=x(n.valueOf()))}return t}var b=n(r(39));_.prototype=new b,_.prototype.type="DenseMatrix",_.prototype.isDenseMatrix=!0,_.prototype.storage=function(){return"dense"},_.prototype.datatype=function(){return this._datatype},_.prototype.create=function(t,e){return new _(t,e)},_.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return v(this,t);case 2:case 3:return g(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},_.prototype.get=function(t){if(!u(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new i(t.length,this._size.length);for(var e=0;e<t.length;e++)h(t[e],this._size[e]);for(var r=this._data,n=0,o=t.length;n<o;n++){var a=t[n];h(a,r.length),r=r[a]}return r},_.prototype.set=function(t,e,r){if(!u(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new i(t.length,this._size.length,"<");var n,o,a,s=t.map(function(t){return t+1});w(this,s,r);var l=this._data;for(n=0,o=t.length-1;n<o;n++)a=t[n],h(a,l.length),l=l[a];return a=t[t.length-1],h(a,l.length),l[a]=e,this},_.prototype.resize=function(t,e,r){if(!u(t))throw new TypeError("Array expected");var n=r?this.clone():this;return z(n,t,e)};var z=function(t,e,r){if(0===e.length){for(var n=t._data;u(n);)n=n[0];return n}return t._size=e.slice(0),t._data=s.resize(t._data,t._size,r),t};return _.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=s.reshape(r._data,t),r._size=t.slice(0),r},_.prototype.clone=function(){var t=new _({data:l.clone(this._data),size:l.clone(this._size),datatype:this._datatype});return t},_.prototype.size=function(){return this._size.slice(0)},_.prototype.map=function(t){var e=this,r=function r(n,o){return u(n)?n.map(function(t,e){return r(t,o.concat(e))}):t(n,o,e)};return new _({data:r(this._data,[]),size:l.clone(this._size),datatype:this._datatype})},_.prototype.forEach=function(t){var e=this,r=function r(n,o){u(n)?n.forEach(function(t,e){r(t,o.concat(e))}):t(n,o,e)};r(this._data,[])},_.prototype.toArray=function(){return l.clone(this._data)},_.prototype.valueOf=function(){return this._data},_.prototype.format=function(t){return a.format(this._data,t)},_.prototype.toString=function(){return a.format(this._data)},_.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},_.prototype.diagonal=function(e){if(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!d(e)||!f(e))throw new TypeError("The parameter k must be an integer number")}else e=0;for(var r=e>0?e:0,n=e<0?-e:0,o=this._size[0],i=this._size[1],a=Math.min(o-n,i-r),s=[],l=0;l<a;l++)s[l]=this._data[l+n][l+r];return new _({data:s,size:[a],datatype:this._datatype})},_.diagonal=function(e,r,n,o,i){if(!u(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!d(e)||!f(e)||e<1)throw new Error("Size values must be positive integers");return e}),n){if(t.isBigNumber(n)&&(n=n.toNumber()),!d(n)||!f(n))throw new TypeError("The parameter k must be an integer number")}else n=0;o&&p(i)&&(o=c.convert(o,i));var a,l=n>0?n:0,h=n<0?-n:0,v=e[0],m=e[1],g=Math.min(v-h,m-l);if(u(r)){if(r.length!==g)throw new Error("Invalid value array length");a=function(t){return r[t]}}else if(t.isMatrix(r)){var y=r.size();if(1!==y.length||y[0]!==g)throw new Error("Invalid matrix length");a=function(t){return r.get([t])}}else a=function(){return r};o||(o=t.isBigNumber(a(0))?new t.BigNumber(0):0);var w=[];if(e.length>0){w=s.resize(w,e,o);for(var x=0;x<g;x++)w[x+h][x+l]=a(x)}return new _({data:w,size:[v,m]})},_.fromJSON=function(t){return new _(t)},_.prototype.swapRows=function(t,e){if(!(d(t)&&f(t)&&d(e)&&f(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(t,this._size[0]),h(e,this._size[0]),_._swapRows(t,e,this._data),this},_._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n},t.Matrix._storage.dense=_,t.Matrix._storage.default=_,_}var o=r(40),i=r(45),a=(r(50).getSafeProperty,r(50).setSafeProperty,o.string),s=o.array,l=o.object,c=o.number,u=Array.isArray,d=c.isNumber,f=c.isInteger,p=a.isString,h=s.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=n,e.lazy=!1},function(t,e,r){"use strict";function n(t,e){if(l(t)&&i(t,e))return t[e];if("function"==typeof t[e]&&s(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function o(t,e,r){if(l(t)&&i(t,e))return t[e]=r;throw new Error('No access to property "'+e+'"')}function i(t,e){return!(!t||"object"!==("undefined"==typeof t?"undefined":c(t)))&&(!!u(d,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function a(t,e){if(!s(t,e))throw new Error('No access to method "'+e+'"')}function s(t,e){return!(!t||"function"!=typeof t[e])&&(!(u(t,e)&&t.__proto__&&e in t.__proto__)&&(!!u(f,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function l(t){return"object"===("undefined"==typeof t?"undefined":c(t))&&t&&t.constructor===Object}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=r(27).hasOwnProperty,d={length:!0,name:!0},f={toString:!0,valueOf:!0,toLocaleString:!0};e.getSafeProperty=n,e.setSafeProperty=o,e.isSafeProperty=i,e.validateSafeMethod=a,e.isSafeMethod=s,e.isPlainObject=l},function(t,e,r){"use strict";function n(t,e,n,_){function v(e,r){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!p(r))throw new Error("Invalid datatype: "+r);if(t.isMatrix(e))y(this,e,r);else if(e&&u(e.index)&&u(e.ptr)&&u(e.size))this._values=e.values,
this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=r||e.datatype;else if(u(e))w(this,e,r);else{if(e)throw new TypeError("Unsupported type of data ("+o.types.type(e)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=r}}var m=n(r(39)),g=n(r(52)),y=function(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?s.clone(e._values):void 0,t._index=s.clone(e._index),t._ptr=s.clone(e._ptr),t._size=s.clone(e._size),t._datatype=r||e._datatype):w(t,e.valueOf(),r||e._datatype)},w=function(t,e,r){t._values=[],t._index=[],t._ptr=[],t._datatype=r;var n=e.length,o=0,i=g,a=0;if(p(r)&&(i=_.find(g,[r,r])||g,a=_.convert(0,r)),n>0){var s=0;do{t._ptr.push(t._index.length);for(var l=0;l<n;l++){var c=e[l];if(u(c)){if(0===s&&o<c.length&&(o=c.length),s<c.length){var d=c[s];i(d,a)||(t._values.push(d),t._index.push(l))}}else 0===s&&o<1&&(o=1),i(c,a)||(t._values.push(c),t._index.push(l))}s++}while(s<o)}t._ptr.push(t._index.length),t._size=[n,o]};v.prototype=new m,v.prototype.type="SparseMatrix",v.prototype.isSparseMatrix=!0,v.prototype.storage=function(){return"sparse"},v.prototype.datatype=function(){return this._datatype},v.prototype.create=function(t,e){return new v(t,e)},v.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},v.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return x(this,t);case 2:case 3:return b(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}};var x=function(e,r){if(!t.isIndex(r))throw new TypeError("Invalid index");var n=r.isScalar();if(n)return e.get(r.min());var o=r.size();if(o.length!=e._size.length)throw new i(o.length,e._size.length);var a,s,l,c,u=r.min(),d=r.max();for(a=0,s=e._size.length;a<s;a++)h(u[a],e._size[a]),h(d[a],e._size[a]);var f=e._values,p=e._index,_=e._ptr,m=r.dimension(0),g=r.dimension(1),y=[],w=[];m.forEach(function(t,e){w[t]=e[0],y[t]=!0});var x=f?[]:void 0,b=[],z=[];return g.forEach(function(t){for(z.push(b.length),l=_[t],c=_[t+1];l<c;l++)a=p[l],y[a]===!0&&(b.push(w[a]),x&&x.push(f[l]))}),z.push(b.length),new v({values:x,index:b,ptr:z,size:o,datatype:e._datatype})},b=function(e,r,n,o){if(!r||r.isIndex!==!0)throw new TypeError("Invalid index");var l,c=r.size(),u=r.isScalar();if(t.isMatrix(n)?(l=n.size(),n=n.toArray()):l=a.size(n),u){if(0!==l.length)throw new TypeError("Scalar expected");e.set(r.min(),n,o)}else{if(1!==c.length&&2!==c.length)throw new i(c.length,e._size.length,"<");if(l.length<c.length){for(var d=0,f=0;1===c[d]&&1===l[d];)d++;for(;1===c[d];)f++,d++;n=a.unsqueeze(n,c.length,f,l)}if(!s.deepEqual(c,l))throw new i(c,l,">");for(var p=r.min()[0],h=r.min()[1],_=l[0],v=l[1],m=0;m<_;m++)for(var g=0;g<v;g++){var y=n[m][g];e.set([m+p,g+h],y,o)}}return e};v.prototype.get=function(t){if(!u(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new i(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],r=t[1];h(e,this._size[0]),h(r,this._size[1]);var n=z(e,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===e?this._values[n]:0},v.prototype.set=function(t,e,r){if(!u(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new i(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var n=t[0],o=t[1],a=this._size[0],s=this._size[1],l=g,c=0;p(this._datatype)&&(l=_.find(g,[this._datatype,this._datatype])||g,c=_.convert(0,this._datatype)),(n>a-1||o>s-1)&&(E(this,Math.max(n+1,a),Math.max(o+1,s),r),a=this._size[0],s=this._size[1]),h(n,a),h(o,s);var d=z(n,this._ptr[o],this._ptr[o+1],this._index);return d<this._ptr[o+1]&&this._index[d]===n?l(e,c)?k(d,o,this._values,this._index,this._ptr):this._values[d]=e:A(d,n,o,e,this._values,this._index,this._ptr),this};var z=function(t,e,r,n){if(r-e===0)return r;for(var o=e;o<r;o++)if(n[o]===t)return o;return e},k=function(t,e,r,n,o){r.splice(t,1),n.splice(t,1);for(var i=e+1;i<o.length;i++)o[i]--},A=function(t,e,r,n,o,i,a){o.splice(t,0,n),i.splice(t,0,e);for(var s=r+1;s<a.length;s++)a[s]++};v.prototype.resize=function(t,e,r){if(!u(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");t.forEach(function(e){if(!c.isNumber(e)||!c.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+l.format(t)+")")});var n=r?this.clone():this;return E(n,t[0],t[1],e)};var E=function(t,e,r,n){var o=n||0,i=g,a=0;p(t._datatype)&&(i=_.find(g,[t._datatype,t._datatype])||g,a=_.convert(0,t._datatype),o=_.convert(o,t._datatype));var s,l,c,u=!i(o,a),d=t._size[0],f=t._size[1];if(r>f){for(l=f;l<r;l++)if(t._ptr[l]=t._values.length,u)for(s=0;s<d;s++)t._values.push(o),t._index.push(s);t._ptr[r]=t._values.length}else r<f&&(t._ptr.splice(r+1,f-r),t._values.splice(t._ptr[r],t._values.length),t._index.splice(t._ptr[r],t._index.length));if(f=r,e>d){if(u){var h=0;for(l=0;l<f;l++){t._ptr[l]=t._ptr[l]+h,c=t._ptr[l+1]+h;var v=0;for(s=d;s<e;s++,v++)t._values.splice(c+v,0,o),t._index.splice(c+v,0,s),h++}t._ptr[f]=t._values.length}}else if(e<d){var m=0;for(l=0;l<f;l++){t._ptr[l]=t._ptr[l]-m;var y=t._ptr[l],w=t._ptr[l+1]-m;for(c=y;c<w;c++)s=t._index[c],s>e-1&&(t._values.splice(c,1),t._index.splice(c,1),m++)}t._ptr[l]=t._values.length}return t._size[0]=e,t._size[1]=r,t};v.prototype.reshape=function(t,e){if(!u(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach(function(e){if(!c.isNumber(e)||!c.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+l.format(t)+")")}),this._size[0]*this._size[1]!==t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],o=0;o<r._ptr.length;o++)for(var i=0;i<r._ptr[o+1]-r._ptr[o];i++)n.push(o);for(var a=r._values.slice(),s=r._index.slice(),o=0;o<r._index.length;o++){var d=s[o],f=n[o],p=d*r._size[1]+f;n[o]=p%t[1],s[o]=Math.floor(p/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var o=0;o<r._ptr.length;o++)r._ptr[o]=0;for(var h=0;h<a.length;h++){var o=s[h],i=n[h],_=a[h],v=z(o,r._ptr[i],r._ptr[i+1],r._index);A(v,o,i,_,r._values,r._index,r._ptr)}return r},v.prototype.clone=function(){var t=new v({values:this._values?s.clone(this._values):void 0,index:s.clone(this._index),ptr:s.clone(this._ptr),size:s.clone(this._size),datatype:this._datatype});return t},v.prototype.size=function(){return this._size.slice(0)},v.prototype.map=function(t,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var r=this,n=this._size[0],o=this._size[1],i=function(e,n,o){return t(e,[n,o],r)};return N(this,0,n-1,0,o-1,i,e)};var N=function(t,e,r,n,o,i,a){var s=[],l=[],c=[],u=g,d=0;p(t._datatype)&&(u=_.find(g,[t._datatype,t._datatype])||g,d=_.convert(0,t._datatype));for(var f=function(t,e,r){t=i(t,e,r),u(t,d)||(s.push(t),l.push(e))},h=n;h<=o;h++){c.push(s.length);for(var m=t._ptr[h],y=t._ptr[h+1],w=e,x=m;x<y;x++){var b=t._index[x];if(b>=e&&b<=r){if(!a)for(var z=w;z<b;z++)f(0,z-e,h-n);f(t._values[x],b-e,h-n)}w=b+1}if(!a)for(var k=w;k<=r;k++)f(0,k-e,h-n)}return c.push(s.length),new v({values:s,index:l,ptr:c,size:[r-e+1,o-n+1]})};v.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this,n=this._size[0],o=this._size[1],i=0;i<o;i++){for(var a=this._ptr[i],s=this._ptr[i+1],l=0,c=a;c<s;c++){var u=this._index[c];if(!e)for(var d=l;d<u;d++)t(0,[d,i],r);t(this._values[c],[u,i],r),l=u+1}if(!e)for(var f=l;f<n;f++)t(0,[f,i],r)}},v.prototype.toArray=function(){return S(this._values,this._index,this._ptr,this._size,!0)},v.prototype.valueOf=function(){return S(this._values,this._index,this._ptr,this._size,!1)};var S=function(t,e,r,n,o){var i,a,l=n[0],c=n[1],u=[];for(i=0;i<l;i++)for(u[i]=[],a=0;a<c;a++)u[i][a]=0;for(a=0;a<c;a++)for(var d=r[a],f=r[a+1],p=d;p<f;p++)i=e[p],u[i][a]=t?o?s.clone(t[p]):t[p]:1;return u};return v.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],n=this.density(),o="Sparse Matrix ["+l.format(e,t)+" x "+l.format(r,t)+"] density: "+l.format(n,t)+"\n",i=0;i<r;i++)for(var a=this._ptr[i],s=this._ptr[i+1],c=a;c<s;c++){var u=this._index[c];o+="\n    ("+l.format(u,t)+", "+l.format(i,t)+") ==> "+(this._values?l.format(this._values[c],t):"X")}return o},v.prototype.toString=function(){return l.format(this.toArray())},v.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},v.prototype.diagonal=function(e){if(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!d(e)||!f(e))throw new TypeError("The parameter k must be an integer number")}else e=0;var r=e>0?e:0,n=e<0?-e:0,o=this._size[0],i=this._size[1],a=Math.min(o-n,i-r),s=[],l=[],c=[];c[0]=0;for(var u=r;u<i&&s.length<a;u++)for(var p=this._ptr[u],h=this._ptr[u+1],_=p;_<h;_++){var m=this._index[_];if(m===u-r+n){s.push(this._values[_]),l[s.length-1]=m-n;break}}return c.push(s.length),new v({values:s,index:l,ptr:c,size:[a,1]})},v.fromJSON=function(t){return new v(t)},v.diagonal=function(e,r,n,o,i){if(!u(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!d(e)||!f(e)||e<1)throw new Error("Size values must be positive integers");return e}),n){if(t.isBigNumber(n)&&(n=n.toNumber()),!d(n)||!f(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var a=g,s=0;p(i)&&(a=_.find(g,[i,i])||g,s=_.convert(0,i));var l,c=n>0?n:0,h=n<0?-n:0,m=e[0],y=e[1],w=Math.min(m-h,y-c);if(u(r)){if(r.length!==w)throw new Error("Invalid value array length");l=function(t){return r[t]}}else if(t.isMatrix(r)){var x=r.size();if(1!==x.length||x[0]!==w)throw new Error("Invalid matrix length");l=function(t){return r.get([t])}}else l=function(){return r};for(var b=[],z=[],k=[],A=0;A<y;A++){k.push(b.length);var E=A-c;if(E>=0&&E<w){var N=l(E);a(N,s)||(z.push(E+h),b.push(N))}}return k.push(b.length),new v({values:b,index:z,ptr:k,size:[m,y]})},v.prototype.swapRows=function(t,e){if(!(d(t)&&f(t)&&d(e)&&f(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(t,this._size[0]),h(e,this._size[0]),v._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},v._forEachRow=function(t,e,r,n,o){for(var i=n[t],a=n[t+1],s=i;s<a;s++)o(r[s],e[s])},v._swapRows=function(t,e,r,n,o,i){for(var a=0;a<r;a++){var s=i[a],l=i[a+1],c=z(t,s,l,o),u=z(e,s,l,o);if(c<l&&u<l&&o[c]===t&&o[u]===e){if(n){var d=n[c];n[c]=n[u],n[u]=d}}else if(c<l&&o[c]===t&&(u>=l||o[u]!==e)){var f=n?n[c]:void 0;o.splice(u,0,e),n&&n.splice(u,0,f),o.splice(u<=c?c+1:c,1),n&&n.splice(u<=c?c+1:c,1)}else if(u<l&&o[u]===e&&(c>=l||o[c]!==t)){var p=n?n[u]:void 0;o.splice(c,0,t),n&&n.splice(c,0,p),o.splice(c<=u?u+1:u,1),n&&n.splice(c<=u?u+1:u,1)}}},t.Matrix._storage.sparse=v,v}var o=r(40),i=r(45),a=o.array,s=o.object,l=o.string,c=o.number,u=Array.isArray,d=c.isNumber,f=c.isInteger,p=l.isString,h=a.validateIndex;e.name="SparseMatrix",e.path="type",e.factory=n,e.lazy=!1},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,r){return t===r||o(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.eq(r)||i(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return a(t.value,e.value)},"string, string":function(t,e){return t===e}});return a}var o=r(31).nearlyEqual,i=r(53);e.factory=n},function(t,e){"use strict";t.exports=function(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var o=t.constructor.max(t.abs(),e.abs());return n.lte(o.times(r))}return!1}},function(t,e,r){"use strict";function n(t,e,n){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t.FibonacciHeap}var i=n(r(55)),a=n(r(52));return o.prototype.type="Spa",o.prototype.isSpa=!0,o.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var r=this._heap.insert(t,e);this._values[t]=r}},o.prototype.get=function(t){var e=this._values[t];return e?e.value:0},o.prototype.accumulate=function(t,e){var r=this._values[t];r?r.value=i(r.value,e):(r=this._heap.insert(t,e),this._values[t]=r)},o.prototype.forEach=function(t,e,r){var n=this._heap,o=this._values,i=[],s=n.extractMinimum();for(s&&i.push(s);s&&s.key<=e;)s.key>=t&&(a(s.value,0)||r(s.key,s.value,this)),s=n.extractMinimum(),s&&i.push(s);for(var l=0;l<i.length;l++){var c=i[l];s=n.insert(c.key,c.value),o[s.key]=s}},o.prototype.swap=function(t,e){var r=this._values[t],n=this._values[e];if(!r&&n)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(r&&!n)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(r&&n){var o=r.value;r.value=n.value,n.value=o}},o}e.name="Spa",e.path="type",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var a=n(r(56)),s=n(r(57)),l=r(58),c=n(r(59)),u=n(r(60)),d=n(r(61)),f=n(r(62)),p=n(r(63)),h=i("add",o({"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=u(t,e,s);break;default:r=c(e,t,s,!0)}break;default:switch(e.storage()){case"sparse":r=c(t,e,s,!1);break;default:r=f(t,e,s)}}return r},"Array, Array":function(t,e){return h(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return h(a(t),e)},"Matrix, Array":function(t,e){return h(t,a(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=d(t,e,s,!1);break;default:r=p(t,e,s,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=d(e,t,s,!0);break;default:r=p(e,t,s,!0)}return r},"Array, any":function(t,e){return p(a(t),e,s,!1).valueOf()},"any, Array":function(t,e){return p(a(e),t,s,!0).valueOf()},"any, any":s,"Array | Matrix | any, Array | Matrix | any, ...any":function(t,e,r){for(var n=h(t,e),o=0;o<r.length;o++)n=h(n,r[o]);return n}},s.signatures));return h.toTex={2:"\\left(${args[0]}"+l.operators.add+"${args[1]}\\right)"},h}var o=r(27).extend;e.name="add",e.factory=n},function(t,e){"use strict";function r(t,e,r,n){function o(e,r,n){var o=t.Matrix.storage(r||"default");return new o(e,n)}var i=n("matrix",{"":function(){return o([])},string:function(t){return o([],t)},"string, string":function(t,e){return o([],t,e)},Array:function(t){return o(t)},Matrix:function(t){return o(t,t.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});return i.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},i}e.name="matrix",e.factory=r},function(t,e){"use strict";function r(t,e,r,n){var o=n("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=o(r.value,e.value),r.fixPrefix=!1,r}});return o}e.factory=r},function(t,e){"use strict";e.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var r={deg:"^\\circ"};e.toSymbol=function(t,n){if(n="undefined"!=typeof n&&n)return r.hasOwnProperty(t)?r[t]:"\\mathrm{"+t+"}";if(e.symbols.hasOwnProperty(t))return e.symbols[t];if(t.indexOf("_")!==-1){var o=t.indexOf("_");return e.toSymbol(t.substring(0,o))+"_{"+e.toSymbol(t.substring(o+1))+"}"}return t}},function(t,e,r){"use strict";function n(t,e,r,n){var i=t.DenseMatrix,a=function(t,e,r,a){var s=t._data,l=t._size,c=t._datatype,u=e._values,d=e._index,f=e._ptr,p=e._size,h=e._datatype;if(l.length!==p.length)throw new o(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,v,m=l[0],g=l[1],y="string"==typeof c&&c===h?c:void 0,w=y?n.find(r,[y,y]):r,x=[];for(_=0;_<m;_++)x[_]=[];var b=[],z=[];for(v=0;v<g;v++){for(var k=v+1,A=f[v],E=f[v+1],N=A;N<E;N++)_=d[N],b[_]=a?w(u[N],s[_][v]):w(s[_][v],u[N]),z[_]=k;for(_=0;_<m;_++)z[_]===k?x[_][v]=b[_]:x[_][v]=s[_][v]}return new i({data:x,size:[m,g],datatype:y})};return a}var o=r(45);e.name="algorithm01",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var a=n(r(52)),s=t.SparseMatrix,l=function(t,e,r){var n=t._values,l=t._index,c=t._ptr,u=t._size,d=t._datatype,f=e._values,p=e._index,h=e._ptr,_=e._size,v=e._datatype;if(u.length!==_.length)throw new o(u.length,_.length);if(u[0]!==_[0]||u[1]!==_[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+_+")");var m,g=u[0],y=u[1],w=a,x=0,b=r;"string"==typeof d&&d===v&&(m=d,w=i.find(a,[m,m]),x=i.convert(0,m),b=i.find(r,[m,m]));var z,k,A,E,N,S=n&&f?[]:void 0,T=[],C=[],M=new s({values:S,index:T,ptr:C,size:[g,y],datatype:m}),O=n&&f?[]:void 0,B=n&&f?[]:void 0,j=[],F=[];for(k=0;k<y;k++){C[k]=T.length;var D=k+1;for(E=c[k],N=c[k+1],A=E;A<N;A++)z=l[A],T.push(z),j[z]=D,O&&(O[z]=n[A]);for(E=h[k],N=h[k+1],A=E;A<N;A++)if(z=p[A],j[z]===D){if(O){var L=b(O[z],f[A]);w(L,x)?j[z]=null:O[z]=L}}else T.push(z),F[z]=D,B&&(B[z]=f[A]);if(O&&B)for(A=C[k];A<T.length;)z=T[A],j[z]===D?(S[A]=O[z],A++):F[z]===D?(S[A]=B[z],A++):T.splice(A,1)}return C[y]=T.length,M};return l}var o=r(45);e.name="algorithm04",e.factory=n},function(t,e){"use strict";function r(t,e,r,n){var o=t.DenseMatrix,i=function(t,e,r,i){var a=t._values,s=t._index,l=t._ptr,c=t._size,u=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d,f=c[0],p=c[1],h=r;"string"==typeof u&&(d=u,e=n.convert(e,d),h=n.find(r,[d,d]));for(var _=[],v=new o({data:_,size:[f,p],datatype:d}),m=[],g=[],y=0;y<p;y++){for(var w=y+1,x=l[y],b=l[y+1],z=x;z<b;z++){var k=s[z];m[k]=a[z],g[k]=w}for(var A=0;A<f;A++)0===y&&(_[A]=[]),g[A]===w?_[A][y]=i?h(e,m[A]):h(m[A],e):_[A][y]=e}return v};return i}e.name="algorithm10",e.factory=r},function(t,e,r){"use strict";function n(t,e,r,n){var o=t.DenseMatrix,a=function(t,e,r){var a=t._data,l=t._size,c=t._datatype,u=e._data,d=e._size,f=e._datatype,p=[];if(l.length!==d.length)throw new i(l.length,d.length);for(var h=0;h<l.length;h++){if(l[h]!==d[h])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");p[h]=l[h]}var _,v=r;"string"==typeof c&&c===f&&(_=c,e=n.convert(e,_),v=n.find(r,[_,_]));var m=p.length>0?s(v,0,p,p[0],a,u):[];return new o({data:m,size:p,datatype:_})},s=function t(e,r,n,o,i,a){var s=[];if(r===n.length-1)for(var l=0;l<o;l++)s[l]=e(i[l],a[l]);else for(var c=0;c<o;c++)s[c]=t(e,r+1,n,n[r+1],i[c],a[c]);return s};return a}var o=r(40),i=r(45),a=o.string;a.isString;e.name="algorithm13",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var i=t.DenseMatrix,a=function(t,e,r,a){var l,c=t._data,u=t._size,d=t._datatype,f=r;"string"==typeof d&&(l=d,e=n.convert(e,l),f=n.find(r,[l,l]));var p=u.length>0?s(f,0,u,u[0],c,e,a):[];return new i({data:p,size:o(u),datatype:l})},s=function t(e,r,n,o,i,a,s){var l=[];if(r===n.length-1)for(var c=0;c<o;c++)l[c]=s?e(a,i[c]):e(i[c],a);else for(var u=0;u<o;u++)l[u]=t(e,r+1,n,n[r+1],i[u],a,s);return l};return a}var o=r(27).clone;e.name="algorithm14",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}var a=n(r(65)),s=n(r(69)),l=1/Math.log((1+Math.sqrt(5))/2);i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,e){var r={key:t,value:e,degree:0};if(this._minimum){var n=this._minimum;r.left=n,r.right=n.right,n.right=r,r.right.left=r,a(t,n.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var e=this._minimum,r=t.degree,n=t.child;r>0;){var o=n.right;n.left.right=n.right,n.right.left=n.left,n.left=e,n.right=e.right,e.right=n,n.right.left=n,n.parent=null,n=o,r--}return t.left.right=t.right,t.right.left=t.left,t==t.right?e=null:(e=t.right,e=p(e,this._size)),this._size--,this._minimum=e,t},i.prototype.remove=function(t){this._minimum=c(this._minimum,t,-1),this.extractMinimum()};var c=function(t,e,r){e.key=r;var n=e.parent;return n&&a(e.key,n.key)&&(u(t,e,n),d(t,n)),a(e.key,t.key)&&(t=e),t},u=function(t,e,r){e.left.right=e.right,e.right.left=e.left,r.degree--,r.child==e&&(r.child=e.right),0===r.degree&&(r.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1},d=function t(e,r){var n=r.parent;n&&(r.mark?(u(e,r,n),t(n)):r.mark=!0)},f=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1},p=function(t,e){var r=Math.floor(Math.log(e)*l)+1,n=new Array(r),o=0,i=t;if(i)for(o++,i=i.right;i!==t;)o++,i=i.right;for(var c;o>0;){for(var u=i.degree,d=i.right;;){if(c=n[u],!c)break;if(s(i.key,c.key)){var p=c;c=i,i=p}f(c,i),n[u]=null,u++}n[u]=i,i=d,o--}t=null;for(var h=0;h<r;h++)c=n[h],c&&(t?(c.left.right=c.right,c.right.left=c.left,c.left=t,c.right=t.right,t.right=c,c.right.left=c,a(c.key,t.key)&&(t=c)):t=c);return t};return i}e.name="FibonacciHeap",e.path="type",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(56)),l=n(r(66)),c=n(r(67)),u=n(r(68)),d=n(r(62)),f=n(r(63)),p=r(58),h=a("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,r){return t<r&&!o(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.lt(r)&&!i(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return t.compare(e)===-1},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return h(t.value,e.value)},"string, string":function(t,e){return t<e},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,h);break;default:r=l(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":r=l(t,e,h,!1);break;default:r=d(t,e,h)}}return r},"Array, Array":function(t,e){return h(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return h(s(t),e)},"Matrix, Array":function(t,e){return h(t,s(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=u(t,e,h,!1);break;default:r=f(t,e,h,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=u(e,t,h,!0);break;default:r=f(e,t,h,!0)}return r},"Array, any":function(t,e){return f(s(t),e,h,!1).valueOf()},"any, Array":function(t,e){return f(s(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+p.operators.smaller+"${args[1]}\\right)"},h}var o=r(31).nearlyEqual,i=r(53);e.name="smaller",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var i=t.DenseMatrix,a=function(t,e,r,a){var s=t._data,l=t._size,c=t._datatype,u=e._values,d=e._index,f=e._ptr,p=e._size,h=e._datatype;if(l.length!==p.length)throw new o(l.length,p.length);if(l[0]!==p[0]||l[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+p+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,v=l[0],m=l[1],g=0,y=r;"string"==typeof c&&c===h&&(_=c,g=n.convert(0,_),y=n.find(r,[_,_]));for(var w=[],x=0;x<v;x++)w[x]=[];for(var b=[],z=[],k=0;k<m;k++){for(var A=k+1,E=f[k],N=f[k+1],S=E;S<N;S++){var T=d[S];b[T]=a?y(u[S],s[T][k]):y(s[T][k],u[S]),z[T]=A}for(var C=0;C<v;C++)z[C]===A?w[C][k]=b[C]:w[C][k]=a?y(g,s[C][k]):y(s[C][k],g)}return new i({data:w,size:[v,m],datatype:_})};return a}var o=r(45);e.name="algorithm03",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var i=t.DenseMatrix,a=function(t,e,r){var a=t._size,l=t._datatype,c=e._size,u=e._datatype;if(a.length!==c.length)throw new o(a.length,c.length);if(a[0]!==c[0]||a[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+c+")");var d,f=a[0],p=a[1],h=0,_=r;"string"==typeof l&&l===u&&(d=l,h=n.convert(0,d),_=n.find(r,[d,d]));var v,m,g=[];for(v=0;v<f;v++)g[v]=[];var y=new i({data:g,size:[f,p],datatype:d}),w=[],x=[],b=[],z=[];for(m=0;m<p;m++){var k=m+1;for(s(t,m,b,w,k),s(e,m,z,x,k),v=0;v<f;v++){var A=b[v]===k?w[v]:h,E=z[v]===k?x[v]:h;g[v][m]=_(A,E)}}return y},s=function(t,e,r,n,o){for(var i=t._values,a=t._index,s=t._ptr,l=s[e],c=s[e+1];l<c;l++){var u=a[l];r[u]=o,n[u]=i[l]}};return a}var o=r(45);e.name="algorithm07",e.factory=n},function(t,e){"use strict";function r(t,e,r,n){var o=t.DenseMatrix,i=function(t,e,r,i){var a=t._values,s=t._index,l=t._ptr,c=t._size,u=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d,f=c[0],p=c[1],h=r;"string"==typeof u&&(d=u,e=n.convert(e,d),h=n.find(r,[d,d]));for(var _=[],v=new o({data:_,size:[f,p],datatype:d}),m=[],g=[],y=0;y<p;y++){for(var w=y+1,x=l[y],b=l[y+1],z=x;z<b;z++){var k=s[z];m[k]=a[z],g[k]=w}for(var A=0;A<f;A++)0===y&&(_[A]=[]),g[A]===w?_[A][y]=i?h(e,m[A]):h(m[A],e):_[A][y]=i?h(e,0):h(0,e)}return v};return i}e.name="algorithm12",e.factory=r},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(56)),l=n(r(66)),c=n(r(67)),u=n(r(68)),d=n(r(62)),f=n(r(63)),p=r(58),h=a("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,r){return t>r&&!o(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.gt(r)&&!i(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return h(t.value,e.value)},"string, string":function(t,e){return t>e},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,h);break;default:r=l(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":r=l(t,e,h,!1);break;default:r=d(t,e,h)}}return r},"Array, Array":function(t,e){return h(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return h(s(t),e)},"Matrix, Array":function(t,e){return h(t,s(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=u(t,e,h,!1);break;default:r=f(t,e,h,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=u(e,t,h,!0);break;default:r=f(e,t,h,!0)}return r},"Array, any":function(t,e){return f(s(t),e,h,!1).valueOf()},"any, Array":function(t,e){return f(s(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+p.operators.larger+"${args[1]}\\right)"},h}var o=r(31).nearlyEqual,i=r(53);e.name="larger",e.factory=n},function(t,e,r){"use strict";function n(t,e,n){function i(e,r){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(r&&!l(r))throw new Error("Invalid datatype: "+r);if(t.isMatrix(e)||s(e)){var n=new c(e,r);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(e&&s(e.data)&&s(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min="undefined"!=typeof e.min?e.min:null,this._max="undefined"!=typeof e.max?e.max:null;else{if(e)throw new TypeError("Unsupported type of data ("+o.types.type(e)+")");this._data=[],this._size=[0],this._datatype=r,this._min=null,this._max=null}}var c=n(r(49)),u=n(r(65));return i.prototype=new c,i.prototype.type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(e){switch(arguments.length){case 1:var r=c.prototype.subset.call(this,e);return t.isMatrix(r)?new i({data:r._data,size:r._size,datatype:r._datatype}):r;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){var t=new i({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype});return t},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(t){return new i(t)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(e){(null===t||u(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},i.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(e){(null===t||u(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},i}var o=r(40),i=o.string,a=o.object,s=Array.isArray,l=i.isString;e.name="ImmutableDenseMatrix",e.path="type",e.factory=n},function(t,e,r){"use strict";function n(t){function e(n){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var o=0,i=arguments.length;o<i;o++){var a=arguments[o];if(t.isRange(a))this._dimensions.push(a),this._isScalar=!1;else if(Array.isArray(a)||t.isMatrix(a)){var s=r(a.valueOf());this._dimensions.push(s);var l=s.size();
1===l.length&&1===l[0]||(this._isScalar=!1)}else if("number"==typeof a)this._dimensions.push(r([a]));else{if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(a)}}}function r(e){for(var r=0,n=e.length;r<n;r++)if("number"!=typeof e[r]||!i(e[r]))throw new TypeError("Index parameters must be positive integer numbers");return new t.ImmutableDenseMatrix(e)}return e.prototype.type="Index",e.prototype.isIndex=!0,e.prototype.clone=function(){var t=new e;return t._dimensions=o(this._dimensions),t._isScalar=this._isScalar,t},e.create=function(t){var r=new e;return e.apply(r,t),r},e.prototype.size=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t[e]="string"==typeof n?1:n.size()[0]}return t},e.prototype.max=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t[e]="string"==typeof n?n:n.max()}return t},e.prototype.min=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t[e]="string"==typeof n?n:n.min()}return t},e.prototype.forEach=function(t){for(var e=0,r=this._dimensions.length;e<r;e++)t(this._dimensions[e],e,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t.push("string"==typeof n?n:n.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];"string"==typeof n?t.push(JSON.stringify(n)):t.push(n.toString())}return"["+t.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}var o=r(27).clone,i=r(31).isInteger;e.name="Index",e.path="type",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){function i(e,r,n){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(null!=e)if(t.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter start must be a number");if(null!=r)if(t.isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter end must be a number");if(null!=n)if(t.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=e?parseFloat(e):0,this.end=null!=r?parseFloat(r):0,this.step=null!=n?parseFloat(n):1}return i.prototype.type="Range",i.prototype.isRange=!0,i.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":"),r=e.map(function(t){return parseFloat(t)}),n=r.some(function(t){return isNaN(t)});if(n)return null;switch(r.length){case 2:return new i(r[0],r[1]);case 3:return new i(r[0],r[2],r[1]);default:return null}},i.prototype.clone=function(){return new i(this.start,this.end,this.step)},i.prototype.size=function(){var t=0,e=this.start,r=this.step,n=this.end,i=n-e;return o.sign(r)==o.sign(i)?t=Math.ceil(i/r):0==i&&(t=0),isNaN(t)&&(t=0),[t]},i.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},i.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},i.prototype.forEach=function(t){var e=this.start,r=this.step,n=this.end,o=0;if(r>0)for(;e<n;)t(e,[o],this),e+=r,o++;else if(r<0)for(;e>n;)t(e,[o],this),e+=r,o++},i.prototype.map=function(t){var e=[];return this.forEach(function(r,n,o){e[n[0]]=t(r,n,o)}),e},i.prototype.toArray=function(){var t=[];return this.forEach(function(e,r){t[r[0]]=e}),t},i.prototype.valueOf=function(){return this.toArray()},i.prototype.format=function(t){var e=o.format(this.start,t);return 1!=this.step&&(e+=":"+o.format(this.step,t)),e+=":"+o.format(this.end,t)},i.prototype.toString=function(){return this.format()},i.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},i.fromJSON=function(t){return new i(t.start,t.end,t.step)},i}var o=r(31);e.name="Range",e.path="type",e.factory=n},function(t,e){"use strict";function r(t,e,r,n){return n("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var r=e.map(function(e){return t.isBigNumber(e)?e.toNumber():Array.isArray(e)||t.isMatrix(e)?e.map(function(e){return t.isBigNumber(e)?e.toNumber():e}):e}),n=new t.Index;return t.Index.apply(n,r),n}})}e.name="index",e.factory=r},function(t,e){"use strict";function r(t,e,r,n){var o=t.SparseMatrix,i=n("sparse",{"":function(){return new o([])},string:function(t){return new o([],t)},"Array | Matrix":function(t){return new o(t)},"Array | Matrix, string":function(t,e){return new o(t,e)}});return i.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},i}e.name="sparse",e.factory=r},function(t,e,r){"use strict";function n(t,e,n,a){function s(e,r){var n=l(e),o=n?new t.BigNumber(0):0;if(c(e),r){var a=u(r);return e.length>0?a.resize(e,o):a}var s=[];return e.length>0?i(s,e,o):s}function l(e){var r=!1;return e.forEach(function(e,n,o){t.isBigNumber(e)&&(r=!0,o[n]=e.toNumber())}),r}function c(t){t.forEach(function(t){if("number"!=typeof t||!o(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")})}var u=n(r(56)),d=a("zeros",{"":function(){return"Array"===e.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){var r=t[t.length-1];if("string"==typeof r){var n=t.pop();return s(t,n)}return"Array"===e.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});return d.toTex=void 0,d}var o=r(31).isInteger,i=r(41).resize;e.name="zeros",e.factory=n},function(t,e,r){"use strict";var n=r(2),o=r(18),i=r(77),a=r(5);t.exports=function(t,e,r){var s,l,c=Object.keys(r||{});c.forEach(function(t){s=r[t],/[^a-z_]/i.test(s)&&(s=parseInt(s,10)),l=!1,a(e,function(e){n.has(e,t)&&(l=!0)}),l&&(e=i(e,function(e){return e[t]==s}))});var u,d,f=[],p=!1;return a(e,function(e){u=!0,Object.keys(t.viz.possible_filters||{}).forEach(function(r){d=o(t.viz.filter_data,r),e[r]!=d&&(u=!1)}),u?p===!1&&(p=!0,f.push(e)):f.push(e)}),f}},function(t,e,r){"use strict";function n(t,e,r){var n=[];return e=o(e,r),i(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}var o=r(78),i=r(5);t.exports=n},function(t,e,r){"use strict";function n(t,e,r){return o.iteratee!==a?o.iteratee(t,e):i(t,e,r)}var o=r(79),i=r(80),a=r(91);t.exports=n},function(t,e,r){"use strict";function n(t){return t instanceof n?t:this instanceof n?void(this._wrapped=t):new n(t)}var o=r(9);n.VERSION=o.VERSION,n.prototype.value=function(){return this._wrapped},n.prototype.valueOf=n.prototype.toJSON=n.prototype.value,n.prototype.toString=function(){return String(this._wrapped)},t.exports=n},function(t,e,r){"use strict";function n(t,e,r){return null==t?o:i(t)?u(t,e,r):a(t)&&!s(t)?l(t):c(t)}var o=r(81),i=r(16),a=r(13),s=r(82),l=r(83),c=r(87),u=r(6);t.exports=n},function(t,e){"use strict";function r(t){return t}t.exports=r},function(t,e,r){"use strict";var n=r(9),o=r(17),i=n.nativeIsArray||o("Array");t.exports=i},function(t,e,r){"use strict";function n(t){return t=o({},t),function(e){return i(e,t)}}var o=r(84),i=r(86);t.exports=n},function(t,e,r){"use strict";var n=r(85),o=r(12),i=n(o);t.exports=i},function(t,e){"use strict";function r(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||null==r)return r;for(var o=1;o<n;o++)for(var i=arguments[o],a=t(i),s=a.length,l=0;l<s;l++){var c=a[l];e&&void 0!==r[c]||(r[c]=i[c])}return r}}t.exports=r},function(t,e,r){"use strict";function n(t,e){var r=o(e),n=r.length;if(null==t)return!n;for(var i=Object(t),a=0;a<n;a++){var s=r[a];if(e[s]!==i[s]||!(s in i))return!1}return!0}var o=r(12);t.exports=n},function(t,e,r){"use strict";function n(t){return t=i(t),function(e){return o(e,t)}}var o=r(88),i=r(89);t.exports=n},function(t,e){"use strict";function r(t,e){for(var r=e.length,n=0;n<r;n++){if(null==t)return;t=t[e[n]]}return r?t:void 0}t.exports=r},function(t,e,r){"use strict";function n(t){return o.toPath(t)}var o=r(79);r(90),t.exports=n},function(t,e,r){"use strict";function n(t){return i(t)?t:[t]}var o=r(79),i=r(82);o.toPath=n,t.exports=n},function(t,e,r){"use strict";function n(t,e){return i(t,e,1/0)}var o=r(79),i=r(80);o.iteratee=n,t.exports=n},function(t,e){"use strict";t.exports=function(t){var e={};return e.wrapper={},e.row_search={},e.row_search.box={},e.row_search.box.height=34,e.row_search.box.width=95,e.row_search.placeholder=t.row_search_placeholder,e.row_search.margin_left=7,e.slider={},e.slider.width=t.sidebar_width-30,e.slider.margin_left=15,e.key_cat={},e.key_cat.width=t.sidebar_width-15,e.key_cat.margin_left=5,e.key_cat.max_height=100,e.title=t.title,e.title_margin_left=7,e.about=t.about,e.width=t.sidebar_width,e.buttons={},e.buttons.width=t.sidebar_width-15,e.text={},e.icons=t.sidebar_icons,e.icon_margin_left=-5,e}},function(t,e){"use strict";t.exports=function(t,e){var r=Object.keys(e||{})[0];return Object.keys(t.viz.possible_filters||{}).forEach(function(n){if(n!=r&&!d3.select(t.root+" .slider_"+n).empty()){var o=d3.select(t.root+" .slider_"+n).attr("current_state");e[n]=o}}),e}},function(t,e,r){"use strict";var n=r(95),o=r(98),i=r(100),a=r(101),s=r(102),l=r(104),c=r(105),u=r(106),d=r(113),f=r(115),p=r(2),h=r(4),_=r(116);t.exports=function(t){function e(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={};r.root=t.root,r.root_tips=t.root.replace("#",".")+"_d3-tip",r.viz_wrapper=t.root+" .viz_wrapper",r.do_zoom=t.do_zoom,r.background_color=t.background_color,r.super_border_color=t.super_border_color,r.outer_margins=t.outer_margins,r.is_expand=t.ini_expand,r.grey_border_width=t.grey_border_width,r.show_dendrogram=t.show_dendrogram,r.tile_click_hlight=t.tile_click_hlight,r.inst_order=t.inst_order,r.expand_button=t.expand_button,r.sim_mat=t.sim_mat,r.dendro_filter=t.dendro_filter,r.cat_filter=t.cat_filter,r.cat_value_colors=t.cat_value_colors,r.cat_bar_width=180,r.cat_bar_height=20,r.tree_menu_width=400,r.tree_menu_height=237,r.tree_menu_x_offset=20,r.filter_menu_width=500,r.filter_menu_height=237,r.filter_menu_x_offset=20,r.update_button_width=100,r.viz_svg=r.viz_wrapper+" .viz_svg",r.zoom_element=r.viz_wrapper+" .viz_svg",r.uni_duration=1e3,r.bottom_space=10,r.run_trans=!1,r.duration=1e3,r.resize=t.resize,p.has(t,"size")?r.fixed_size=t.size:r.fixed_size=!1,r.border_fraction=65,r.uni_margin=5,r.super_labels={},r.super_labels.margin={},r.super_labels.dim={},r.super_labels.margin.left=r.grey_border_width,r.super_labels.margin.top=r.grey_border_width,r.super_labels.dim.width=0,t.labels.super_labels&&(r.super_labels.dim.width=15*t.labels.super_label_scale),r.triangle_opacity=.6,r.norm_labels={},r.norm_labels.width={},r.dendro_room={},r.show_dendrogram?r.dendro_room.symbol_width=10:r.dendro_room.symbol_width=0,r.cat_colors=t.cat_colors,r=_(t,r,e),p.has(t,"group_level")||(r.show_dendrogram&&(t.group_level={}),p.has(t,"group_level")||(t.group_level={}),t.group_level.row=5,t.group_level.col=5),r.dendro_opacity=.35,r.spillover_col_slant=r.norm_labels.width.col;var n=h(t.network_data.views);return r.possible_filters=n.possible_filters,r.filter_data=n.filter_data,r.viz_nodes={},r.viz_nodes.row=t.network_data.row_nodes_names,r.viz_nodes.col=t.network_data.col_nodes_names,r.viz_nodes.curr_row=t.network_data.row_nodes_names,r.viz_nodes.curr_col=t.network_data.col_nodes_names,r.x_offset=0,r}var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.labels=n(t),t.viz=e(t,r),o(t),t=i(t),t.viz=a(t.viz),t.viz=s(t.viz),t.viz=l(t.viz),t.sim_mat&&(t.viz.clust.dim.width<=t.viz.clust.dim.height?t.viz.clust.dim.height=t.viz.clust.dim.width:t.viz.clust.dim.width=t.viz.clust.dim.height),t=c(t),t=u(t),t=d(t),t=f(t)}},function(t,e,r){"use strict";var n=r(96);t.exports=function(t){var e={};return e.super_label_scale=t.super_label_scale,e.super_labels=t.super_labels,e.super_label_fs=13.8,e.super_labels&&(e.super={},e.super.row=t.super.row,e.super.col=t.super.col),e.show_label_tooltips=t.show_label_tooltips,e.row_max_char=n(t.network_data.row_nodes,function(t){return t.name.length}).name.length,e.col_max_char=n(t.network_data.col_nodes,function(t){return t.name.length}).name.length,e.max_allow_fs=t.max_allow_fs,e}},function(t,e,r){"use strict";function n(t,e,r){var n,c,u=-(1/0),d=-(1/0);if(null==e||"number"==typeof e&&"object"!=o(t[0])&&null!=t){t=i(t)?t:a(t);for(var f=0,p=t.length;f<p;f++)n=t[f],null!=n&&n>u&&(u=n)}else e=s(e,r),l(t,function(t,r,n){c=e(t,r,n),(c>d||c===-(1/0)&&u===-(1/0))&&(u=t,d=c)});return u}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(7),a=r(97),s=r(78),l=r(5);t.exports=n},function(t,e,r){"use strict";function n(t){for(var e=o(t),r=e.length,n=Array(r),i=0;i<r;i++)n[i]=t[e[i]];return n}var o=r(12);t.exports=n},function(t,e,r){"use strict";var n=r(99);t.exports=function(t){d3.select(t.root+" .viz_wrapper").empty()&&d3.select(t.root).append("div").classed("viz_wrapper",!0);var e=n(Object.assign(t,{sidebar_width:0}));d3.select(t.viz.viz_wrapper).style("float","left").style("width",e.width+"px").style("height",e.height+"px")}},function(t,e){"use strict";t.exports=function(t){var e,r={},n=t.buffer_width,o=d3.select(t.root).style("width").replace("px",""),i=d3.select(t.root).style("height").replace("px","");return t.viz.is_expand===!1?(e=t.viz.outer_margins,r.width=o-t.sidebar_width-n):(e=t.viz.outer_margins,r.width=o-n),r.top=e.top,r.left=e.left,t.viz.resize?r.height=i:(t.viz.is_expand?r.width=t.viz.fixed_size.width:r.width=t.viz.fixed_size.width-t.sidebar_width,r.height=t.viz.fixed_size.height),r}},function(t,e){"use strict";t.exports=function(t){return t.viz.svg_dim={},t.viz.svg_dim.width=Number(d3.select(t.viz.viz_wrapper).style("width").replace("px","")),t.viz.svg_dim.height=Number(d3.select(t.viz.viz_wrapper).style("height").replace("px","")),t}},function(t,e){"use strict";t.exports=function(t){return t.norm_labels.margin={},t.norm_labels.margin.left=t.super_labels.margin.left+t.super_labels.dim.width,t.norm_labels.margin.top=t.super_labels.margin.top+t.super_labels.dim.width,t.label_background={},t.label_background.row=t.norm_labels.width.row+t.cat_room.row+t.uni_margin,t.label_background.col=t.norm_labels.width.col+t.cat_room.col+t.uni_margin,t}},function(t,e,r){"use strict";var n=r(103);t.exports=function(t){t.clust={},t.clust.margin={},t.clust.margin.left=t.norm_labels.margin.left+t.norm_labels.width.row+t.cat_room.row+t.uni_margin,t.clust.margin.top=t.norm_labels.margin.top+t.norm_labels.width.col+t.cat_room.col+t.uni_margin;var e=t.svg_dim.width-t.clust.margin.left-t.spillover_col_slant,r=d3.scale.ordinal().rangeBands([0,e]).domain(n(t.num_col_nodes)),o=r.rangeBand()/2;if(o>t.norm_labels.width.col){var i=t.norm_labels.width.col/o;e*=i}return t.clust.dim={},t.clust.dim.width=e,t}},function(t,e){"use strict";function r(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),o=Array(n),i=0;i<n;i++,t+=r)o[i]=t;return o}t.exports=r},function(t,e){"use strict";t.exports=function(t){var e=t.svg_dim.height-t.clust.margin.top-t.dendro_room.col-t.bottom_space;return t.clust.dim.height=e,t}},function(t,e,r){"use strict";var n=r(96);t.exports=function(t){var e=Math.abs(n(t.network_data.col_nodes,function(t){return Math.abs(t.value)}).value);return t.labels.bar_scale_col=d3.scale.linear().domain([0,e]).range([0,.75*t.viz.norm_labels.width.col]),e=Math.abs(n(t.network_data.row_nodes,function(t){return Math.abs(t.value)}).value),t.labels.bar_scale_row=d3.scale.linear().domain([0,e]).range([0,t.viz.norm_labels.width.row]),t}},function(t,e,r){"use strict";var n=r(107),o=r(109);t.exports=function(t){t.matrix=n(t),t.viz.x_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.width]),t.viz.y_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.height]);var e;return["row","col"].forEach(function(r){e=t.viz.inst_order[r],"custom"===e&&(e="clust"),"row"===r?t.viz.x_scale.domain(t.matrix.orders[e+"_"+r]):t.viz.y_scale.domain(t.matrix.orders[e+"_"+r])}),t.viz.border_width={},t.viz.border_width.x=t.viz.x_scale.rangeBand()/t.viz.border_fraction,t.viz.border_width.y=t.viz.y_scale.rangeBand()/t.viz.border_fraction,t.viz.rect_width=t.viz.x_scale.rangeBand()-t.viz.border_width.x,t.viz.rect_height=t.viz.y_scale.rangeBand()-t.viz.border_width.y,o(t),t}},function(t,e,r){"use strict";var n=r(2),o=r(108),i=r(96);t.exports=function(t){var e={},r=t.network_data;e.tile_colors=t.tile_colors,e.bar_colors=t.bar_colors,e.outline_colors=t.outline_colors,e.hlight_color=t.highlight_color,e.tile_title=t.tile_title,e.show_tile_tooltips=t.show_tile_tooltips,e.make_tile_tooltip=t.make_tile_tooltip,e.distance_metric="cosine",e.linkage_type="average",e.filter_state="no-filter",e.normalization_state="no-normalization",e.click_hlight_x=-666,e.click_hlight_y=-666,e.click_hlight_row=-666,e.click_hlight_col=-666,e.def_large_matrix=2e4,e.opacity_function=t.opacity_scale,e.orders={},["row","col"].forEach(function(o){var i;i="row"===o?"col":"row";var a=r[i+"_nodes"]||[],s=a.length,l=n.pluck(a,"name"),c=l.sort(),u=c.map(function(t){return r[i+"_nodes_names"].indexOf(t)});e.orders["alpha_"+o]=u;var d=["clust","rank"];n.has(a[0],"rankvar")&&d.push("rankvar"),t.viz.all_cats[i].length>0&&t.viz.all_cats[i].forEach(function(t){t=t.replace("-","_"),d.push(t+"_index")}),d.forEach(function(t){var r=d3.range(s).sort(function(e,r){return a[r][t]-a[e][t]});e.orders[t+"_"+o]=r})}),n.has(r,"all_links")?e.max_link=i(r.all_links,function(t){return Math.abs(t.value)}).value:e.max_link=i(r.links,function(t){return Math.abs(t.value)}).value,e.abs_max_val=Math.abs(e.max_link)*t.clamp_opacity,0===t.input_domain?"linear"===e.opacity_function?e.opacity_scale=d3.scale.linear().domain([0,e.abs_max_val]).clamp(!0).range([0,1]):"log"===e.opacity_function&&(e.opacity_scale=d3.scale.log().domain([.001,e.abs_max_val]).clamp(!0).range([0,1])):"linear"===e.opacity_function?e.opacity_scale=d3.scale.linear().domain([0,t.input_domain]).clamp(!0).range([0,1]):"log"===e.opacity_function&&(e.opacity_scale=d3.scale.log().domain([.001,t.input_domain]).clamp(!0).range([0,1]));var a=n.has(r.links[0],"value_up"),s=n.has(r.links[0],"value_dn");return a||s?e.tile_type="updn":e.tile_type="simple",n.has(r.links[0],"highlight")?e.highlight=1:e.highlight=0,e.matrix=o(r),e.wait_tooltip=0,e}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t){var e,r,o=[];return r=!!n.has(t.links[0],"value_orig"),t.row_nodes.forEach(function(i,a){o[a]={},o[a].name=t.row_nodes[a].name,o[a].row_index=a,o[a].row_data=d3.range(t.col_nodes.length).map(function(o){return e=n.has(t.links[0],"value_up")||n.has(t.links[0],"value_dn")?{pos_x:o,pos_y:a,value:0,value_up:0,value_dn:0,highlight:0}:{pos_x:o,pos_y:a,value:0,highlight:0},r&&(e.value_orig=0),e})}),t.links.forEach(function(t){o[t.source].row_data[t.target].value=t.value,o[t.source].row_data[t.target].row_name=t.row_name,o[t.source].row_data[t.target].col_name=t.col_name,(n.has(t,"value_up")||n.has(t,"value_dn"))&&(o[t.source].row_data[t.target].value_up=t.value_up,o[t.source].row_data[t.target].value_dn=t.value_dn),r&&(o[t.source].row_data[t.target].value_orig=t.value_orig),t.highlight&&(o[t.source].row_data[t.target].highlight=t.highlight),t.info&&(o[t.source].row_data[t.target].info=t.info)}),o}},function(t,e,r){"use strict";var n=r(110),o=r(111);t.exports=function(t){var e=3,r=2,i=e/t.viz.rect_height,a=2;t.viz.ds_zt=a;var s=Math.floor(Math.log(i)/Math.log(a));if(t.viz.rect_height<r&&s>0){var l=2;t.viz.ds_opacity_scale=d3.scale.linear().domain([1,100]).range([1,l]).clamp(!0);var c;t.viz.ds_num_levels=s,t.viz.ds=[],t.matrix.ds_matrix=[];for(var u=t.viz.inst_order.row,d=o.extend(!0,{},t.matrix.matrix),f=0;f<s;f++){t.viz.ds_level=0,c={},c.height=e,c.num_levels=s;var p=Math.pow(a,f);c.zt=p,c.num_rows=Math.round(t.viz.clust.dim.height/(c.height/p)),c.x_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.width]),c.x_scale.domain(t.matrix.orders[u+"_row"]),c.y_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.height]),c.y_scale.domain(d3.range(c.num_rows+1)),c.rect_height=c.y_scale.rangeBand()-t.viz.border_width.y,t.viz.ds.push(c);var h=n(t,d,f);t.matrix.ds_matrix.push(h)}t.viz.viz_nodes.row=d3.range(t.matrix.ds_matrix[0].length).map(String)}else t.viz.ds=null,t.viz.ds_level=-1,t.viz.ds_num_levels=0}},function(t,e,r){"use strict";var n=r(5),o=r(2);t.exports=function(t,e,r){var i,a,s,l=t.viz.ds[r].num_rows,c=t.network_data.row_nodes.length/l,u=t.viz.ds_opacity_scale(c),d=t.viz.clust.dim.height/l,f=[],p=l+1;for(a=0;a<p;a++)i={},i.row_index=a,i.name=String(a),i.all_names=[],f.push(i);n(e,function(e){var r=t.viz.y_scale(e.row_index),n=Math.round(r/d),i=e.row_data;if(f[n].all_names.push(e.name),o.has(f[n],"row_data"))for(s=0;s<i.length;s++)f[n].row_data[s].value=f[n].row_data[s].value+i[s].value;else{var a=[];for(s=0;s<i.length;s++)a[s]=i[s];f[n].row_data=a}}),f.forEach(function(t){var e=t.row_data,r=t.all_names.length;n(e,function(t){t.value=t.value/r*u})});var h=[];return f.forEach(function(t){h=h.concat(t.all_names)}),f}},function(t,e,r){var n,o;(function(t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*!
	 * jQuery JavaScript Library v1.11.0
	 * http://jquery.com/
	 *
	 * Includes Sizzle.js
	 * http://sizzlejs.com/
	 *
	 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
	 * Released under the MIT license
	 * http://jquery.org/license
	 *
	 * Date: 2014-01-23T21:02Z
	 */
!function(e,n){"object"===r(t)&&"object"===r(t.exports)?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:void 0,function(i,a){function s(t){var e=t.length,r=ut.type(t);return"function"!==r&&!ut.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===r||0===e||"number"==typeof e&&e>0&&e-1 in t))}function l(t,e,r){if(ut.isFunction(e))return ut.grep(t,function(t,n){return!!e.call(t,n,t)!==r});if(e.nodeType)return ut.grep(t,function(t){return t===e!==r});if("string"==typeof e){if(gt.test(e))return ut.filter(e,t,r);e=ut.filter(e,t)}return ut.grep(t,function(t){return ut.inArray(t,e)>=0!==r})}function c(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function u(t){var e=Et[t]={};return ut.each(t.match(At)||[],function(t,r){e[r]=!0}),e}function d(){wt.addEventListener?(wt.removeEventListener("DOMContentLoaded",f,!1),i.removeEventListener("load",f,!1)):(wt.detachEvent("onreadystatechange",f),i.detachEvent("onload",f))}function f(){(wt.addEventListener||"load"===event.type||"complete"===wt.readyState)&&(d(),ut.ready())}function p(t,e,r){if(void 0===r&&1===t.nodeType){var n="data-"+e.replace(Mt,"-$1").toLowerCase();if(r=t.getAttribute(n),"string"==typeof r){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:Ct.test(r)?ut.parseJSON(r):r)}catch(t){}ut.data(t,e,r)}else r=void 0}return r}function h(t){var e;for(e in t)if(("data"!==e||!ut.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function _(t,e,n,o){if(ut.acceptData(t)){var i,a,s=ut.expando,l=t.nodeType,c=l?ut.cache:t,u=l?t[s]:t[s]&&s;if(u&&c[u]&&(o||c[u].data)||void 0!==n||"string"!=typeof e)return u||(u=l?t[s]=K.pop()||ut.guid++:s),c[u]||(c[u]=l?{}:{toJSON:ut.noop}),"object"!==("undefined"==typeof e?"undefined":r(e))&&"function"!=typeof e||(o?c[u]=ut.extend(c[u],e):c[u].data=ut.extend(c[u].data,e)),a=c[u],o||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[ut.camelCase(e)]=n),"string"==typeof e?(i=a[e],null==i&&(i=a[ut.camelCase(e)])):i=a,i}}function v(t,e,r){if(ut.acceptData(t)){var n,o,i=t.nodeType,a=i?ut.cache:t,s=i?t[ut.expando]:ut.expando;if(a[s]){if(e&&(n=r?a[s]:a[s].data)){ut.isArray(e)?e=e.concat(ut.map(e,ut.camelCase)):e in n?e=[e]:(e=ut.camelCase(e),e=e in n?[e]:e.split(" ")),o=e.length;for(;o--;)delete n[e[o]];if(r?!h(n):!ut.isEmptyObject(n))return}(r||(delete a[s].data,h(a[s])))&&(i?ut.cleanData([t],!0):lt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function m(){return!0}function g(){return!1}function y(){try{return wt.activeElement}catch(t){}}function w(t){var e=qt.split("|"),r=t.createDocumentFragment();if(r.createElement)for(;e.length;)r.createElement(e.pop());return r}function x(t,e){var n,o,i=0,a=r(t.getElementsByTagName)!==Tt?t.getElementsByTagName(e||"*"):r(t.querySelectorAll)!==Tt?t.querySelectorAll(e||"*"):void 0;if(!a)for(a=[],n=t.childNodes||t;null!=(o=n[i]);i++)!e||ut.nodeName(o,e)?a.push(o):ut.merge(a,x(o,e));return void 0===e||e&&ut.nodeName(t,e)?ut.merge([t],a):a}function b(t){Dt.test(t.type)&&(t.defaultChecked=t.checked)}function z(t,e){return ut.nodeName(t,"table")&&ut.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function k(t){return t.type=(null!==ut.find.attr(t,"type"))+"/"+t.type,t}function A(t){var e=Kt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function E(t,e){for(var r,n=0;null!=(r=t[n]);n++)ut._data(r,"globalEval",!e||ut._data(e[n],"globalEval"))}function N(t,e){if(1===e.nodeType&&ut.hasData(t)){var r,n,o,i=ut._data(t),a=ut._data(e,i),s=i.events;if(s){delete a.handle,a.events={};for(r in s)for(n=0,o=s[r].length;n<o;n++)ut.event.add(e,r,s[r][n])}a.data&&(a.data=ut.extend({},a.data))}}function S(t,e){var r,n,o;if(1===e.nodeType){if(r=e.nodeName.toLowerCase(),!lt.noCloneEvent&&e[ut.expando]){o=ut._data(e);for(n in o.events)ut.removeEvent(e,n,o.handle);e.removeAttribute(ut.expando)}"script"===r&&e.text!==t.text?(k(e).text=t.text,A(e)):"object"===r?(e.parentNode&&(e.outerHTML=t.outerHTML),lt.html5Clone&&t.innerHTML&&!ut.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===r&&Dt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===r?e.defaultSelected=e.selected=t.defaultSelected:"input"!==r&&"textarea"!==r||(e.defaultValue=t.defaultValue)}}function T(t,e){var r=ut(e.createElement(t)).appendTo(e.body),n=i.getDefaultComputedStyle?i.getDefaultComputedStyle(r[0]).display:ut.css(r[0],"display");return r.detach(),n}function C(t){var e=wt,r=ie[t];return r||(r=T(t,e),"none"!==r&&r||(oe=(oe||ut("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(oe[0].contentWindow||oe[0].contentDocument).document,e.write(),e.close(),r=T(t,e),oe.detach()),ie[t]=r),r}function M(t,e){return{get:function(){var r=t();if(null!=r)return r?void delete this.get:(this.get=e).apply(this,arguments)}}}function O(t,e){if(e in t)return e;for(var r=e.charAt(0).toUpperCase()+e.slice(1),n=e,o=ge.length;o--;)if(e=ge[o]+r,e in t)return e;return n}function B(t,e){for(var r,n,o,i=[],a=0,s=t.length;a<s;a++)n=t[a],n.style&&(i[a]=ut._data(n,"olddisplay"),r=n.style.display,e?(i[a]||"none"!==r||(n.style.display=""),""===n.style.display&&jt(n)&&(i[a]=ut._data(n,"olddisplay",C(n.nodeName)))):i[a]||(o=jt(n),(r&&"none"!==r||!o)&&ut._data(n,"olddisplay",o?r:ut.css(n,"display"))));for(a=0;a<s;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?i[a]||"":"none"));return t}function j(t,e,r){var n=he.exec(e);return n?Math.max(0,n[1]-(r||0))+(n[2]||"px"):e}function F(t,e,r,n,o){for(var i=r===(n?"border":"content")?4:"width"===e?1:0,a=0;i<4;i+=2)"margin"===r&&(a+=ut.css(t,r+Bt[i],!0,o)),n?("content"===r&&(a-=ut.css(t,"padding"+Bt[i],!0,o)),"margin"!==r&&(a-=ut.css(t,"border"+Bt[i]+"Width",!0,o))):(a+=ut.css(t,"padding"+Bt[i],!0,o),"padding"!==r&&(a+=ut.css(t,"border"+Bt[i]+"Width",!0,o)));return a}function D(t,e,r){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,i=ae(t),a=lt.boxSizing()&&"border-box"===ut.css(t,"boxSizing",!1,i);if(o<=0||null==o){if(o=se(t,e,i),(o<0||null==o)&&(o=t.style[e]),ce.test(o))return o;n=a&&(lt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+F(t,e,r||(a?"border":"content"),n,i)+"px"}function L(t,e,r,n,o){return new L.prototype.init(t,e,r,n,o)}function I(){return setTimeout(function(){ye=void 0}),ye=ut.now()}function P(t,e){var r,n={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)r=Bt[o],n["margin"+r]=n["padding"+r]=t;return e&&(n.opacity=n.width=t),n}function R(t,e,r){for(var n,o=(Ae[e]||[]).concat(Ae["*"]),i=0,a=o.length;i<a;i++)if(n=o[i].call(r,e,t))return n}function H(t,e,r){var n,o,i,a,s,l,c,u,d=this,f={},p=t.style,h=t.nodeType&&jt(t),_=ut._data(t,"fxshow");r.queue||(s=ut._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ut.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],c=ut.css(t,"display"),u=C(t.nodeName),"none"===c&&(c=u),"inline"===c&&"none"===ut.css(t,"float")&&(lt.inlineBlockNeedsLayout&&"inline"!==u?p.zoom=1:p.display="inline-block")),r.overflow&&(p.overflow="hidden",lt.shrinkWrapBlocks()||d.always(function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]}));for(n in e)if(o=e[n],xe.exec(o)){if(delete e[n],i=i||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!_||void 0===_[n])continue;h=!0}f[n]=_&&_[n]||ut.style(t,n)}if(!ut.isEmptyObject(f)){_?"hidden"in _&&(h=_.hidden):_=ut._data(t,"fxshow",{}),i&&(_.hidden=!h),h?ut(t).show():d.done(function(){ut(t).hide()}),d.done(function(){var e;ut._removeData(t,"fxshow");for(e in f)ut.style(t,e,f[e])});for(n in f)a=R(h?_[n]:0,n,d),n in _||(_[n]=a.start,h&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function q(t,e){var r,n,o,i,a;for(r in t)if(n=ut.camelCase(r),o=e[n],i=t[r],ut.isArray(i)&&(o=i[1],i=t[r]=i[0]),r!==n&&(t[n]=i,delete t[r]),a=ut.cssHooks[n],a&&"expand"in a){i=a.expand(i),delete t[n];for(r in i)r in t||(t[r]=i[r],e[r]=o)}else e[n]=o}function W(t,e,r){var n,o,i=0,a=ke.length,s=ut.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=ye||I(),r=Math.max(0,c.startTime+c.duration-e),n=r/c.duration||0,i=1-n,a=0,l=c.tweens.length;a<l;a++)c.tweens[a].run(i);return s.notifyWith(t,[c,i,r]),i<1&&l?r:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:ut.extend({},e),opts:ut.extend(!0,{specialEasing:{}},r),originalProperties:e,originalOptions:r,startTime:ye||I(),duration:r.duration,tweens:[],createTween:function(e,r){var n=ut.Tween(t,c.opts,e,r,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var r=0,n=e?c.tweens.length:0;if(o)return this;for(o=!0;r<n;r++)c.tweens[r].run(1);return e?s.resolveWith(t,[c,e]):s.rejectWith(t,[c,e]),this}}),u=c.props;for(q(u,c.opts.specialEasing);i<a;i++)if(n=ke[i].call(c,t,u,c.opts))return n;return ut.map(u,R,c),ut.isFunction(c.opts.start)&&c.opts.start.call(t,c),ut.fx.timer(ut.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function $(t){return function(e,r){"string"!=typeof e&&(r=e,e="*");var n,o=0,i=e.toLowerCase().match(At)||[];if(ut.isFunction(r))for(;n=i[o++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(r)):(t[n]=t[n]||[]).push(r)}}function U(t,e,r,n){function o(s){var l;return i[s]=!0,ut.each(t[s]||[],function(t,s){var c=s(e,r,n);return"string"!=typeof c||a||i[c]?a?!(l=c):void 0:(e.dataTypes.unshift(c),o(c),!1)}),l}var i={},a=t===Ze;return o(e.dataTypes[0])||!i["*"]&&o("*")}function X(t,e){var r,n,o=ut.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:r||(r={}))[n]=e[n]);return r&&ut.extend(!0,t,r),t}function V(t,e,r){for(var n,o,i,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in r)i=l[0];else{for(a in r){if(!l[0]||t.converters[a+" "+l[0]]){i=a;break}n||(n=a)}i=i||n}if(i)return i!==l[0]&&l.unshift(i),r[i]}function J(t,e,r,n){var o,i,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(i=u.shift();i;)if(t.responseFields[i]&&(r[t.responseFields[i]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=i,i=u.shift())if("*"===i)i=l;else if("*"!==l&&l!==i){if(a=c[l+" "+i]||c["* "+i],!a)for(o in c)if(s=o.split(" "),s[1]===i&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(i=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+i}}}return{state:"success",data:e}}function Z(t,e,n,o){var i;if(ut.isArray(e))ut.each(e,function(e,i){n||Qe.test(t)?o(t,i):Z(t+"["+("object"===("undefined"==typeof i?"undefined":r(i))?e:"")+"]",i,n,o)});else if(n||"object"!==ut.type(e))o(t,e);else for(i in e)Z(t+"["+i+"]",e[i],n,o)}function G(){try{return new i.XMLHttpRequest}catch(t){}}function Y(){try{return new i.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Q(t){return ut.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var K=[],tt=K.slice,et=K.concat,rt=K.push,nt=K.indexOf,ot={},it=ot.toString,at=ot.hasOwnProperty,st="".trim,lt={},ct="1.11.0",ut=function t(e,r){return new t.fn.init(e,r)},dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^-ms-/,pt=/-([\da-z])/gi,ht=function(t,e){return e.toUpperCase()};ut.fn=ut.prototype={jquery:ct,constructor:ut,selector:"",length:0,toArray:function(){return tt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:tt.call(this)},pushStack:function(t){var e=ut.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ut.each(this,t,e)},map:function(t){return this.pushStack(ut.map(this,function(e,r){return t.call(e,r,e)}))},slice:function(){return this.pushStack(tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,r=+t+(t<0?e:0);return this.pushStack(r>=0&&r<e?[this[r]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:rt,sort:K.sort,splice:K.splice},ut.extend=ut.fn.extend=function(){var t,e,n,o,i,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"===("undefined"==typeof s?"undefined":r(s))||ut.isFunction(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(i=arguments[l]))for(o in i)t=s[o],n=i[o],s!==n&&(u&&n&&(ut.isPlainObject(n)||(e=ut.isArray(n)))?(e?(e=!1,a=t&&ut.isArray(t)?t:[]):a=t&&ut.isPlainObject(t)?t:{},s[o]=ut.extend(u,a,n)):void 0!==n&&(s[o]=n));return s},ut.extend({expando:"jQuery"+(ct+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ut.type(t)},isArray:Array.isArray||function(t){return"array"===ut.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ut.type(t)||t.nodeType||ut.isWindow(t))return!1;try{if(t.constructor&&!at.call(t,"constructor")&&!at.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(lt.ownLast)for(e in t)return at.call(t,e);for(e in t);return void 0===e||at.call(t,e)},type:function(t){return null==t?t+"":"object"===("undefined"==typeof t?"undefined":r(t))||"function"==typeof t?ot[it.call(t)]||"object":"undefined"==typeof t?"undefined":r(t)},globalEval:function(t){t&&ut.trim(t)&&(i.execScript||function(t){i.eval.call(i,t)})(t)},camelCase:function(t){return t.replace(ft,"ms-").replace(pt,ht)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var n,o=0,i=t.length,a=s(t);if(r){if(a)for(;o<i&&(n=e.apply(t[o],r),n!==!1);o++);else for(o in t)if(n=e.apply(t[o],r),n===!1)break}else if(a)for(;o<i&&(n=e.call(t[o],o,t[o]),n!==!1);o++);else for(o in t)if(n=e.call(t[o],o,t[o]),n===!1)break;return t},trim:st&&!st.call("\ufeff")?function(t){return null==t?"":st.call(t)}:function(t){return null==t?"":(t+"").replace(dt,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(s(Object(t))?ut.merge(r,"string"==typeof t?[t]:t):rt.call(r,t)),r},inArray:function(t,e,r){var n;if(e){if(nt)return nt.call(e,t,r);for(n=e.length,r=r?r<0?Math.max(0,n+r):r:0;r<n;r++)if(r in e&&e[r]===t)return r}return-1},merge:function(t,e){for(var r=+e.length,n=0,o=t.length;n<r;)t[o++]=e[n++];if(r!==r)for(;void 0!==e[n];)t[o++]=e[n++];return t.length=o,t},grep:function(t,e,r){for(var n,o=[],i=0,a=t.length,s=!r;i<a;i++)n=!e(t[i],i),n!==s&&o.push(t[i]);return o},map:function(t,e,r){var n,o=0,i=t.length,a=s(t),l=[];if(a)for(;o<i;o++)n=e(t[o],o,r),null!=n&&l.push(n);else for(o in t)n=e(t[o],o,r),null!=n&&l.push(n);return et.apply([],l)},guid:1,proxy:function t(e,r){var n,t,o;if("string"==typeof r&&(o=e[r],r=e,e=o),ut.isFunction(e))return n=tt.call(arguments,2),t=function(){return e.apply(r||this,n.concat(tt.call(arguments)))},t.guid=e.guid=e.guid||ut.guid++,t},now:function(){return+new Date},support:lt}),ut.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){ot["[object "+e+"]"]=e.toLowerCase()});var _t=/*!
	  * Sizzle CSS Selector Engine v1.10.16
	  * http://sizzlejs.com/
	  *
	  * Copyright 2013 jQuery Foundation, Inc. and other contributors
	  * Released under the MIT license
	  * http://jquery.org/license
	  *
	  * Date: 2014-01-13
	  */
function(t){function e(t,e,r,n){var o,i,a,s,l,c,u,f,_,v;if((e?e.ownerDocument||e:H)!==B&&O(e),e=e||B,r=r||[],!t||"string"!=typeof t)return r;if(1!==(s=e.nodeType)&&9!==s)return[];if(F&&!n){if(o=yt.exec(t))if(a=o[1]){if(9===s){if(i=e.getElementById(a),!i||!i.parentNode)return r;if(i.id===a)return r.push(i),r}else if(e.ownerDocument&&(i=e.ownerDocument.getElementById(a))&&P(e,i)&&i.id===a)return r.push(i),r}else{if(o[2])return tt.apply(r,e.getElementsByTagName(t)),r;if((a=o[3])&&k.getElementsByClassName&&e.getElementsByClassName)return tt.apply(r,e.getElementsByClassName(a)),r}if(k.qsa&&(!D||!D.test(t))){if(f=u=R,_=e,v=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=p(t),(u=e.getAttribute("id"))?f=u.replace(xt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);_=wt.test(t)&&d(e.parentNode)||e,v=c.join(",")}if(v)try{return tt.apply(r,_.querySelectorAll(v)),r}catch(t){}finally{u||e.removeAttribute("id")}}}return b(t.replace(ct,"$1"),e,r,n)}function n(){function t(r,n){return e.push(r+" ")>A.cacheLength&&delete t[e.shift()],t[r+" "]=n}var e=[];return t}function o(t){return t[R]=!0,t}function i(t){var e=B.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var r=t.split("|"),n=t.length;n--;)A.attrHandle[r[n]]=e}function s(t,e){var r=e&&t,n=r&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Z)-(~t.sourceIndex||Z);if(n)return n;if(r)for(;r=r.nextSibling;)if(r===e)return-1;return t?1:-1}function l(t){return function(e){var r=e.nodeName.toLowerCase();return"input"===r&&e.type===t}}function c(t){return function(e){var r=e.nodeName.toLowerCase();return("input"===r||"button"===r)&&e.type===t}}function u(t){return o(function(e){return e=+e,o(function(r,n){for(var o,i=t([],r.length,e),a=i.length;a--;)r[o=i[a]]&&(r[o]=!(n[o]=r[o]))})})}function d(t){return t&&r(t.getElementsByTagName)!==J&&t}function f(){}function p(t,r){var n,o,i,a,s,l,c,u=U[t+" "];if(u)return r?0:u.slice(0);for(s=t,l=[],c=A.preFilter;s;){n&&!(o=ut.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(i=[])),n=!1,(o=dt.exec(s))&&(n=o.shift(),i.push({value:n,type:o[0].replace(ct," ")}),s=s.slice(n.length));for(a in A.filter)!(o=_t[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),i.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return r?s.length:s?e.error(t):U(t,l).slice(0)}function h(t){for(var e=0,r=t.length,n="";e<r;e++)n+=t[e].value;return n}function _(t,e,r){var n=e.dir,o=r&&"parentNode"===n,i=W++;return e.first?function(e,r,i){for(;e=e[n];)if(1===e.nodeType||o)return t(e,r,i)}:function(e,r,a){var s,l,c=[q,i];if(a){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,r,a))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(l=e[R]||(e[R]={}),(s=l[n])&&s[0]===q&&s[1]===i)return c[2]=s[2];if(l[n]=c,c[2]=t(e,r,a))return!0}}}function v(t){return t.length>1?function(e,r,n){for(var o=t.length;o--;)if(!t[o](e,r,n))return!1;return!0}:t[0]}function m(t,e,r,n,o){for(var i,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(i=t[s])&&(r&&!r(i,n,o)||(a.push(i),c&&e.push(s)));return a}function g(t,e,r,n,i,a){return n&&!n[R]&&(n=g(n)),i&&!i[R]&&(i=g(i,a)),o(function(o,a,s,l){var c,u,d,f=[],p=[],h=a.length,_=o||x(e||"*",s.nodeType?[s]:s,[]),v=!t||!o&&e?_:m(_,f,t,s,l),g=r?i||(o?t:h||n)?[]:a:v;if(r&&r(v,g,s,l),n)for(c=m(g,p),n(c,[],s,l),u=c.length;u--;)(d=c[u])&&(g[p[u]]=!(v[p[u]]=d));if(o){if(i||t){if(i){for(c=[],u=g.length;u--;)(d=g[u])&&c.push(v[u]=d);i(null,g=[],c,l)}for(u=g.length;u--;)(d=g[u])&&(c=i?rt.call(o,d):f[u])>-1&&(o[c]=!(a[c]=d))}}else g=m(g===a?g.splice(h,g.length):g),i?i(null,a,g,l):tt.apply(a,g)})}function y(t){for(var e,r,n,o=t.length,i=A.relative[t[0].type],a=i||A.relative[" "],s=i?1:0,l=_(function(t){return t===e},a,!0),c=_(function(t){return rt.call(e,t)>-1},a,!0),u=[function(t,r,n){return!i&&(n||r!==T)||((e=r).nodeType?l(t,r,n):c(t,r,n))}];s<o;s++)if(r=A.relative[t[s].type])u=[_(v(u),r)];else{if(r=A.filter[t[s].type].apply(null,t[s].matches),r[R]){for(n=++s;n<o&&!A.relative[t[n].type];n++);return g(s>1&&v(u),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ct,"$1"),r,s<n&&y(t.slice(s,n)),n<o&&y(t=t.slice(n)),n<o&&h(t))}u.push(r)}return v(u)}function w(t,r){var n=r.length>0,i=t.length>0,a=function(o,a,s,l,c){var u,d,f,p=0,h="0",_=o&&[],v=[],g=T,y=o||i&&A.find.TAG("*",c),w=q+=null==g?1:Math.random()||.1,x=y.length;for(c&&(T=a!==B&&a);h!==x&&null!=(u=y[h]);h++){if(i&&u){for(d=0;f=t[d++];)if(f(u,a,s)){l.push(u);break}c&&(q=w)}n&&((u=!f&&u)&&p--,o&&_.push(u))}if(p+=h,n&&h!==p){for(d=0;f=r[d++];)f(_,v,a,s);if(o){if(p>0)for(;h--;)_[h]||v[h]||(v[h]=Q.call(l));v=m(v)}tt.apply(l,v),c&&!o&&v.length>0&&p+r.length>1&&e.uniqueSort(l)}return c&&(q=w,T=g),_};return n?o(a):a}function x(t,r,n){for(var o=0,i=r.length;o<i;o++)e(t,r[o],n);return n}function b(t,e,r,n){var o,i,a,s,l,c=p(t);if(!n&&1===c.length){if(i=c[0]=c[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&k.getById&&9===e.nodeType&&F&&A.relative[i[1].type]){if(e=(A.find.ID(a.matches[0].replace(bt,zt),e)||[])[0],!e)return r;t=t.slice(i.shift().value.length)}for(o=_t.needsContext.test(t)?0:i.length;o--&&(a=i[o],!A.relative[s=a.type]);)if((l=A.find[s])&&(n=l(a.matches[0].replace(bt,zt),wt.test(i[0].type)&&d(e.parentNode)||e))){if(i.splice(o,1),t=n.length&&h(i),!t)return tt.apply(r,n),r;break}}return S(t,c)(n,e,!F,r,wt.test(t)&&d(e.parentNode)||e),r}var z,k,A,E,N,S,T,C,M,O,B,j,F,D,L,I,P,R="sizzle"+-new Date,H=t.document,q=0,W=0,$=n(),U=n(),X=n(),V=function(t,e){return t===e&&(M=!0),0},J="undefined",Z=1<<31,G={}.hasOwnProperty,Y=[],Q=Y.pop,K=Y.push,tt=Y.push,et=Y.slice,rt=Y.indexOf||function(t){for(var e=0,r=this.length;e<r;e++)if(this[e]===t)return e;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ot="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=it.replace("w","w#"),st="\\["+ot+"*("+it+")"+ot+"*(?:([*^$|!~]?=)"+ot+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+ot+"*\\]",lt=":("+it+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",ct=new RegExp("^"+ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ot+"+$","g"),ut=new RegExp("^"+ot+"*,"+ot+"*"),dt=new RegExp("^"+ot+"*([>+~]|"+ot+")"+ot+"*"),ft=new RegExp("="+ot+"*([^\\]'\"]*?)"+ot+"*\\]","g"),pt=new RegExp(lt),ht=new RegExp("^"+at+"$"),_t={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ot+"*(even|odd|(([+-]|)(\\d*)n|)"+ot+"*(?:([+-]|)"+ot+"*(\\d+)|))"+ot+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ot+"*((?:-\\d)?\\d*)"+ot+"*\\)|)(?=[^-]|$)","i")},vt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/[+~]/,xt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+ot+"?|("+ot+")|.)","ig"),zt=function(t,e,r){var n="0x"+e-65536;return n!==n||r?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{tt.apply(Y=et.call(H.childNodes),H.childNodes),Y[H.childNodes.length].nodeType}catch(t){tt={apply:Y.length?function(t,e){K.apply(t,et.call(e))}:function(t,e){for(var r=t.length,n=0;t[r++]=e[n++];);t.length=r-1}}}k=e.support={},N=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},O=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:H,o=n.defaultView;return n!==B&&9===n.nodeType&&n.documentElement?(B=n,j=n.documentElement,F=!N(n),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){O()},!1):o.attachEvent&&o.attachEvent("onunload",function(){O()})),k.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),k.getElementsByTagName=i(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),k.getElementsByClassName=gt.test(n.getElementsByClassName)&&i(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),k.getById=i(function(t){return j.appendChild(t).id=R,!n.getElementsByName||!n.getElementsByName(R).length}),k.getById?(A.find.ID=function(t,e){if(r(e.getElementById)!==J&&F){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},A.filter.ID=function(t){var e=t.replace(bt,zt);return function(t){return t.getAttribute("id")===e}}):(delete A.find.ID,A.filter.ID=function(t){var e=t.replace(bt,zt);return function(t){var n=r(t.getAttributeNode)!==J&&t.getAttributeNode("id");return n&&n.value===e}}),A.find.TAG=k.getElementsByTagName?function(t,e){if(r(e.getElementsByTagName)!==J)return e.getElementsByTagName(t)}:function(t,e){var r,n=[],o=0,i=e.getElementsByTagName(t);if("*"===t){for(;r=i[o++];)1===r.nodeType&&n.push(r);return n}return i},A.find.CLASS=k.getElementsByClassName&&function(t,e){if(r(e.getElementsByClassName)!==J&&F)return e.getElementsByClassName(t)},L=[],D=[],(k.qsa=gt.test(n.querySelectorAll))&&(i(function(t){t.innerHTML="<select t=''><option selected=''></option></select>",t.querySelectorAll("[t^='']").length&&D.push("[*^$]="+ot+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||D.push("\\["+ot+"*(?:value|"+nt+")"),t.querySelectorAll(":checked").length||D.push(":checked")}),i(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&D.push("name"+ot+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(k.matchesSelector=gt.test(I=j.webkitMatchesSelector||j.mozMatchesSelector||j.oMatchesSelector||j.msMatchesSelector))&&i(function(t){k.disconnectedMatch=I.call(t,"div"),I.call(t,"[s!='']:x"),L.push("!=",lt)}),D=D.length&&new RegExp(D.join("|")),L=L.length&&new RegExp(L.join("|")),e=gt.test(j.compareDocumentPosition),P=e||gt.test(j.contains)?function(t,e){var r=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return M=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r?r:(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&r||!k.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===H&&P(H,t)?-1:e===n||e.ownerDocument===H&&P(H,e)?1:C?rt.call(C,t)-rt.call(C,e):0:4&r?-1:1)}:function(t,e){if(t===e)return M=!0,0;var r,o=0,i=t.parentNode,a=e.parentNode,l=[t],c=[e];if(!i||!a)return t===n?-1:e===n?1:i?-1:a?1:C?rt.call(C,t)-rt.call(C,e):0;if(i===a)return s(t,e);for(r=t;r=r.parentNode;)l.unshift(r);for(r=e;r=r.parentNode;)c.unshift(r);for(;l[o]===c[o];)o++;return o?s(l[o],c[o]):l[o]===H?-1:c[o]===H?1:0},n):B},e.matches=function(t,r){return e(t,null,null,r)},e.matchesSelector=function(t,r){if((t.ownerDocument||t)!==B&&O(t),r=r.replace(ft,"='$1']"),k.matchesSelector&&F&&(!L||!L.test(r))&&(!D||!D.test(r)))try{var n=I.call(t,r);if(n||k.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(r,B,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==B&&O(t),P(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==B&&O(t);var r=A.attrHandle[e.toLowerCase()],n=r&&G.call(A.attrHandle,e.toLowerCase())?r(t,e,!F):void 0;return void 0!==n?n:k.attributes||!F?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,r=[],n=0,o=0;if(M=!k.detectDuplicates,C=!k.sortStable&&t.slice(0),t.sort(V),M){for(;e=t[o++];)e===t[o]&&(n=r.push(o));for(;n--;)t.splice(r[n],1)}return C=null,t},E=e.getText=function(t){var e,r="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=E(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)r+=E(e);return r},A=e.selectors={cacheLength:50,createPseudo:o,match:_t,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,zt),t[3]=(t[4]||t[5]||"").replace(bt,zt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,r=!t[5]&&t[2];return _t.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:r&&pt.test(r)&&(e=p(r,!0))&&(e=r.indexOf(")",r.length-e)-r.length)&&(t[0]=t[0].slice(0,e),t[2]=r.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,zt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=$[t+" "];return e||(e=new RegExp("(^|"+ot+")"+t+"("+ot+"|$)"))&&$(t,function(t){return e.test("string"==typeof t.className&&t.className||r(t.getAttribute)!==J&&t.getAttribute("class")||"")})},ATTR:function(t,r,n){return function(o){var i=e.attr(o,t);return null==i?"!="===r:!r||(i+="","="===r?i===n:"!="===r?i!==n:"^="===r?n&&0===i.indexOf(n):"*="===r?n&&i.indexOf(n)>-1:"$="===r?n&&i.slice(-n.length)===n:"~="===r?(" "+i+" ").indexOf(n)>-1:"|="===r&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,r,n,o){var i="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,r,l){var c,u,d,f,p,h,_=i!==a?"nextSibling":"previousSibling",v=e.parentNode,m=s&&e.nodeName.toLowerCase(),g=!l&&!s;if(v){if(i){for(;_;){for(d=e;d=d[_];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;h=_="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&g){for(u=v[R]||(v[R]={}),c=u[t]||[],p=c[0]===q&&c[1],f=c[0]===q&&c[2],d=p&&v.childNodes[p];d=++p&&d&&d[_]||(f=p=0)||h.pop();)if(1===d.nodeType&&++f&&d===e){u[t]=[q,p,f];break}}else if(g&&(c=(e[R]||(e[R]={}))[t])&&c[0]===q)f=c[1];else for(;(d=++p&&d&&d[_]||(f=p=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++f||(g&&((d[R]||(d[R]={}))[t]=[q,f]),d!==e)););return f-=o,f===n||f%n===0&&f/n>=0}}},PSEUDO:function(t,r){var n,i=A.pseudos[t]||A.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return i[R]?i(r):i.length>1?(n=[t,t,"",r],A.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,e){for(var n,o=i(t,r),a=o.length;a--;)n=rt.call(t,o[a]),t[n]=!(e[n]=o[a])}):function(t){return i(t,0,n)}):i}},pseudos:{not:o(function(t){var e=[],r=[],n=S(t.replace(ct,"$1"));return n[R]?o(function(t,e,r,o){for(var i,a=n(t,null,o,[]),s=t.length;s--;)(i=a[s])&&(t[s]=!(e[s]=i))}):function(t,o,i){return e[0]=t,n(e,null,i,r),!r.pop()}}),has:o(function(t){return function(r){return e(t,r).length>0}}),contains:o(function(t){return function(e){return(e.textContent||e.innerText||E(e)).indexOf(t)>-1}}),lang:o(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,zt).toLowerCase(),function(e){var r;do if(r=F?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return r=r.toLowerCase(),r===t||0===r.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var r=t.location&&t.location.hash;return r&&r.slice(1)===e.id},root:function(t){return t===j},focus:function(t){return t===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!A.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return vt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,r){return[r<0?r+e:r]}),even:u(function(t,e){for(var r=0;r<e;r+=2)t.push(r);return t}),odd:u(function(t,e){for(var r=1;r<e;r+=2)t.push(r);return t}),lt:u(function(t,e,r){for(var n=r<0?r+e:r;--n>=0;)t.push(n);return t}),gt:u(function(t,e,r){for(var n=r<0?r+e:r;++n<e;)t.push(n);return t})}},A.pseudos.nth=A.pseudos.eq;for(z in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[z]=l(z);for(z in{submit:!0,reset:!0})A.pseudos[z]=c(z);return f.prototype=A.filters=A.pseudos,A.setFilters=new f,S=e.compile=function(t,e){var r,n=[],o=[],i=X[t+" "];if(!i){for(e||(e=p(t)),r=e.length;r--;)i=y(e[r]),i[R]?n.push(i):o.push(i);i=X(t,w(o,n))}return i},k.sortStable=R.split("").sort(V).join("")===R,k.detectDuplicates=!!M,O(),k.sortDetached=i(function(t){return 1&t.compareDocumentPosition(B.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,r){if(!r)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),k.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,r){if(!r&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||a(nt,function(t,e,r){var n;if(!r)return t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(i);ut.find=_t,ut.expr=_t.selectors,ut.expr[":"]=ut.expr.pseudos,ut.unique=_t.uniqueSort,ut.text=_t.getText,ut.isXMLDoc=_t.isXML,ut.contains=_t.contains;var vt=ut.expr.match.needsContext,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^.[^:#\[\.,]*$/;ut.filter=function(t,e,r){var n=e[0];return r&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ut.find.matchesSelector(n,t)?[n]:[]:ut.find.matches(t,ut.grep(e,function(t){return 1===t.nodeType}))},ut.fn.extend({find:function(t){var e,r=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(ut(t).filter(function(){for(e=0;e<o;e++)if(ut.contains(n[e],this))return!0}));for(e=0;e<o;e++)ut.find(t,n[e],r);return r=this.pushStack(o>1?ut.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(l(this,t||[],!1))},not:function(t){return this.pushStack(l(this,t||[],!0))},is:function(t){return!!l(this,"string"==typeof t&&vt.test(t)?ut(t):t||[],!1).length}});var yt,wt=i.document,xt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,bt=ut.fn.init=function(t,e){var r,n;if(!t)return this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:xt.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||yt).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof ut?e[0]:e,ut.merge(this,ut.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:wt,!0)),mt.test(r[1])&&ut.isPlainObject(e))for(r in e)ut.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}if(n=wt.getElementById(r[2]),n&&n.parentNode){if(n.id!==r[2])return yt.find(t);this.length=1,this[0]=n}return this.context=wt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ut.isFunction(t)?"undefined"!=typeof yt.ready?yt.ready(t):t(ut):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ut.makeArray(t,this))};bt.prototype=ut.fn,yt=ut(wt);var zt=/^(?:parents|prev(?:Until|All))/,kt={children:!0,contents:!0,next:!0,prev:!0};ut.extend({dir:function(t,e,r){for(var n=[],o=t[e];o&&9!==o.nodeType&&(void 0===r||1!==o.nodeType||!ut(o).is(r));)1===o.nodeType&&n.push(o),o=o[e];return n},sibling:function(t,e){for(var r=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&r.push(t);return r}}),ut.fn.extend({has:function(t){var e,r=ut(t,this),n=r.length;return this.filter(function(){for(e=0;e<n;e++)if(ut.contains(this,r[e]))return!0})},closest:function(t,e){for(var r,n=0,o=this.length,i=[],a=vt.test(t)||"string"!=typeof t?ut(t,e||this.context):0;n<o;n++)for(r=this[n];r&&r!==e;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&ut.find.matchesSelector(r,t))){i.push(r);break}return this.pushStack(i.length>1?ut.unique(i):i)},index:function(t){return t?"string"==typeof t?ut.inArray(this[0],ut(t)):ut.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ut.unique(ut.merge(this.get(),ut(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ut.each({parent:function t(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return ut.dir(t,"parentNode")},parentsUntil:function(t,e,r){return ut.dir(t,"parentNode",r)},next:function(t){return c(t,"nextSibling")},prev:function(t){return c(t,"previousSibling")},nextAll:function(t){return ut.dir(t,"nextSibling")},prevAll:function(t){return ut.dir(t,"previousSibling")},nextUntil:function(t,e,r){return ut.dir(t,"nextSibling",r)},prevUntil:function(t,e,r){return ut.dir(t,"previousSibling",r)},siblings:function(t){return ut.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ut.sibling(t.firstChild)},contents:function(t){return ut.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ut.merge([],t.childNodes)}},function(t,e){ut.fn[t]=function(r,n){var o=ut.map(this,e,r);return"Until"!==t.slice(-5)&&(n=r),n&&"string"==typeof n&&(o=ut.filter(n,o)),this.length>1&&(kt[t]||(o=ut.unique(o)),zt.test(t)&&(o=o.reverse())),this.pushStack(o)}});var At=/\S+/g,Et={};ut.Callbacks=function(t){t="string"==typeof t?Et[t]||u(t):ut.extend({},t);var e,r,n,o,i,a,s=[],l=!t.once&&[],c=function c(u){for(r=t.memory&&u,n=!0,i=a||0,a=0,o=s.length,e=!0;s&&i<o;i++)if(s[i].apply(u[0],u[1])===!1&&t.stopOnFalse){r=!1;break}e=!1,s&&(l?l.length&&c(l.shift()):r?s=[]:d.disable())},d={add:function(){if(s){var n=s.length;!function e(r){ut.each(r,function(r,n){var o=ut.type(n);"function"===o?t.unique&&d.has(n)||s.push(n):n&&n.length&&"string"!==o&&e(n)})}(arguments),e?o=s.length:r&&(a=n,c(r))}return this},remove:function(){return s&&ut.each(arguments,function(t,r){for(var n;(n=ut.inArray(r,s,n))>-1;)s.splice(n,1),e&&(n<=o&&o--,n<=i&&i--)}),this},has:function(t){return t?ut.inArray(t,s)>-1:!(!s||!s.length)},empty:function(){return s=[],o=0,this},disable:function(){return s=l=r=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,r||d.disable(),this},locked:function(){return!l},fireWith:function(t,r){return!s||n&&!l||(r=r||[],r=[t,r.slice?r.slice():r],e?l.push(r):c(r)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},ut.extend({Deferred:function(t){var e=[["resolve","done",ut.Callbacks("once memory"),"resolved"],["reject","fail",ut.Callbacks("once memory"),"rejected"],["notify","progress",ut.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ut.Deferred(function(r){ut.each(e,function(e,i){var a=ut.isFunction(t[e])&&t[e];o[i[1]](function(){var t=a&&a.apply(this,arguments);t&&ut.isFunction(t.promise)?t.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[i[0]+"With"](this===n?r.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ut.extend(t,n):n}},o={};return n.pipe=n.then,ut.each(e,function(t,i){var a=i[2],s=i[3];n[i[1]]=a.add,s&&a.add(function(){r=s},e[1^t][2].disable,e[2][2].lock),o[i[0]]=function(){return o[i[0]+"With"](this===o?n:this,arguments),this},o[i[0]+"With"]=a.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,r,n,o=0,i=tt.call(arguments),a=i.length,s=1!==a||t&&ut.isFunction(t.promise)?a:0,l=1===s?t:ut.Deferred(),c=function(t,r,n){return function(o){r[t]=this,n[t]=arguments.length>1?tt.call(arguments):o,n===e?l.notifyWith(r,n):--s||l.resolveWith(r,n)}};if(a>1)for(e=new Array(a),r=new Array(a),n=new Array(a);o<a;o++)i[o]&&ut.isFunction(i[o].promise)?i[o].promise().done(c(o,n,i)).fail(l.reject).progress(c(o,r,e)):--s;return s||l.resolveWith(n,i),l.promise()}});var Nt;ut.fn.ready=function(t){return ut.ready.promise().done(t),this},ut.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ut.readyWait++:ut.ready(!0)},ready:function(t){if(t===!0?!--ut.readyWait:!ut.isReady){if(!wt.body)return setTimeout(ut.ready);ut.isReady=!0,t!==!0&&--ut.readyWait>0||(Nt.resolveWith(wt,[ut]),ut.fn.trigger&&ut(wt).trigger("ready").off("ready"))}}}),ut.ready.promise=function(t){if(!Nt)if(Nt=ut.Deferred(),"complete"===wt.readyState)setTimeout(ut.ready);else if(wt.addEventListener)wt.addEventListener("DOMContentLoaded",f,!1),i.addEventListener("load",f,!1);else{wt.attachEvent("onreadystatechange",f),i.attachEvent("onload",f);var e=!1;try{e=null==i.frameElement&&wt.documentElement}catch(t){}e&&e.doScroll&&!function t(){if(!ut.isReady){try{e.doScroll("left")}catch(e){return setTimeout(t,50)}d(),ut.ready()}}()}return Nt.promise(t)};var St,Tt="undefined";for(St in ut(lt))break;lt.ownLast="0"!==St,lt.inlineBlockNeedsLayout=!1,ut(function(){var t,e,n=wt.getElementsByTagName("body")[0];n&&(t=wt.createElement("div"),t.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e=wt.createElement("div"),n.appendChild(t).appendChild(e),r(e.style.zoom)!==Tt&&(e.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(lt.inlineBlockNeedsLayout=3===e.offsetWidth)&&(n.style.zoom=1)),n.removeChild(t),t=e=null)}),function(){var t=wt.createElement("div");if(null==lt.deleteExpando){lt.deleteExpando=!0;try{delete t.test}catch(t){lt.deleteExpando=!1}}t=null}(),ut.acceptData=function(t){var e=ut.noData[(t.nodeName+" ").toLowerCase()],r=+t.nodeType||1;return(1===r||9===r)&&(!e||e!==!0&&t.getAttribute("classid")===e)};var Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Mt=/([A-Z])/g;ut.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ut.cache[t[ut.expando]]:t[ut.expando],!!t&&!h(t)},data:function(t,e,r){return _(t,e,r)},removeData:function(t,e){return v(t,e)},_data:function(t,e,r){return _(t,e,r,!0)},_removeData:function(t,e){return v(t,e,!0)}}),ut.fn.extend({data:function t(e,n){var o,i,t,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(t=ut.data(a),1===a.nodeType&&!ut._data(a,"parsedAttrs"))){for(o=s.length;o--;)i=s[o].name,0===i.indexOf("data-")&&(i=ut.camelCase(i.slice(5)),p(a,i,t[i]));ut._data(a,"parsedAttrs",!0)}return t}return"object"===("undefined"==typeof e?"undefined":r(e))?this.each(function(){ut.data(this,e)}):arguments.length>1?this.each(function(){ut.data(this,e,n)}):a?p(a,e,ut.data(a,e)):void 0},removeData:function(t){return this.each(function(){ut.removeData(this,t)})}}),ut.extend({queue:function t(e,r,n){var t;if(e)return r=(r||"fx")+"queue",t=ut._data(e,r),n&&(!t||ut.isArray(n)?t=ut._data(e,r,ut.makeArray(n)):t.push(n)),t||[]},dequeue:function(t,e){e=e||"fx";var r=ut.queue(t,e),n=r.length,o=r.shift(),i=ut._queueHooks(t,e),a=function(){ut.dequeue(t,e)};"inprogress"===o&&(o=r.shift(),n--),o&&("fx"===e&&r.unshift("inprogress"),delete i.stop,o.call(t,a,i)),!n&&i&&i.empty.fire()},_queueHooks:function(t,e){var r=e+"queueHooks";return ut._data(t,r)||ut._data(t,r,{empty:ut.Callbacks("once memory").add(function(){ut._removeData(t,e+"queue"),ut._removeData(t,r)})})}}),ut.fn.extend({queue:function(t,e){var r=2;return"string"!=typeof t&&(e=t,t="fx",r--),arguments.length<r?ut.queue(this[0],t):void 0===e?this:this.each(function(){var r=ut.queue(this,t,e);ut._queueHooks(this,t),"fx"===t&&"inprogress"!==r[0]&&ut.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ut.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var r,n=1,o=ut.Deferred(),i=this,a=this.length,s=function(){--n||o.resolveWith(i,[i])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)r=ut._data(i[a],t+"queueHooks"),r&&r.empty&&(n++,r.empty.add(s));return s(),o.promise(e)}});var Ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bt=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===ut.css(t,"display")||!ut.contains(t.ownerDocument,t)},Ft=ut.access=function(t,e,r,n,o,i,a){var s=0,l=t.length,c=null==r;if("object"===ut.type(r)){o=!0;for(s in r)ut.access(t,e,s,r[s],!0,i,a)}else if(void 0!==n&&(o=!0,ut.isFunction(n)||(a=!0),c&&(a?(e.call(t,n),e=null):(c=e,e=function(t,e,r){return c.call(ut(t),r)})),e))for(;s<l;s++)e(t[s],r,a?n:n.call(t[s],s,e(t[s],r)));return o?t:c?e.call(t):l?e(t[0],r):i},Dt=/^(?:checkbox|radio)$/i;!function(){var t=wt.createDocumentFragment(),e=wt.createElement("div"),r=wt.createElement("input");if(e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a>",lt.leadingWhitespace=3===e.firstChild.nodeType,lt.tbody=!e.getElementsByTagName("tbody").length,lt.htmlSerialize=!!e.getElementsByTagName("link").length,lt.html5Clone="<:nav></:nav>"!==wt.createElement("nav").cloneNode(!0).outerHTML,r.type="checkbox",r.checked=!0,t.appendChild(r),lt.appendChecked=r.checked,e.innerHTML="<textarea>x</textarea>",lt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",lt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,lt.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){lt.noCloneEvent=!1}),e.cloneNode(!0).click()),null==lt.deleteExpando){lt.deleteExpando=!0;try{delete e.test}catch(t){lt.deleteExpando=!1}}t=e=r=null}(),function(){var t,e,r=wt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(lt[t+"Bubbles"]=e in i)||(r.setAttribute(e,"t"),lt[t+"Bubbles"]=r.attributes[e].expando===!1);r=null}();var Lt=/^(?:input|select|textarea)$/i,It=/^key/,Pt=/^(?:mouse|contextmenu)|click/,Rt=/^(?:focusinfocus|focusoutblur)$/,Ht=/^([^.]*)(?:\.(.+)|)$/;ut.event={global:{},add:function(t,e,n,o,i){var a,s,l,c,u,d,f,p,h,_,v,m=ut._data(t);if(m){for(n.handler&&(c=n,n=c.handler,i=c.selector),n.guid||(n.guid=ut.guid++),(s=m.events)||(s=m.events={}),(d=m.handle)||(d=m.handle=function(t){return("undefined"==typeof ut?"undefined":r(ut))===Tt||t&&ut.event.triggered===t.type?void 0:ut.event.dispatch.apply(d.elem,arguments)},d.elem=t),e=(e||"").match(At)||[""],l=e.length;l--;)a=Ht.exec(e[l])||[],h=v=a[1],_=(a[2]||"").split(".").sort(),h&&(u=ut.event.special[h]||{},h=(i?u.delegateType:u.bindType)||h,u=ut.event.special[h]||{},f=ut.extend({type:h,origType:v,data:o,handler:n,guid:n.guid,selector:i,needsContext:i&&ut.expr.match.needsContext.test(i),namespace:_.join(".")},c),(p=s[h])||(p=s[h]=[],p.delegateCount=0,u.setup&&u.setup.call(t,o,_,d)!==!1||(t.addEventListener?t.addEventListener(h,d,!1):t.attachEvent&&t.attachEvent("on"+h,d))),u.add&&(u.add.call(t,f),f.handler.guid||(f.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,f):p.push(f),ut.event.global[h]=!0);t=null}},remove:function(t,e,r,n,o){var i,a,s,l,c,u,d,f,p,h,_,v=ut.hasData(t)&&ut._data(t);if(v&&(u=v.events)){for(e=(e||"").match(At)||[""],c=e.length;c--;)if(s=Ht.exec(e[c])||[],p=_=s[1],h=(s[2]||"").split(".").sort(),p){for(d=ut.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,f=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=i=f.length;i--;)a=f[i],!o&&_!==a.origType||r&&r.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(f.splice(i,1),a.selector&&f.delegateCount--,
d.remove&&d.remove.call(t,a));l&&!f.length&&(d.teardown&&d.teardown.call(t,h,v.handle)!==!1||ut.removeEvent(t,p,v.handle),delete u[p])}else for(p in u)ut.event.remove(t,p+e[c],r,n,!0);ut.isEmptyObject(u)&&(delete v.handle,ut._removeData(t,"events"))}},trigger:function(t,e,n,o){var a,s,l,c,u,d,f,p=[n||wt],h=at.call(t,"type")?t.type:t,_=at.call(t,"namespace")?t.namespace.split("."):[];if(l=d=n=n||wt,3!==n.nodeType&&8!==n.nodeType&&!Rt.test(h+ut.event.triggered)&&(h.indexOf(".")>=0&&(_=h.split("."),h=_.shift(),_.sort()),s=h.indexOf(":")<0&&"on"+h,t=t[ut.expando]?t:new ut.Event(h,"object"===("undefined"==typeof t?"undefined":r(t))&&t),t.isTrigger=o?2:3,t.namespace=_.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:ut.makeArray(e,[t]),u=ut.event.special[h]||{},o||!u.trigger||u.trigger.apply(n,e)!==!1)){if(!o&&!u.noBubble&&!ut.isWindow(n)){for(c=u.delegateType||h,Rt.test(c+h)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(n.ownerDocument||wt)&&p.push(d.defaultView||d.parentWindow||i)}for(f=0;(l=p[f++])&&!t.isPropagationStopped();)t.type=f>1?c:u.bindType||h,a=(ut._data(l,"events")||{})[t.type]&&ut._data(l,"handle"),a&&a.apply(l,e),a=s&&l[s],a&&a.apply&&ut.acceptData(l)&&(t.result=a.apply(l,e),t.result===!1&&t.preventDefault());if(t.type=h,!o&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),e)===!1)&&ut.acceptData(n)&&s&&n[h]&&!ut.isWindow(n)){d=n[s],d&&(n[s]=null),ut.event.triggered=h;try{n[h]()}catch(t){}ut.event.triggered=void 0,d&&(n[s]=d)}return t.result}},dispatch:function(t){t=ut.event.fix(t);var e,r,n,o,i,a=[],s=tt.call(arguments),l=(ut._data(this,"events")||{})[t.type]||[],c=ut.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=ut.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(n=o.handlers[i++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(n.namespace)||(t.handleObj=n,t.data=n.data,r=((ut.event.special[n.origType]||{}).handle||n.handler).apply(o.elem,s),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var r,n,o,i,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(o=[],i=0;i<s;i++)n=e[i],r=n.selector+" ",void 0===o[r]&&(o[r]=n.needsContext?ut(r,this).index(l)>=0:ut.find(r,this,null,[l]).length),o[r]&&o.push(n);o.length&&a.push({elem:l,handlers:o})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[ut.expando])return t;var e,r,n,o=t.type,i=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Pt.test(o)?this.mouseHooks:It.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new ut.Event(i),e=n.length;e--;)r=n[e],t[r]=i[r];return t.target||(t.target=i.srcElement||wt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,i):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var r,n,o,i=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||wt,o=n.documentElement,r=n.body,t.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===i||(t.which=1&i?1:2&i?3:4&i?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===y()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ut.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ut.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,r,n){var o=ut.extend(new ut.Event,r,{type:t,isSimulated:!0,originalEvent:{}});n?ut.event.trigger(o,null,e):ut.event.dispatch.call(e,o),o.isDefaultPrevented()&&r.preventDefault()}},ut.removeEvent=wt.removeEventListener?function(t,e,r){t.removeEventListener&&t.removeEventListener(e,r,!1)}:function(t,e,n){var o="on"+e;t.detachEvent&&(r(t[o])===Tt&&(t[o]=null),t.detachEvent(o,n))},ut.Event=function(t,e){return this instanceof ut.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&(t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault())?m:g):this.type=t,e&&ut.extend(this,e),this.timeStamp=t&&t.timeStamp||ut.now(),void(this[ut.expando]=!0)):new ut.Event(t,e)},ut.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=m,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=m,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m,this.stopPropagation()}},ut.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ut.event.special[t]={delegateType:e,bindType:e,handle:function(t){var r,n=this,o=t.relatedTarget,i=t.handleObj;return o&&(o===n||ut.contains(n,o))||(t.type=i.origType,r=i.handler.apply(this,arguments),t.type=e),r}}}),lt.submitBubbles||(ut.event.special.submit={setup:function(){return!ut.nodeName(this,"form")&&void ut.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,r=ut.nodeName(e,"input")||ut.nodeName(e,"button")?e.form:void 0;r&&!ut._data(r,"submitBubbles")&&(ut.event.add(r,"submit._submit",function(t){t._submit_bubble=!0}),ut._data(r,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ut.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return!ut.nodeName(this,"form")&&void ut.event.remove(this,"._submit")}}),lt.changeBubbles||(ut.event.special.change={setup:function(){return Lt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(ut.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ut.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ut.event.simulate("change",this,t,!0)})),!1):void ut.event.add(this,"beforeactivate._change",function(t){var e=t.target;Lt.test(e.nodeName)&&!ut._data(e,"changeBubbles")&&(ut.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ut.event.simulate("change",this.parentNode,t,!0)}),ut._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ut.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),lt.focusinBubbles||ut.each({focus:"focusin",blur:"focusout"},function(t,e){var r=function(t){ut.event.simulate(e,t.target,ut.event.fix(t),!0)};ut.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=ut._data(n,e);o||n.addEventListener(t,r,!0),ut._data(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=ut._data(n,e)-1;o?ut._data(n,e,o):(n.removeEventListener(t,r,!0),ut._removeData(n,e))}}}),ut.fn.extend({on:function(t,e,n,o,i){var a,s;if("object"===("undefined"==typeof t?"undefined":r(t))){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],i);return this}if(null==n&&null==o?(o=e,n=e=void 0):null==o&&("string"==typeof e?(o=n,n=void 0):(o=n,n=e,e=void 0)),o===!1)o=g;else if(!o)return this;return 1===i&&(s=o,o=function(t){return ut().off(t),s.apply(this,arguments)},o.guid=s.guid||(s.guid=ut.guid++)),this.each(function(){ut.event.add(this,t,o,n,e)})},one:function(t,e,r,n){return this.on(t,e,r,n,1)},off:function(t,e,n){var o,i;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,ut(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"===("undefined"==typeof t?"undefined":r(t))){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=g),this.each(function(){ut.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){ut.event.trigger(t,e,this)})},triggerHandler:function(t,e){var r=this[0];if(r)return ut.event.trigger(t,e,r,!0)}});var qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Wt=/ jQuery\d+="(?:null|\d+)"/g,$t=new RegExp("<(?:"+qt+")[\\s/>]","i"),Ut=/^\s+/,Xt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Vt=/<([\w:]+)/,Jt=/<tbody/i,Zt=/<|&#?\w+;/,Gt=/<(?:script|style|link)/i,Yt=/checked\s*(?:[^=]|=\s*.checked.)/i,Qt=/^$|\/(?:java|ecma)script/i,Kt=/^true\/(.*)/,te=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ee={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},re=w(wt),ne=re.appendChild(wt.createElement("div"));ee.optgroup=ee.option,ee.tbody=ee.tfoot=ee.colgroup=ee.caption=ee.thead,ee.th=ee.td,ut.extend({clone:function t(e,r,n){var o,i,t,a,s,l=ut.contains(e.ownerDocument,e);if(lt.html5Clone||ut.isXMLDoc(e)||!$t.test("<"+e.nodeName+">")?t=e.cloneNode(!0):(ne.innerHTML=e.outerHTML,ne.removeChild(t=ne.firstChild)),!(lt.noCloneEvent&&lt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ut.isXMLDoc(e)))for(o=x(t),s=x(e),a=0;null!=(i=s[a]);++a)o[a]&&S(i,o[a]);if(r)if(n)for(s=s||x(e),o=o||x(t),a=0;null!=(i=s[a]);a++)N(i,o[a]);else N(e,t);return o=x(t,"script"),o.length>0&&E(o,!l&&x(e,"script")),o=s=i=null,t},buildFragment:function(t,e,r,n){for(var o,i,a,s,l,c,u,d=t.length,f=w(e),p=[],h=0;h<d;h++)if(i=t[h],i||0===i)if("object"===ut.type(i))ut.merge(p,i.nodeType?[i]:i);else if(Zt.test(i)){for(s=s||f.appendChild(e.createElement("div")),l=(Vt.exec(i)||["",""])[1].toLowerCase(),u=ee[l]||ee._default,s.innerHTML=u[1]+i.replace(Xt,"<$1></$2>")+u[2],o=u[0];o--;)s=s.lastChild;if(!lt.leadingWhitespace&&Ut.test(i)&&p.push(e.createTextNode(Ut.exec(i)[0])),!lt.tbody)for(i="table"!==l||Jt.test(i)?"<table>"!==u[1]||Jt.test(i)?0:s:s.firstChild,o=i&&i.childNodes.length;o--;)ut.nodeName(c=i.childNodes[o],"tbody")&&!c.childNodes.length&&i.removeChild(c);for(ut.merge(p,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else p.push(e.createTextNode(i));for(s&&f.removeChild(s),lt.appendChecked||ut.grep(x(p,"input"),b),h=0;i=p[h++];)if((!n||ut.inArray(i,n)===-1)&&(a=ut.contains(i.ownerDocument,i),s=x(f.appendChild(i),"script"),a&&E(s),r))for(o=0;i=s[o++];)Qt.test(i.type||"")&&r.push(i);return s=null,f},cleanData:function(t,e){for(var n,o,i,a,s=0,l=ut.expando,c=ut.cache,u=lt.deleteExpando,d=ut.event.special;null!=(n=t[s]);s++)if((e||ut.acceptData(n))&&(i=n[l],a=i&&c[i])){if(a.events)for(o in a.events)d[o]?ut.event.remove(n,o):ut.removeEvent(n,o,a.handle);c[i]&&(delete c[i],u?delete n[l]:r(n.removeAttribute)!==Tt?n.removeAttribute(l):n[l]=null,K.push(i))}}}),ut.fn.extend({text:function(t){return Ft(this,function(t){return void 0===t?ut.text(this):this.empty().append((this[0]&&this[0].ownerDocument||wt).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=z(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=z(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var r,n=t?ut.filter(t,this):this,o=0;null!=(r=n[o]);o++)e||1!==r.nodeType||ut.cleanData(x(r)),r.parentNode&&(e&&ut.contains(r.ownerDocument,r)&&E(x(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ut.cleanData(x(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ut.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ut.clone(this,t,e)})},html:function(t){return Ft(this,function(t){var e=this[0]||{},r=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Wt,""):void 0;if("string"==typeof t&&!Gt.test(t)&&(lt.htmlSerialize||!$t.test(t))&&(lt.leadingWhitespace||!Ut.test(t))&&!ee[(Vt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Xt,"<$1></$2>");try{for(;r<n;r++)e=this[r]||{},1===e.nodeType&&(ut.cleanData(x(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,ut.cleanData(x(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=et.apply([],t);var r,n,o,i,a,s,l=0,c=this.length,u=this,d=c-1,f=t[0],p=ut.isFunction(f);if(p||c>1&&"string"==typeof f&&!lt.checkClone&&Yt.test(f))return this.each(function(r){var n=u.eq(r);p&&(t[0]=f.call(this,r,n.html())),n.domManip(t,e)});if(c&&(s=ut.buildFragment(t,this[0].ownerDocument,!1,this),r=s.firstChild,1===s.childNodes.length&&(s=r),r)){for(i=ut.map(x(s,"script"),k),o=i.length;l<c;l++)n=s,l!==d&&(n=ut.clone(n,!0,!0),o&&ut.merge(i,x(n,"script"))),e.call(this[l],n,l);if(o)for(a=i[i.length-1].ownerDocument,ut.map(i,A),l=0;l<o;l++)n=i[l],Qt.test(n.type||"")&&!ut._data(n,"globalEval")&&ut.contains(a,n)&&(n.src?ut._evalUrl&&ut._evalUrl(n.src):ut.globalEval((n.text||n.textContent||n.innerHTML||"").replace(te,"")));s=r=null}return this}}),ut.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ut.fn[t]=function(t){for(var r,n=0,o=[],i=ut(t),a=i.length-1;n<=a;n++)r=n===a?this:this.clone(!0),ut(i[n])[e](r),rt.apply(o,r.get());return this.pushStack(o)}});var oe,ie={};!function(){var t,e,n=wt.createElement("div"),o="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],t.style.cssText="float:left;opacity:.5",lt.opacity=/^0.5/.test(t.style.opacity),lt.cssFloat=!!t.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",lt.clearCloneStyle="content-box"===n.style.backgroundClip,t=n=null,lt.shrinkWrapBlocks=function(){var t,n,i,a;if(null==e){if(t=wt.getElementsByTagName("body")[0],!t)return;a="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=wt.createElement("div"),i=wt.createElement("div"),t.appendChild(n).appendChild(i),e=!1,r(i.style.zoom)!==Tt&&(i.style.cssText=o+";width:1px;padding:1px;zoom:1",i.innerHTML="<div></div>",i.firstChild.style.width="5px",e=3!==i.offsetWidth),t.removeChild(n),t=n=i=null}return e}}();var ae,se,le=/^margin/,ce=new RegExp("^("+Ot+")(?!px)[a-z%]+$","i"),ue=/^(top|right|bottom|left)$/;i.getComputedStyle?(ae=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},se=function(t,e,r){var n,o,i,a,s=t.style;return r=r||ae(t),a=r?r.getPropertyValue(e)||r[e]:void 0,r&&(""!==a||ut.contains(t.ownerDocument,t)||(a=ut.style(t,e)),ce.test(a)&&le.test(e)&&(n=s.width,o=s.minWidth,i=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=o,s.maxWidth=i)),void 0===a?a:a+""}):wt.documentElement.currentStyle&&(ae=function(t){return t.currentStyle},se=function(t,e,r){var n,o,i,a,s=t.style;return r=r||ae(t),a=r?r[e]:void 0,null==a&&s&&s[e]&&(a=s[e]),ce.test(a)&&!ue.test(e)&&(n=s.left,o=t.runtimeStyle,i=o&&o.left,i&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=n,i&&(o.left=i)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,e,r=wt.getElementsByTagName("body")[0];r&&(t=wt.createElement("div"),e=wt.createElement("div"),t.style.cssText=c,r.appendChild(t).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",ut.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){n=4===e.offsetWidth}),o=!0,a=!1,s=!0,i.getComputedStyle&&(a="1%"!==(i.getComputedStyle(e,null)||{}).top,o="4px"===(i.getComputedStyle(e,null)||{width:"4px"}).width),r.removeChild(t),e=r=null)}var e,r,n,o,a,s,l=wt.createElement("div"),c="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",u="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=l.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",lt.opacity=/^0.5/.test(e.style.opacity),lt.cssFloat=!!e.style.cssFloat,l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",lt.clearCloneStyle="content-box"===l.style.backgroundClip,e=l=null,ut.extend(lt,{reliableHiddenOffsets:function(){if(null!=r)return r;var t,e,n,o=wt.createElement("div"),i=wt.getElementsByTagName("body")[0];if(i)return o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=wt.createElement("div"),t.style.cssText=c,i.appendChild(t).appendChild(o),o.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=o.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",r=n&&0===e[0].offsetHeight,i.removeChild(t),o=i=null,r},boxSizing:function(){return null==n&&t(),n},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,e,r,n;if(null==s&&i.getComputedStyle){if(t=wt.getElementsByTagName("body")[0],!t)return;e=wt.createElement("div"),r=wt.createElement("div"),e.style.cssText=c,t.appendChild(e).appendChild(r),n=r.appendChild(wt.createElement("div")),n.style.cssText=r.style.cssText=u,n.style.marginRight=n.style.width="0",r.style.width="1px",s=!parseFloat((i.getComputedStyle(n,null)||{}).marginRight),t.removeChild(e)}return s}})}(),ut.swap=function(t,e,r,n){var o,i,a={};for(i in e)a[i]=t.style[i],t.style[i]=e[i];o=r.apply(t,n||[]);for(i in e)t.style[i]=a[i];return o};var de=/alpha\([^)]*\)/i,fe=/opacity\s*=\s*([^)]*)/,pe=/^(none|table(?!-c[ea]).+)/,he=new RegExp("^("+Ot+")(.*)$","i"),_e=new RegExp("^([+-])=("+Ot+")","i"),ve={position:"absolute",visibility:"hidden",display:"block"},me={letterSpacing:0,fontWeight:400},ge=["Webkit","O","Moz","ms"];ut.extend({cssHooks:{opacity:{get:function(t,e){if(e){var r=se(t,"opacity");return""===r?"1":r}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:lt.cssFloat?"cssFloat":"styleFloat"},style:function t(e,n,o,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,s,l,c=ut.camelCase(n),t=e.style;if(n=ut.cssProps[c]||(ut.cssProps[c]=O(t,c)),l=ut.cssHooks[n]||ut.cssHooks[c],void 0===o)return l&&"get"in l&&void 0!==(a=l.get(e,!1,i))?a:t[n];if(s="undefined"==typeof o?"undefined":r(o),"string"===s&&(a=_e.exec(o))&&(o=(a[1]+1)*a[2]+parseFloat(ut.css(e,n)),s="number"),null!=o&&o===o&&("number"!==s||ut.cssNumber[c]||(o+="px"),lt.clearCloneStyle||""!==o||0!==n.indexOf("background")||(t[n]="inherit"),!(l&&"set"in l&&void 0===(o=l.set(e,o,i)))))try{t[n]="",t[n]=o}catch(t){}}},css:function(t,e,r,n){var o,i,a,s=ut.camelCase(e);return e=ut.cssProps[s]||(ut.cssProps[s]=O(t.style,s)),a=ut.cssHooks[e]||ut.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,r)),void 0===i&&(i=se(t,e,n)),"normal"===i&&e in me&&(i=me[e]),""===r||r?(o=parseFloat(i),r===!0||ut.isNumeric(o)?o||0:i):i}}),ut.each(["height","width"],function(t,e){ut.cssHooks[e]={get:function(t,r,n){if(r)return 0===t.offsetWidth&&pe.test(ut.css(t,"display"))?ut.swap(t,ve,function(){return D(t,e,n)}):D(t,e,n)},set:function(t,r,n){var o=n&&ae(t);return j(t,r,n?F(t,e,n,lt.boxSizing()&&"border-box"===ut.css(t,"boxSizing",!1,o),o):0)}}}),lt.opacity||(ut.cssHooks.opacity={get:function(t,e){return fe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var r=t.style,n=t.currentStyle,o=ut.isNumeric(e)?"alpha(opacity="+100*e+")":"",i=n&&n.filter||r.filter||"";r.zoom=1,(e>=1||""===e)&&""===ut.trim(i.replace(de,""))&&r.removeAttribute&&(r.removeAttribute("filter"),""===e||n&&!n.filter)||(r.filter=de.test(i)?i.replace(de,o):i+" "+o)}}),ut.cssHooks.marginRight=M(lt.reliableMarginRight,function(t,e){if(e)return ut.swap(t,{display:"inline-block"},se,[t,"marginRight"])}),ut.each({margin:"",padding:"",border:"Width"},function(t,e){ut.cssHooks[t+e]={expand:function(r){for(var n=0,o={},i="string"==typeof r?r.split(" "):[r];n<4;n++)o[t+Bt[n]+e]=i[n]||i[n-2]||i[0];return o}},le.test(t)||(ut.cssHooks[t+e].set=j)}),ut.fn.extend({css:function(t,e){return Ft(this,function(t,e,r){var n,o,i={},a=0;if(ut.isArray(e)){for(n=ae(t),o=e.length;a<o;a++)i[e[a]]=ut.css(t,e[a],!1,n);return i}return void 0!==r?ut.style(t,e,r):ut.css(t,e)},t,e,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?ut(this).show():ut(this).hide()})}}),ut.Tween=L,L.prototype={constructor:L,init:function(t,e,r,n,o,i){this.elem=t,this.prop=r,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=i||(ut.cssNumber[r]?"":"px")},cur:function(){var t=L.propHooks[this.prop];return t&&t.get?t.get(this):L.propHooks._default.get(this)},run:function(t){var e,r=L.propHooks[this.prop];return this.options.duration?this.pos=e=ut.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ut.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ut.fx.step[t.prop]?ut.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ut.cssProps[t.prop]]||ut.cssHooks[t.prop])?ut.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ut.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ut.fx=L.prototype.init,ut.fx.step={};var ye,we,xe=/^(?:toggle|show|hide)$/,be=new RegExp("^(?:([+-])=|)("+Ot+")([a-z%]*)$","i"),ze=/queueHooks$/,ke=[H],Ae={"*":[function(t,e){var r=this.createTween(t,e),n=r.cur(),o=be.exec(e),i=o&&o[3]||(ut.cssNumber[t]?"":"px"),a=(ut.cssNumber[t]||"px"!==i&&+n)&&be.exec(ut.css(r.elem,t)),s=1,l=20;if(a&&a[3]!==i){i=i||a[3],o=o||[],a=+n||1;do s=s||".5",a/=s,ut.style(r.elem,t,a+i);while(s!==(s=r.cur()/n)&&1!==s&&--l)}return o&&(a=r.start=+a||+n||0,r.unit=i,r.end=o[1]?a+(o[1]+1)*o[2]:+o[2]),r}]};ut.Animation=ut.extend(W,{tweener:function(t,e){ut.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var r,n=0,o=t.length;n<o;n++)r=t[n],Ae[r]=Ae[r]||[],Ae[r].unshift(e)},prefilter:function(t,e){e?ke.unshift(t):ke.push(t)}}),ut.speed=function(t,e,n){var o=t&&"object"===("undefined"==typeof t?"undefined":r(t))?ut.extend({},t):{complete:n||!n&&e||ut.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ut.isFunction(e)&&e};return o.duration=ut.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in ut.fx.speeds?ut.fx.speeds[o.duration]:ut.fx.speeds._default,null!=o.queue&&o.queue!==!0||(o.queue="fx"),o.old=o.complete,o.complete=function(){ut.isFunction(o.old)&&o.old.call(this),o.queue&&ut.dequeue(this,o.queue)},o},ut.fn.extend({fadeTo:function(t,e,r,n){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,r,n)},animate:function(t,e,r,n){var o=ut.isEmptyObject(t),i=ut.speed(e,r,n),a=function(){var e=W(this,ut.extend({},t),i);(o||ut._data(this,"finish"))&&e.stop(!0)};return a.finish=a,o||i.queue===!1?this.each(a):this.queue(i.queue,a)},stop:function(t,e,r){var n=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",i=ut.timers,a=ut._data(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&ze.test(o)&&n(a[o]);for(o=i.length;o--;)i[o].elem!==this||null!=t&&i[o].queue!==t||(i[o].anim.stop(r),e=!1,i.splice(o,1));!e&&r||ut.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,r=ut._data(this),n=r[t+"queue"],o=r[t+"queueHooks"],i=ut.timers,a=n?n.length:0;for(r.finish=!0,ut.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===t&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete r.finish})}}),ut.each(["toggle","show","hide"],function(t,e){var r=ut.fn[e];ut.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(P(e,!0),t,n,o)}}),ut.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ut.fn[t]=function(t,r,n){return this.animate(e,t,r,n)}}),ut.timers=[],ut.fx.tick=function(){var t,e=ut.timers,r=0;for(ye=ut.now();r<e.length;r++)t=e[r],t()||e[r]!==t||e.splice(r--,1);e.length||ut.fx.stop(),ye=void 0},ut.fx.timer=function(t){ut.timers.push(t),t()?ut.fx.start():ut.timers.pop()},ut.fx.interval=13,ut.fx.start=function(){we||(we=setInterval(ut.fx.tick,ut.fx.interval))},ut.fx.stop=function(){clearInterval(we),we=null},ut.fx.speeds={slow:600,fast:200,_default:400},ut.fn.delay=function(t,e){return t=ut.fx?ut.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,r){var n=setTimeout(e,t);r.stop=function(){clearTimeout(n)}})},function(){var t,e,r,n,o=wt.createElement("div");o.setAttribute("className","t"),o.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=o.getElementsByTagName("a")[0],r=wt.createElement("select"),n=r.appendChild(wt.createElement("option")),e=o.getElementsByTagName("input")[0],t.style.cssText="top:1px",lt.getSetAttribute="t"!==o.className,lt.style=/top/.test(t.getAttribute("style")),lt.hrefNormalized="/a"===t.getAttribute("href"),lt.checkOn=!!e.value,lt.optSelected=n.selected,lt.enctype=!!wt.createElement("form").enctype,r.disabled=!0,lt.optDisabled=!n.disabled,e=wt.createElement("input"),e.setAttribute("value",""),lt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),lt.radioValue="t"===e.value,t=e=r=n=o=null}();var Ee=/\r/g;ut.fn.extend({val:function(t){var e,r,n,o=this[0];{if(arguments.length)return n=ut.isFunction(t),this.each(function(r){var o;1===this.nodeType&&(o=n?t.call(this,r,ut(this).val()):t,null==o?o="":"number"==typeof o?o+="":ut.isArray(o)&&(o=ut.map(o,function(t){return null==t?"":t+""})),e=ut.valHooks[this.type]||ut.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return e=ut.valHooks[o.type]||ut.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(r=e.get(o,"value"))?r:(r=o.value,"string"==typeof r?r.replace(Ee,""):null==r?"":r)}}}),ut.extend({valHooks:{option:{get:function(t){var e=ut.find.attr(t,"value");return null!=e?e:ut.text(t)}},select:{get:function(t){for(var e,r,n=t.options,o=t.selectedIndex,i="select-one"===t.type||o<0,a=i?null:[],s=i?o+1:n.length,l=o<0?s:i?o:0;l<s;l++)if(r=n[l],(r.selected||l===o)&&(lt.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!ut.nodeName(r.parentNode,"optgroup"))){if(e=ut(r).val(),i)return e;a.push(e)}return a},set:function(t,e){for(var r,n,o=t.options,i=ut.makeArray(e),a=o.length;a--;)if(n=o[a],ut.inArray(ut.valHooks.option.get(n),i)>=0)try{n.selected=r=!0}catch(t){n.scrollHeight}else n.selected=!1;return r||(t.selectedIndex=-1),o}}}}),ut.each(["radio","checkbox"],function(){ut.valHooks[this]={set:function(t,e){if(ut.isArray(e))return t.checked=ut.inArray(ut(t).val(),e)>=0}},lt.checkOn||(ut.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Ne,Se,Te=ut.expr.attrHandle,Ce=/^(?:checked|selected)$/i,Me=lt.getSetAttribute,Oe=lt.input;ut.fn.extend({attr:function(t,e){return Ft(this,ut.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ut.removeAttr(this,t)})}}),ut.extend({attr:function(t,e,n){var o,i,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return r(t.getAttribute)===Tt?ut.prop(t,e,n):(1===a&&ut.isXMLDoc(t)||(e=e.toLowerCase(),o=ut.attrHooks[e]||(ut.expr.match.bool.test(e)?Se:Ne)),void 0===n?o&&"get"in o&&null!==(i=o.get(t,e))?i:(i=ut.find.attr(t,e),null==i?void 0:i):null!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void ut.removeAttr(t,e))},removeAttr:function(t,e){var r,n,o=0,i=e&&e.match(At);if(i&&1===t.nodeType)for(;r=i[o++];)n=ut.propFix[r]||r,ut.expr.match.bool.test(r)?Oe&&Me||!Ce.test(r)?t[n]=!1:t[ut.camelCase("default-"+r)]=t[n]=!1:ut.attr(t,r,""),t.removeAttribute(Me?r:n)},attrHooks:{type:{set:function(t,e){if(!lt.radioValue&&"radio"===e&&ut.nodeName(t,"input")){var r=t.value;return t.setAttribute("type",e),r&&(t.value=r),e}}}}}),Se={set:function(t,e,r){return e===!1?ut.removeAttr(t,r):Oe&&Me||!Ce.test(r)?t.setAttribute(!Me&&ut.propFix[r]||r,r):t[ut.camelCase("default-"+r)]=t[r]=!0,r}},ut.each(ut.expr.match.bool.source.match(/\w+/g),function(t,e){var r=Te[e]||ut.find.attr;Te[e]=Oe&&Me||!Ce.test(e)?function(t,e,n){var o,i;return n||(i=Te[e],Te[e]=o,o=null!=r(t,e,n)?e.toLowerCase():null,Te[e]=i),o}:function(t,e,r){if(!r)return t[ut.camelCase("default-"+e)]?e.toLowerCase():null}}),Oe&&Me||(ut.attrHooks.value={set:function(t,e,r){return ut.nodeName(t,"input")?void(t.defaultValue=e):Ne&&Ne.set(t,e,r)}}),Me||(Ne={set:function(t,e,r){var n=t.getAttributeNode(r);if(n||t.setAttributeNode(n=t.ownerDocument.createAttribute(r)),n.value=e+="","value"===r||e===t.getAttribute(r))return e}},Te.id=Te.name=Te.coords=function(t,e,r){var n;if(!r)return(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},ut.valHooks.button={get:function(t,e){var r=t.getAttributeNode(e);if(r&&r.specified)return r.value},set:Ne.set},ut.attrHooks.contenteditable={set:function(t,e,r){Ne.set(t,""!==e&&e,r)}},ut.each(["width","height"],function(t,e){ut.attrHooks[e]={set:function(t,r){
if(""===r)return t.setAttribute(e,"auto"),r}}})),lt.style||(ut.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Be=/^(?:input|select|textarea|button|object)$/i,je=/^(?:a|area)$/i;ut.fn.extend({prop:function(t,e){return Ft(this,ut.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ut.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),ut.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,r){var n,o,i,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return i=1!==a||!ut.isXMLDoc(t),i&&(e=ut.propFix[e]||e,o=ut.propHooks[e]),void 0!==r?o&&"set"in o&&void 0!==(n=o.set(t,r,e))?n:t[e]=r:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=ut.find.attr(t,"tabindex");return e?parseInt(e,10):Be.test(t.nodeName)||je.test(t.nodeName)&&t.href?0:-1}}}}),lt.hrefNormalized||ut.each(["href","src"],function(t,e){ut.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),lt.optSelected||(ut.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ut.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ut.propFix[this.toLowerCase()]=this}),lt.enctype||(ut.propFix.enctype="encoding");var Fe=/[\t\r\n\f]/g;ut.fn.extend({addClass:function(t){var e,r,n,o,i,a,s=0,l=this.length,c="string"==typeof t&&t;if(ut.isFunction(t))return this.each(function(e){ut(this).addClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(At)||[];s<l;s++)if(r=this[s],n=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(Fe," "):" ")){for(i=0;o=e[i++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=ut.trim(n),r.className!==a&&(r.className=a)}return this},removeClass:function(t){var e,r,n,o,i,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof t&&t;if(ut.isFunction(t))return this.each(function(e){ut(this).removeClass(t.call(this,e,this.className))});if(c)for(e=(t||"").match(At)||[];s<l;s++)if(r=this[s],n=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(Fe," "):"")){for(i=0;o=e[i++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");a=t?ut.trim(n):"",r.className!==a&&(r.className=a)}return this},toggleClass:function(t,e){var n="undefined"==typeof t?"undefined":r(t);return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ut.isFunction(t)?this.each(function(r){ut(this).toggleClass(t.call(this,r,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,r=0,o=ut(this),i=t.match(At)||[];e=i[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else n!==Tt&&"boolean"!==n||(this.className&&ut._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ut._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",r=0,n=this.length;r<n;r++)if(1===this[r].nodeType&&(" "+this[r].className+" ").replace(Fe," ").indexOf(e)>=0)return!0;return!1}}),ut.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ut.fn[e]=function(t,r){return arguments.length>0?this.on(e,null,t,r):this.trigger(e)}}),ut.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,r){return this.on(t,null,e,r)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,r,n){return this.on(e,t,r,n)},undelegate:function(t,e,r){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",r)}});var De=ut.now(),Le=/\?/,Ie=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ut.parseJSON=function(t){if(i.JSON&&i.JSON.parse)return i.JSON.parse(t+"");var e,r=null,n=ut.trim(t+"");return n&&!ut.trim(n.replace(Ie,function(t,n,o,i){return e&&n&&(r=0),0===r?t:(e=o||n,r+=!i-!o,"")}))?Function("return "+n)():ut.error("Invalid JSON: "+t)},ut.parseXML=function(t){var e,r;if(!t||"string"!=typeof t)return null;try{i.DOMParser?(r=new DOMParser,e=r.parseFromString(t,"text/xml")):(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t))}catch(t){e=void 0}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||ut.error("Invalid XML: "+t),e};var Pe,Re,He=/#.*$/,qe=/([?&])_=[^&]*/,We=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,$e=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ue=/^(?:GET|HEAD)$/,Xe=/^\/\//,Ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Je={},Ze={},Ge="*/".concat("*");try{Re=location.href}catch(t){Re=wt.createElement("a"),Re.href="",Re=Re.href}Pe=Ve.exec(Re.toLowerCase())||[],ut.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Re,type:"GET",isLocal:$e.test(Pe[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ut.parseJSON,"text xml":ut.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?X(X(t,ut.ajaxSettings),e):X(ut.ajaxSettings,t)},ajaxPrefilter:$(Je),ajaxTransport:$(Ze),ajax:function(t,e){function n(t,e,r,n){var o,i,d,g,y,x=e;2!==w&&(w=2,l&&clearTimeout(l),u=void 0,s=n||"",b.readyState=t>0?4:0,o=t>=200&&t<300||304===t,r&&(g=V(f,b,r)),g=J(f,g,b,o),o?(f.ifModified&&(y=b.getResponseHeader("Last-Modified"),y&&(ut.lastModified[a]=y),y=b.getResponseHeader("etag"),y&&(ut.etag[a]=y)),204===t||"HEAD"===f.type?x="nocontent":304===t?x="notmodified":(x=g.state,i=g.data,d=g.error,o=!d)):(d=x,!t&&x||(x="error",t<0&&(t=0))),b.status=t,b.statusText=(e||x)+"",o?_.resolveWith(p,[i,x,b]):_.rejectWith(p,[b,x,d]),b.statusCode(m),m=void 0,c&&h.trigger(o?"ajaxSuccess":"ajaxError",[b,f,o?i:d]),v.fireWith(p,[b,x]),c&&(h.trigger("ajaxComplete",[b,f]),--ut.active||ut.event.trigger("ajaxStop")))}"object"===("undefined"==typeof t?"undefined":r(t))&&(e=t,t=void 0),e=e||{};var o,i,a,s,l,c,u,d,f=ut.ajaxSetup({},e),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?ut(p):ut.event,_=ut.Deferred(),v=ut.Callbacks("once memory"),m=f.statusCode||{},g={},y={},w=0,x="canceled",b={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!d)for(d={};e=We.exec(s);)d[e[1].toLowerCase()]=e[2];e=d[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var r=t.toLowerCase();return w||(t=y[r]=y[r]||t,g[t]=e),this},overrideMimeType:function(t){return w||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)m[e]=[m[e],t[e]];else b.always(t[b.status]);return this},abort:function(t){var e=t||x;return u&&u.abort(e),n(0,e),this}};if(_.promise(b).complete=v.add,b.success=b.done,b.error=b.fail,f.url=((t||f.url||Re)+"").replace(He,"").replace(Xe,Pe[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=ut.trim(f.dataType||"*").toLowerCase().match(At)||[""],null==f.crossDomain&&(o=Ve.exec(f.url.toLowerCase()),f.crossDomain=!(!o||o[1]===Pe[1]&&o[2]===Pe[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Pe[3]||("http:"===Pe[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ut.param(f.data,f.traditional)),U(Je,f,e,b),2===w)return b;c=f.global,c&&0===ut.active++&&ut.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ue.test(f.type),a=f.url,f.hasContent||(f.data&&(a=f.url+=(Le.test(a)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=qe.test(a)?a.replace(qe,"$1_="+De++):a+(Le.test(a)?"&":"?")+"_="+De++)),f.ifModified&&(ut.lastModified[a]&&b.setRequestHeader("If-Modified-Since",ut.lastModified[a]),ut.etag[a]&&b.setRequestHeader("If-None-Match",ut.etag[a])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&b.setRequestHeader("Content-Type",f.contentType),b.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ge+"; q=0.01":""):f.accepts["*"]);for(i in f.headers)b.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(f.beforeSend.call(p,b,f)===!1||2===w))return b.abort();x="abort";for(i in{success:1,error:1,complete:1})b[i](f[i]);if(u=U(Ze,f,e,b)){b.readyState=1,c&&h.trigger("ajaxSend",[b,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){b.abort("timeout")},f.timeout));try{w=1,u.send(g,n)}catch(t){if(!(w<2))throw t;n(-1,t)}}else n(-1,"No Transport");return b},getJSON:function(t,e,r){return ut.get(t,e,r,"json")},getScript:function(t,e){return ut.get(t,void 0,e,"script")}}),ut.each(["get","post"],function(t,e){ut[e]=function(t,r,n,o){return ut.isFunction(r)&&(o=o||n,n=r,r=void 0),ut.ajax({url:t,type:e,dataType:o,data:r,success:n})}}),ut.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ut.fn[e]=function(t){return this.on(e,t)}}),ut._evalUrl=function(t){return ut.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ut.fn.extend({wrapAll:function(t){if(ut.isFunction(t))return this.each(function(e){ut(this).wrapAll(t.call(this,e))});if(this[0]){var e=ut(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ut.isFunction(t)?this.each(function(e){ut(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ut(this),r=e.contents();r.length?r.wrapAll(t):e.append(t)})},wrap:function(t){var e=ut.isFunction(t);return this.each(function(r){ut(this).wrapAll(e?t.call(this,r):t)})},unwrap:function(){return this.parent().each(function(){ut.nodeName(this,"body")||ut(this).replaceWith(this.childNodes)}).end()}}),ut.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!lt.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||ut.css(t,"display"))},ut.expr.filters.visible=function(t){return!ut.expr.filters.hidden(t)};var Ye=/%20/g,Qe=/\[\]$/,Ke=/\r?\n/g,tr=/^(?:submit|button|image|reset|file)$/i,er=/^(?:input|select|textarea|keygen)/i;ut.param=function(t,e){var r,n=[],o=function(t,e){e=ut.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ut.ajaxSettings&&ut.ajaxSettings.traditional),ut.isArray(t)||t.jquery&&!ut.isPlainObject(t))ut.each(t,function(){o(this.name,this.value)});else for(r in t)Z(r,t[r],e,o);return n.join("&").replace(Ye,"+")},ut.fn.extend({serialize:function(){return ut.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ut.prop(this,"elements");return t?ut.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ut(this).is(":disabled")&&er.test(this.nodeName)&&!tr.test(t)&&(this.checked||!Dt.test(t))}).map(function(t,e){var r=ut(this).val();return null==r?null:ut.isArray(r)?ut.map(r,function(t){return{name:e.name,value:t.replace(Ke,"\r\n")}}):{name:e.name,value:r.replace(Ke,"\r\n")}}).get()}}),ut.ajaxSettings.xhr=void 0!==i.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&G()||Y()}:G;var rr=0,nr={},or=ut.ajaxSettings.xhr();i.ActiveXObject&&ut(i).on("unload",function(){for(var t in nr)nr[t](void 0,!0)}),lt.cors=!!or&&"withCredentials"in or,or=lt.ajax=!!or,or&&ut.ajaxTransport(function(t){if(!t.crossDomain||lt.cors){var e;return{send:function(r,n){var o,i=t.xhr(),a=++rr;if(i.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)i[o]=t.xhrFields[o];t.mimeType&&i.overrideMimeType&&i.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)void 0!==r[o]&&i.setRequestHeader(o,r[o]+"");i.send(t.hasContent&&t.data||null),e=function(r,o){var s,l,c;if(e&&(o||4===i.readyState))if(delete nr[a],e=void 0,i.onreadystatechange=ut.noop,o)4!==i.readyState&&i.abort();else{c={},s=i.status,"string"==typeof i.responseText&&(c.text=i.responseText);try{l=i.statusText}catch(t){l=""}s||!t.isLocal||t.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&n(s,l,c,i.getAllResponseHeaders())},t.async?4===i.readyState?setTimeout(e):i.onreadystatechange=nr[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),ut.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ut.globalEval(t),t}}}),ut.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ut.ajaxTransport("script",function(t){if(t.crossDomain){var e,r=wt.head||ut("head")[0]||wt.documentElement;return{send:function(n,o){e=wt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,r){(r||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,r||o(200,"success"))},r.insertBefore(e,r.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var ir=[],ar=/(=)\?(?=&|$)|\?\?/;ut.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ir.pop()||ut.expando+"_"+De++;return this[t]=!0,t}}),ut.ajaxPrefilter("json jsonp",function(t,e,r){var n,o,a,s=t.jsonp!==!1&&(ar.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ar.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return n=t.jsonpCallback=ut.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ar,"$1"+n):t.jsonp!==!1&&(t.url+=(Le.test(t.url)?"&":"?")+t.jsonp+"="+n),t.converters["script json"]=function(){return a||ut.error(n+" was not called"),a[0]},t.dataTypes[0]="json",o=i[n],i[n]=function(){a=arguments},r.always(function(){i[n]=o,t[n]&&(t.jsonpCallback=e.jsonpCallback,ir.push(n)),a&&ut.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ut.parseHTML=function(t,e,r){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(r=e,e=!1),e=e||wt;var n=mt.exec(t),o=!r&&[];return n?[e.createElement(n[1])]:(n=ut.buildFragment([t],e,o),o&&o.length&&ut(o).remove(),ut.merge([],n.childNodes))};var sr=ut.fn.load;ut.fn.load=function(t,e,n){if("string"!=typeof t&&sr)return sr.apply(this,arguments);var o,i,a,s=this,l=t.indexOf(" ");return l>=0&&(o=t.slice(l,t.length),t=t.slice(0,l)),ut.isFunction(e)?(n=e,e=void 0):e&&"object"===("undefined"==typeof e?"undefined":r(e))&&(a="POST"),s.length>0&&ut.ajax({url:t,type:a,dataType:"html",data:e}).done(function(t){i=arguments,s.html(o?ut("<div>").append(ut.parseHTML(t)).find(o):t)}).complete(n&&function(t,e){s.each(n,i||[t.responseText,e,t])}),this},ut.expr.filters.animated=function(t){return ut.grep(ut.timers,function(e){return t===e.elem}).length};var lr=i.document.documentElement;ut.offset={setOffset:function(t,e,r){var n,o,i,a,s,l,c,u=ut.css(t,"position"),d=ut(t),f={};"static"===u&&(t.style.position="relative"),s=d.offset(),i=ut.css(t,"top"),l=ut.css(t,"left"),c=("absolute"===u||"fixed"===u)&&ut.inArray("auto",[i,l])>-1,c?(n=d.position(),a=n.top,o=n.left):(a=parseFloat(i)||0,o=parseFloat(l)||0),ut.isFunction(e)&&(e=e.call(t,r,s)),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+o),"using"in e?e.using.call(t,f):d.css(f)}},ut.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ut.offset.setOffset(this,t,e)});var e,n,o={top:0,left:0},i=this[0],a=i&&i.ownerDocument;if(a)return e=a.documentElement,ut.contains(e,i)?(r(i.getBoundingClientRect)!==Tt&&(o=i.getBoundingClientRect()),n=Q(a),{top:o.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:o.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):o},position:function(){if(this[0]){var t,e,r={top:0,left:0},n=this[0];return"fixed"===ut.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ut.nodeName(t[0],"html")||(r=t.offset()),r.top+=ut.css(t[0],"borderTopWidth",!0),r.left+=ut.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-ut.css(n,"marginTop",!0),left:e.left-r.left-ut.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||lr;t&&!ut.nodeName(t,"html")&&"static"===ut.css(t,"position");)t=t.offsetParent;return t||lr})}}),ut.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var r=/Y/.test(e);ut.fn[t]=function(n){return Ft(this,function(t,n,o){var i=Q(t);return void 0===o?i?e in i?i[e]:i.document.documentElement[n]:t[n]:void(i?i.scrollTo(r?ut(i).scrollLeft():o,r?o:ut(i).scrollTop()):t[n]=o)},t,n,arguments.length,null)}}),ut.each(["top","left"],function(t,e){ut.cssHooks[e]=M(lt.pixelPosition,function(t,r){if(r)return r=se(t,e),ce.test(r)?ut(t).position()[e]+"px":r})}),ut.each({Height:"height",Width:"width"},function(t,e){ut.each({padding:"inner"+t,content:e,"":"outer"+t},function(r,n){ut.fn[n]=function(n,o){var i=arguments.length&&(r||"boolean"!=typeof n),a=r||(n===!0||o===!0?"margin":"border");return Ft(this,function(e,r,n){var o;return ut.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?ut.css(e,r,a):ut.style(e,r,n,a)},e,i?n:void 0,i,null)}})}),ut.fn.size=function(){return this.length},ut.fn.andSelf=ut.fn.addBack,n=[],o=function(){return ut}.apply(e,n),!(void 0!==o&&(t.exports=o));var cr=i.jQuery,ur=i.$;return ut.noConflict=function(t){return i.$===ut&&(i.$=ur),t&&i.jQuery===ut&&(i.jQuery=cr),ut},("undefined"==typeof a?"undefined":r(a))===Tt&&(i.jQuery=i.$=ut),ut})}).call(e,r(112)(t))},function(t,e){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n=r(114);t.exports=function(t){t.viz.zoom_scale_font={},t.viz.zoom_scale_font.row=1,t.viz.zoom_scale_font.col=1;var e=.75,r=t.viz.x_scale.rangeBand()/2;return t.viz.square_zoom=t.viz.norm_labels.width.col/r*e,t.viz=n(t.viz),t}},function(t,e){"use strict";t.exports=function(t){var e=t.clust.dim.width/t.num_col_nodes,r=t.clust.dim.height/t.num_row_nodes;return t.zoom_ratio={},t.zoom_ratio.x=e/r,t.zoom_ratio.y=1,t.zoom_ratio.x<1&&(t.zoom_ratio.y=1/t.zoom_ratio.x,t.zoom_ratio.x=1),t}},function(t,e){"use strict";t.exports=function(t){return t.labels.default_fs_row=1.01*t.viz.y_scale.rangeBand(),t.labels.default_fs_col=.87*t.viz.x_scale.rangeBand(),t.labels.default_fs_row>t.labels.max_allow_fs&&(t.labels.default_fs_row=t.labels.max_allow_fs),t.labels.default_fs_col>t.labels.max_allow_fs&&(t.labels.default_fs_col=t.labels.max_allow_fs),t}},function(t,e,r){"use strict";var n=r(117),o=r(2),i=r(118),a=r(119),s=r(5),l=r(120);t.exports=function(t,e){var r,c,u,d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=": ";e.show_categories={},e.all_cats={},e.cat_names={},e.cat_info={};var p={};p.row=null,p.col=null,e.cat_colors={},e.cat_colors.value_opacity=p;var h=0;return["row","col"].forEach(function(n){e.show_categories[n]=!1,e.all_cats[n]=[];var p=Object.keys(t.network_data[n+"_nodes"][0]||{});p=p.sort(),p.forEach(function(t){t.indexOf("cat-")>=0&&(e.show_categories[n]=!0,e.all_cats[n].push(t))}),e.cat_info[n]=null,e.show_categories[n]&&(e.cat_colors[n]={},e.cat_info[n]={},e.cat_names[n]={},s(e.all_cats[n],function(s){var d=t.network_data[n+"_nodes"][0];"string"==typeof d[s]&&d[s].indexOf(f)>0?(r=d[s].split(f)[0],e.cat_names[n][s]=r):e.cat_names[n][s]=s;var p=o.pluck(t.network_data[n+"_nodes"],s)||[],_=[];p.forEach(function(t){var e;e=t.indexOf(": ")>0?t.split(": ")[1]:t,_.push(e)});var v=Array.from(new Set(p)).sort();if(c=a(v),"cat_strings"===c.type){var m=l(_);c.cat_hist=m}else c.cat_hist=null;e.cat_info[n][s]=c,e.cat_colors[n][s]={},v.forEach(function(t,r){u=i.get_random_color(r+h),e.cat_colors[n][s][t]=u,"string"==typeof t&&(t.indexOf("Not ")>=0||t.indexOf(": false")>0)&&(e.cat_colors[n][s][t]="#eee"),h+=1})})),o.has(t.network_data,"cat_colors")&&d===!0&&(e.cat_colors[n]=t.network_data.cat_colors[n]),t.sim_mat&&(e.cat_colors.col=e.cat_colors.row)}),e.cat_colors=e.cat_colors,e.cat_colors.opacity=.6,e.cat_colors.active_opacity=.9,e=n(t,e)}},function(t,e){"use strict";t.exports=function(t,e){var r,n=d3.scale.linear().domain([5,15]).range([85,120]).clamp("true");return e.cat_room={},e.cat_room.symbol_width=12,e.cat_room.separation=3,["row","col"].forEach(function(o){e.norm_labels.width[o]=n(t.labels[o+"_max_char"])*t[o+"_label_scale"],e["num_"+o+"_nodes"]=t.network_data[o+"_nodes"].length,"row"===o?e.dendro_room[o]=e.dendro_room.symbol_width:e.dendro_room[o]=e.dendro_room.symbol_width+3*e.uni_margin;var i=e.all_cats[o].length;if(e.show_categories[o]){r=(i-1)*e.cat_room.separation;var a;a="row"===o?i+1:i,e.cat_room[o]=a*e.cat_room.symbol_width+r}else"row"==o?e.cat_room[o]=e.cat_room.symbol_width:e.cat_room[o]=0}),e}},function(t,e){"use strict";function r(){return"#EEE"}function n(t){return i[t%o()]}function o(){return i.length}var i;i=["#393b79","#aec7e8","#ff7f0e","#ffbb78","#98df8a","#bcbd22","#404040","#ff9896","#c5b0d5","#8c564b","#1f77b4","#5254a3","#FFDB58","#c49c94","#e377c2","#7f7f7f","#2ca02c","#9467bd","#dbdb8d","#17becf","#637939","#6b6ecf","#9c9ede","#d62728","#8ca252","#8c6d31","#bd9e39","#e7cb94","#843c39","#ad494a","#d6616b","#7b4173","#a55194","#ce6dbd","#de9ed6"],t.exports={get_default_color:r,get_random_color:n,get_num_colors:o}},function(t,e,r){"use strict";var n=r(96);t.exports=function(t){var e=t[0],r=!1,o=!1,i="cat_strings",a=NaN,s=[],l=null,c=": ";if("string"==typeof e&&e.indexOf(c)>-1&&(r=!0,e=e.split(c)[1]),0==isNaN(e)&&(o=!0),o&&(i="cat_values",t.forEach(function(t){r&&(t=t.split(c)[1]),isNaN(t)===!0?i="cat_strings":(t=parseFloat(t),s.push(t))})),"cat_values"===i){var u=n(s,function(t){return Math.abs(t)});a=Math.abs(u),l=d3.scale.linear().domain([0,a]).range([0,1])}var d={};return d.type=i,d.max_abs_val=a,d.cat_scale=l,d}},function(t,e,r){"use strict";var n=r(121),o=r(14),i=n(function(t,e,r){o(t,r)?t[r]++:t[r]=1});t.exports=i},function(t,e,r){"use strict";function n(t,e){return function(r,n,a){var s=e?[[],[]]:{};return n=o(n,a),i(r,function(e,o){var i=n(e,o,r);t(s,e,i)}),s}}var o=r(78),i=r(5);t.exports=n},function(t,e){"use strict";t.exports=function(){var t={};return t.zoom_x=1,t.zoom_y=1,t.trans_x=0,t.trans_y=0,t}},function(t,e,r){"use strict";var n=r(124),o=r(143),i=r(175),a=r(187),s=r(188),l=r(199),c=r(209),u=r(231),d=r(236),f=r(194),p=r(237),h=r(238),_=r(239),v=r(242);t.exports=function(t){function e(){var t=r.viz.super_border_color;return(r.viz.is_expand||0==r.show_viz_border)&&(t="white"),t}var r=t.params;d3.select(r.viz.viz_wrapper+" svg").remove();var m=d3.select(r.viz.viz_wrapper).append("svg").attr("class","viz_svg").attr("id","svg_"+r.root.replace("#","")).attr("width",r.viz.svg_dim.width).attr("height",r.viz.svg_dim.height).attr("is_zoom",0).attr("stopped_zoom",1);m.append("rect").attr("class","super_background").style("width",r.viz.svg_dim.width).style("height",r.viz.svg_dim.height).style("fill","white"),n(r,m),o(t),r.viz.show_dendrogram&&(p(t),h(t),v(t)),i(t),r.viz.ds_level===-1&&["row","col"].forEach(function(t){var e=Number(d3.select("."+t+"_label_group").select("text").style("font-size").replace("px","")),n=8;e>n&&d3.selectAll(r.root+" ."+t+"_label_group").each(function(){f(r,this,t)})}),d(t),r.viz.show_categories.col&&u(t),s(t),r.labels.super_labels&&a(r),t.config.show_dendrogram&&_(t),d3.select(r.viz.viz_svg).append("rect").classed("left_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.grey_border_width).attr("height",r.viz.svg_dim.height).attr("transform","translate(0,0)"),d3.select(r.viz.viz_svg).append("rect").classed("right_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.grey_border_width).attr("height",r.viz.svg_dim.height).attr("transform",function(){var t=r.viz.svg_dim.width-r.viz.grey_border_width;return"translate("+t+",0)"}),d3.select(r.viz.viz_svg).append("rect").classed("top_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.svg_dim.width).attr("height",r.viz.grey_border_width).attr("transform",function(){var t=0;return"translate("+t+",0)"}),d3.select(r.viz.viz_svg).append("rect").classed("bottom_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.svg_dim.width).attr("height",r.viz.grey_border_width).attr("transform",function(){var t=r.viz.svg_dim.height-r.viz.grey_border_width;return"translate(0,"+t+")"}),l(t),c(t),r.viz.do_zoom&&d3.select(r.viz.zoom_element).call(r.zoom_behavior),d3.select(r.viz.zoom_element).on("dblclick.zoom",null)}},function(t,e,r){"use strict";var n=r(2),o=r(125),i=r(126),a=r(127);t.exports=function(t,e){var r,s=t.network_data,l=[];r=e.append("g").attr("class","clust_container").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.clust.margin.top+")").append("g").attr("class","clust_group").classed("clust_group",!0),r.append("rect").classed("background",!0).classed("grey_background",!0).style("fill","#eee").style("opacity",.25).attr("width",t.viz.clust.dim.width).attr("height",t.viz.clust.dim.height),null===t.viz.ds?a(t,t.matrix.matrix,"all",t.viz.ds_level):a(t,t.matrix.ds_matrix[0],"all",t.viz.ds_level),"function"==typeof t.click_tile?d3.selectAll(t.root+" .tile").on("click",function(e){var r={};r.row=t.network_data.row_nodes[e.pos_y].name,r.col=t.network_data.col_nodes[e.pos_x].name,r.value=e.value,n.has(e,"value_up")&&(r.value_up=e.value_up),n.has(e,"value_dn")&&(r.value_dn=e.value_dn),n.has(e,"info")&&(r.info=e.info),t.click_tile(r),i(t,this)}):t.tile_click_hlight&&d3.selectAll(t.root+" .tile").on("click",function(){i(t,this)});var c={},u=0;return c.enter=0,o(t,c,u),{get_clust_group:function(){return r},get_matrix:function(){return l},get_nodes:function(t){return"row"===t?s.row_nodes:s.col_nodes}}}},function(t,e){"use strict";t.exports=function(t,e,r){}},function(t,e){"use strict";t.exports=function(t,e){d3.select(e).each(function(r){var n=r.pos_x,o=r.pos_y;if(d3.selectAll(t.root+" .click_hlight").remove(),n!=t.matrix.click_hlight_x||o!=t.matrix.click_hlight_y){t.matrix.click_hlight_x=n,t.matrix.click_hlight_y=o;var i=6,a=.85,s=i*t.viz.border_width.x,l=i*t.viz.border_width.y;d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("top_hlight",!0).attr("width",t.viz.x_scale.rangeBand()).attr("height",l).attr("fill",t.matrix.hlight_color).attr("transform",function(){return"translate("+t.viz.x_scale(n)+",0)"}).attr("opacity",a),d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("left_hlight",!0).attr("width",s).attr("height",t.viz.y_scale.rangeBand()-.99*l).attr("fill",t.matrix.hlight_color).attr("transform",function(){return"translate("+t.viz.x_scale(n)+","+.99*l+")"}).attr("opacity",a),d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("right_hlight",!0).attr("width",s).attr("height",t.viz.y_scale.rangeBand()-.99*l).attr("fill",t.matrix.hlight_color).attr("transform",function(){var e=t.viz.x_scale(n)+t.viz.x_scale.rangeBand()-s;return"translate("+e+","+.99*l+")"}).attr("opacity",a),d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("bottom_hlight",!0).attr("width",function(){return t.viz.x_scale.rangeBand()-1.98*s}).attr("height",l).attr("fill",t.matrix.hlight_color).attr("transform",function(){var e=t.viz.x_scale(n)+.99*s,r=t.viz.y_scale.rangeBand()-l;return"translate("+e+","+r+")"}).attr("opacity",a)}else t.matrix.click_hlight_x=-666,t.matrix.click_hlight_y=-666})}},function(t,e,r){"use strict";var n=r(128),o=r(134),i=r(5),a=r(135);t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=t.viz.y_scale,c=!0,u="row";if(s>=0&&(l=t.viz.ds[s].y_scale,c=!1,u="ds"+String(s)+"_row"),c)var d=o().attr("class",function(){var e=t.viz.root_tips.replace(".",""),r=e+" d3-tip "+e+"_tile_tip";return r}).style("display","none").direction("nw").offset([0,0]).html(function(e){var r,n=String(e.value.toFixed(3));if(t.keep_orig){var o=String(e.value_orig.toFixed(3));r="<p>"+e.row_name+" and "+e.col_name+"</p><p> normalized value: "+n+"</p><div> original value: "+o+"</div>"}else r="<p>"+e.row_name+" and "+e.col_name+"</p><div> value: "+n+"</div>";return r});else d=null;var f=[];"all"===r?f=e:i(e,function(t){a(r,t.name)&&f.push(t)}),d3.select(t.root+" .clust_group").selectAll(".row").data(f,function(t){return t.name}).enter().append("g").classed(u,!0).attr("transform",function(t){return"translate(0,"+l(t.row_index)+")"}).each(function(e){n(t,e,d,this,s)}),t.viz.ds_level===-1&&null!=d&&d3.selectAll(t.root+" .row").call(d)}},function(t,e,r){"use strict";var n=r(129),o=r(130),i=r(131),a=r(132),s=r(133),l=r(77),c=r(2);t.exports=function(t,e,r,u){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,f=e.row_data,p=!0,h=t.viz.rect_height;d>=0&&(h=t.viz.ds[d].rect_height);var _;_=!!c.has(t.network_data.links[0],"value_orig");var v;v=_===!1?l(f,function(t){return 0!==t.value}):f;var m=d3.select(u).selectAll("rect").data(v,function(t){return t.col_name}).enter().append("rect").attr("class","tile row_tile").attr("width",t.viz.rect_width).attr("height",h).style("fill",function(e){var r;return r="NaN"===e.value_orig?"#000000":e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).style("fill-opacity",function(e){var r;return r="NaN"===e.value_orig?.175:t.matrix.opacity_scale(Math.abs(e.value))}).attr("transform",function(e){return s(t,e)});if(p&&m.on("mouseover",function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];i(t,this,r,n)}).on("mouseout",function(){a(t,this,r)}),"updn"==t.matrix.tile_type){var g=l(f,function(t){return 0!=t.value_up||0!=t.value_dn});d3.select(u).selectAll(".tile_up").data(g,function(t){return t.col_name}).enter().append("path").attr("class","tile_up").attr("d",function(){return n(t)}).attr("transform",function(e){s(t,e)}).style("fill",function(){return t.matrix.tile_colors[0]}).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_dn)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_up))),r}).on("mouseover",function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];i(t,this,r,n)}).on("mouseout",function(){a(t,this,r)}),d3.select(u).selectAll(".tile_dn").data(g,function(t){return t.col_name}).enter().append("path").attr("class","tile_dn").attr("d",function(){return o(t)}).attr("transform",function(e){s(t,e)}).style("fill",function(){return t.matrix.tile_colors[1]}).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_up)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_dn))),r}).on("mouseover",function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];i(t,this,r,n)}).on("mouseout",function(){a(t,this,r)}),m.each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}t.matrix.tile_title&&m.append("title").text(function(t){var e="value: "+t.value;return e})}},function(t,e){"use strict";t.exports=function(t){var e=0,r=t.viz.x_scale.rangeBand()-t.viz.border_width.x,n=0,o=t.viz.y_scale.rangeBand()-t.viz.border_width.y,i="M"+e+","+n+" L"+e+", "+o+" L"+r+",0 Z";return i}},function(t,e){"use strict";t.exports=function(t){var e=0,r=t.viz.x_scale.rangeBand()-t.viz.border_width.x,n=t.viz.y_scale.rangeBand()-t.viz.border_width.y,o=t.viz.y_scale.rangeBand()-t.viz.border_width.y,i="M"+e+", "+n+"   L"+r+", "+o+" L"+r+",0 Z";return i}},function(t,e){"use strict";t.exports=function(t,e,r,n){var o=n[0];d3.select(e).classed("hovering",!0),["row","col"].forEach(function(e){d3.selectAll(t.root+" ."+e+"_label_group text").style("font-weight",function(t){var r,n=(o[e+"_name"]||"").replace(/_/g," ")===t.name;
return r=n?"bold":"normal"})}),dispatchEvent(new CustomEvent("TILE_MOUSEOVER",{detail:o}))}},function(t,e){"use strict";t.exports=function(t,e,r){d3.select(e).classed("hovering",!1),d3.selectAll(t.viz.root_tips+"_tile_tip").style("display","none"),["row","col"].forEach(function(e){d3.selectAll(t.root+" ."+e+"_label_group text").style("font-weight","normal")}),dispatchEvent(new CustomEvent("TILE_MOUSEOUT",{detail:e.__data__}))}},function(t,e){"use strict";t.exports=function(t,e){var r;r=e.pos_x in t.viz.x_scale.domain()?t.viz.x_scale(e.pos_x):0;var n=r+.5*t.viz.border_width.x,o=.5*t.viz.border_width.y;return"translate("+n+","+o+")"}},function(t,e){"use strict";t.exports=function(){function t(t){b=h(t),z=b.createSVGPoint(),document.body.appendChild(x)}function e(){return"n"}function r(){return[0,0]}function n(){return" "}function o(){var t=_();return{top:t.s.y,left:t.s.x}}function i(){var t=_();return{top:t.n.y-x.offsetHeight,left:t.n.x-x.offsetWidth/2}}function a(){var t=_();return{top:t.s.y,left:t.s.x-x.offsetWidth/2}}function s(){var t=_();return{top:t.e.y-x.offsetHeight/2,left:t.e.x}}function l(){var t=_();return{top:t.w.y-x.offsetHeight/2,left:t.w.x-x.offsetWidth}}function c(){var t=_();return{top:t.nw.y-x.offsetHeight,left:t.nw.x-x.offsetWidth}}function u(){var t=_();return{top:t.ne.y-x.offsetHeight,left:t.ne.x}}function d(){var t=_();return{top:t.sw.y,left:t.sw.x-x.offsetWidth}}function f(){var t=_();return{top:t.se.y,left:t.e.x}}function p(){var t=d3.select(document.createElement("div"));return t.style({position:"absolute",opacity:0,pointerEvents:"none",boxSizing:"border-box"}),t.node()}function h(t){return t=t.node(),"svg"==t.tagName.toLowerCase()?t:t.ownerSVGElement}function _(){var t=k||d3.event.target,e={},r=t.getScreenCTM(),n=t.getBBox(),o=n.width,i=n.height,a=n.x,s=n.y,l=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;return r.a=1,r.d=1,r.e=r.e+c,r.f=r.f+l,z.x=a,z.y=s,e.nw=z.matrixTransform(r),z.x=z.x+o,e.ne=z.matrixTransform(r),z.y=z.y+i,e.se=z.matrixTransform(r),z.x=z.x-o,e.sw=z.matrixTransform(r),z.y=z.y-i/2,e.w=z.matrixTransform(r),z.x=z.x+o,e.e=z.matrixTransform(r),z.x=z.x-o/2,z.y=z.y-i/2,e.n=z.matrixTransform(r),z.y=z.y+i,e.s=z.matrixTransform(r),e}function v(t){var e=d3.select(t).classed("hovering");e&&d3.selectAll(".d3-tip").transition().duration(250).style("opacity",0).style("display","none")}function m(t){var e={};return t&&"[object Function]"===e.toString.call(t)}var g=e,y=r,w=n,x=p(),b=null,z=null,k=null;t.show=function(){var e=Array.prototype.slice.call(arguments);e[e.length-1]instanceof SVGElement&&(k=e.pop());var r,n=w.apply(this,e),o=y.apply(this,e),i=g.apply(this,e),a=d3.select(x),s=0;for(a.html(n).style({opacity:1,"pointer-events":"all"}).style("z-index",99);s--;)a.classed(E[s],!1);if(r=A.get(i).apply(this),a.classed(i,!0).style({top:r.top+o[0]+"px",left:r.left+o[1]+"px"}),m(this)===!1){var l=d3.select(this).attr("class");l.indexOf("tile")>=0&&setTimeout(v,5e3,this)}return t},t.hide=function(){var e=d3.select(x);return e.style({opacity:0,"pointer-events":"none"}),t},t.attr=function(e){if(arguments.length<2&&"string"==typeof e)return d3.select(x).attr(e);var r=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(d3.select(x),r),t},t.style=function(e){if(arguments.length<2&&"string"==typeof e)return d3.select(x).style(e);var r=Array.prototype.slice.call(arguments);return d3.selection.prototype.style.apply(d3.select(x),r),t},t.direction=function(e){return arguments.length?(g=null==e?e:d3.functor(e),t):g},t.offset=function(e){return arguments.length?(y=null==e?e:d3.functor(e),t):y},t.html=function(e){return arguments.length?(w=null==e?e:d3.functor(e),t):w};var A=d3.map({n:i,s:a,e:s,w:l,nw:c,ne:u,sw:d,se:f,south_custom:o}),E=A.keys();return t}},function(t,e,r){"use strict";function n(t,e,r,n){return o(t)||(t=i(t)),("number"!=typeof r||n)&&(r=0),a(t,e,r)>=0}var o=r(7),i=r(97),a=r(136);t.exports=n},function(t,e,r){"use strict";var n=r(137),o=r(138),i=r(140),a=i(1,o,n);t.exports=a},function(t,e,r){"use strict";function n(t,e,r,n){r=o(r,n,1);for(var a=r(e),s=0,l=i(t);s<l;){var c=Math.floor((s+l)/2);r(t[c])<a?s=c+1:l=c}return s}var o=r(78),i=r(10);t.exports=n},function(t,e,r){"use strict";var n=r(139),o=n(1);t.exports=o},function(t,e,r){"use strict";function n(t){return function(e,r,n){r=o(r,n);for(var a=i(e),s=t>0?0:a-1;s>=0&&s<a;s+=t)if(r(e[s],s,e))return s;return-1}}var o=r(78),i=r(10);t.exports=n},function(t,e,r){"use strict";function n(t,e,r){return function(n,s,l){var c=0,u=o(n);if("number"==typeof l)t>0?c=l>=0?l:Math.max(l+u,c):u=l>=0?Math.min(l+1,u):l+u+1;else if(r&&l&&u)return l=r(n,s),n[l]===s?l:-1;if(s!==s)return l=e(i.slice.call(n,c,u),a),l>=0?l+c:-1;for(l=t>0?c:u-1;l>=0&&l<u;l+=t)if(n[l]===s)return l;return-1}}var o=r(10),i=r(9),a=r(141);t.exports=n},function(t,e,r){"use strict";function n(t){return i(t)&&o._isNaN(t)}var o=r(9),i=r(142);t.exports=n},function(t,e,r){"use strict";var n=r(17),o=n("Number");t.exports=o},function(t,e,r){"use strict";var n=r(144);t.exports=function(t,e){var r,o=t.params;r=d3.select(o.viz.viz_svg+" .row_container").empty()?d3.select(o.viz.viz_svg).append("g").classed("row_container",!0).attr("transform","translate("+o.viz.norm_labels.margin.left+","+o.viz.clust.margin.top+")"):d3.select(o.viz.viz_svg).select(".row_container").attr("transform","translate("+o.viz.norm_labels.margin.left+","+o.viz.clust.margin.top+")"),d3.select(o.root+" .row_white_background").empty()&&r.append("rect").classed("row_white_background",!0).classed("white_bars",!0).attr("fill",o.viz.background_color).attr("width",o.viz.label_background.row).attr("height",30*o.viz.clust.dim.height+"px"),d3.select(o.root+" .row_label_container").empty()?r.append("g").classed("row_label_container",!0).attr("transform","translate("+o.viz.norm_labels.width.row+",0)").append("g").classed("row_label_zoom_container",!0):r.select(o.root+" .row_label_container").attr("transform","translate("+o.viz.norm_labels.width.row+",0)"),o.viz.ds_level===-1&&n(t,"all",e)}},function(t,e,r){"use strict";var n=r(2),o=r(145),i=r(146),a=r(174),s=r(5),l=r(135);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=t.params,u=[];"all"===e?u=c.network_data.row_nodes:s(c.network_data.row_nodes,function(t){l(e,t.name)&&u.push(t)});var d=d3.select(c.root+" .row_label_zoom_container").selectAll("g").data(u,function(t){return t.name}).enter().append("g").classed("row_label_group",!0),f=c.network_data.row_nodes_names||[];d.attr("transform",function(t){var e=f.indexOf(t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),d.on("dblclick",function(e){var r="__data__",n=this[r].name;i(t,this,n),c.tile_click_hlight&&o(this,e.ini)}),a(c),d.insert("rect").style("opacity",0),d.append("text").attr("y",.5*c.viz.rect_height+.35*c.labels.default_fs_row).attr("text-anchor","end").style("font-size",c.labels.default_fs_row+"px").text(function(t){return n.normal_name(t)}).attr("pointer-events","none").style("opacity",0).style("cursor","default").transition().delay(r).duration(r).style("opacity",1),d.each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",t.x).attr("y",0).attr("width",t.width).attr("height",c.viz.y_scale.rangeBand()).style("fill",function(){var t="yellow";return t}).style("opacity",function(t){var e=0;return 1===t.target&&(e=1),e})}),n.has(c.network_data.row_nodes[0],"value")&&d.append("rect").classed("row_bars",!0).attr("width",function(t){var e=0;return e=c.labels.bar_scale_row(Math.abs(t.value))}).attr("x",function(t){var e=0;return e=-c.labels.bar_scale_row(Math.abs(t.value))}).attr("height",c.viz.y_scale.rangeBand()).attr("fill",function(t){return t.value>0?c.matrix.bar_colors[0]:c.matrix.bar_colors[1]}).attr("opacity",.4)}},function(t,e){"use strict";t.exports=function(t,e,r){if(r!=t.click_hlight_row){var n=6,o=.85,i=n*t.viz.border_width.x;d3.selectAll(t.root+" .click_hlight").remove(),d3.select(e).append("rect").classed("click_hlight",!0).classed("row_top_hlight",!0).attr("width",t.viz.svg_dim.width).attr("height",i).attr("fill",t.matrix.hlight_color).attr("opacity",o),d3.select(e).append("rect").classed("click_hlight",!0).classed("row_bottom_hlight",!0).attr("width",t.viz.svg_dim.width).attr("height",i).attr("fill",t.matrix.hlight_color).attr("opacity",o).attr("transform",function(){var e=t.viz.y_scale.rangeBand()-i;return"translate(0,"+e+")"})}else d3.selectAll(t.root+" .click_hlight").remove(),t.click_hlight_row=-666}},function(t,e,r){"use strict";var n=r(147),o=r(148),i=r(122),a=r(173),s=r(109),l=r(111);t.exports=function(t,e,r){var c=t.params,u=a(c);if(1===u.zoom_y&&1===u.zoom_x){c.viz.inst_order.row="custom",o(t,"col"),d3.selectAll(c.root+" .toggle_col_order .btn").classed("active",!1),c.viz.run_trans=!0;var d=l.extend(!0,{},c.matrix.matrix),f=c.network_data.row_nodes,p=c.network_data.col_nodes,h=[];f.forEach(function(t){h.push(t.name)}),r=h.indexOf(r),h=[],p.forEach(function(t,e){h.push(d[r].row_data[e].value)});var _=d3.range(h.length).sort(function(t,e){return h[e]-h[t]});c.viz.x_scale.domain(_),c.matrix.orders.custom_row=_;var v;v=c.network_data.links.length>c.matrix.def_large_matrix?d3.select(c.root+" .viz_svg"):d3.select(c.root+" .viz_svg").transition().duration(2500);var m=c.network_data.col_nodes_names||[];v.select(".col_zoom_container").selectAll(".col_label_text").attr("transform",function(t){var e=m.indexOf(t.name);return"translate("+c.viz.x_scale(e)+")rotate(-90)"}),v.selectAll(".col_cat_group").attr("transform",function(t){var e=m.indexOf(t.name);return"translate("+c.viz.x_scale(e)+",0)"}),c.viz.ds_level===-1&&(v.selectAll(".tile").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+",0)"}),v.selectAll(".tile_up").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+",0)"}),v.selectAll(".tile_dn").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+",0)"})),d3.selectAll(c.root+" .row_label_group").select("rect").style("opacity",0),d3.select(e).select("rect").style("opacity",1),n(c),c.network_data.links.forEach(function(t){t.x=c.viz.x_scale(t.target),t.y=c.viz.y_scale(t.source)}),c.zoom_info=i(),setTimeout(function(){c.viz.run_trans=!1},2500),c.viz.ds_num_levels>0&&c.viz.ds_level>=0&&s(c)}}},function(t,e){"use strict";t.exports=function(t){var e=6,r=e*t.viz.border_width.x,n=e*t.viz.border_width.y;d3.select(t.root+" .top_hlight").attr("width",t.viz.x_scale.rangeBand()).attr("height",n).transition().duration(2500).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+",0)"}),d3.select(t.root+" .left_hlight").attr("width",r).attr("height",t.viz.y_scale.rangeBand()-.99*n).transition().duration(2500).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+","+.99*n+")"}),d3.select(t.root+" .right_hlight").attr("width",r).attr("height",t.viz.y_scale.rangeBand()-.99*n).transition().duration(2500).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+t.viz.x_scale.rangeBand()-r;return"translate("+e+","+.99*n+")"}),d3.select(t.root+" .bottom_hlight").attr("width",function(){return t.viz.x_scale.rangeBand()-1.98*r}).attr("height",n).transition().duration(2500).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+.99*r,o=t.viz.y_scale.rangeBand()-n;return"translate("+e+","+o+")"})}},function(t,e,r){"use strict";var n=r(149);t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500,o=t.params;"row"===e&&"clust"===o.viz.inst_order.col&&setTimeout(n,r,t,"row",!0),"col"===e&&"clust"===o.viz.inst_order.row&&setTimeout(n,r,t,"col",!0),"clust"!=o.viz.inst_order.row&&o.viz.dendro_filter.col===!1&&(d3.selectAll(o.root+" .col_dendro_group").style("opacity",0).on("mouseover",null).on("mouseout",null),d3.select(o.root+" .col_slider_group").style("opacity",0),d3.selectAll(o.root+" .col_dendro_crop_buttons").style("opacity",0).on("mouseover",null).on("mouseout",null)),"clust"!=o.viz.inst_order.col&&o.viz.dendro_filter.row===!1&&(d3.selectAll(o.root+" .row_dendro_group").style("opacity",0).on("mouseover",null).on("mouseout",null).on("click",null),d3.select(o.root+" .row_slider_group").style("opacity",0),d3.selectAll(o.root+" .row_dendro_crop_buttons").style("opacity",0).on("mouseover",null).on("mouseout",null))}},function(t,e,r){"use strict";var n=r(150),o=r(151),i=r(152),a=r(134),s=r(154),l=r(157),c=r(111);t.exports=function(t,e){function r(t,r,n){if(d3.select(t).classed("hovering")){var o=d.viz.root_tips+"_"+e+"_dendro_tip";d3.select(o+" .cat_graph").empty()&&null!==d.viz.cat_info[e]&&l(d,e,r,p[n],o,!0),d3.selectAll(d.viz.root_tips+"_"+e+"_dendro_tip").style("opacity",1)}}var u=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=t.params;"both"===e&&(e="row");var f;f="row"===e?"col":"row","clust"===d.viz.inst_order[f]&&d3.select(d.root+" ."+e+"_slider_group").style("opacity",1);var p;d.viz.show_dendrogram&&(p="row"===e?n(d):o(d),d3.select(t.params.root+" ."+e+"_dendro_crop_buttons").empty()===!1&&s(t,e));var h=d.viz.dendro_opacity,_=500;d3.selectAll(t.params.viz.root_tips+"_"+e+"_dendro_tip").remove();var v;d3.selectAll(d.root+" ."+e+"_dendro_group").empty()?v=!1:(v=!0,d3.selectAll(d.root+" ."+e+"_dendro_group").remove());var m=0,g=-5,y=a().attr("class",function(){var t=d.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_"+e+"_dendro_tip";return r}).direction("nw").offset([m,g]).style("display","none").style("opacity",0);y.html(function(){var t='<div class="cluster_info_container"></div>Click for cluster information <br>and additional options.';return t}),u&&(v=!1);var w,x,b,z,k,A,E=d3.select(d.root+" ."+e+"_dendro_container").selectAll("path").data(p,function(t){return t.name}).enter().append("path").style("opacity",0).attr("class",e+"_dendro_group").style("fill","black");E.attr("d",function(t){"row"===e?(w=0,x=t.pos_top,b=30,z=t.pos_mid,k=0,A=t.pos_bot):(w=t.pos_top,x=0,b=t.pos_mid,z=30,k=t.pos_bot,A=0);var r="M"+w+","+x+" L"+b+", "+z+" L"+k+","+A+" Z";return r}),E.on("mouseover",function(n,o){d3.select(this).classed("hovering",!0),null!=t.params.dendro_callback&&t.params.dendro_callback(this),d3.select(d.viz.root_tips+"_"+e+"_dendro_tip").style("display","block"),i(d,this,n,e),y.show(n),d3.select(d.viz.root_tips+"_"+e+"_dendro_tip").style("opacity",0),setTimeout(r,_,this,n,o)}).on("mouseout",function(){"clust"===d.viz.inst_order[f]&&d3.select(this).style("opacity",h),d3.selectAll(d.root+" .dendro_shadow").remove(),d3.select(this).classed("hovering",!1),y.hide(this)}).on("click",function(r,n){c(d.root+" .dendro_info").modal("toggle");var o=r.all_names.join(", ");d3.select(d.root+" .dendro_info input").attr("value",o);var i=d.root+" .dendro_info";d3.selectAll(".dendro_info .cluster_info_container .cat_graph").remove(),null!==d.viz.cat_info[e]&&l(d,e,r,p[n],i),null!=t.params.dendro_click_callback&&t.params.dendro_click_callback(this)}).call(y);var N;N="clust"===d.viz.inst_order[f]?h:0,v?d3.select(d.root+" ."+e+"_dendro_container").selectAll("path").transition().delay(1e3).duration(1e3).style("opacity",N):d3.select(d.root+" ."+e+"_dendro_container").selectAll("path").style("opacity",N)}},function(t,e,r){"use strict";var n=r(5),o=r(2);t.exports=function(t){var e={},r=t.group_level.row,i=t.network_data.row_nodes,a=t.network_data.row_nodes_names||[];n(i,function(n){var i=n.group[r],s=a.indexOf(n.name),l=t.viz.y_scale(s),c=l+t.viz.y_scale.rangeBand();o.has(e,i)||(e[i]={},e[i].name_top=n.name,e[i].name_bot=n.name,e[i].pos_top=l,e[i].pos_bot=c,e[i].pos_mid=(l+c)/2,e[i].name=i,e[i].all_names=[],e[i].inst_rc="row"),e[i].all_names.push(n.name),l<e[i].pos_top&&(e[i].name_top=n.name,e[i].pos_top=l,e[i].pos_mid=(l+e[i].pos_bot)/2),c>e[i].pos_bot&&(e[i].name_bot=n.name,e[i].pos_bot=c,e[i].pos_mid=(e[i].pos_top+c)/2)});var s=[];return n(e,function(t){s.push(t)}),s}},function(t,e,r){"use strict";var n=r(5),o=r(2);t.exports=function(t){var e={},r=t.group_level.col,i=t.network_data.col_nodes,a=t.network_data.col_nodes_names||[];n(i,function(n){var i=n.group[r],s=a.indexOf(n.name),l=t.viz.x_scale(s),c=l+t.viz.x_scale.rangeBand();o.has(e,i)||(e[i]={},e[i].name_top=n.name,e[i].name_bot=n.name,e[i].pos_top=l,e[i].pos_bot=c,e[i].pos_mid=(l+c)/2,e[i].name=i,e[i].all_names=[],e[i].inst_rc="col"),e[i].all_names.push(n.name),l<e[i].pos_top&&(e[i].name_top=n.name,e[i].pos_top=l,e[i].pos_mid=(l+e[i].pos_bot)/2),c>e[i].pos_bot&&(e[i].name_bot=n.name,e[i].pos_bot=c,e[i].pos_mid=(e[i].pos_top+c)/2)});var s=[];return n(e,function(t){s.push(t)}),s}},function(t,e,r){"use strict";var n=r(153);t.exports=function(t,e,r,o){function i(){d3.select(e).classed("hovering")&&t.is_slider_drag===!1&&(d3.select(e).style("opacity",.7),d3.select(t.viz.viz_svg).classed("running_update")===!1&&a())}function a(){"row"===o?"clust"===t.viz.inst_order.col&&n(t,e,o,r):"col"===o?"clust"===t.viz.inst_order.row&&n(t,e,o,r):"both"===o&&("clust"===t.viz.inst_order.col&&n(t,e,"row",r),"clust"===t.viz.inst_order.row&&n(t,e,"col",r))}d3.selectAll(t.root+" ."+o+"_dendro_crop_buttons")[0].length>1?setTimeout(i,500):d3.selectAll(t.root+" .dendro_shadow").remove()}},function(t,e){"use strict";t.exports=function(t,e,r,n){var o,i=.2;d3.selectAll(t.root+" .dendro_shadow").remove(),"row"==r?(d3.select(t.root+" .clust_group").append("rect").attr("width",t.viz.clust.dim.width+"px").attr("height",n.pos_top+"px").attr("fill","black").classed("dendro_shadow",!0).attr("opacity",i),o=t.viz.clust.dim.height-n.pos_bot,d3.select(t.root+" .clust_group").append("rect").attr("width",t.viz.clust.dim.width+"px").attr("height",o+"px").attr("transform","translate(0,"+n.pos_bot+")").attr("fill","black").classed("dendro_shadow",!0).attr("opacity",i)):"col"===r&&(d3.select(t.root+" .clust_group").append("rect").attr("width",n.pos_top+"px").attr("height",t.viz.clust.dim.height+"px").attr("fill","black").classed("dendro_shadow",!0).attr("opacity",i),o=t.viz.clust.dim.width-n.pos_bot,d3.select(t.root+" .clust_group").append("rect").attr("width",o+"px").attr("height",t.viz.clust.dim.height+"px").attr("transform","translate("+n.pos_bot+",0)").attr("fill","black").classed("dendro_shadow",!0).attr("opacity",i))}},function(t,e,r){"use strict";var n=r(150),o=r(151),i=r(134),a=r(152),s=r(155),l=r(156);t.exports=function(t,e){function r(t){d3.select(t).classed("hovering")&&d3.selectAll(d.viz.root_tips+"_"+e+"_dendro_crop_tip").style("opacity",1).style("display","block")}var c,u,d=t.params,f=.6*d.viz.dendro_opacity;"row"===e?(c=n(d),u="col"):(c=o(d),u="row");var p=5,h=-5,_=i().attr("class",function(){var t=d.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_"+e+"_dendro_crop_tip";return r}).direction("nw").style("display","none").offset([p,h]),v=500;d3.selectAll(d.viz.root_tips+"_"+e+"_dendro_crop_tip").remove(),d3.selectAll(d.root+" ."+e+"_dendro_crop_buttons").remove();var m,g,y,w,x,b,z,k,A,E,N=45,S=.25,T=e+"_dendro_crop_buttons";d3.select(t.params.root+" ."+e+"_dendro_icons_group").classed("ran_filter")===!1?(m=d3.select(d.root+" ."+e+"_dendro_icons_group").selectAll("path").data(c,function(t){return t.name}).enter().append("path").classed(T,!0).attr("d",function(t){k=10,A=10;var r=t.pos_bot-t.pos_top;"row"===e?(r<N&&(k=r*S),g=A,y=-k,w=0,x=0,b=A,z=k,E=k):(r<N&&(A=r*S),g=-A,y=k,w=0,x=0,b=A,z=k,E=A);var n="__data__";d3.select(this)[0][0][n].tri_dim=E;var o="M"+g+","+y+" L"+w+", "+x+" L"+b+","+z+" Z";return o}),_.html(function(){var t="Click to crop cluster";return t})):(m=d3.select(d.root+" ."+e+"_dendro_icons_group").selectAll("path").data(c,function(t){return t.name}).enter().append("path").classed(T,!0).attr("d",function(t){k=10,A=12;var r=t.pos_bot-t.pos_top;"row"===e?(r<N&&(k=r*S),g=0,y=-k,w=A,x=0,b=0,z=k):(r<N&&(A=r*S),g=-A,y=0,w=0,x=k,b=A,z=0);var n="__data__";d3.select(this)[0][0][n].tri_dim=10;var o="M"+g+","+y+" L"+w+", "+x+" L"+b+","+z+" Z";return o}),_.html(function(){var t="Click to undo crop";return t})),m.style("cursor","pointer").style("opacity",function(){var t;return t=f}).attr("transform",function(t){var r,n,o;return"row"===e?(n=d.viz.uni_margin,o=t.pos_mid):(n=t.pos_mid,o=d.viz.uni_margin),r="translate("+n+","+o+")"}).on("mouseover",function(t){d3.select(this).classed("hovering",!0),_.show(t),a(d,this,t,e),d3.selectAll(d.viz.root_tips+"_"+e+"_dendro_crop_tip").style("opacity",0).style("display","block"),setTimeout(r,v,this)}).on("mouseout",function(){d3.select(this).classed("hovering",!1),d3.selectAll(d.root+" .dendro_shadow").remove(),d3.select(this).style("opacity",f),_.hide(this)}).on("click",function(r){d3.select(this).style("opacity",.9).transition().duration(1e3).style("opacity",0),d3.selectAll(d.root+" .dendro_shadow").remove(),t.params.dendro_filter.row===!1&&t.params.dendro_filter.col===!1&&t.params.cat_filter.row===!1&&t.params.cat_filter.col===!1?(d3.select(t.params.root+" ."+e+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)").classed("ran_filter",!0),d3.select(t.params.root+" ."+u+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)"),d3.select(t.params.root+" ."+e+"_slider_group").style("display","none"),d3.select(t.params.root+" ."+u+"_dendro_icons_container").style("display","none"),d3.select(t.params.root+" .crop_button").style("opacity",.2)):(d3.select(t.params.root+" ."+e+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)").classed("ran_filter",!1),d3.select(t.params.root+" ."+u+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)"),"clust"===d.viz.inst_order[u]&&d3.select(t.params.root+" ."+e+"_slider_group").style("display","block"),d3.select(t.params.root+" ."+u+"_dendro_icons_container").style("display","block"),d3.select(t.params.root+" .crop_button").style("opacity",1)),s(t,r,e)}).call(_),"clust"!=d.viz.inst_order[u]&&d3.select(d.root+" ."+e+"_dendro_icons_group").selectAll("path").style("display","none"),l(d,d.zoom_info,e)}},function(t,e){"use strict";t.exports=function(t,e,r){var n={};if(t.params.dendro_filter.row===!1&&t.params.dendro_filter.col===!1&&t.params.cat_filter.row===!1&&t.params.cat_filter.col===!1){d3.select(t.params.root+" ."+r+"_slider_group").style("opacity",.35).style("pointer-events","none"),n[r]=e.all_names;var o=t.params.network_data[r+"_nodes_names"],i=t.params.network_data.row_nodes,a=t.params.network_data.col_nodes;t.filter_viz_using_names(n),t.params.inst_nodes.row_nodes=i,t.params.inst_nodes.col_nodes=a,d3.selectAll(t.params.root+" .dendro_shadow").transition().duration(1e3).style("opacity",0).remove(),t.params.dendro_filter[r]=o}else n[r]=t.params.dendro_filter[r],t.filter_viz_using_names(n),t.params.dendro_filter[r]=!1}},function(t,e){"use strict";t.exports=function(t,e,r){function n(t,e){var r,n=10;if(e*t<n)r=1;else{var o=n/e;r=t/o}return r}"row"===r?d3.select(t.root+" .row_dendro_icons_group").selectAll("path").attr("transform",function(r){var o=t.viz.uni_margin,i=r.pos_mid,a=e.zoom_y,s=d3.select(this).data()[0].tri_dim,l=n(a,s);return"translate("+o+","+i+") scale(1, "+1/l+")"}):d3.select(t.root+" .col_dendro_icons_group").selectAll("path").attr("transform",function(r){var o=r.pos_mid,i=t.viz.uni_margin,a=e.zoom_x,s=d3.select(this).data()[0].tri_dim,l=n(a,s);return"translate("+o+","+i+") scale("+1/l+", 1)"})}},function(t,e,r){"use strict";var n=r(158),o=r(5),i=r(171),a=r(172);t.exports=function(t,e,r,s,l){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];"both"===e&&(e="row");var u=n(t,r,e);if(u.length>0){var d=d3.select(l+" .cluster_info_container"),f=370,p=27,h=177,_=23,v=4,m=5,g=150,y=!1;null!=u[0].bar_data[0][m]&&(f+=100,h=h+g-47,y=!0);var w=s.all_names.length,x=v;if(y){x=m;var b=u[0].bar_data;w=0,o(b,function(t){w+=t[m]})}var z=3,k=25,A=20;u.slice(0,z).forEach(function(t){var e=t.bar_data.length;e>k&&(e=k),A+=p*(e+1)}),c&&d.append("text").text("Cluster Information");var E=d.append("div").style("margin-top","5px").classed("cat_graph",!0).append("svg").style("height",A+"px").style("width",f+"px");d.style("margin-bottom","5px"),E.append("rect").classed("cat_background",!0).attr("height",A+"px").attr("width",f+"px").attr("fill","white").attr("opacity",1),u=u.slice(0,z);var N=d3.scale.linear().domain([0,1e5]).range([20,30]),S=p;if(u.forEach(function(e){var r=e.bar_data[0][x],n=N(r),o=E.append("g").classed("cat_graph_group",!0).attr("transform","translate(10, "+S+")"),s=o.append("g").classed("cat_bar_container",!0).attr("transform","translate(0, 10)"),l=s.selectAll("g").data(e.bar_data).enter().append("g").attr("transform",function(t,e){var r=e*_;return"translate(0,"+r+")"});i(t,e,o,p,x,k,l),a(t,o,l,v,y,n,x,w),S+=p*(e.bar_data.length+1)}),c){var T=d3.select(l),C=T.style("top").split(".px")[0],M=T.style("left").split(".px")[0],O=0,B=0;"row"===e?(O=0,B=h):(O=A+32,B=30),T.style("top",function(){var t=String(parseInt(C,10)-O)+"px";return t}).style("left",function(){var t=String(parseInt(M,10)-B)+"px";return t})}}}},function(t,e,r){"use strict";var n=r(159),o=r(5),i=r(2);t.exports=function(t,e,r){"both"===r&&(r="row");var a,s=e.all_names,l=[],c=t.network_data[r+"_nodes"],u=null,d=!1;o(c,function(t){a=t.name,s.indexOf(a)>=0&&l.push(t)});var f=[];if(null!==t.viz.cat_info[r]){for(var p,h,_,v=t.viz.cat_info[r],m=Object.keys(v||{}),g=[],y=[],w=0;w<m.length;w++)_="cat-"+String(w),"cat_strings"===t.viz.cat_info[r][_].type?(p=t.viz.cat_names[r][_],y.push(p),g.push(_)):"number in clust"===t.viz.cat_names[r][_]&&(u=_,d=!0);var x,b={},z={},k=10,A=4;d&&(A=5);var E;if(E=p===_,y.length>0){var N,S=s.length;o(g,function(e){if(h=e.split("-")[1],p=y[h],E)if(e.indexOf("-")>=0){var a=parseInt(e.split("-")[1],k)+1;p="Category "+String(a)}else p="Category";b[p]={},o(l,function(t){N=t[e],N.indexOf(": ")>=0&&(N=N.split(": ")[1]),N in b[p]?(b[p][N].num_nodes=b[p][N].num_nodes+1,null!=u&&(b[p][N].num_nodes_ds=b[p][N].num_nodes_ds+parseInt(t[u].split(": ")[1],k))):(b[p][N]={},b[p][N].num_nodes=1,null!=u&&(b[p][N].num_nodes_ds=parseInt(t[u].split(": ")[1],k)))}),z={},z.type_name=p,z.num_in_clust=S,x=[];var s,c,d=b[p];for(var _ in d){var v=t.viz.cat_info[r][e].cat_hist[_],m=t.network_data[r+"_nodes"].length,g=v/m;c=E?_:p+": "+_;var w=d[_].num_nodes,T=w,C=n(T,S,g);if(i.has(d[_],"num_nodes_ds"))var M=d[_].num_nodes_ds;else M=null;s=t.viz.cat_colors[r][e][c],x.push([e,c,d[_],s,w,M,C])}x.sort(function(t,e){return e[A]-t[A]}),z.bar_data=x,f.push(z)})}}return f}},function(t,e,r){"use strict";var n=r(160),o=r(25),i=o.create();i.import(r(161)),t.exports=function(t,e,r){function o(t,e,r){var n=c(e)/(c(t)*c(e-t));return r=n*(Math.pow(r,t)*Math.pow(1-r,e-t))}function a(t,e,r){for(var n,i,a=0,s=t;s<e+1;s++)n=s,i=o(n,e,r),a+=i;return a}function s(t,e,r){for(var o=e*r,i=Math.sqrt(e*r*(1-r)),a=(t-o)/i,s=n.z,c=n.p,u=-1,d=!1,f=0;f<s.length;f++){var p=s[f];a<p&&d===!1&&(u=f,d=!0)}return u===-1&&(u=s.length-1),l=c[u]}var l,c=i.factorial;return l=a(t,e,r),isNaN(l)&&(l=s(t,e,r)),l}},function(t,e){"use strict";t.exports={p:[.5,.4800611941616275,.460172162722971,.4403823076297575,.42074029056089696,.4012936743170763,.3820885778110473,.3631693488243809,.3445782583896758,.32635522028791997,.3085375387259869,.29115968678834636,.27425311775007355,.2578461108058647,.24196365222307303,.2266273523768682,.2118553985833967,.19766254312269238,.18406012534675947,.17105612630848183,.15865525393145707,.1468590563758959,.13566606094638267,.12507193563715024,.11506967022170828,.10564977366685535,.09680048458561036,.08850799143740196,.08075665923377107,.0735292596096483,.06680720126885807,.06057075800205901,.054799291699557974,.049471468033648075,.044565462758543006,.040059156863817086,.03593031911292579,.03215677479561371,.028716559816001783,.02558805952163861,.022750131948179195,.020182215405704383,.017864420562816542,.0157776073910905,.013903447513498595,.012224472655044696,.010724110021675795,.009386705534838566,.008197535924596114,.007142810735271415,.006209665325776132,.005386145954066684,.004661188023718747,.004024588542758303,.0034669738030406647,.002979763235054555,.002555130330427929,.0021859614549132405,.0018658133003840339,.0015888696473648667,.0013498980316300933,.0011442068310226977,.0009676032132183563,.0008163523128285604,.0006871379379158471,.0005770250423907659,.00048342414238377663,.0004040578018640207,.0003369292656768799,.00028029327681617744,.00023262907903552502,.00019261557563563279,.00015910859015753364,.00013112015442048433,.00010779973347738823,8841728520080377e-20,7234804392511979e-20,59058912418922374e-21,48096344017602614e-21,39075596597787456e-21,3167124183311986e-20,2560881647404149e-20,20657506912546683e-21,16623763729652213e-21,1334574901590631e-20,10688525774934402e-21,8539905470991794e-21,6806876599334031e-21,5412543907703841e-21,4293514469971858e-21,33976731247300535e-22,26822957796388472e-22,2112454702502842e-21,16596751443714555e-22,13008074539172771e-22,10170832425687032e-22,7.933281519755892e-7,6.173073720091925e-7,4.791832765903185e-7,3.710674079633327e-7,2.8665157187919333e-7,2.2090503226954194e-7,1.6982674071475937e-7,1.3024322953320117e-7,9.96442631693347e-8,7.6049605164887e-8,5.790134039964557e-8,4.397711594005869e-8,3.332044848542845e-8,2.518491005446105e-8,1.898956246588768e-8,1.4283479893922661e-8,1.0717590258310852e-8,8.022391850663474e-9,5.99037140106353e-9,4.462172453901611e-9,3.3157459783261365e-9,2.4578650618080152e-9,1.8175078630994235e-9,1.3407124440918662e-9,9.865876450376946e-10,7.242291705137605e-10,5.303423262948808e-10,3.8741473466756636e-10,2.823158037043268e-10,2.0522634252189396e-10,1.4882282217622966e-10,1.0765746385121517e-10,7.768847581709776e-11,5.592507575942645e-11,4.016000583859088e-11,2.876854173604311e-11,2.055788909399508e-11,1.4654650977302715e-11,1.0420976987965154e-11,7.392257778017794e-12,5.230957544144525e-12,3.692499427235561e-12,2.600126965638173e-12,1.826431061976961e-12,1.279812543885835e-12,8.945889558769844e-13,6.23784446333152e-13,4.3388950271780343e-13,3.010627981117422e-13,2.0838581586720548e-13,1.4388386381575764e-13,9.910342749547509e-14,6.809224890620016e-14,4.6670115887190274e-14,3.1908916729108844e-14,2.1762912097085575e-14,1.4806537490047908e-14,1.0048965656526223e-14,6.803311540773901e-15,4.594627435778562e-15,3.095358771958668e-15,2.0801863521393674e-15,1.394517146659261e-15,9.325575771681205e-16,6.22096057427174e-16,4.139701816273122e-16,2.747959392398221e-16,1.8196213635266084e-16,1.2019351542735647e-16,7.919726314642476e-17,5.2055697448902465e-17,3.413148326458146e-17,2.232393197288031e-17,1.456514112590909e-17,9.47953482220325e-18,6.154425590850395e-18,3.985804962848151e-18,2.5749715380118873e-18,1.6594208699647519e-18,1.0667637375474856e-18,6.840807685935497e-19,4.375964799309017e-19,2.7923343749396233e-19,1.7774117841455144e-19,1.1285884059538324e-19,7.148417011269684e-20,4.516591491435403e-20,2.846677408460209e-20,1.7897488120140146e-20,1.1224633591327901e-20,7.022284240441541e-21,4.38238629906646e-21,2.7281535713460872e-21,1.6941535024881097e-21,1.0494515075362604e-21,6.484814453077208e-22,3.9972212057261192e-22,2.4577864834723153e-22,1.507493168810159e-22,9.223413524939353e-23,5.629282311376514e-23,3.4271987941135974e-23,2.0813752194932085e-23,1.2609160670206559e-23],z:[0,.05,.1,.15000000000000002,.2,.25,.30000000000000004,.35000000000000003,.4,.45,.5,.55,.6000000000000001,.65,.7000000000000001,.75,.8,.8500000000000001,.9,.9500000000000001,1,1.05,1.1,1.1500000000000001,1.2000000000000002,1.25,1.3,1.35,1.4000000000000001,1.4500000000000002,1.5,1.55,1.6,1.6500000000000001,1.7000000000000002,1.75,1.8,1.85,1.9000000000000001,1.9500000000000002,2,2.0500000000000003,2.1,2.15,2.2,2.25,2.3000000000000003,2.35,2.4000000000000004,2.45,2.5,2.5500000000000003,2.6,2.6500000000000004,2.7,2.75,2.8000000000000003,2.85,2.9000000000000004,2.95,3,3.0500000000000003,3.1,3.1500000000000004,3.2,3.25,3.3000000000000003,3.35,3.4000000000000004,3.45,3.5,3.5500000000000003,3.6,3.6500000000000004,3.7,3.75,3.8000000000000003,3.85,3.9000000000000004,3.95,4,4.05,4.1000000000000005,4.15,4.2,4.25,4.3,4.3500000000000005,4.4,4.45,4.5,4.55,4.6000000000000005,4.65,4.7,4.75,4.800000000000001,4.8500000000000005,4.9,4.95,5,5.050000000000001,5.1000000000000005,5.15,5.2,5.25,5.300000000000001,5.3500000000000005,5.4,5.45,5.5,5.550000000000001,5.6000000000000005,5.65,5.7,5.75,5.800000000000001,5.8500000000000005,5.9,5.95,6,6.050000000000001,6.1000000000000005,6.15,6.2,6.25,6.300000000000001,6.3500000000000005,6.4,6.45,6.5,6.550000000000001,6.6000000000000005,6.65,6.7,6.75,6.800000000000001,6.8500000000000005,6.9,6.95,7,7.050000000000001,7.1000000000000005,7.15,7.2,7.25,7.300000000000001,7.3500000000000005,7.4,7.45,7.5,7.550000000000001,7.6000000000000005,7.65,7.7,7.75,7.800000000000001,7.8500000000000005,7.9,7.95,8,8.05,8.1,8.15,8.200000000000001,8.25,8.3,8.35,8.4,8.450000000000001,8.5,8.55,8.6,8.65,8.700000000000001,8.75,8.8,8.85,8.9,8.950000000000001,9,9.05,9.1,9.15,9.200000000000001,9.25,9.3,9.35,9.4,9.450000000000001,9.5,9.55,9.600000000000001,9.65,9.700000000000001,9.75,9.8,9.850000000000001,9.9,9.950000000000001]
}},function(t,e,r){"use strict";function n(t,e,n,i){var a=n(r(163)),s=r(58),l=i("factorial",{number:function(t){if(t<0)throw new Error("Value must be non-negative");return a(t+1)},BigNumber:function(t){if(t.isNegative())throw new Error("Value must be non-negative");return a(t.plus(1))},"Array | Matrix":function(t){return o(t,l)}});return l.toTex={1:"\\left(${args[0]}\\right)"+s.operators.factorial},l}var o=r(162);e.name="factorial",e.factory=n},function(t,e){"use strict";t.exports=function t(e,r,n){return e&&"function"==typeof e.map?e.map(function(e){return t(e,r,n)}):r(e)}},function(t,e,r){"use strict";function n(t,e,n,l){function c(r){if(r.isZero())return new t.BigNumber(1);for(var n=e.precision+(0|Math.log(r.toNumber())),o=t.BigNumber.clone({precision:n}),i=new o(r),a=r.toNumber()-1;a>1;)i=i.times(a),a--;return new t.BigNumber(i.toPrecision(t.BigNumber.precision))}var u=n(r(164)),d=n(r(167)),f=l("gamma",{number:function(t){var e,r;if(i(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var n=t-2,o=t-1;n>1;)o*=n,n--;return 0==o&&(o=1),o}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*f(1-t));if(t>=171.35)return 1/0;if(t>85){var l=t*t,c=l*t,u=c*t,d=u*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*l)-139/(51840*c)-571/(2488320*u)+163879/(209018880*d)+5246819/(75246796800*d*t))}--t,r=s[0];for(var p=1;p<s.length;++p)r+=s[p]/(t+p);return e=t+a+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*r},Complex:function(e){var r,n;if(0==e.im)return f(e.re);e=new t.Complex(e.re-1,e.im),n=new t.Complex(s[0],0);for(var o=1;o<s.length;++o){var i=e.re+o,l=i*i+e.im*e.im;0!=l?(n.re+=s[o]*i/l,n.im+=-(s[o]*e.im)/l):n.re=s[o]<0?-(1/0):1/0}r=new t.Complex(e.re+a+.5,e.im);var c=Math.sqrt(2*Math.PI);e.re+=.5;var p=d(r,e);0==p.im?p.re*=c:0==p.re?p.im*=c:(p.re*=c,p.im*=c);var h=Math.exp(-r.re);return r.re=h*Math.cos(-r.im),r.im=h*Math.sin(-r.im),u(u(p,r),n)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new t.BigNumber(1/0):c(e.minus(1));if(!e.isFinite())return new t.BigNumber(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(t){return o(t,f)}});return f.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},f}var o=r(162),i=r(31).isInteger,a=4.7421875,s=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];e.name="gamma",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=r(58),l=n(r(56)),c=n(r(57)),u=n(r(165)),d=n(r(52)),f=n(r(166)),p=n(r(63)),h=t.DenseMatrix,_=t.SparseMatrix,v=a("multiply",o({"Array, Array":function(e,r){m(i.size(e),i.size(r));var n=v(l(e),l(r));return t.isMatrix(n)?n.valueOf():n},"Matrix, Matrix":function(t,e){var r=t.size(),n=e.size();return m(r,n),1===r.length?1===n.length?g(t,e,r[0]):y(t,e):1===n.length?x(t,e):b(t,e)},"Matrix, Array":function(t,e){return v(t,l(e))},"Array, Matrix":function(t,e){return v(l(t,e.storage()),e)},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=f(t,e,u,!1);break;case"dense":r=p(t,e,u,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=f(e,t,u,!0);break;case"dense":r=p(e,t,u,!0)}return r},"Array, any":function(t,e){return p(l(t),e,u,!1).valueOf()},"any, Array":function(t,e){return p(l(e),t,u,!0).valueOf()},"any, any":u,"Array | Matrix | any, Array | Matrix | any, ...any":function(t,e,r){for(var n=v(t,e),o=0;o<r.length;o++)n=v(n,r[o]);return n}},u.signatures)),m=function(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}},g=function(t,e,r){if(0===r)throw new Error("Cannot multiply two empty vectors");var n,o=t._data,i=t._datatype,s=e._data,l=e._datatype,d=c,f=u;i&&l&&i===l&&"string"==typeof i&&(n=i,d=a.find(c,[n,n]),f=a.find(u,[n,n]));for(var p=f(o[0],s[0]),h=1;h<r;h++)p=d(p,f(o[h],s[h]));return p},y=function(t,e){switch(e.storage()){case"dense":return w(t,e)}throw new Error("Not implemented")},w=function(t,e){var r,n=t._data,o=t._size,i=t._datatype,s=e._data,l=e._size,d=e._datatype,f=o[0],p=l[1],_=c,v=u;i&&d&&i===d&&"string"==typeof i&&(r=i,_=a.find(c,[r,r]),v=a.find(u,[r,r]));for(var m=[],g=0;g<p;g++){for(var y=v(n[0],s[0][g]),w=1;w<f;w++)y=_(y,v(n[w],s[w][g]));m[g]=y}return new h({data:m,size:[p],datatype:r})},x=function(t,e){switch(t.storage()){case"dense":return z(t,e);case"sparse":return E(t,e)}},b=function(t,e){switch(t.storage()){case"dense":switch(e.storage()){case"dense":return k(t,e);case"sparse":return A(t,e)}break;case"sparse":switch(e.storage()){case"dense":return N(t,e);case"sparse":return S(t,e)}}},z=function(t,e){var r,n=t._data,o=t._size,i=t._datatype,s=e._data,l=e._datatype,d=o[0],f=o[1],p=c,_=u;i&&l&&i===l&&"string"==typeof i&&(r=i,p=a.find(c,[r,r]),_=a.find(u,[r,r]));for(var v=[],m=0;m<d;m++){for(var g=n[m],y=_(g[0],s[0]),w=1;w<f;w++)y=p(y,_(g[w],s[w]));v[m]=y}return new h({data:v,size:[d],datatype:r})},k=function(t,e){var r,n=t._data,o=t._size,i=t._datatype,s=e._data,l=e._size,d=e._datatype,f=o[0],p=o[1],_=l[1],v=c,m=u;i&&d&&i===d&&"string"==typeof i&&(r=i,v=a.find(c,[r,r]),m=a.find(u,[r,r]));for(var g=[],y=0;y<f;y++){var w=n[y];g[y]=[];for(var x=0;x<_;x++){for(var b=m(w[0],s[0][x]),z=1;z<p;z++)b=v(b,m(w[z],s[z][x]));g[y][x]=b}}return new h({data:g,size:[f,_],datatype:r})},A=function(t,e){var r=t._data,n=t._size,o=t._datatype,i=e._values,s=e._index,l=e._ptr,f=e._size,p=e._datatype;if(!i)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var h,v=n[0],m=f[1],g=c,y=u,w=d,x=0;o&&p&&o===p&&"string"==typeof o&&(h=o,g=a.find(c,[h,h]),y=a.find(u,[h,h]),w=a.find(d,[h,h]),x=a.convert(0,h));for(var b=[],z=[],k=[],A=new _({values:b,index:z,ptr:k,size:[v,m],datatype:h}),E=0;E<m;E++){k[E]=z.length;var N=l[E],S=l[E+1];if(S>N)for(var T=0,C=0;C<v;C++){for(var M,O=C+1,B=N;B<S;B++){var j=s[B];T!==O?(M=y(r[C][j],i[B]),T=O):M=g(M,y(r[C][j],i[B]))}T!==O||w(M,x)||(z.push(C),b.push(M))}}return k[m]=z.length,A},E=function(t,e){var r=t._values,n=t._index,o=t._ptr,i=t._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,l=e._data,f=e._datatype,p=t._size[0],h=e._size[0],v=[],m=[],g=[],y=c,w=u,x=d,b=0;i&&f&&i===f&&"string"==typeof i&&(s=i,y=a.find(c,[s,s]),w=a.find(u,[s,s]),x=a.find(d,[s,s]),b=a.convert(0,s));var z=[],k=[];g[0]=0;for(var A=0;A<h;A++){var E=l[A];if(!x(E,b))for(var N=o[A],S=o[A+1],T=N;T<S;T++){var C=n[T];k[C]?z[C]=y(z[C],w(E,r[T])):(k[C]=!0,m.push(C),z[C]=w(E,r[T]))}}for(var M=m.length,O=0;O<M;O++){var B=m[O];v[O]=z[B]}return g[1]=m.length,new _({values:v,index:m,ptr:g,size:[p,1],datatype:s})},N=function(t,e){var r=t._values,n=t._index,o=t._ptr,i=t._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,l=e._data,f=e._datatype,p=t._size[0],h=e._size[0],v=e._size[1],m=c,g=u,y=d,w=0;i&&f&&i===f&&"string"==typeof i&&(s=i,m=a.find(c,[s,s]),g=a.find(u,[s,s]),y=a.find(d,[s,s]),w=a.convert(0,s));for(var x=[],b=[],z=[],k=new _({values:x,index:b,ptr:z,size:[p,v],datatype:s}),A=[],E=[],N=0;N<v;N++){z[N]=b.length;for(var S=N+1,T=0;T<h;T++){var C=l[T][N];if(!y(C,w))for(var M=o[T],O=o[T+1],B=M;B<O;B++){var j=n[B];E[j]!==S?(E[j]=S,b.push(j),A[j]=g(C,r[B])):A[j]=m(A[j],g(C,r[B]))}}for(var F=z[N],D=b.length,L=F;L<D;L++){var I=b[L];x[L]=A[I]}}return z[v]=b.length,k},S=function(t,e){var r,n=t._values,o=t._index,i=t._ptr,s=t._datatype,l=e._values,d=e._index,f=e._ptr,p=e._datatype,h=t._size[0],v=e._size[1],m=n&&l,g=c,y=u;s&&p&&s===p&&"string"==typeof s&&(r=s,g=a.find(c,[r,r]),y=a.find(u,[r,r]));for(var w,x,b,z,k,A,E,N,S=m?[]:void 0,T=[],C=[],M=new _({values:S,index:T,ptr:C,size:[h,v],datatype:r}),O=m?[]:void 0,B=[],j=0;j<v;j++){C[j]=T.length;var F=j+1;for(k=f[j],A=f[j+1],z=k;z<A;z++)if(N=d[z],m)for(x=i[N],b=i[N+1],w=x;w<b;w++)E=o[w],B[E]!==F?(B[E]=F,T.push(E),O[E]=y(l[z],n[w])):O[E]=g(O[E],y(l[z],n[w]));else for(x=i[N],b=i[N+1],w=x;w<b;w++)E=o[w],B[E]!==F&&(B[E]=F,T.push(E));if(m)for(var D=C[j],L=T.length,I=D;I<L;I++){var P=T[I];S[I]=O[P]}}return C[v]=T.length,M};return v.toTex={2:"\\left(${args[0]}"+s.operators.multiply+"${args[1]}\\right)"},v}var o=r(27).extend,i=r(41);e.name="multiply",e.factory=n},function(t,e){"use strict";function r(t,e,r,n){var o=n("multiplyScalar",{"number, number":function(t,e){return t*e},"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var r=e.clone();return r.value=null===r.value?r._normalize(t):o(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var r=t.clone();return r.value=null===r.value?r._normalize(e):o(r.value,e),r},"Unit, Unit":function(t,e){return t.multiply(e)}});return o}e.factory=r},function(t,e,r){"use strict";function n(t,e,n,o){var i=n(r(52)),a=t.SparseMatrix,s=function(t,e,r,n){var s=t._values,l=t._index,c=t._ptr,u=t._size,d=t._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=u[0],h=u[1],_=i,v=0,m=r;"string"==typeof d&&(f=d,_=o.find(i,[f,f]),v=o.convert(0,f),e=o.convert(e,f),m=o.find(r,[f,f]));for(var g=[],y=[],w=[],x=new a({values:g,index:y,ptr:w,size:[p,h],datatype:f}),b=0;b<h;b++){w[b]=y.length;for(var z=c[b],k=c[b+1],A=z;A<k;A++){var E=l[A],N=n?m(e,s[A]):m(s[A],e);_(N,v)||(y.push(E),g.push(N))}}return w[h]=y.length,x};return s}e.name="algorithm11",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(r,n){if(e.predictable&&!o(n)&&r<0)try{var i=h(n),a=_(i);if((n===a||Math.abs((n-a)/n)<1e-14)&&i.d%2===1)return(i.n%2===0?1:-1)*Math.pow(-r,n)}catch(t){}return r*r<1&&n===1/0||r*r>1&&n===-(1/0)?0:e.predictable&&(r<-1&&n===1/0||r>-1&&r<0&&n===-(1/0))?NaN:o(n)||r>=0||e.predictable?Math.pow(r,n):new t.Complex(r,0).pow(n,0)}function l(t,e){if(!o(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var r=i(t);if(2!=r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!=r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var n=d(r[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(n=f(a,n)),e>>=1,a=f(a,a);return n}function c(t,e){return p(l(t.valueOf(),e))}var u=r(58),d=n(r(168)),f=n(r(164)),p=n(r(56)),h=n(r(169)),_=n(r(170)),v=a("pow",{"number, number":s,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(r,n){return n.isInteger()||r>=0||e.predictable?r.pow(n):new t.Complex(r.toNumber(),0).pow(n.toNumber(),0)},"Fraction, Fraction":function(t,r){if(1!==r.d){if(e.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return s(t.valueOf(),r.valueOf())}return t.pow(r)},"Array, number":l,"Array, BigNumber":function(t,e){return l(t,e.toNumber())},"Matrix, number":c,"Matrix, BigNumber":function(t,e){return c(t,e.toNumber())},"Unit, number":function(t,e){return t.pow(e)}});return v.toTex={2:"\\left(${args[0]}\\right)"+u.operators.pow+"{${args[1]}}"},v}var o=r(31).isInteger,i=r(41).size;e.name="pow",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(t,e){switch(t.length){case 0:return e?c(e):[];case 1:return l(t[0],t[0],e);case 2:return l(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function l(e,r,n){var a=t.isBigNumber(e)||t.isBigNumber(r)?t.BigNumber:null;if(t.isBigNumber(e)&&(e=e.toNumber()),t.isBigNumber(r)&&(r=r.toNumber()),!i(e)||e<1)throw new Error("Parameters in function eye must be positive integers");if(!i(r)||r<1)throw new Error("Parameters in function eye must be positive integers");var s=a?new t.BigNumber(1):1,l=a?new a(0):0,c=[e,r];if(n){var u=t.Matrix.storage(n);return u.diagonal(c,s,0,l)}for(var d=o.resize([],c,l),f=e<r?e:r,p=0;p<f;p++)d[p][p]=s;return d}var c=n(r(56)),u=a("eye",{"":function(){return"Matrix"===e.matrix?c([]):[]},string:function(t){return c(t)},"number | BigNumber":function(t){return l(t,t,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, string":function(t,e){return l(t,t,e)},"number | BigNumber, number | BigNumber":function(t,r){return l(t,r,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,r){return l(t,e,r)},Array:function(t){return s(t)},"Array, string":function(t,e){return s(t,e)},Matrix:function(t){return s(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return s(t.valueOf(),e)}});return u.toTex=void 0,u}var o=r(41),i=r(31).isInteger;e.name="eye",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var i=n("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t.Fraction(e)},string:function(e){return new t.Fraction(e)},"number, number":function(e,r){return new t.Fraction(e,r)},BigNumber:function(e){return new t.Fraction(e.toString())},Fraction:function(t){return t},Object:function(e){return new t.Fraction(e)},"Array | Matrix":function(t){return o(t,i)}});return i}var o=r(162);e.name="fraction",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var i=n("number",{"":function(){return 0},number:function(t){return t},string:function(t){var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return o(t,i)}});return i.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},i}var o=r(162);e.name="number",e.factory=n},function(t,e){"use strict";t.exports=function(t,e,r,n,o,i,a){var s="<p>",l=": ",c=t.viz.cat_bar_width,u=t.viz.cat_bar_height,d=25,f=e.bar_data[0][o];e.bar_data=e.bar_data.slice(0,i);var p=e.type_name;p.length>=d&&(p=p.slice(0,d)+".."),r.append("text").classed("cat_graph_title",!0).text(p).style("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').style("font-weight",800);var h=4;r.append("line").attr("x1",0).attr("x2",c).attr("y1",h).attr("y2",h).attr("stroke","blue").attr("stroke-width",1).attr("opacity",1);var _=d3.scale.linear().domain([0,f]).range([0,c]);a.append("rect").attr("height",u+"px").attr("width",function(t){var e=_(t[o]);return e+"px"}).attr("fill",function(t){return t[3]}).attr("opacity",t.viz.cat_colors.opacity).attr("stroke","grey").attr("stroke-width","0.5px"),a.append("text").classed("bar_labels",!0).text(function(t){var e=t[1];return e.indexOf(l)>0&&(e=e.split(l)[1]),e.indexOf(s)>0&&(e=e.split(s)[0]),e.length>=d&&(e=e.slice(0,d)+".."),e}).attr("transform",function(){return"translate(5, "+.75*u+")"}).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("font-weight",400).attr("text-anchor","right")}},function(t,e){"use strict";t.exports=function(t,e,r,n,o,i,a,s){var l=t.viz.cat_bar_width,c=t.viz.cat_bar_height,u=150,d=6;e.append("text").text("Count").attr("transform",function(){var t=l+i,e="translate("+t+", 0)";return e}),e.append("text").text("Pct").attr("transform",function(){var t=l+i+60,e="translate("+t+", 0)";return e}),e.append("text").text("P-val").attr("transform",function(){var t=l+i+115,e="translate("+t+", 0)";return e}),o&&e.append("text").text("Clusters").attr("transform",function(){var t=l+u,e="translate("+t+", 0)";return e});var f=35;r.append("text").classed("count_labels",!0).text(function(t){var e=t[a];return e=e.toLocaleString(),String(e)}).attr("transform",function(){var t=l+i+f,e=.75*c;return"translate("+t+", "+e+")"}).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("font-weight",400).attr("text-anchor","end"),r.append("text").classed("count_labels",!0).text(function(t){var e=t[a]/s*100;return e=Math.round(10*e)/10,e=e.toLocaleString(),String(e)}).attr("transform",function(){var t=l+i+f+47,e=.75*c;return"translate("+t+", "+e+")"}).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("font-weight",400).attr("text-anchor","end"),r.append("text").classed("count_labels",!0).text(function(t){var e=t[d];return e<.001?(e=parseFloat(e.toPrecision(3)),e=e.toExponential()):e=parseFloat(e.toPrecision(2)),e}).attr("transform",function(){var t=l+i+f+112,e=.75*c;return"translate("+t+", "+e+")"}).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("font-weight",400).attr("text-anchor","end"),o&&r.append("text").classed("count_labels",!0).text(function(t){return String(t[n].toLocaleString())}).attr("transform",function(){var t=l+f+u+20,e=.75*c;return"translate("+t+", "+e+")"}).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("font-weight",400).attr("text-anchor","end")}},function(t,e){"use strict";t.exports=function(t){var e={},r=d3.select(t.root+" .clust_group").attr("transform");return null!=r&&r.indexOf("scale")>0?(e.zoom_x=parseFloat(r.split("scale")[1].replace("(","").replace(")","").split(",")[0]),e.zoom_y=parseFloat(r.split("scale")[1].replace("(","").replace(")","").split(",")[1])):(e.zoom_x=1,e.zoom_y=1),e}},function(t,e){"use strict";t.exports=function(t){t.labels.show_label_tooltips?d3.select(t.root+" .row_label_zoom_container").selectAll("g").on("mouseover",function(t){dispatchEvent(new CustomEvent("ROW_MOUSEOVER",{detail:t}))}).on("mouseout",function(t){dispatchEvent(new CustomEvent("ROW_MOUSEOUT",{detail:t}))}):d3.select(t.root+" .row_label_zoom_container").selectAll("g").on("mouseover",function(){d3.select(this).select("text").classed("active",!0)}).on("mouseout",function(){d3.select(this).select("text").classed("active",!1)})}},function(t,e,r){"use strict";var n=r(2),o=r(176),i=r(177),a=r(146),s=r(185),l=r(186);t.exports=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=t.params,u=c.network_data.col_nodes,d=c.viz.x_scale.rangeBand()/2+c.viz.border_width.x;d3.select(c.root+" .col_container").empty()?(e=d3.select(c.viz.viz_svg).append("g").attr("class","col_container").attr("transform","translate("+c.viz.clust.margin.left+","+c.viz.norm_labels.margin.top+")"),e.append("rect").attr("fill",c.viz.background_color).attr("width",30*c.viz.clust.dim.width+"px").attr("height",c.viz.label_background.col).attr("class","white_bars"),e.append("g").attr("class","col_label_outer_container").attr("transform","translate(0,"+c.viz.norm_labels.width.col+")").append("g").attr("class","col_zoom_container")):(e=d3.select(c.root+" .col_container").attr("transform","translate("+c.viz.clust.margin.left+","+c.viz.norm_labels.margin.top+")"),e.select(".white_bars").attr("fill",c.viz.background_color).attr("width",30*c.viz.clust.dim.width+"px").attr("height",c.viz.label_background.col),e.select(c.root+" .col_label_outer_container"));var f=d3.select(c.root+" .col_zoom_container").selectAll(".col_label_text").data(u,function(t){return t.name}).enter().append("g").attr("class","col_label_text").attr("transform",function(t){var e=t.col_index;return"translate("+c.viz.x_scale(e)+", 0) rotate(-90)"}),p=f.append("g").attr("class","col_label_group").attr("transform","translate("+c.viz.x_scale.rangeBand()/2+","+d+") rotate(45)").on("mouseover",function(){d3.select(this).select("text").classed("active",!0)}).on("mouseout",function(){d3.select(this).select("text").classed("active",!1)});n.has(c.network_data.col_nodes[0],"value")&&p.append("rect").attr("class","col_bars").attr("width",function(t){var e=0;return t.value>0&&(e=c.labels.bar_scale_col(t.value)),e}).attr("height",.66*c.viz.x_scale.rangeBand()).style("fill",function(t){return t.value>0?c.matrix.bar_colors[0]:c.matrix.bar_colors[1]}).attr("opacity",.6),p.append("text").attr("x",0).attr("y",.64*c.viz.x_scale.rangeBand()).attr("dx",c.viz.border_width.x).attr("text-anchor","start").attr("full_name",function(t){return t.name}).style("font-size",c.labels.default_fs_col+"px").style("cursor","default").text(function(t){return n.normal_name(t)}).style("opacity",0).transition().delay(r).duration(r).style("opacity",1),s(c),p.append("path").style("stroke-width",0).attr("d",function(){return l(c)}).attr("fill","#eee").style("opacity",0).transition().delay(r).duration(r).style("opacity",c.viz.triangle_opacity),d3.selectAll(c.root+" .col_label_text").on("click",function(t){"function"==typeof c.click_label?(c.click_label(t.name,"col"),o(c,this,t.ini)):c.tile_click_hlight&&o(c,this,t.ini)}).on("dblclick",function(e){var r="__data__",n=this[r].name;if(c.sim_mat){i(t,this,n);var s=d3.selectAll(c.root+" .row_label_group").filter(function(t){return t.name==n})[0][0];a(t,s,n)}else i(t,this,n);c.tile_click_hlight&&o(c,this,e.ini)})}},function(t,e){"use strict";t.exports=function(t,e,r){if(r!=t.click_hlight_col){t.click_hlight_col=r;var n=6,o=.85,i=n*t.viz.border_width.x;d3.selectAll(t.root+" .click_hlight").remove(),d3.select(e).append("rect").classed("click_hlight",!0).classed("col_top_hlight",!0).attr("width",t.viz.clust.dim.height).attr("height",i).attr("fill",t.matrix.hlight_color).attr("opacity",o).attr("transform",function(){var e=0,r=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+r+","+e+")"}),d3.select(e).append("rect").classed("click_hlight",!0).classed("col_bottom_hlight",!0).attr("width",t.viz.clust.dim.height).attr("height",i).attr("fill",t.matrix.hlight_color).attr("opacity",o).attr("transform",function(){var e=t.viz.x_scale.rangeBand()-i,r=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+r+","+e+")"})}else d3.selectAll(t.root+" .click_hlight").remove(),t.click_hlight_col=-666}},function(t,e,r){"use strict";var n=r(147),o=r(148),i=r(178),a=r(122),s=r(173),l=r(109),c=r(111);t.exports=function(t,e,r){var u=t.params,d=s(u);if(1===d.zoom_y&&1===d.zoom_x){u.viz.inst_order.col="custom",o(t,"col"),d3.selectAll(u.root+" .toggle_row_order .btn").classed("active",!1),u.viz.run_trans=!0;var f=c.extend(!0,{},u.matrix.matrix),p=u.network_data.row_nodes,h=u.network_data.col_nodes,_=[];h.forEach(function(t){_.push(t.name)});var v=_.indexOf(r);_=[],p.forEach(function(t,e){_.push(f[e].row_data[v].value)});var m=d3.range(_.length).sort(function(t,e){return _[e]-_[t]});u.viz.y_scale.domain(m),u.matrix.orders.custom_col=m;var g,y=u.network_data.row_nodes_names||[];if(g=u.network_data.links.length>u.matrix.def_large_matrix?d3.select(u.root+" .viz_svg"):d3.select(u.root+" .viz_svg").transition().duration(2500),g.selectAll(".row_cat_group").attr("transform",function(t){var e=y.indexOf(t.name);return"translate(0,"+u.viz.y_scale(e)+")"}),g.select(".row_label_zoom_container").selectAll(".row_label_group").attr("transform",function(t){var e=y.indexOf(t.name);return"translate(0,"+u.viz.y_scale(e)+")"}),u.viz.ds_level===-1&&g.selectAll(".row").attr("transform",function(t){var e=y.indexOf(t.name);return"translate(0,"+u.viz.y_scale(e)+")"}),d3.selectAll(u.root+" .col_label_text").select(".highlight_rect").style("opacity",0),d3.select(e).select(".highlight_rect").style("opacity",1),u.network_data.links.forEach(function(t){t.x=u.viz.x_scale(t.target),t.y=u.viz.y_scale(t.source)}),n(u),u.zoom_info=a(),setTimeout(function(){u.viz.run_trans=!1},2500),u.viz.ds_num_levels>0&&u.viz.ds_level>=0){l(u);var w=!0,x=!0,b=!0;i(t,w,x,b)}}}},function(t,e,r){"use strict";var n=r(179),o=r(127),i=r(144),a=r(180),s=r(135),l=r(181);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=t.params,d=u.zoom_info,f=u.viz.ds_level,p=u.viz.ds_level;null===u.viz.ds?f=-1:(f=Math.floor(Math.log(d.zoom_y)/Math.log(u.viz.ds_zt)),f>u.viz.ds_num_levels-1&&(f=-1));var h=!1;p==-1?f>=0&&(h=!0):f<p&&(h=!0);var _;e===!0||h===!0?(_=f,e=!0,u.viz.ds_level=_):_=p;var v={},m=5;v.min_x=Math.abs(d.trans_x)/d.zoom_x-(m+1)*u.viz.rect_width,v.min_y=Math.abs(d.trans_y)/d.zoom_y-(m+1)*u.viz.rect_height,v.max_x=Math.abs(d.trans_x)/d.zoom_x+u.viz.clust.dim.width/d.zoom_x+m*u.viz.rect_width,v.max_y=Math.abs(d.trans_y)/d.zoom_y+u.viz.clust.dim.height/d.zoom_y+m*u.viz.rect_height,n(u,v);var g;if(c===!1?g=l(u.viz.viz_nodes.row,u.viz.viz_nodes.curr_row):(g="all",d3.selectAll(u.root+" .ds"+String(_)+"_row").remove()),null!=u.viz.ds){var y=".ds"+String(u.viz.ds_level)+"_row";d3.selectAll(y).style("display","block")}_>=0&&(d3.selectAll(u.root+" .row").remove(),d3.selectAll(u.viz.root_tips+"_tile_tip").remove(),d3.selectAll(u.viz.root_tips+"_row_tip").remove());var w;if(_<0?(w=u.matrix.matrix,a(u)):(w=u.matrix.ds_matrix[_],d3.selectAll(u.root+" .row_cat_group path").remove()),r===!0&&d3.selectAll(u.root+" .row_cat_group path").remove(),e===!0&&(_>=0?d3.selectAll(u.root+" .ds"+String(_)+"_row").each(function(t){s(u.viz.viz_nodes.row,t.name)===!1&&d3.select(this).remove()}):d3.selectAll(u.root+" .row").each(function(t){s(u.viz.viz_nodes.row,t.name)===!1&&d3.select(this).remove()}),d3.selectAll(u.root+" .row_label_group").each(function(t){s(u.viz.viz_nodes.row,t.name)===!1&&d3.select(this).remove()}),_!=p&&(g=u.viz.viz_nodes.row,d3.selectAll(u.root+" .ds"+String(p)+"_row").remove())),(g.length>=1||"all"===g)&&o(u,w,g,_),_===-1&&(r===!1||e)){var x=[];d3.selectAll(u.root+" .row_label_group").each(function(t){x.push(t.name)});var b=l(u.viz.viz_nodes.row,x),z=1;b.length>z&&i(t,b)}}},function(t,e){"use strict";t.exports=function(t,e){var r,n=[],o=[],i=t.viz.y_scale,a=t.viz.ds_level,s=t.network_data.row_nodes_names,l=".row";a>=0&&(i=t.viz.ds[a].y_scale,s=d3.range(t.matrix.ds_matrix[a].length).map(String),l=".ds"+String(a)+"_row");for(var c=0;c<s.length;c++)r=i(c),r<e.max_y&&r>e.min_y&&n.push(s[c]);d3.selectAll(t.root+" "+l).each(function(t){o.push(t.name)}),t.viz.viz_nodes.row=n,t.viz.viz_nodes.curr_row=o}},function(t,e){"use strict";t.exports=function(t){d3.select(t.root+" .row_cat_group path").empty()===!0&&d3.selectAll(t.root+" .row_cat_group").append("path").attr("d",function(){var e=t.viz.cat_room.symbol_width-1,r=0,n=1,o=t.viz.y_scale.rangeBand()/2,i=t.viz.cat_room.symbol_width-1,a=t.viz.y_scale.rangeBand(),s="M "+e+","+r+" L "+n+","+o+" L "+i+","+a+" Z";return s}).attr("fill","#eee").style("opacity",t.viz.triangle_opacity)}},function(t,e,r){"use strict";var n=r(182),o=r(183),i=r(77),a=r(135),s=n(function(t,e){return e=o(e,!0,!0),i(t,function(t){return!a(e,t)})});t.exports=s},function(t,e){"use strict";function r(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),o=0;o<r;o++)n[o]=arguments[o+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var i=Array(e+1);for(o=0;o<e;o++)i[o]=arguments[o];return i[e]=n,t.apply(this,i)}}t.exports=r},function(t,e,r){"use strict";function n(t,e,r,l){if(l=l||[],e||0===e){if(e<=0)return l.concat(t)}else e=1/0;for(var c=l.length,u=0,d=o(t);u<d;u++){var f=t[u];if(i(f)&&(a(f)||s(f)))if(e>1)n(f,e-1,r,l),c=l.length;else for(var p=0,h=f.length;p<h;)l[c++]=f[p++];else r||(l[c++]=f)}return l}var o=r(10),i=r(7),a=r(82),s=r(184);t.exports=n},function(t,e,r){"use strict";var n=r(17),o=r(14),i=n("Arguments");!function(){i(arguments)||(i=function(t){return o(t,"callee")})}();var a=i;t.exports=a},function(t,e){"use strict";t.exports=function(t){t.labels.show_label_tooltips&&d3.select(t.root+" .col_zoom_container").selectAll(".col_label_group").on("mouseover",function(t){dispatchEvent(new CustomEvent("COL_MOUSEOVER",{detail:t}))}).on("mouseout",function(t){dispatchEvent(new CustomEvent("COL_MOUSEOUT",{detail:t}))})}},function(t,e){"use strict";t.exports=function(t){var e=.36*t.viz.x_scale.rangeBand(),r=-t.viz.border_width.x,n=0,o=t.viz.x_scale.rangeBand()-e,i=-(t.viz.x_scale.rangeBand()-e+t.viz.border_width.x),a=-t.viz.border_width.x,s="M "+r+",0 L "+i+","+n+" L "+a+","+o+" Z";return s}},function(t,e){"use strict";t.exports=function(t){d3.select(t.viz.viz_svg).append("rect").attr("fill",t.viz.background_color).attr("height",t.viz.super_labels.dim.width+"px").attr("width","3000px").classed("super_col_bkg",!0).classed("white_bars",!0).attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.super_labels.margin.top+")"),d3.select(t.viz.viz_svg).append("text").attr("class","super_col").text(t.labels.super.col).attr("text-anchor","center").attr("transform",function(){var e=d3.select(this)[0][0].getBBox().width,r=t.viz.clust.dim.width/2+t.viz.norm_labels.width.row-e/2,n=t.viz.super_labels.dim.width;return"translate("+r+","+n+")"}).style("font-size",function(){var e=t.labels.super_label_fs*t.labels.super_label_scale;return e+"px"}).style("font-weight",300),d3.select(t.viz.viz_svg).append("rect").attr("fill",t.viz.background_color).attr("width",t.viz.super_labels.dim.width+"px").attr("height","3000px").classed("super_row_bkg",!0).classed("white_bars",!0).attr("transform","translate("+t.viz.super_labels.margin.left+",0)"),d3.select(t.viz.viz_svg).append("g").classed("super_row",!0).attr("transform",function(){var e=t.viz.super_labels.dim.width,r=t.viz.clust.dim.height/2+t.viz.norm_labels.width.col;return"translate("+e+","+r+")"}),d3.select(t.root+" .super_row").append("text").text(t.labels.super.row).attr("text-anchor","center").attr("transform",function(){var e=d3.select(this)[0][0].getBBox().width,r=e/2+t.viz.norm_labels.width.col,n="translate(0,"+r+"), rotate(-90)";return n}).style("font-size",function(){var e=t.labels.super_label_fs*t.labels.super_label_scale;return e+"px"}).style("font-weight",300)}},function(t,e,r){"use strict";var n=r(189),o=r(190),i=r(198),a=r(154);t.exports=function(t){var e=t.params,r=e.viz;d3.select(r.root+" .col_container").append("path").style("stroke-width","0").attr("d","M 0,0 L 1000,-1000, L 1000,0 Z").attr("fill",r.background_color).attr("class","right_slant_triangle").attr("transform","translate("+r.clust.dim.width+","+r.norm_labels.width.col+")"),d3.select(r.root+" .col_container").append("path").style("stroke-width","0").attr("d","M 0,0 L 500,-500, L 0,-500 Z").attr("fill",r.background_color).attr("class","left_slant_triangle").attr("transform","translate(-1,"+r.norm_labels.width.col+")");var s=r.clust.margin.top+r.uni_margin/5;d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",r.clust.margin.left).attr("height",s-1).attr("class","top_left_white");var l=r.cat_room.col+1.5*r.uni_margin;d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",2*r.clust.dim.width).attr("height",l).attr("class","top_right_white").attr("transform",function(){var t=r.clust.margin.left+r.clust.dim.width,e=r.norm_labels.width.col+r.norm_labels.margin.top-r.uni_margin;return"translate("+t+", "+e+")"}),p=r.clust.margin.left+r.clust.dim.width+r.uni_margin,h=r.norm_labels.margin.top+r.norm_labels.width.col+2.5*r.uni_margin;var c=1.15*r.cat_room.symbol_width,u=.65,d=1.25;r.show_categories.col&&d3.select(r.viz_svg).selectAll().data(r.all_cats.col).enter().append("text").classed("col_cat_super",!0).style("font-size",c+"px").style("opacity",u).style("cursor","default").attr("transform",function(t){
var e=parseInt(t.split("-")[1],10),n=h+d*r.cat_room.symbol_width*e;return"translate("+p+","+n+")"}).text(function(t){return n(r,t,"col")}),i(t),h=r.show_dendrogram?r.clust.margin.top+r.clust.dim.height+r.dendro_room.col-2*r.uni_margin:r.clust.margin.top+r.clust.dim.height;var f=d3.select(r.viz_svg).append("g").classed("bottom_spillover_container",!0).attr("transform",function(){return"translate(0,"+h+")"});f.append("rect").attr("class","bottom_spillover").attr("fill",r.background_color).attr("width",r.svg_dim.width).attr("height",2*r.svg_dim.height),p=r.clust.margin.left,h=0,f.append("g").classed("col_dendro_icons_container",!0).attr("transform","translate("+p+","+h+")").append("g").classed("col_dendro_icons_group",!0),t.config.show_dendrogram&&a(t,"col");var p=r.clust.margin.left+r.clust.dim.width,h=r.clust.margin.top+r.clust.dim.height,_=r.cat_room.col+r.clust.dim.width,v=r.cat_room.row+10*r.uni_margin;d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",_).attr("height",v).attr("transform",function(){return"translate("+p+","+h+")"}).classed("white_bars",!0).classed("dendro_corner_spillover",!0),p=0,h=r.clust.margin.top+r.clust.dim.height,_=r.clust.margin.left,v=10*r.clust.dim.height,d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",_).attr("height",v).attr("transform",function(){return"translate("+p+","+h+")"}).classed("white_bars",!0).classed("dendro_col_spillover",!0),o(t)}},function(t,e){"use strict";t.exports=function(t,e,r){var n;if(t.cat_names[r][e]===e){var o=parseInt(e.split("-")[1],10)+1;n="Category "+o}else n=t.cat_names[r][e];return n}},function(t,e,r){"use strict";var n=r(191);t.exports=function(t){var e=t.params;["row","col"].forEach(function(r){e.viz.show_categories[r]&&d3.selectAll(e.root+" ."+r+"_cat_super").on("dblclick",function(){e.sim_mat&&(r="both"),d3.selectAll(e.root+" .toggle_"+r+"_order .btn").classed("active",!1);var o=this.__data__.replace("-","_")+"_index";e.viz.sim_mat?(n(t,o,"row"),n(t,o,"col")):n(t,o,r)})})}},function(t,e,r){"use strict";var n=r(148),o=r(178),i=r(122),a=r(109),s=r(192),l=r(173);t.exports=function(t,e,r){var c=t.params,u=l(c),d=0;1==u.zoom_y&&1==u.zoom_x||(s(t,0,0,1),d=1200);var f;"row"===r?f="col":"col"===r&&(f="row"),c.viz.run_trans=!0,"row"===f?c.viz.inst_order.row=e:"col"===f&&(c.viz.inst_order.col=e),c.viz.show_dendrogram&&n(t,r),"row"===f?c.viz.x_scale.domain(c.matrix.orders[c.viz.inst_order.row+"_row"]):"col"==f&&c.viz.y_scale.domain(c.matrix.orders[c.viz.inst_order.col+"_col"]);var p;p=d3.selectAll(c.root+" .tile")[0].length<c.matrix.def_large_matrix?d3.select(c.root+" .viz_svg").transition().duration(2500).delay(d):d3.select(c.root+" .viz_svg");var h=c.network_data.row_nodes_names||[],_=c.network_data.col_nodes_names||[];if(c.viz.ds_level===-1&&(p.selectAll(".row").attr("transform",function(t){var e=h.indexOf(t.name);return"translate(0,"+c.viz.y_scale(e)+")"}).selectAll(".tile").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"}),p.selectAll(".tile_up").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"}),p.selectAll(".tile_dn").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"})),p.select(".row_label_zoom_container").selectAll(".row_label_group").attr("transform",function(t){var e=h.indexOf(t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),p.select(".col_zoom_container").selectAll(".col_label_text").attr("transform",function(t){var e=_.indexOf(t.name);return"translate("+c.viz.x_scale(e)+") rotate(-90)"}),p.selectAll(".row_cat_group").attr("transform",function(t){var e=h.indexOf(t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),p.selectAll(".col_cat_group").attr("transform",function(t){var e=_.indexOf(t.name);return"translate("+c.viz.x_scale(e)+",0)"}),c.network_data.links.forEach(function(t){t.x=c.viz.x_scale(t.target),t.y=c.viz.y_scale(t.source)}),c.zoom_info=i(),c.viz.ds_num_levels>0&&c.viz.ds_level>=0){a(c);var v=!0,m=!0,g=!0;o(t,v,m,g)}setTimeout(function(){c.viz.run_trans=!1},2500)}},function(t,e,r){"use strict";var n=r(2),o=r(193),i=r(178),a=r(122),s=r(197);t.exports=function(t,e,r,l){function c(t,e){d3.selectAll(u.root+" ."+t+"_dendro_crop_buttons").transition().duration(m).style("opacity",e)}var u=t.params;if(d3.selectAll(u.viz.root_tips).style("display","none"),u.zoom_info=a(),i(t),!u.viz.run_trans){var d=u.viz.clust.dim.height/2,f=d/l;if(r>=d-f){var p=d-r,h=-d/l+p;r+=h}r<-(d-f)&&(p=d+r,h=d/l-p,r+=h);var _=l,v=1,m=700,g=-(_-1)*d;d3.select(u.root+" .clust_group").transition().duration(m).attr("transform","translate("+[0,0+g]+") scale("+v+","+_+")translate("+[e,r]+")"),d3.select(u.root+" .row_label_zoom_container").transition().duration(m).attr("transform","translate("+[0,g]+") scale("+_+","+_+")translate("+[0,r]+")"),d3.select(u.root+" .row_cat_container").transition().duration(m).attr("transform","translate("+[0,g]+") scale(1,"+_+")translate("+[0,r]+")"),d3.select(u.root+" .row_dendro_container").transition().duration(m).attr("transform","translate("+[0,g]+") scale("+v+","+_+")translate("+[u.viz.uni_margin/2,r]+")");var y;["row","col"].forEach(function(t){y=d3.select(u.root+" ."+t+"_dendro_crop_buttons").style("opacity"),d3.selectAll(u.root+" ."+t+"_dendro_crop_buttons").style("opacity",0),setTimeout(c,700,t,y)}),d3.select(u.root+" .col_zoom_container").transition().duration(m).attr("transform"," scale("+v+","+v+")translate("+[e,0]+")"),d3.select(u.root+" .col_cat_container").transition().duration(m).attr("transform"," scale("+v+",1)translate("+[e,0]+")"),d3.select(u.root+" .col_dendro_container").transition().duration(m).attr("transform"," scale("+v+",1)translate("+[e,u.viz.uni_margin/2]+")");var w=u.viz.clust.margin.top+g+r*_,x=u.viz.clust.margin.left+e;u.zoom_behavior.scale(_).translate([x,w]),o(u),d3.select(u.root+" .row_label_zoom_container text").empty()===!1&&d3.select(u.root+" .row_label_zoom_container").each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",.5*t.x).attr("y",0).attr("width",.5*t.width).attr("height",u.viz.y_scale.rangeBand()).style("fill","yellow")}),d3.select(u.root+" .row_dendro_icons_group").attr("transform","translate("+[0,0+g]+") scale("+v+","+_+")translate("+[e,r]+")"),d3.select(u.root+" .row_dendro_icons_group").selectAll("path").attr("transform",function(t){var e=u.viz.uni_margin,r=t.pos_mid;return"translate("+e+","+r+") scale(1, "+1/_+")"}),d3.select(u.root+" .col_dendro_icons_group").attr("transform",function(){var t=" scale("+v+","+_+")";return t}),d3.select(u.root+" .col_dendro_icons_group").selectAll("path").attr("transform",function(t){var e=t.pos_mid,r=u.viz.uni_margin;return"translate("+e+","+r+") scale(1,1)"}),n.has(u.network_data.col_nodes[0],"value")&&d3.selectAll(u.root+" .col_bars").attr("width",function(t){var e=0;return t.value>0&&(e=u.labels.bar_scale_col(t.value)/v),e}),n.has(u.network_data.row_nodes[0],"value")&&d3.selectAll(u.root+" .row_bars").transition().duration(m).attr("width",function(t){var e=0;return e=u.labels.bar_scale_row(Math.abs(t.value))/_}).attr("x",function(t){var e=0;return e=-u.labels.bar_scale_row(Math.abs(t.value))/_}),s(u)}}},function(t,e,r){"use strict";var n=r(2),o=r(194),i=r(195);t.exports=function(t){d3.selectAll(t.root+" .row_label_group").select("text").text(function(t){return n.normal_name(t)}),d3.selectAll(t.root+" .col_label_text").select("text").text(function(t){return n.normal_name(t)}),i(t),d3.selectAll(t.root+" .row_label_group").each(function(){o(t,this,"row")}),d3.selectAll(t.root+" .col_label_group").each(function(){o(t,this,"col")})}},function(t,e){"use strict";t.exports=function(t,e,r){function n(){return u=d3.select(this).text(),c=u.length,f=c-3,l=u.substring(0,f)+".."}function o(t){return u=d3.select(this).text(),c=".."===u.slice(-2)?u.length-2:u.length,d=t.name,f=c+2,l=d.substring(0,f)+"..",l.length>d.length&&(l=d),l}function i(t,e){return s=e<1?t:t*e}if("none"!=d3.select(e).style("display")){var a,s,l,c,u,d,f,p,h=t.viz.norm_labels.width[r];a="row"===r?t.viz.zoom_ratio.y?t.zoom_behavior.scale()/t.viz.zoom_ratio.y:t.zoom_behavior.scale():t.viz.zoom_ratio.x>1?t.zoom_behavior.scale()/t.viz.zoom_ratio.x:t.zoom_behavior.scale();var _;d3.select(e).select("text").each(function(t){_=t.name.length});var v=d3.select(e).select("text").node().getBBox().width;if(s=i(v,a),s>h)for(p=1;p<_;p++)s>h&&(d3.select(e).select("text").text(n),v=d3.select(e).select("text").node().getBBox().width,s=i(v,a));else if(s<.75*h)for(p=1;p<_;p++)s<.75*h&&(d3.select(e).select("text").text(o),v=d3.select(e).select("text").node().getBBox().width,s=i(v,a))}}},function(t,e,r){"use strict";var n=r(196);t.exports=function(t){var e,r=t.labels.default_fs_row,o=3,i=n(t);i.row>o&&(i.row>t.labels.max_allow_fs?(e=t.viz.zoom_ratio.y?t.zoom_behavior.scale()/t.viz.zoom_ratio.y:t.zoom_behavior.scale(),e<1&&(e=1),r=t.labels.max_allow_fs/e,d3.selectAll(t.root+" .row_label_group").select("text").style("font-size",r+"px").attr("y",.5*t.viz.rect_height+.35*r)):d3.selectAll(t.root+" .row_label_group").select("text").style("font-size",t.labels.default_fs_row+"px").attr("y",.5*t.viz.rect_height+.35*t.labels.default_fs_row)),i.col>o&&(i.col>t.labels.max_allow_fs?(e=t.viz.zoom_ratio.x>1?t.zoom_behavior.scale()/t.viz.zoom_ratio.x:t.zoom_behavior.scale(),e<1&&(e=1),r=t.labels.max_allow_fs/e,r>.7*t.viz.rect_width&&(r=.7*t.viz.rect_width),d3.selectAll(t.root+" .col_label_text").select("text").style("font-size",r+"px")):d3.selectAll(t.root+" .col_label_text").select("text").style("font-size",t.labels.default_fs_col+"px"))}},function(t,e){"use strict";t.exports=function(t){var e={};return t.viz.zoom_ratio.x>1?(e.row=t.labels.default_fs_row*t.zoom_behavior.scale(),e.col=t.labels.default_fs_col*t.zoom_behavior.scale()):(e.row=t.labels.default_fs_row*t.zoom_behavior.scale()/t.viz.zoom_ratio.y,e.col=t.labels.default_fs_col*t.zoom_behavior.scale()),e}},function(t,e){"use strict";t.exports=function(t){t.zoom_info.zoom_x*t.viz.border_width.x>1?d3.selectAll(t.root+" .vert_lines").select("line").style("display","block").style("opacity",0).transition().style("opacity",1):d3.selectAll(t.root+" .vert_lines").select("line").style("display","none"),t.zoom_info.zoom_y*t.viz.border_width.y>1?d3.selectAll(t.root+" .horz_lines").select("line").style("display","block").style("opacity",0).transition().style("opacity",1):d3.selectAll(t.root+" .horz_lines").select("line").style("display","none")}},function(t,e,r){"use strict";var n=r(189),o=r(134),i=r(2);t.exports=function(t){var e=t.params,r=e.viz,a=2.75;d3.select(e.root+" .row_cat_label_container").empty()&&(d3.select(t.params.viz.viz_svg).append("g").classed("row_cat_label_container",!0),d3.select(t.params.viz.viz_svg+" .row_cat_label_container").append("g").classed("row_cat_label_bar_container",!0));var s=r.clust.margin.left+r.clust.dim.width+r.uni_margin,l=r.norm_labels.margin.top+r.norm_labels.width.col+2.5*r.uni_margin,c=1.15*r.cat_room.symbol_width,u=.65,d=1.25;d3.select(e.root+" .row_cat_label_container").attr("transform",function(){return s=r.norm_labels.margin.left+r.norm_labels.width.row+r.cat_room.symbol_width+a*r.uni_margin,l=r.clust.margin.top-r.uni_margin,"translate("+s+","+l+") rotate(-90)"}),d3.selectAll(e.root+" .row_cat_label_container text").remove(),d3.selectAll(e.root+" .row_cat_selection_bar").remove(),d3.selectAll(t.params.viz.root_tips+"_row_cat_super").remove();var f=50,p=-75,h=o().attr("class",function(){var t=e.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_row_cat_super";return r}).direction("south_custom").offset([f,p]).style("display","none").style("opacity",0).html(function(t){var o,i=e.network_data.row_nodes[0][t];if(i.indexOf("<p>")>-1){var a=i.split(": ")[0],s=i.split("<p>")[1];o=a+"<p>"+s}else o=n(r,t,"row");return o}),_=d*r.cat_room.symbol_width,v=.9*_;if(d3.select(e.root+" .row_cat_label_container").selectAll().data(r.all_cats.row).enter().append("text").style("width","100px").style("height",v+"px").classed("row_cat_super",!0).style("font-size",c+"px").style("opacity",u).style("cursor","default").attr("transform",function(t){var e=d*r.cat_room.symbol_width*parseInt(t.split("-")[1],10);return"translate(0,"+e+")"}).text(function(t){return n(r,t,"row")}),d3.select(e.root+" .row_cat_label_container").selectAll().data(r.all_cats.row).enter().append("rect").classed("row_cat_super",!0).classed("row_cat_selection_bar",!0).style("height",v+"px").style("fill","green").style("width","120px").style("opacity",0).attr("transform",function(t){var e=_*(parseInt(t.split("-")[1],10)-.75);return"translate(0,"+e+")"}).on("mouseover",function(t){d3.selectAll(e.viz.root_tips+"_row_cat_super").style("display","block").style("opacity",1),h.show(t)}).on("mouseout",function(){h.hide(this),d3.selectAll(".d3-tip").style("display","none"),d3.selectAll(e.viz.root_tips+"_row_cat_super").style("display","none").style("opacity",0)}),d3.select(e.root+" .row_cat_selection_bar").empty()===!1&&d3.selectAll(e.root+" .row_cat_selection_bar").call(h),i.has(e.network_data,"row_cat_bars")){d3.select(e.root+" .enr_title").remove();var m=d3.select(e.root+" .viz_svg").append("g").classed("enr_title",!0).attr("transform",function(){var t=d3.select(e.root+" .row_cat_label_container").attr("transform").split("(")[1].split(")")[0],r=Number(t.split(",")[0])-10;return"translate("+String(r)+", 0)"});m.append("rect").attr("width",e.viz.cat_room.row).attr("height",25).attr("fill","white");var g=e.network_data.enrichrgram_lib.substring(0,40);m.append("text").attr("transform","translate(0, 17)").text(g.replace(/_/g," ")).style("font-size","15px").attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif'),d3.selectAll(e.root+" .enrichr_bars").remove();var y=e.viz.clust.margin.top-35,w=e.network_data.row_cat_bars[0],x=d3.scale.linear().domain([0,w]).range([0,y]);d3.select(e.root+" .row_cat_label_bar_container").selectAll().data(e.network_data.row_cat_bars).enter().append("rect").classed("enrichr_bars",!0).attr("height",v+"px").attr("fill","red").attr("width",function(t){var e=x(t);return e+"px"}).attr("opacity",.4).attr("transform",function(t,e){var r=_*(e-.75);return"translate(0, "+r+")"})}}},function(t,e,r){"use strict";r(200);t.exports=function(t){}},function(t,e,r){"use strict";var n=r(2),o=r(201),i=r(209),a=r(210),s=r(211),l=r(212),c=r(213),u=r(214),d=r(215),f=r(216),p=r(217),h=r(218),_=r(219),v=r(220),m=r(221),g=r(222),y=r(223),w=r(224),x=r(193),b=r(149),z=r(148),k=r(178),A=r(99),E=r(225),N=r(198),S=r(190),T=r(226),C=r(227),M=r(228),O=r(229),B=r(122),j=r(230),F=r(5);t.exports=function(t){var e=t.params,r=A(e);d3.select(e.root+" .play_button"),d3.select(e.root+" .sidebar_wrapper").style("height",r.height+"px"),d3.select(e.viz.viz_wrapper).style("margin-top",r.top+"px").style("width",r.width+"px").style("height",r.height+"px"),e=g(e),e.zoom_info=B(),a(e);var D=d3.select(e.viz.viz_svg);F(e.network_data.links,function(t){t.x=e.viz.x_scale(t.target),t.y=e.viz.y_scale(t.source)}),D.on(".zoom",null),e.zoom_behavior.scaleExtent([1,e.viz.square_zoom*e.viz.zoom_ratio.x]).on("zoom",function(){o(t)}),e.viz.do_zoom&&D.call(e.zoom_behavior),i(t),D.attr("width",e.viz.svg_dim.width).attr("height",e.viz.svg_dim.height),D.select(".super_background").style("width",e.viz.svg_dim.width).style("height",e.viz.svg_dim.height),D.select(".grey_background").attr("width",e.viz.clust.dim.width).attr("height",e.viz.clust.dim.height),setTimeout(E,100,e);var L=e.network_data.row_nodes,I=n.pluck(L,"name")||[];y(e,D),D.selectAll(".highlighting_rect").attr("width",.8*e.viz.x_scale.rangeBand()).attr("height",.8*e.viz.y_scale.rangeBand()),f(e),d(e,D),p(e,D),D.selectAll(".row_label_group").each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",t.x).attr("y",0).attr("width",t.width).attr("height",e.viz.rect_height).style("fill","yellow").style("opacity",function(t){var e=0;return 1===t.target&&(e=1),e})}),D.selectAll(".row_label_group").select("text").attr("y",.5*e.viz.rect_height+.35*e.labels.default_fs_row),n.has(e.network_data.row_nodes[0],"value")&&w(t,D),D.selectAll(".row_cat_group").attr("transform",function(t){var r=I.indexOf(t.name);return"translate(0, "+e.viz.y_scale(r)+")"}),D.selectAll(".row_cat_group").select("path").attr("d",function(){var t=e.viz.cat_room.symbol_width-1,r=0,n=1,o=e.viz.rect_height/2,i=e.viz.cat_room.symbol_width-1,a=e.viz.rect_height,s="M "+t+","+r+" L "+n+","+o+" L "+i+","+a+" Z";return s});var P=!0;e.viz.show_dendrogram?(b(t,"row",P),b(t,"col",P),s(e,D),z(t,"row",0),z(t,"col",0)):s(e,D),h(e,D),_(e,D),v(e,D),m(e,D),l(e,D),c(e.viz,D),j(e),u(e,D),e.zoom_behavior.scale(1).translate([e.viz.clust.margin.left,e.viz.clust.margin.top]),x(e),d3.select(e.root+" .clust_container").attr("transform","translate("+e.viz.clust.margin.left+","+e.viz.clust.margin.top+")"),t.params.viz.ds_level===-1&&k(t),N(t),d3.select(e.viz.viz_svg).style("opacity",1),S(t),d3.select(t.params.root+" .row_slider_group").style("opacity",0),d3.select(t.params.root+" .col_slider_group").style("opacity",0),setTimeout(T,500,t,"row"),setTimeout(T,500,t,"col"),setTimeout(C,500,t),setTimeout(O,500,t),setTimeout(M,500,t)}},function(t,e,r){"use strict";var n=r(202),o=r(207),i=r(208);t.exports=function(t){var e=t.params,r={};if(r.zoom_x=d3.event.scale,r.zoom_y=d3.event.scale,r.trans_x=e.zoom_behavior.translate()[0]-e.viz.clust.margin.left,r.trans_y=e.zoom_behavior.translate()[1]-e.viz.clust.margin.top,d3.selectAll(e.viz.root_tips).style("display","none"),e.zoom_info=o(e,r),e.zoom_info=i(e,r),e.is_slider_drag===!1&&e.is_cropping===!1){var a=e.zoom_info.trans_x+e.viz.clust.margin.left,s=e.zoom_info.trans_y+e.viz.clust.margin.top;e.zoom_behavior.translate([a,s]),t.params=e,n(t)}}},function(t,e,r){"use strict";var n=r(195),o=r(178),i=r(203),a=r(156),s=r(173),l=r(204),c=r(206);t.exports=function(t){function e(t){var e=t.params,r=c(e);r===!0&&setTimeout(l,50,t)}var r=t.params,u=r.zoom_info,d=s(r);d3.select(r.root+" .clust_group").attr("transform","translate("+[u.trans_x,u.trans_y]+") scale("+u.zoom_x+","+u.zoom_y+")"),d3.select(r.root+" .row_label_zoom_container").attr("transform","translate("+[0,u.trans_y]+") scale("+u.zoom_y+")"),d3.select(r.root+" .col_zoom_container").attr("transform","translate("+[u.trans_x,0]+") scale("+u.zoom_x+")"),d3.select(r.root+" .row_cat_container").attr("transform","translate("+[0,u.trans_y]+") scale( 1,"+u.zoom_y+")"),d3.select(r.root+" .row_dendro_container").attr("transform","translate("+[r.viz.uni_margin/2,u.trans_y]+") scale( 1,"+u.zoom_y+")"),d3.select(r.root+" .row_dendro_icons_group").attr("transform",function(){var t=u.trans_y,e="translate("+[0,t]+") ",r="scale(1, "+u.zoom_y+")",n=e+r;return n}),d3.select(r.root+" .col_dendro_icons_group").attr("transform",function(){var t=u.trans_x,e="translate("+[t,0]+")",r="scale("+u.zoom_x+", 1)",n=e+r;return n}),a(r,u,"row"),a(r,u,"col"),d3.select(r.root+" .col_cat_container").attr("transform","translate("+[u.trans_x,0]+") scale("+u.zoom_x+",1)"),d3.select(r.root+" .col_dendro_container").attr("transform","translate("+[u.trans_x,r.viz.uni_margin/2]+") scale("+u.zoom_x+",1)"),i(r,u),d3.select(r.root+" .viz_svg").attr("is_zoom",function(){var t=Number(d3.select(r.root+" .viz_svg").attr("is_zoom"));return d3.select(r.root+" .viz_svg").attr("stopped_zoom",1),t+1});var f=function(){d3.select(r.root+" .viz_svg").attr("is_zoom",function(){var t=Number(d3.select(r.root+" .viz_svg").attr("is_zoom"));return t-1})};if(n(r),u.zoom_y<=d.zoom_y){var p=!1;u.zoom_y<d.zoom_y&&(p=!0);var h=!1;o(t,h,p)}setTimeout(f,50),setTimeout(e,100,t)}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t){var e=t.zoom_info;n.has(t.network_data.row_nodes[0],"value")&&d3.selectAll(t.root+" .row_bars").attr("width",function(r){var n=0;return n=t.labels.bar_scale_row(Math.abs(r.value))/e.zoom_y}).attr("x",function(r){var n=0;return n=-t.labels.bar_scale_row(Math.abs(r.value))/e.zoom_y}),n.has(t.network_data.col_nodes[0],"value")&&d3.selectAll(t.root+" .col_bars").attr("width",function(r){var n=0;return r.value>0&&(n=t.labels.bar_scale_col(r.value)/e.zoom_x),n})}},function(t,e,r){"use strict";var n=r(195),o=r(194),i=r(205),a=r(197),s=r(178),l=r(206);t.exports=function(t){function e(){["row","col"].forEach(function(t){d3.selectAll(r.root+" ."+t+"_label_group").filter(function(){return"none"!=d3.select(this).style("display")}).select("text").style("font-size",function(){var t=Number(d3.select(this).style("font-size").replace("px",""));return t})})}var r=t.params,c=l(r);if(c===!0){["row","col"].forEach(function(t){d3.selectAll(r.root+" ."+t+"_label_group").select("text").style("opacity",1),d3.selectAll(r.root+" ."+t+"_cat_group").select("path").style("display","block")}),s(t,!0),d3.selectAll(r.viz.root_tips).style("display","block"),d3.selectAll(r.root+" .row_label_group").select("text").style("display","none"),d3.selectAll(r.root+" .row_label_group").select("text").style("display","block"),d3.select(r.root+" .viz_svg").attr("stopped_zoom",0),d3.selectAll(r.root+" .row_label_group").select("text").style("display","block"),d3.selectAll(r.root+" .col_label_group").select("text").style("display","block"),a(r),t.params.viz.x_offset=0;var u=150;["row","col"].forEach(function(t){var e=i(r,t);e<u&&d3.selectAll(r.root+" ."+t+"_label_group").each(function(){o(r,this,t)})}),e(),n(r),setTimeout(e,100)}}},function(t,e){"use strict";t.exports=function(t,e){var r;return"row"===e?(r=1e4,t.viz.ds_level===-1&&(r=d3.selectAll(t.root+" .row")[0].length)):"col"===e&&(r=d3.selectAll(t.root+" ."+e+"_label_text").filter(function(){return"none"!=d3.select(this).style("display")})[0].length),r}},function(t,e){"use strict";t.exports=function(t){var e=Number(d3.select(t.root+" .viz_svg").attr("is_zoom")),r=Number(d3.select(t.root+" .viz_svg").attr("stopped_zoom")),n=!1;return 0===e&&0!=r&&(n=!0),n}},function(t,e){"use strict";t.exports=function(t,e){var r=t.viz;return r.zoom_ratio.y>1&&(e.zoom_y<r.zoom_ratio.y?(e.trans_y=0,e.zoom_y=1):e.zoom_y=e.zoom_y/r.zoom_ratio.y),e.pan_room_y=(e.zoom_y-1)*r.clust.dim.height,e.trans_y>=0?e.trans_y=0:e.trans_y<=-e.pan_room_y&&(e.trans_y=-e.pan_room_y),e}},function(t,e){"use strict";t.exports=function(t,e){var r=t.viz;return r.zoom_ratio.x>1&&(e.zoom_x<r.zoom_ratio.x?e.zoom_x=1:e.zoom_x=e.zoom_x/r.zoom_ratio.x),e.pan_room_x=(e.zoom_x-1)*r.clust.dim.width,e.trans_x>0?e.trans_x=0:e.trans_x<=-e.pan_room_x&&(e.trans_x=-e.pan_room_x),e}},function(t,e,r){"use strict";var n=r(192);t.exports=function(t){var e=t.params;d3.selectAll(e.viz.zoom_element).on("dblclick.zoom",null),d3.select(e.viz.zoom_element).on("dblclick",function(){n(t,0,0,1)})}},function(t,e){"use strict";t.exports=function(t){var e=1,r=0,n=0,o=t.viz.clust.dim.height/2,i=-(e-1)*o;d3.select(t.root+" .clust_group").attr("transform","translate("+[0,0+i]+") scale(1,"+e+")translate("+[r,n]+")"),d3.select(t.root+" .row_label_zoom_container").attr("transform","translate("+[0,i]+") scale("+e+","+e+")translate("+[0,n]+")"),d3.select(t.root+" .row_cat_container").attr("transform","translate("+[0,i]+") scale(1,"+e+")translate("+[0,n]+")"),d3.select(t.root+" .row_dendro_container").attr("transform","translate("+[0,i]+") scale("+e+","+e+")translate("+[t.viz.uni_margin/2,n]+")"),d3.select(t.root+" .col_zoom_container").attr("transform"," scale(1,1)translate("+[r,0]+")"),d3.select(t.root+" .col_cat_container").attr("transform"," scale(1,1)translate("+[r,0]+")"),d3.select(t.root+" .col_dendro_container").attr("transform"," scale(1,1)translate("+[r,t.viz.uni_margin/2]+")"),d3.select(t.root+" .row_dendro_icons_group").attr("transform",function(){return"translate(0,0) scale(1)"}),d3.select(t.root+" .row_dendro_icons_group").selectAll("path").attr("transform",function(t){var e=7,r=t.pos_mid;return"translate("+e+","+r+") scale(1, 1)"})}},function(t,e){"use strict";t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};r===!1?n.run_transition=!1:n=r;var o,i=t.viz.duration,a=t.network_data.col_nodes,s=t.network_data.col_nodes_names||[];n.run_transition?(o=e.transition().delay(n.update).duration(i),e.selectAll(".col_cat_group").data(a,function(t){return t.name}).transition().delay(n.update).duration(i).attr("transform",function(e){var r=s.indexOf(e.name);return"translate("+t.viz.x_scale(r)+",0)"}),e.selectAll(".col_dendro_group").data(a,function(t){return t.name}).transition().delay(n.update).duration(i).attr("transform",function(e){var r=s.indexOf(e.name);return"translate("+t.viz.x_scale(r)+",0)"})):(o=e,e.selectAll(".col_cat_group").data(a,function(t){return t.name}).attr("transform",function(e){var r=s.indexOf(e.name);return"translate("+t.viz.x_scale(r)+",0)"}),d3.select(t.root).selectAll(".col_dendro_group").data(a,function(t){return t.name}).attr("transform",function(e){var r=s.indexOf(e.name);return"translate("+t.viz.x_scale(r)+",0)"}));var l,c;["row","col"].forEach(function(e){var r=t.viz.all_cats[e].length;for(l=0;l<r;l++)c="."+e+"_cat_rect_"+String(l),"row"===e?o.selectAll(c).attr("height",t.viz.y_scale.rangeBand()):o.selectAll(c).attr("width",t.viz.x_scale.rangeBand())});var u=t.viz.clust.margin.left+t.viz.clust.dim.width,d=t.viz.clust.margin.top,f=t.viz.dendro_room.row+t.viz.uni_margin;d3.select(t.root+" .viz_svg").select("row_dendro_outer_container").attr("transform","translate("+u+","+d+")"),d3.select(t.root+" .row_dendro_outer_container").select(".row_dendro_spillover").attr("width",f+"px").attr("height",t.viz.svg_dim.height),u=t.viz.clust.margin.left,d=t.viz.clust.margin.top+t.viz.clust.dim.height;var p=t.viz.dendro_room.col+t.viz.uni_margin;d3.select(t.root+" .col_dendro_outer_container").select(".col_dendro_spillover").attr("width",t.viz.svg_dim.width).attr("height",p+"px"),d3.select(t.root+" .col_dendro_outer_container").select(".col_dendro_spillover_top").attr("width",t.viz.svg_dim.width).attr("height",t.viz.svg_dim.height).attr("transform","translate(0,"+t.viz.dendro_room.col+")"),u=t.viz.clust.margin.left,d=0,d3.select(t.root+" .col_dendro_icons_container").attr("transform","translate("+u+","+d+")")}},function(t,e){"use strict";t.exports=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},i=t.viz.duration;n===!1?o.run_transition=!1:o=n,r=o.run_transition?e.transition().delay(o.update).duration(i):e,r.select(".super_col_bkg").attr("height",t.viz.super_labels.dim.width+"px").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.grey_border_width+")"),r.select(".super_col").attr("transform",function(){var e=t.viz.clust.dim.width/2+t.viz.norm_labels.width.row,r=t.viz.super_labels.dim.width;return"translate("+e+","+r+")"}),r.select(".super_row_bkg").attr("width",t.viz.super_labels.dim.width+"px").attr("transform","translate("+t.viz.grey_border_width+",0)"),r.select(".super_row").attr("transform",function(){var e=t.viz.super_labels.dim.width,r=t.viz.clust.dim.height/2+t.viz.norm_labels.width.col;return"translate("+e+","+r+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},i=t.duration;n===!1?o.run_transition=!1:o=n,r=o.run_transition?e.transition().delay(o.update).duration(i):e,r.select(t.root+" .right_slant_triangle").attr("transform","translate("+t.clust.dim.width+","+t.norm_labels.width.col+")"),r.select(t.root+" .left_slant_triangle").attr("transform","translate(-1,"+t.norm_labels.width.col+")");var a=t.clust.margin.top+t.uni_margin/5;r.select(t.root+" .top_left_white").attr("width",t.clust.margin.left).attr("height",a);var s=t.clust.margin.left+t.clust.dim.width+t.uni_margin+t.dendro_room.row,l=t.norm_labels.margin.top+t.norm_labels.width.col;r.select(t.root+" .right_spillover_container").attr("transform",function(){return"translate("+s+", 0)"}),l=t.norm_labels.margin.top+t.norm_labels.width.col,r.select(t.root+" .right_spillover_container rect").attr("transform",function(){return"translate( 0,"+l+")"}),r.select(t.root+" .right_spillover").attr("height",t.svg_dim.height+"px");var c=t.clust.margin.left+t.clust.dim.width,u=l,d=t.dendro_room.row+t.uni_margin,f=t.cat_room.col+t.uni_margin;d3.select(t.root+" .dendro_row_spillover").attr("width",d).attr("height",f).attr("transform",function(){return"translate("+c+","+u+")"}),c=0,u=t.clust.margin.top+t.clust.dim.height,d=t.clust.margin.left,f=10*t.clust.dim.height,r.select(".dendro_col_spillover").attr("width",d).attr("height",f).attr("transform",function(){return"translate("+c+","+u+")"}),c=t.clust.margin.left+t.clust.dim.width,u=t.clust.margin.top+t.clust.dim.height,d=t.cat_room.col+t.clust.dim.width,f=t.cat_room.row+t.uni_margin,r.select(".dendro_corner_spillover").attr("width",d).attr("height",f).attr("transform",function(){return"translate("+c+","+u+")"}),c=t.clust.margin.left+t.clust.dim.width+t.uni_margin,u=t.norm_labels.margin.top+t.norm_labels.width.col+2.5*t.uni_margin;var p=2.75,h=1.2;t.show_categories.col&&d3.selectAll(t.root+" .col_cat_super").attr("transform",function(e){var r=parseInt(e.split("-")[1],10),n=u+h*t.cat_room.symbol_width*r;return"translate("+c+","+n+")"}),t.show_categories.row&&d3.select(t.root+" .row_cat_label_container").attr("transform",function(){return c=t.norm_labels.margin.left+t.norm_labels.width.row+t.cat_room.symbol_width+p*t.uni_margin,u=t.clust.margin.top-t.uni_margin,"translate("+c+","+u+") rotate(-90)"}),u=t.show_dendrogram?t.clust.margin.top+t.clust.dim.height+t.dendro_room.col-2*t.uni_margin:t.clust.margin.top+t.clust.dim.height,d3.select(t.root+" .bottom_spillover_container").attr("transform",function(){return"translate(0,"+u+")"}),r.select(t.root+" .bottom_spillover").attr("width",t.svg_dim.width).attr("height",2*t.svg_dim.height);var _=t.cat_room.col+1.5*t.uni_margin;d3.select(t.viz_svg+" .top_right_white").attr("fill",t.background_color).attr("width",2*t.clust.dim.width).attr("height",_).attr("transform",function(){var e=t.clust.margin.left+t.clust.dim.width,r=t.norm_labels.width.col+t.norm_labels.margin.top-t.uni_margin;return"translate("+e+", "+r+")"})}},function(t,e){"use strict";t.exports=function(t,e){e.select(".left_border").attr("width",t.viz.grey_border_width).attr("height",t.viz.svg_dim.height).attr("transform","translate(0,0)"),e.select(".right_border").attr("width",t.viz.grey_border_width).attr("height",t.viz.svg_dim.height).attr("transform",function(){var e=t.viz.svg_dim.width-t.viz.grey_border_width;return"translate("+e+",0)"}),e.select(".top_border").attr("width",t.viz.svg_dim.width).attr("height",t.viz.grey_border_width).attr("transform",function(){var t=0;return"translate("+t+",0)"}),e.select(".bottom_border").attr("width",t.viz.svg_dim.width).attr("height",t.viz.grey_border_width).attr("transform",function(){var e=t.viz.svg_dim.height-t.viz.grey_border_width;return"translate(0,"+e+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},i=t.viz.duration,a=t.network_data.row_nodes,s=t.network_data.row_nodes_names||[];n===!1?o.run_transition=!1:o=n,o.run_transition?(e.selectAll(".row_label_group").data(a,function(t){return t.name}).transition().delay(o.update).duration(i).attr("transform",function(e){var r=s.indexOf(e.name);return"translate(0,"+t.viz.y_scale(r)+")"}).attr("y",.5*t.viz.rect_height+.35*t.labels.default_fs_row),r=e.transition().delay(o.update).duration(i)):(e.selectAll(".row_label_group").data(a,function(t){return t.name}).attr("transform",function(e){var r=s.indexOf(e.name);return"translate(0,"+t.viz.y_scale(r)+")"}).attr("y",.5*t.viz.rect_height+.35*t.labels.default_fs_row),r=e),r.select(t.root+" .row_container").attr("transform","translate("+t.viz.norm_labels.margin.left+","+t.viz.clust.margin.top+")"),r.select(t.root+" .row_container").select(".white_bars").attr("width",t.viz.label_background.row).attr("height",30*t.viz.clust.dim.height+"px"),r.select(t.root+" .row_container").select(".row_label_container").attr("transform","translate("+t.viz.norm_labels.width.row+",0)")}},function(t,e){"use strict";t.exports=function(t){
var e=6,r=e*t.viz.border_width.x,n=e*t.viz.border_width.y;d3.select(t.root+" .top_hlight").attr("width",t.viz.rect_width).attr("height",n).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+",0)"}),d3.select(t.root+" .left_hlight").attr("width",r).attr("height",t.viz.rect_width-.99*n).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+","+.99*n+")"}),d3.select(t.root+" .right_hlight").attr("width",r).attr("height",t.viz.rect_height-.99*n).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+t.viz.rect_width-r;return"translate("+e+","+.99*n+")"}),d3.select(t.root+" .bottom_hlight").attr("width",function(){return t.viz.rect_width-1.98*r}).attr("height",n).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+.99*r,o=t.viz.rect_height-n;return"translate("+e+","+o+")"}),d3.select(t.root+" .row_top_hlight").attr("width",t.viz.svg_dim.width).attr("height",n),d3.select(t.root+" .row_bottom_hlight").attr("width",t.viz.svg_dim.width).attr("height",n).attr("transform",function(){var e=t.viz.rect_height-n;return"translate(0,"+e+")"}),d3.select(t.root+" .col_top_hlight").attr("width",t.viz.clust.dim.height).attr("height",r).attr("transform",function(){var e=0,r=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+r+","+e+")"}),d3.select(t.root+" .col_bottom_hlight").attr("width",t.viz.clust.dim.height).attr("height",r).attr("transform",function(){var e=t.viz.rect_width-r,n=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+n+","+e+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},i=t.viz.duration;n===!1?o.run_transition=!1:o=n,r=o.run_transition?e.transition().delay(o.update).duration(i):e,r.select(".row_cat_outer_container").attr("transform","translate("+t.viz.norm_labels.width.row+",0)").select("white_bars").attr("width",t.viz.cat_room.row+"px").attr("height",function(){var e=t.viz.clust.dim.height;return e});var a=t.viz.clust.margin.left+t.viz.clust.dim.width,s=t.viz.clust.margin.top;r.select(".row_dendro_outer_container").attr("transform","translate("+a+","+s+")"),a=t.viz.clust.margin.left,s=t.viz.clust.margin.top+t.viz.clust.dim.height,r.select(" .col_dendro_outer_container").attr("transform",function(){return"translate("+a+","+s+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},i=t.viz.duration,a=t.network_data.col_nodes,s=t.network_data.col_nodes_names||[];n===!1?o.run_transition=!1:o=n,o.run_transition?(r=e.transition().delay(o.update).duration(i),e.selectAll(".col_label_text").data(a,function(t){return t.name}).transition().delay(o.update).duration(i).attr("transform",function(e){var r=s.indexOf(e.name);return"translate("+t.viz.x_scale(r)+", 0) rotate(-90)"})):(r=e,e.selectAll(".col_label_text").data(a,function(t){return t.name}).attr("transform",function(e){var r=s.indexOf(e.name);return"translate("+t.viz.x_scale(r)+", 0) rotate(-90)"}));var l=t.viz.x_scale.rangeBand()/2+t.viz.border_width.x;r.select(t.root+" .col_container").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.norm_labels.margin.top+")"),r.select(t.root+" .col_container").select(".white_bars").attr("width",30*t.viz.clust.dim.width+"px").attr("height",t.viz.label_background.col),r.select(t.root+" .col_container").select(".col_label_outer_container").attr("transform","translate(0,"+t.viz.norm_labels.width.col+")"),r.selectAll(".col_label_group").attr("transform","translate("+t.viz.x_scale.rangeBand()/2+","+l+") rotate(45)"),r.selectAll(".col_label_group").select("text").attr("y",.6*t.viz.x_scale.rangeBand()).attr("dx",2*t.viz.border_width.x)}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e){e.selectAll(".col_label_group").select("text").style("font-size",t.labels.default_fs_col+"px").text(function(t){return n.normal_name(t)}),e.selectAll(".col_label_group").each(function(){d3.select(this).select("text")[0][0].getBBox()})}},function(t,e,r){"use strict";var n=r(186);t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.selectAll(".col_label_group").select("path"),i={},a=t.viz.duration;r===!1?i.run_transition=!1:i=r;var s;s=i.run_transition?o.transition().delay(i.update).duration(a):o,s.attr("d",function(){return n(t)}).attr("fill","#eee")}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={};r===!1?o.run_transition=!1:o=r,n.has(t.network_data.col_nodes[0],"value")&&e.selectAll(".col_bars").data(t.network_data.col_nodes,function(t){return t.name}).attr("width",function(e){var r=0;return e.value>0&&(r=t.labels.bar_scale_col(e.value)),r}).attr("height",.66*t.viz.rect_width)}},function(t,e,r){"use strict";var n=r(100),o=r(104),i=r(102),a=r(115),s=r(114),l=r(5);t.exports=function(t){if(t=n(t),t.viz=i(t.viz),t.viz=o(t.viz),t.sim_mat&&(t.viz.clust.dim.width<=t.viz.clust.dim.height?t.viz.clust.dim.height=t.viz.clust.dim.width:t.viz.clust.dim.width=t.viz.clust.dim.height),t.viz=s(t.viz),t.viz.x_scale.rangeBands([0,t.viz.clust.dim.width]),t.viz.y_scale.rangeBands([0,t.viz.clust.dim.height]),t.viz.border_width.x=t.viz.x_scale.rangeBand()/t.viz.border_fraction,t.viz.border_width.y=t.viz.y_scale.rangeBand()/t.viz.border_fraction,t.viz.rect_width=t.viz.x_scale.rangeBand()-t.viz.border_width.x,t.viz.rect_height=t.viz.y_scale.rangeBand()-t.viz.border_width.y,null!=t.viz.ds)for(var e;e<t.viz.ds.length;e++)t.viz.ds[e].rect_height=t.viz.ds[e].y_scale.rangeBand()-t.viz.border_width.y;return t.viz.ds_num_levels>0&&l(t.viz.ds,function(e){e.y_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.height]),e.y_scale.domain(d3.range(e.num_rows+1)),e.rect_height=e.y_scale.rangeBand()-t.viz.border_width.y}),t.viz.square_zoom=t.viz.norm_labels.width.col/(t.viz.rect_width/2),t=a(t)}},function(t,e,r){"use strict";var n=r(129),o=r(130),i=r(133);t.exports=function(t,e){var r=t.network_data.row_nodes_names||[];if(t.viz.ds_level===-1)e.selectAll(".row").attr("transform",function(e){var n=r.indexOf(e.name),o=t.viz.y_scale(n);return"translate(0,"+o+")"}),e.selectAll(".row").selectAll(".tile").attr("transform",function(e){return i(t,e)}).attr("width",t.viz.rect_width).attr("height",t.viz.rect_height),e.selectAll(".row").selectAll(".tile_up").attr("d",function(){return n(t)}).attr("transform",function(e){return i(t,e)}),e.selectAll(".row").selectAll(".tile_dn").attr("d",function(){return o(t)}).attr("transform",function(e){return i(t,e)});else{var a=t.viz.ds_level,s=".ds"+String(a)+"_row",l=t.viz.ds[a].rect_height;e.selectAll(s).attr("transform",function(e){var r=t.viz.ds[a].y_scale(e.row_index);return"translate(0,"+r+")"}),e.selectAll(s).selectAll(".tile").attr("transform",function(e){return i(t,e)}).attr("width",t.viz.rect_width).attr("height",l)}}},function(t,e,r){"use strict";var n=r(105);t.exports=function(t,e){var r=t.params;r=n(r),e.selectAll(".row_bars").attr("width",function(t){var e=0;return e=r.labels.bar_scale_row(Math.abs(t.value))}).attr("x",function(t){var e=0;return e=-r.labels.bar_scale_row(Math.abs(t.value))}).attr("height",r.viz.y_scale.rangeBand())}},function(t,e){"use strict";t.exports=function(t){var e=d3.select(t.root+" .clust_container").attr("transform"),r=Number(e.split("(")[1].split(",")[0]),n=Number(e.split(",")[1].replace(")","")),o=r+t.viz.clust.dim.width/2,i=n+t.viz.clust.dim.height/2;d3.select(t.root+" .play_button").attr("transform",function(){return"translate("+o+","+i+")"})}},function(t,e){"use strict";t.exports=function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"row",o=t.params.viz;if("row"===n){var i=o.svg_dim.width-3*o.uni_margin;e=o.clust.margin.left+o.clust.dim.width+5.25*o.dendro_room.row+2,e>i&&(e=i),r=o.clust.margin.top+3*o.uni_margin+30}else e=2*o.uni_margin,r=o.clust.margin.top+o.clust.dim.height+o.dendro_room.col-2*o.uni_margin;d3.select(t.params.root+" ."+n+"_slider_group").attr("transform",function(){var t;return"row"===n?(e+=.8*o.dendro_room.row,t="translate("+e+","+r+")"):t="translate("+e+","+r+"), rotate(-90)",t}).style("opacity",1)}},function(t,e){"use strict";t.exports=function(t){var e,r,n=t.params.viz,o=n.svg_dim.width-3*n.uni_margin;e=n.clust.margin.left+n.clust.dim.width+5.25*n.dendro_room.row,e>o&&(e=o),r=n.clust.margin.top+3*n.uni_margin+90,d3.select(t.params.root+" .tree_icon").attr("transform",function(){var t;return r-=75,t="translate("+e+","+r+")"}).style("opacity",1)}},function(t,e){"use strict";t.exports=function(t){var e,r,n=t.params.viz,o=n.svg_dim.width-3*n.uni_margin;e=n.clust.margin.left+n.clust.dim.width+4*n.dendro_room.row+7,e>o&&(e=o),r=n.clust.margin.top+3*n.uni_margin+152,d3.select(t.params.root+" .filter_icon").attr("transform",function(){var t;return r-=75,t="translate("+e+","+r+")"}).style("opacity",1)}},function(t,e){"use strict";t.exports=function(t){var e=t.params;if(d3.select(e.root+" .tree_menu").empty()===!1){var r=t.params.viz.tree_menu_width;d3.select(e.root+" .tree_menu").attr("transform",function(){var t={};return t.x=e.viz.clust.dim.width+e.viz.clust.margin.left-r+30,t.y=e.viz.clust.margin.top+15,"translate("+t.x+", "+t.y+")"})}}},function(t,e){"use strict";t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;e>0&&(r=2e3);var n=d3.selectAll(t.root+" .horz_lines"),o=d3.selectAll(t.root+" .vert_lines");n.style("opacity",0).attr("transform",function(e){var r=e.row_index,n=t.viz.y_scale(r);return"translate(  0,"+n+") rotate(0)"}).transition().duration(e).delay(r).style("opacity",1),n.append("line").attr("x1",0).attr("x2",t.viz.clust.dim.width).style("stroke-width",function(){var e=t.viz.border_width.y;return e+"px"}),o.style("opacity",0).attr("transform",function(e){var r=e.col_index,n=t.viz.x_scale(r);return"translate("+n+") rotate(-90)"}).transition().duration(e).delay(r).style("opacity",1),o.append("line").attr("x1",0).attr("x2",-t.viz.clust.dim.height).style("stroke-width",function(){var e=t.viz.border_width.x;return e+"px"})}},function(t,e,r){"use strict";var n=r(232),o=r(134),i=r(233),a=r(234),s=r(235),l=r(5),c=r(111);t.exports=function(t){var e=t.params;d3.select(e.root+" .col_cat_outer_container").empty()?d3.select(e.root+" .col_container").append("g").attr("class","col_cat_outer_container").attr("transform",function(){var t=e.viz.norm_labels.width.col+2;return"translate(0,"+t+")"}).append("g").attr("class","col_cat_container"):d3.select(e.root+" .col_container").select("col_cat_outer_container").attr("transform",function(){var t=e.viz.norm_labels.width.col+2;return"translate(0,"+t+")"}),d3.selectAll(e.viz.root_tips+"_col_cat_tip").remove();var r=o().attr("class",function(){var t=e.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_col_cat_tip";return r}).direction("s").offset([5,0]).style("display","none").html(function(t){return n(e,t,this,"col")});d3.select(e.root+" .col_cat_container").selectAll("g").data(e.network_data.col_nodes,function(t){return t.name}).enter().append("g").attr("class","col_cat_group").attr("transform",function(t){var r=(e.network_data.col_nodes_names||[]).indexOf(t.name);return"translate("+e.viz.x_scale(r)+",0)"}),d3.select(e.root+" .col_cat_container").selectAll(".col_cat_group").call(r),d3.selectAll(e.root+" .col_cat_group").each(function(){var t,n=this;l(e.viz.all_cats.col,function(o){var l=parseInt(o.split("-")[1],10),u="col_cat_rect_"+String(l);t=d3.select(n).select("."+u).empty()?d3.select(n).append("rect").attr("class",u).attr("cat",o).attr("transform",function(){var t=e.viz.cat_room.symbol_width+e.viz.cat_room.separation,r=l*t;return"translate(0,"+r+")"}).on("click",function(t){if(d3.select(this).classed("cat_strings")){var r=s(e,t,this,"col");c(e.root+" .dendro_info").modal("toggle");var n=r.join(", ");d3.select(e.root+" .dendro_info input").attr("value",n)}}):d3.select(n).select("."+u),t.attr("width",e.viz.x_scale.rangeBand()).attr("height",e.viz.cat_room.symbol_width).style("fill",function(t){var r=t[o],n=e.viz.cat_colors.col[o][r];return n}).on("mouseover",r.show).on("mouseout",function(){r.hide(this),i(e),d3.select(this).classed("hovering",!1),d3.selectAll(".d3-tip").style("display","none")}),a(e.viz,"col",t,o)})})}},function(t,e,r){"use strict";var n=r(189);t.exports=function(t,e,r,o){function i(){var e=!1;if(d3.select(r).classed("hovering")){var n=[o];t.viz.sim_mat&&(n=["row","col"]),n.forEach(function(r){"string"==typeof l&&l.indexOf("Not ")<0&&"false"!=l&&(e=!0),e&&d3.selectAll(t.root+" ."+r+"_cat_group").selectAll("rect").style("opacity",function(e){var r=d3.select(this).style("opacity");if(d3.select(this).classed("cat_strings")&&d3.select(this).classed("filtered_cat")===!1){var n,o=d3.select(this).attr("cat");n=e[o].indexOf(": ")>=0?e[o].split(": ")[1]:e[o],r=o===a&&n===l?t.viz.cat_colors.active_opacity:t.viz.cat_colors.opacity/4}return r})})}}d3.selectAll(t.viz.root_tips+"_col_cat_tip").style("display","block"),d3.selectAll(t.viz.root_tips+"_row_cat_tip").style("display","block");var a=d3.select(r).attr("cat"),s=n(t.viz,a,o),l=e[a];"string"==typeof l&&l.indexOf(": ")>=0&&(l=l.split(": ")[1]);var c="<div>"+s+": "+l+"</div> <div> <br>Click for Category Menu </div>";return d3.select(r).classed("hovering",!0),setTimeout(i,500),c}},function(t,e){"use strict";t.exports=function(t){["row","col"].forEach(function(e){d3.selectAll(t.root+" ."+e+"_cat_group").selectAll("rect").style("opacity",function(){var e=d3.select(this).style("opacity");return d3.select(this).classed("cat_strings")&&d3.select(this).classed("filtered_cat")===!1&&(e=t.viz.cat_colors.opacity),e})})}},function(t,e){"use strict";t.exports=function(t,e,r,n){function o(t){"string"==typeof t&&t.indexOf(a)>-1&&(t=t.split(a)[1]);var e=parseFloat(t);return e}var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=": ",s=t.cat_info[e][n].type;"cat_strings"===s?i?r.classed("cat_strings",!0).style("opacity",0).transition().duration(1e3).style("opacity",t.cat_colors.opacity):r.classed("cat_strings",!0).style("opacity",t.cat_colors.opacity):r.classed("cat_values",!0).style("opacity",function(r){var i=r[n],a=o(i);return t.cat_info[e][n].cat_scale(Math.abs(a))}).style("fill",function(e){var r,i=o(e[n]);return r=i>0?t.cat_value_colors[0]:t.cat_value_colors[1]})}},function(t,e,r){"use strict";var n=r(2),o=r(5);t.exports=function(t,e,r,i){var a=d3.select(r).attr("cat"),s=e[a],l=t.network_data[i+"_nodes"],c=o(l,function(t){return t[a]==s}),u=n.pluck(c,"name");return u}},function(t,e,r){"use strict";var n=r(232),o=r(134),i=r(233),a=r(234),s=r(235),l=r(5),c=r(111);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.params;d3.select(r.root+" .row_cat_outer_container").empty()?d3.select(r.root+" .row_container").append("g").attr("class","row_cat_outer_container").attr("transform","translate("+r.viz.norm_labels.width.row+",0)").append("g").attr("class","row_cat_container"):d3.select(r.root+" .row_container").select("row_cat_outer_container").attr("transform","translate("+r.viz.norm_labels.width.row+",0)"),d3.select(r.root+" .row_cat_container").select(".white_bars").empty()?d3.select(r.root+" .row_cat_container").append("rect").attr("class","white_bars").attr("fill",r.viz.background_color).attr("width",r.viz.cat_room.row+"px").attr("height",function(){var t=r.viz.clust.dim.height;return t}):d3.select(r.root+" .row_cat_container").select(".white_bars").attr("fill",r.viz.background_color).attr("width",r.viz.cat_room.row+"px").attr("height",function(){var t=r.viz.clust.dim.height;return t}),d3.selectAll(r.viz.root_tips+"_row_cat_tip").remove();var u=o().attr("class",function(){var t=r.viz.root_tips.replace(".",""),e=t+" d3-tip "+t+"_row_cat_tip";return e}).direction("e").offset([5,0]).style("display","none").html(function(t){return n(r,t,this,"row")});d3.select(r.root+" .row_cat_container").selectAll("g").data(r.network_data.row_nodes,function(t){return t.name}).enter().append("g").attr("class","row_cat_group").attr("transform",function(t){var e=(r.network_data.row_nodes_names||[]).indexOf(t.name);return"translate(0, "+r.viz.y_scale(e)+")"}),d3.select(r.root+" .row_cat_container").selectAll(".row_cat_group").call(u);var d,f;d3.selectAll(r.root+" .row_cat_group rect").remove(),r.viz.show_categories.row&&d3.selectAll(r.root+" .row_cat_group").each(function(){f=this,l(r.viz.all_cats.row,function(t){var n=parseInt(t.split("-")[1],10),o="row_cat_rect_"+String(n);d=d3.select(f).select("."+o).empty()?d3.select(f).append("rect").attr("class",o).attr("cat",t):d3.select(f).select("."+o),d.attr("width",r.viz.cat_room.symbol_width).attr("height",r.viz.y_scale.rangeBand()).style("fill",function(e){var n=e[t],o=r.viz.cat_colors.row[t][n];return o}).attr("x",function(){var t=r.viz.cat_room.symbol_width+r.viz.uni_margin/2;return t+"px"}).attr("transform",function(){var t=r.viz.cat_room.symbol_width+r.viz.cat_room.separation,e=n*t;return"translate("+e+",0)"}).on("click",function(t){if(d3.select(this).classed("cat_strings")){var e=s(r,t,this,"row");c(r.root+" .dendro_info").modal("toggle");var n=e.join(", ");d3.select(r.root+" .dendro_info input").attr("value",n)}}).on("mouseover",u.show).on("mouseout",function(){u.hide(this),i(r),d3.select(this).classed("hovering",!1),d3.selectAll(".d3-tip").style("display","none")}),a(r.viz,"row",d,t,e)})})}},function(t,e,r){"use strict";var n=r(149);t.exports=function(t){var e=t.params,r=e.viz.dendro_room.row+e.viz.uni_margin,o=e.viz.clust.margin.left+e.viz.clust.dim.width,i=e.viz.clust.margin.top;d3.select(e.root+" .row_dendro_outer_container").empty()?(d3.select(e.root+" .viz_svg").append("g").attr("class","row_dendro_outer_container").attr("transform","translate("+o+","+i+")"),d3.select(e.root+" .row_dendro_outer_container").append("rect").classed("row_dendro_spillover",!0).attr("fill",e.viz.background_color).attr("width",r+"px").attr("height",e.viz.svg_dim.height),d3.select(e.root+" .row_dendro_outer_container").append("g").attr("class","row_dendro_container").attr("transform","translate("+e.viz.uni_margin/2+",0)")):(d3.select(e.root+" .viz_svg").select("row_dendro_outer_container").attr("transform","translate("+o+","+i+")"),d3.select(e.root+" .row_dendro_outer_container").select(".row_dendro_spillover").attr("width",r+"px").attr("height",e.viz.svg_dim.height)),t.config.show_dendrogram&&n(t,"row",!1),"clust"!=e.viz.inst_order.col&&d3.selectAll(e.root+" .row_dendro_group").remove()}},function(t,e,r){"use strict";var n=r(149);t.exports=function(t){var e=t.params,r=e.viz.clust.margin.left,o=e.viz.clust.margin.top+e.viz.clust.dim.height,i=e.viz.dendro_room.col+e.viz.uni_margin;d3.select(e.root+" .col_dendro_outer_container").empty()?(d3.select(e.root+" .viz_svg").append("g").attr("class","col_dendro_outer_container").attr("transform","translate("+r+","+o+")"),d3.select(e.root+" .col_dendro_outer_container").append("rect").classed("col_dendro_spillover",!0).attr("fill",e.viz.background_color).attr("width",e.viz.svg_dim.width).attr("height",i+"px"),d3.select(e.root+" .col_dendro_outer_container").append("g").attr("class","col_dendro_container").attr("transform","translate(0,"+e.viz.uni_margin/2+")"),d3.select(e.root+" .col_dendro_outer_container").append("rect").classed("col_dendro_spillover_top",!0).attr("fill",e.viz.background_color).attr("width",e.viz.svg_dim.width).attr("height",e.viz.svg_dim.height).attr("transform","translate(0,"+e.viz.dendro_room.col+")")):(d3.select(e.root+" .viz_svg").select("col_dendro_outer_container").attr("transform","translate("+r+","+o+")"),d3.select(e.root+" .col_dendro_outer_container").select(".col_dendro_spillover").attr("width",e.viz.svg_dim.width).attr("height",i+"px")),t.config.show_dendrogram&&n(t,"col",!1),"clust"!=e.viz.inst_order.row&&d3.selectAll(e.root+" .col_dendro_group").remove()}},function(t,e,r){"use strict";var n=r(240);t.exports=function(t){n(t,"row"),n(t,"col")}},function(t,e,r){"use strict";var n=r(241),o=r(226);t.exports=function(t,e){function r(){t.params.is_slider_drag=!0;var r=d3.event.y;r<0&&(r=0),r>a&&(r=a),this.nextSibling&&this.parentNode.appendChild(this),r=d3.round(r,-1);var o=10-r/10;d3.select(this).attr("transform","translate(0, "+r+")"),n(t,e,o)}function i(){var r=d3.mouse(this),o=d3.round(r[1],-1);d3.select(t.params.root+" ."+e+"_group_circle").attr("transform","translate(0, "+o+")");var i=10-o/10;n(t,e,i)}var a=100,s=d3.behavior.drag().on("drag",r).on("dragend",function(){t.params.is_slider_drag=!1}),l=d3.select(t.params.root+" .viz_svg").append("g").classed(e+"_slider_group",!0);o(t,e);var c=a+20,u=30;l.append("rect").classed(e+"_slider_background",!0).attr("height",c+"px").attr("width",u+"px").attr("fill",t.params.viz.background_color).attr("transform",function(){var t="translate(-10, -5)";return t}).style("opacity",0),l.append("line").style("stroke-width",a/7+"px").style("stroke","black").style("stroke-linecap","round").style("opacity",0).attr("y1",0).attr("y2",function(){return a-2}).on("click",i);var d=-a/40;l.append("path").style("fill","black").attr("transform","translate("+d+", 0)").attr("d",function(){var t=0,e=0,r=0,n=a,o=a/10,i=0,s="M"+t+","+e+" L"+r+", "+n+" L"+o+","+i+" Z";return s}).style("opacity",.35).on("click",i);var f=.35,p=.6;l.append("circle").classed(e+"_group_circle",!0).attr("r",.08*a).attr("transform",function(){return"translate(0, "+a/2+")"}).style("fill","blue").style("opacity",f).on("mouseover",function(){d3.select(this).style("opacity",p)}).on("mouseout",function(){d3.select(this).style("opacity",f)}).call(s)}},function(t,e,r){"use strict";var n=r(149);t.exports=function(t,e,r){var o=t.params;"row"===e?o.group_level.row=r:"col"===e&&(o.group_level.col=r);var i=!0;n(t,e,i)}},function(t,e,r){"use strict";var n=r(154);t.exports=function(t){var e=t.params.viz,r=e.clust.margin.left+e.clust.dim.width+e.uni_margin+e.dendro_room.row,o=d3.select(e.viz_svg).append("g").classed("right_spillover_container",!0).attr("transform",function(){return"translate("+r+", 0)"}),i=e.norm_labels.margin.top+e.norm_labels.width.col;o.append("rect").attr("fill",e.background_color).attr("width",10*e.clust.dim.width).attr("height",e.svg_dim.height+"px").attr("class","white_bars").attr("class","right_spillover").attr("transform",function(){return"translate( 0,"+i+")"});var a=0,s=e.clust.margin.top;o.append("g").classed("row_dendro_icons_container",!0).attr("transform","translate("+a+","+s+")").append("g").classed("row_dendro_icons_group",!0),t.config.show_dendrogram&&n(t,"row"),a=e.clust.margin.left+e.clust.dim.width,s=i;var l=e.dendro_room.row+e.uni_margin,c=e.cat_room.col+e.uni_margin;d3.select(e.viz_svg).append("rect").attr("fill",e.background_color).attr("width",l).attr("height",c).attr("transform",function(){return"translate("+a+","+s+")"}).classed("white_bars",!0).classed("dendro_row_spillover",!0)}},function(t,e,r){"use strict";var n=r(244),o=r(245),i=r(247),a=r(248),s=r(250),l=r(251),c=r(253),u=r(254),d=r(278),f=r(279),p=r(280),h=r(281),_=r(282),v=r(283),m=r(111);t.exports=function(){var t=this,e=t.params;if(d3.select(e.root+" .running_demo").empty()){d3.select(e.root+" .play_button").classed("running_demo",!0),_(e,!1),m.blockUI({css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:0,color:"#fff",cursor:"default"}}),d3.selectAll(".blockUI").style("opacity",0);var r=750;t.params.viz.is_expand===!1&&(r=n(e,r,d),r-=1500),r=n(e,r,o),r=n(e,r,i),r=n(t,r,a),r=n(e,r,p),r=n(e,r,s),r=n(e,r,v),r=n(e,r,f),r=n(e,r,l),r=n(e,r,c),r=n(t,r,u),r=n(e,r,d),r=n(e,r,h)}}},function(t,e){"use strict";t.exports=function(t,e,r){var n=(setTimeout(r().run,e,t),r().get_duration());return e+=n}},function(t,e,r){"use strict";var n=r(246);t.exports=function(){function t(t){var e="Clustergrammer allows users to generate\ninteractive and sharable visualizations\nby uploading a matrix",o="This demo will quickly overview some\nof Clustergrammer's interactive features";setTimeout(n,0,t,e,4500/r),setTimeout(n,4500/r,t,o,4500/r)}function e(){return 1e4/r}var r=1;return{run:t,get_duration:e}}},function(t,e){"use strict";t.exports=function(t,e,r){var n=e.split("\n");n.length<3&&n.push(""),d3.select(t.root+" .demo_group").style("opacity",0).transition().duration(250).style("opacity",1).transition().duration(250).delay(r).style("opacity",0);for(var o=0;o<n.length;o++){var i=o+1,a=d3.select(t.root+" .demo_group").select("#text_"+i).text(n[o]),s=a[0][0].getBBox(),l=.9,c=Number(d3.select(".demo_group").select("text").style("font-size").replace("px","")),u=1.3*c;d3.select(t.root+" .demo_group").select(".rect_"+i).style("fill","white").attr("width",s.width+20).attr("height",s.height).attr("x",-10).attr("y",s.y+o*u).style("opacity",l)}}},function(t,e,r){"use strict";var n=r(246),o=r(192);t.exports=function(){function t(t){var e=t.params,r="Zoom and pan by\nscrolling and dragging";n(e,r,4e3),setTimeout(o,1500,t,0,0,4)}function e(){return 4e3}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(246),o=r(192),i=r(249);t.exports=function(){function t(t){var e=t.params,r="Reset zoom by double-clicking\n";n(e,r,4e3),setTimeout(i,2e3,e,"double",300,300),setTimeout(o,2400,t,0,0,1)}function e(){return 4500}return{run:t,get_duration:e}}},function(t,e){"use strict";t.exports=function(t,e,r,n){var o=200,i=d3.select(t.root+" .viz_svg").append("circle").attr("cx",r).attr("cy",n).attr("r",25).style("stroke","black").style("stroke-width","3px").style("fill","#007f00").style("opacity",.5);"double"===e?i.transition().duration(o).style("opacity",0).transition().duration(50).style("opacity",.5).transition().duration(o).style("opacity",0).remove():i.transition().duration(o).style("opacity",0).transition().duration(250).remove()}},function(t,e,r){"use strict";var n=r(246),o=r(249),i=r(111);t.exports=function(){function t(t){var e="Reorder the matrix based on a single\nrow or column by double-clicking a\nlabel";n(t,e,7e3);var i=r(t,"EGFR"),s=d3.select(i).attr("transform"),l=d3.select(t.root+" .clust_container").attr("transform").split(",")[1].replace(")",""),c=.9*t.viz.norm_labels.width.row,u=s.split(",")[1].replace(")",""),d=String(Number(u)+Number(l)+t.viz.rect_height/2),f=4e3;setTimeout(o,f,t,"double",c,d);var p=f+300;setTimeout(a,p,t,i)}function e(){return 8e3}function r(t,e){var r=d3.selectAll(t.root+" .row_label_group").filter(function(){var t=this.__data__;return t.name==e})[0][0];return r}function a(t,e){i(e).d3DblClick()}return jQuery.fn.d3DblClick=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("dblclick",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(246),o=r(252),i=r(111);t.exports=function(){function t(t){var e="Reorder all rows and columns\nby clicking the reorder\n buttons";n(t,e,9e3),setTimeout(o,3e3,t,"toggle_col_order"),setTimeout(r,3500,t,"col","rank"),setTimeout(o,7e3,t,"toggle_row_order"),setTimeout(r,7500,t,"row","rank")}function e(){return 11e3}function r(t,e,r){var n=d3.selectAll(".toggle_"+e+"_order .btn").filter(function(){return this.__data__==r})[0];i(n).click()}return{run:t,get_duration:e}}},function(t,e){"use strict";t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;e.indexOf("slider")<0?d3.select(t.root+" ."+e).style("background","#007f00").style("box-shadow","0px 0px 10px 5px #007f00").transition().duration(1).delay(r).style("background","#FFFFFF").style("box-shadow","none"):d3.select(t.root+" ."+e).style("box-shadow","0px 0px 10px 5px #007f00").transition().duration(1).delay(r).style("box-shadow","none")}},function(t,e,r){"use strict";var n=r(246),o=r(252),i=r(192),a=r(111);t.exports=function(){function t(t){var e=t.params,a="Search for rows using\nthe search box";n(e,a,5e3);var l=2500;setTimeout(o,l,e,"gene_search_container"),setTimeout(r,l+1e3,e,"E"),setTimeout(r,l+1500,e,"EG"),setTimeout(r,l+2e3,e,"EGF"),setTimeout(r,l+2500,e,"EGFR"),setTimeout(s,5500,e),setTimeout(i,7500,t,0,0,1)}function e(){return 1e4}function r(t,e){a(t.root+" .gene_search_box").val(e),a(t.root+" .gene_search_box").autocomplete("search",e)}function s(t){a(t.root+" .submit_gene_button").click(),a(t.root+" .gene_search_box").autocomplete("search","")}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(246),o=r(252),i=r(255),a=r(111);t.exports=function(){function t(t){var e=t.params,i="Filter rows based on sum or\nvariance using the sliders";n(e,i,4e3);var a="N_row_sum";setTimeout(o,5e3,e,"slider_"+a,13e3),i="Filter: Top 20 rows by sum",setTimeout(n,5e3,e,i,4e3),setTimeout(r,5300,t,a,20,1),i="Filter: Top 10 rows by sum",setTimeout(n,1e4,e,i,4e3),setTimeout(r,10300,t,a,10,2),i="Filter: All rows",setTimeout(n,15e3,e,i,4e3),setTimeout(r,15300,t,a,"all",0)}function e(){return 19500}function r(t,e,r,n){var o=t.params,s={};s[e]=r,i(t,s),a(o.root+" .slider_"+e).slider("value",n);var l;l="N_row_sum"===e?"sum":"variance",d3.select(o.root+" .title_"+e).text("Top rows "+l+": "+r)}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(23),o=r(256),i=r(257);t.exports=function(t,e){o(t.params);var r=n(t.config,t.params,e);d3.select(t.params.root+" .crop_button").style("color","#337ab7").classed("fa-crop",!0).classed("fa-undo",!1).classed("active_cropping",!1),["row","col"].forEach(function(e){d3.select(t.params.root+" ."+e+"_dendro_icons_group").classed("ran_filter",!1),d3.select(t.params.root+" ."+e+"_dendro_icons_container").style("display","block")}),i(t,r)}},function(t,e){"use strict";t.exports=function(t){d3.selectAll(t.root+" .btn").attr("disabled",!0),d3.select(t.viz.viz_svg).style("opacity",.7)}},function(t,e,r){"use strict";var n=r(22),o=r(258),i=r(260),a=r(199),s=r(231),l=r(236),c=r(237),u=r(238),d=(r(271),r(273)),f=r(209),p=r(274),h=r(198),_=r(275),v=r(201),m=r(277),g=r(116);t.exports=function(t,e){function r(){d3.selectAll(".dendro_shadow").remove()}function y(){d3.select(t.params.viz.viz_svg).transition().duration(250).style("opacity",1),setTimeout(w,1e3)}function w(){d3.select(t.params.viz.viz_svg).classed("running_update",!1)}d3.select(t.params.viz.viz_svg).classed("running_update",!0),d3.selectAll(t.params.root+" .ds"+String(t.params.viz.ds_level)+"_row").remove(),null!=t.params.matrix_update_callback&&t.params.matrix_update_callback();var x=t.params.matrix.distance_metric,b=t.params.matrix.linkage_type,z=t.params.matrix.filter_state,k=t.params.matrix.normalization_state,A=t.params.group_level,E=t.params.crop_filter_nodes,N=jQuery.extend(!0,{},t.config),S=null;if(null!=t.params.new_row_cats){_(t.params.new_row_cats,e.row_nodes),S=t.params.new_row_cats,t.params.new_row_cats=S;var T=!0;t.params.viz=g(t.params,t.params.viz,T)}N.network_data=e,N.inst_order=t.params.viz.inst_order,N.input_domain=t.params.matrix.opacity_scale.domain()[1],p(N,t.params),N.ini_view=null,N.current_col_cat=t.params.current_col_cat,N.cat_colors=t.params.viz.cat_colors;var C=n(N),M=o(t.params,C);t.params=C,t.params.zoom_behavior=d3.behavior.zoom().scaleExtent([1,t.params.viz.square_zoom*t.params.viz.zoom_ratio.x]).on("zoom",function(){v(t)}),t.params.matrix.distance_metric=x,t.params.matrix.linkage_type=b,t.params.matrix.filter_state=z,t.params.matrix.normalization_state=k,t.params.group_level=A,t.params.crop_filter_nodes=E,0===t.params.viz.ds_num_levels?i(t,e,M):m(t),d3.select(t.params.viz.viz_svg).style("opacity",.7),l(t),h(t),t.params.viz.show_categories.col&&s(t),c(t),u(t),a(t),d3.select(t.params.viz.viz_svg).call(t.params.zoom_behavior),f(t),t.params.viz.run_trans=!0,setTimeout(d,2500,t.params),setTimeout(r,50),setTimeout(r,100),setTimeout(r,500),setTimeout(r,1e3),setTimeout(r,1500),setTimeout(y,M.enter)}},function(t,e,r){"use strict";var n=r(259),o=r(181);t.exports=function(t,e){var r=t.network_data.row_nodes,i=t.network_data.col_nodes,a=n(r,function(t){return t.name}),s=n(i,function(t){return t.name}),l=a.concat(s),c=e.network_data.row_nodes,u=e.network_data.col_nodes,d=n(c,function(t){
return t.name}),f=n(u,function(t){return t.name}),p=d.concat(f),h=o(l,p).length,_=o(p,l).length,v={};h>0?v.update=1e3:v.update=0,_>0?v.enter=1e3:v.enter=0,v.enter=v.enter+v.update,v.run_transition=!0;var m=t.network_data.links.length,g=e.network_data.links.length,y=.5*e.matrix.def_large_matrix;return(m>y||g>y)&&(v.run_transition=!1,v.update=0,v.enter=0),v}},function(t,e,r){"use strict";function n(t,e,r){e=o(e,r);for(var n=!i(t)&&a(t),s=(n||t).length,l=Array(s),c=0;c<s;c++){var u=n?n[c]:c;l[c]=e(t[u],u,t)}return l}var o=r(78),i=r(7),a=r(12);t.exports=n},function(t,e,r){"use strict";var n=r(261),o=r(143),i=r(175),a=r(262),s=r(266),l=r(125),c=r(267),u=r(270),d=r(193),f=r(134);t.exports=function(t,e,r){var p=t.params;d3.selectAll(p.viz.root_tips).remove();var h=f().attr("class",function(){var t=p.viz.root_tips.replace(".",""),e=t+" d3-tip "+t+"_tile_tip";return e}).direction("nw").offset([0,0]).style("display","none").html(function(t){var e,r=String(t.value.toFixed(3));if(p.keep_orig){var n=String(t.value_orig.toFixed(3));e="<p>"+t.row_name+" and "+t.col_name+"</p><p> normalized value: "+r+"</p><div> original value: "+n+"</div>"}else e="<p>"+t.row_name+" and "+t.col_name+"</p><div> value: "+r+"</div>";return e});d3.select(p.root+" .clust_group").call(h),u(p);for(var _=1e3,v=e.row_nodes,m=e.col_nodes,g=e.links,y=g,w=0;w<y.length;w++){var x=y[w];y[w].name=v[x.source].name+"_"+m[x.target].name}var b=d3.select(p.root+" .clust_group").selectAll(".row").data(p.matrix.matrix,function(t){return t.name});r.run_transition?b.transition().delay(r.update).duration(_).attr("transform",function(t){var e=t.row_index;return"translate(0,"+p.viz.y_scale(e)+")"}):b.attr("transform",function(t){var e=t.row_index;return"translate(0,"+p.viz.y_scale(e)+")"}),d3.select(p.root+" .clust_group").selectAll(".row").each(function(t){var e=this;a(p,t,r,_,e,h)}),d3.selectAll(p.root+" .horz_lines").remove(),d3.selectAll(p.root+" .vert_lines").remove(),s(p,r,_),n(t,_,r),c(p,r,_,h),o(t,_),i(t,_),l(p,r,_),setTimeout(d,2e3,p)}},function(t,e,r){"use strict";var n=r(2),o=r(104),i=r(100),a=r(102),s=r(210),l=r(211),c=r(212),u=r(213),d=r(215),f=r(217),p=r(218),h=r(219),_=r(220),v=r(221),m=r(224),g=r(115),y=r(114),w=r(122);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===r&&(r={},r.enter=0,r.update=0,r.run_transition=!1);var x=t.params,b=t.params.network_data.row_nodes;x.zoom_info=w();var z=x.network_data.row_nodes_names||[];s(x),x=i(x),x.viz=a(x.viz),x.viz=o(x.viz),x.sim_mat&&(x.viz.clust.dim.width<=x.viz.clust.dim.height?x.viz.clust.dim.height=x.viz.clust.dim.width:x.viz.clust.dim.width=x.viz.clust.dim.height),x.viz=y(x.viz),x.viz.x_scale.rangeBands([0,x.viz.clust.dim.width]),x.viz.y_scale.rangeBands([0,x.viz.clust.dim.height]),x.viz.square_zoom=x.viz.norm_labels.width.col/(x.viz.x_scale.rangeBand()/2),x.zoom_behavior.scaleExtent([1,x.viz.square_zoom*x.viz.zoom_ratio.x]),x.viz.border_width.x=x.viz.x_scale.rangeBand()/x.viz.border_fraction,x.viz.border_width.y=x.viz.y_scale.rangeBand()/x.viz.border_fraction,x=g(x);var k=d3.select(x.viz.viz_wrapper).select("svg");k.select(x.root+" .grey_background").transition().delay(r.update).duration(e).attr("width",x.viz.clust.dim.width).attr("height",x.viz.clust.dim.height),d(x,k,r),k.selectAll(".row_label_group").select("text").style("font-size",x.labels.default_fs_row+"px").text(function(t){return n.normal_name(t)}),k.selectAll(".row_label_group").each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",t.x).attr("y",0).attr("width",t.width).attr("height",x.viz.y_scale.rangeBand()).style("fill","yellow").style("opacity",function(t){var e=0;return 1===t.target&&(e=1),e})}),f(x,k,r),r.run_transition?(k.selectAll(".row_label_group").select("text").transition().delay(r.update).duration(e).attr("y",.5*x.viz.rect_height+.35*x.labels.default_fs_row),k.selectAll(".row_cat_group").data(b,function(t){return t.name}).transition().delay(r.update).duration(e).attr("transform",function(t){var e=z.indexOf(t.name);return"translate(0, "+x.viz.y_scale(e)+")"}),k.selectAll(".row_cat_group").select("path").transition().delay(r.update).duration(e).attr("d",function(){var t=x.viz.cat_room.symbol_width-1,e=0,r=1,n=x.viz.y_scale.rangeBand()/2,o=x.viz.cat_room.symbol_width-1,i=x.viz.y_scale.rangeBand(),a="M "+t+","+e+" L "+r+","+n+" L "+o+","+i+" Z";return a}),k.selectAll(".row_dendro_group").data(b,function(t){return t.name}).transition().delay(r.update).duration(e).attr("transform",function(t){var e=z.indexOf(t.name);return"translate(0, "+x.viz.y_scale(e)+")"})):(k.selectAll(".row_label_group").select("text").attr("y",.5*x.viz.rect_height+.35*x.labels.default_fs_row),k.selectAll(".row_cat_group").data(b,function(t){return t.name}).attr("transform",function(t){var e=z.indexOf(t.name);return"translate(0, "+x.viz.y_scale(e)+")"}),k.selectAll(".row_cat_group").select("path").attr("d",function(){var t=x.viz.cat_room.symbol_width-1,e=0,r=1,n=x.viz.y_scale.rangeBand()/2,o=x.viz.cat_room.symbol_width-1,i=x.viz.y_scale.rangeBand(),a="M "+t+","+e+" L "+r+","+n+" L "+o+","+i+" Z";return a}),k.selectAll(".row_dendro_group").data(b,function(t){return t.name}).attr("transform",function(t){var e=z.indexOf(t.name);return"translate(0, "+x.viz.y_scale(e)+")"})),n.has(x.network_data.row_nodes[0],"value")&&m(t,k),p(x,k,r),h(x,k),_(x,k,r),v(x,k,r),l(x,k,r),c(x,k,r),u(x.viz,k,r),x.zoom_behavior.scale(1).translate([x.viz.clust.margin.left,x.viz.clust.margin.top])}},function(t,e,r){"use strict";var n=r(263),o=r(264),i=r(265),a=r(131),s=r(132),l=r(133),c=r(77),u=r(135);t.exports=function(t,e,r,d,f,p){var h=e.row_data,_=c(h,function(t){return 0!=t.value}),v=d3.select(f).selectAll(".tile").data(_,function(t){return t.col_name});n(t,r,v,h,f);var m=v.on("mouseover",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];a(t,this,p,r)}).on("mouseout",function(){s(t,this,p)}),g=t.network_data.col_nodes_names;r.run_transition?m.transition().delay(r.update).duration(d).attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).attr("transform",function(e){return u(g,e.col_name)?l(t,e):"translate(0,0)"}):m.attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).attr("transform",function(e){return u(g,e.col_name)?l(t,e):"translate(0,0)"}),"updn"==t.matrix.tile_type&&i(t,h,f,r,d,v,p),o(t,r,d,v,p)}},function(t,e,r){"use strict";var n=r(77);t.exports=function(t,e,r,o,i){if(e.run_transition?r.exit().transition().duration(300).attr("fill-opacity",0).remove():r.exit().attr("fill-opacity",0).remove(),"updn"==t.matrix.tile_type){var a=n(o,function(t){return 0!=t.value_up||0!=t.value_dn}),s=d3.select(i).selectAll(".tile_up").data(a,function(t){return t.col_name});e.run_transition?s.exit().transition().duration(300).attr("fill","0").remove():s.exit().attr("fill",0).remove();var l=d3.select(i).selectAll(".tile_dn").data(a,function(t){return t.col_name});e.run_transition?l.exit().transition().duration(300).attr("fill",0).remove():l.exit().attr("fill",0).remove()}}},function(t,e,r){"use strict";var n=r(131),o=r(132),i=r(133);t.exports=function(t,e,r,a,s){var l=a.enter().append("rect").attr("class","tile row_tile").attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).on("mouseover",function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];n(t,this,s,r)}).on("mouseout",function(){o(t,this,s)}).attr("fill-opacity",0).attr("transform",function(e){return i(t,e)});e.run_transition?l.transition().delay(e.enter).duration(r).style("fill",function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).attr("fill-opacity",function(e){var r=t.matrix.opacity_scale(Math.abs(e.value));return r}):l.style("fill",function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).attr("fill-opacity",function(e){var r=t.matrix.opacity_scale(Math.abs(e.value));return r}),l.each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}},function(t,e,r){"use strict";var n=r(129),o=r(130),i=r(131),a=r(132),s=r(133),l=r(77);t.exports=function(t,e,r,c,u,d,f){var p=l(e,function(t){return 0!=t.value_up||0!=t.value_dn}),h=d3.select(r).selectAll(".tile_up").data(p,function(t){return t.col_name}),_=h.on("mouseover",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];i(t,this,f,r)}).on("mouseout",function(){a(t,this,f)});c.run_transition?_.transition().delay(c.update).duration(u).attr("d",function(){return n(t)}).attr("transform",function(e){return s(t,e)}):_.attr("d",function(){return n(t)}).attr("transform",function(e){return s(t,e)});var v=d3.select(r).selectAll(".tile_dn").data(p,function(t){return t.col_name}),m=v.on("mouseover",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];i(t,this,f,r)}).on("mouseout",function(){a(t,this,f)});c.run_transition?m.transition().delay(c.update).duration(u).attr("d",function(){return o(t)}).attr("transform",function(e){return s(t,e)}):m.attr("d",function(){return o(t)}).attr("transform",function(e){return s(t,e)}),d.selectAll(".tile").each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}},function(t,e){"use strict";t.exports=function(t,e,r){var n=t.network_data.row_nodes,o=t.network_data.col_nodes,i=d3.select(t.root+" .clust_group").selectAll(".row").data(t.matrix.matrix,function(t){return t.name}).exit();e.run_transition?i.transition().duration(r).style("opacity",0).remove():i.style("opacity",0).remove(),d3.selectAll(t.root+" .row_label_group").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_label_group").data(o,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .row_cat_group").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .row_dendro_group").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_label_text").data(o,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .horz_lines").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .vert_lines").data(o,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_cat_group").data(o,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_dendro_group").data(o,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove()}},function(t,e,r){"use strict";var n=r(268);t.exports=function(t,e,r,o){var i=d3.select(t.root+" .clust_group").selectAll(".row").data(t.matrix.matrix,function(t){return t.name}).enter().append("g").classed("row",!0).attr("transform",function(e){return"translate(0,"+t.viz.y_scale(e.row_index)+")"});i.each(function(i){n(t,i,e,r,o,this)})}},function(t,e,r){"use strict";var n=r(269),o=r(131),i=r(132),a=r(133),s=r(77);t.exports=function(t,e,r,l,c,u){var d=e.row_data,f=s(d,function(t){return 0!==t.value}),p=d3.select(u).selectAll("rect").data(f,function(t){return t.col_name}).enter().append("rect").attr("class","tile row_tile").attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).style("fill",function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).on("mouseover",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o(t,this,c,r)}).on("mouseout",function(){i(t,this,c)});p.style("fill-opacity",0).transition().delay(r.enter).duration(l).style("fill-opacity",function(e){var r=t.matrix.opacity_scale(Math.abs(e.value));return r}),p.attr("transform",function(e){return a(t,e)}),"updn"==t.matrix.tile_type&&n(t,d,u,c,r,l,p)}},function(t,e,r){"use strict";var n=r(129),o=r(130),i=r(133),a=r(77);t.exports=function(t,e,r,s,l,c,u){var d=a(e,function(t){return 0!=t.value_up||0!=t.value_dn}),f=d3.select(r).selectAll(".tile_up").data(d,function(t){return t.col_name}).enter().append("path").attr("class","tile_up").attr("d",function(){return n(t)}).attr("transform",function(e){return i(t,e)}).style("fill",function(){return t.matrix.tile_colors[0]}).on("mouseover",function(e){d3.selectAll(t.root+" .row_label_group text").classed("active",function(t){return e.row_name===t.name}),d3.selectAll(t.root+" .col_label_text text").classed("active",function(t){return e.col_name===t.name}),t.matrix.show_tile_tooltips&&s.show(e)}).on("mouseout",function(){d3.selectAll(t.root+" text").classed("active",!1),t.matrix.show_tile_tooltips&&s.hide()});f.style("fill-opacity",0).transition().delay(l.enter).duration(c).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_dn)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_up))),r});var p=d3.select(r).selectAll(".tile_dn").data(d,function(t){return t.col_name}).enter().append("path").attr("class","tile_dn").attr("d",function(){return o(t)}).attr("transform",function(e){return i(t,e)}).style("fill",function(){return t.matrix.tile_colors[1]}).on("mouseover",function(e){d3.selectAll(t.root+" .row_label_group text").classed("active",function(t){return e.row_name===t.name}),d3.selectAll(t.root+" .col_label_text text").classed("active",function(t){return e.col_name===t.name}),t.matrix.show_tile_tooltips&&s.show(e)}).on("mouseout",function(){d3.selectAll(t.root+" text").classed("active",!1),t.matrix.show_tile_tooltips&&s.hide()});p.style("fill-opacity",0).transition().delay(l.enter).duration(c).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_up)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_dn))),r}),u.each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}},function(t,e){"use strict";t.exports=function(t){d3.select(t.root+" .clust_container").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.clust.margin.top+")"),d3.select(t.root+" .col_label_outer_container").attr("transform","translate(0,"+t.viz.norm_labels.width.col+")"),d3.select(t.root+" .col_cat_outer_container").attr("transform",function(){var e=t.viz.norm_labels.width.col+2;return"translate(0,"+e+")"})}},function(t,e,r){"use strict";var n=(r(241),r(191)),o=r(190),i=r(272),a=r(111);t.exports=function(t){function e(e,r){var n=2-r,o=t.params.matrix.abs_max_val*n;t.params.matrix.opacity_scale.domain([0,o]),d3.selectAll(t.params.root+" .tile").style("fill-opacity",function(e){var r=t.params.matrix.opacity_scale(Math.abs(e.value));return r})}var r=t.params,s=d3.select(r.root+" .gene_search_box")[0][0],l=new Awesomplete(s,{minChars:1,maxItems:15}),c=t.params.network_data.row_nodes_names;l.list=c,d3.selectAll(".awesomplete ul").style("z-index",99),a(r.root+" .gene_search_box").keyup(function(e){if(13===e.keyCode){var n=a(r.root+" .gene_search_box").val();i(t,n,c)}}),a(r.root+" .submit_gene_button").off().click(function(){var e=a(r.root+" .gene_search_box").val();i(t,e,c)});var u;if(u=r.sim_mat?["both"]:["row","col"],u.forEach(function(e){a(r.root+" .toggle_"+e+"_order .btn").off().click(function(o){var i=a(o.target).attr("name").replace("_row","").replace("_col","");d3.selectAll(r.root+" .toggle_"+e+"_order .btn").classed("active",!1),d3.select(this).classed("active",!0),"both"!=e?n(t,i,e):(n(t,i,"row"),n(t,i,"col"))})}),o(t),d3.select(t.params.root+" .opacity_slider").select("#handle-one").empty()){var d=d3.slider().snap(!0).value(1).min(.1).max(1.9).step(.1).on("slide",function(t,r){e(t,r)});d3.select(t.params.root+" .opacity_slider").call(d)}}},function(t,e,r){"use strict";var n=r(192);t.exports=function(t,e,r){var o="name";if(r.indexOf(e)!==-1){d3.selectAll(t.params.root+" .row_label_group").select("rect").style("opacity",0);var i=r.indexOf(e),a=t.params.viz.y_scale(i),s=t.params.viz.clust.dim.height/2-a,l=t.params.viz.zoom_ratio.x;n(t,0,s,l),t.params.zoom_info.zoom_y=l,d3.selectAll(t.params.root+" .row_label_group").filter(function(t){return t[o]===e}).select("rect").style("opacity",1)}}},function(t,e){"use strict";t.exports=function(t){t.dendro_filter.row===!1&&"clust"===t.viz.inst_order.col&&d3.select(t.root+" .row_slider_group").style("opacity",1).style("pointer-events","all"),d3.selectAll(t.root+" .toggle_row_order .btn").attr("disabled",null),t.dendro_filter.col===!1&&"clust"===t.viz.inst_order.row&&d3.select(t.root+" .col_slider_group").style("opacity",1).style("pointer-events","all"),d3.selectAll(t.root+" .toggle_col_order .btn").attr("disabled",null),d3.selectAll(t.root+" .gene_search_button .btn").attr("disabled",null),t.viz.run_trans=!1}},function(t,e){"use strict";t.exports=function(t,e){["row","col"].forEach(function(r){var n;n="row"===r?"col":"row",d3.selectAll(e.root+" .toggle_"+n+"_order .btn").filter(function(){return d3.select(this).attr("name")===t.inst_order[r]}).classed("active",!0)})}},function(t,e,r){"use strict";var n=r(276),o=r(2),i=r(5),a=r(135);t.exports=function(t,e){var r,s,l,c,u,d,f,p,h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],_=0,v=0;i(e,function(e){c=e.name,h===!0&&(c.indexOf(" ")?c=c.split(" ")[0]:c.indexOf("_")&&(c=c.split("_")[0])),_=0,n(e),i(t,function(t){if(r=t.cat_title,s=t.cats,u="false",v=-1,p=0,i(s,function(t){d=t.cat_name,l=t.members,a(l,c)&&(u=d,v=p),p+=1}),o.has(t,"pval")){var n=t.pval.toExponential();f=r+": "+u+"<p> Pval "+String(n)+"</p>"}else f=r.indexOf("cat-")===-1?r+": "+u:u;e["cat-"+String(_)]=f,e["cat_"+String(_)+"_index"]=v,_+=1})})}},function(t,e){"use strict";t.exports=function(t){var e=Object.keys(t||{});e.forEach(function(e){e.indexOf("cat-")>-1&&delete t[e],e.indexOf("cat_")>-1&&delete t[e]})}},function(t,e,r){"use strict";var n=r(261),o=r(175),i=r(178),a=r(270);t.exports=function(t){d3.selectAll(t.params.root+" .row_cat_group").remove(),d3.selectAll(t.params.root+" .row_label_group").remove(),d3.selectAll(t.params.root+" .row").remove();var e=!0,r=!0,s=!0;i(t,e,r,s),o(t);var l=t.params.network_data.col_nodes;d3.selectAll(t.params.root+" .col_label_group").data(l,function(t){return t.name}).exit().style("opacity",0).remove(),d3.selectAll(t.params.root+" .col_label_text").data(l,function(t){return t.name}).exit().style("opacity",0).remove(),d3.selectAll(t.params.root+" .col_cat_group").data(l,function(t){return t.name}).exit().style("opacity",0).remove(),d3.selectAll(t.params.root+" .col_dendro_group").data(l,function(t){return t.name}).exit().style("opacity",0).remove(),a(t.params);var c={};c.enter=0,c.update=0,c.run_transition=!1;var u=0;n(t,u,c)}},function(t,e,r){"use strict";var n=r(249),o=r(111);t.exports=function(){function t(t){var e=Number(d3.select(t.root+" .expand_button").attr("x").replace("px","")),o=Number(d3.select(t.root+" .expand_button").attr("y").replace("px","")),a=0,s=400;setTimeout(n,a,t,"single",e,o),setTimeout(r,s,t),setTimeout(i,1500,t)}function e(){return 3500}function r(t){o(t.root+" .expand_button").d3Click()}function i(t){a(t,"row","clust"),a(t,"col","clust")}function a(t,e,r){var n=d3.selectAll(".toggle_"+e+"_order .btn").filter(function(){return this.__data__==r})[0];o(n).click()}return jQuery.fn.d3Click=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(246),o=r(252),i=r(241),a=r(111);t.exports=function(){function t(t){var e="Identify row and column groups\nof varying sizes using  the\nsliders and dendrogram";n(t,e,1e4),setTimeout(o,3e3,t,"slider_col",7e3),setTimeout(r,4e3,t,"row",3),setTimeout(r,5e3,t,"row",4),setTimeout(r,6e3,t,"row",5),setTimeout(r,7e3,t,"row",6),setTimeout(r,8e3,t,"row",7),setTimeout(r,9e3,t,"row",5)}function e(){return 11e3}function r(t,e,r){a(cgm.params.root+" .slider_col").slider("value",r/10),i(cgm,e,r)}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(246),o=r(249),i=r(111);t.exports=function(){function t(t){var e="Row and column categories\ncan be use to reorder\nby double-clicking";n(t,e,7e3);var i=d3.selectAll(t.root+" .col_cat_super").filter(function(){return"cat-1"===this.__data__})[0],a=d3.select(".col_cat_super").attr("transform"),s=Number(a.split("(")[1].split(",")[0].replace(")",""))+20,l=Number(a.split(",")[1].replace(")","")),c=4e3;setTimeout(o,c,t,"double",s,l);var u=c+300;setTimeout(r,u,t,i)}function e(){return 8e3}function r(t,e){i(e).d3DblClick()}return jQuery.fn.d3DblClick=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("dblclick",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(246),o=r(282);t.exports=function(){function t(t){var r="Clustergrammer is built with gene\nexpression data in mind and interfaces\nwith several Ma'ayan lab web tools",o="The example data being visualized is\ngene expression data obtained from the\nCancer Cell Line Encyclopedia",i="For more information please view\nthe help documentation";setTimeout(n,0,t,r,4500),setTimeout(n,4500,t,o,4500),setTimeout(n,9e3,t,i,4500),setTimeout(e,14e3,t)}function e(t){d3.select(t.root+" .play_button").classed("running_demo",!1),o(t,!0)}function r(){return 12e3}return{run:t,get_duration:r}}},function(t,e,r){"use strict";var n=r(111);t.exports=function(t,e){e===!1?d3.select(t.root+" .play_button").transition().duration(500).style("opacity",0):(d3.select(t.root+" .play_button").transition().duration(500).style("opacity",1),n.unblockUI())}},function(t,e,r){"use strict";var n=r(246),o=r(249),i=r(111);t.exports=function(){function t(t){var e="View additional controls\nby clicking the menu button";n(t,e,4e3);var i=Number(d3.select(t.root+" .expand_button").attr("x").replace("px","")),a=Number(d3.select(t.root+" .expand_button").attr("y").replace("px","")),s=3e3,l=3400;setTimeout(o,s,t,"single",i,a),setTimeout(r,l,t)}function e(){return 5e3}function r(t){i(t.root+" .expand_button").d3Click()}return jQuery.fn.d3Click=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},jQuery.fn.d3DblClick=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("dblclick",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(285),o=r(286);t.exports=function(){var t=this,e=t.params;n(t);var r=30;o(e,r)}},function(t,e,r){"use strict";var n=r(225);t.exports=function(t){var e=t.params;if(d3.select(e.root+" .play_button").empty()){var r=d3.select(e.root+" .viz_svg").append("g").classed("play_button",!0).classed("running_demo",!1);n(e),r.append("circle").style("r",45).style("fill","white").style("stroke","black").style("stroke-width","3px").style("opacity",.5),r.append("path").attr("d",function(){var t=40,e=22,r=15;return"M-"+r+",-"+e+" l "+t+","+e+" l -"+t+","+e+" z "}).style("fill","black").style("opacity",.5),r.on("mouseover",function(){d3.select(this).select("path").style("fill","red").style("opacity",1),d3.select(this).select("circle").style("opacity",1)}).on("mouseout",function(){d3.select(this).select("path").style("fill","black").style("opacity",.5),d3.select(this).select("circle").style("opacity",.5)}).on("click",function(){t.play_demo()})}}},function(t,e){"use strict";t.exports=function(t,e){if(d3.select(t.root+" .demo_group").empty()){var r=d3.select(t.root+" .clust_container").attr("transform"),n=Number(r.split("(")[1].split(",")[0]),o=Number(r.split(",")[1].replace(")","")),i=d3.select(t.root+" .viz_svg").append("g").classed("demo_group",!0).attr("transform",function(){var t=n+20,e=o+40;return"translate("+t+","+e+")"});i.append("rect").classed("rect_1",!0),i.append("rect").classed("rect_2",!0),i.append("rect").classed("rect_3",!0);var a=1.3*e;i.append("text").attr("id","text_1").attr("font-size",e+"px").attr("font-weight",1e3).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif'),i.append("text").attr("id","text_2").attr("font-size",e+"px").attr("font-weight",1e3).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("transform",function(){return"translate(0,"+String(a)+")"}),i.append("text").attr("id","text_3").attr("font-size",e+"px").attr("font-weight",1e3).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("transform",function(){return"translate(0,"+String(2*a)+")"})}}},function(t,e,r){"use strict";var n=r(24),o=r(257);t.exports=function(t){var e=n(this.config,t);o(this,e)}},function(t,e,r){"use strict";var n=r(24),o=r(257),i=r(2),a=r(111);t.exports=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=r===!1?this:r;var s,l=e.params,c={};["row","col"].forEach(function(e){var r=l.inst_nodes[e+"_nodes"];if(i.has(t,e))if(t[e].length>0){var n=t[e];s=a.grep(r,function(t){return a.inArray(t.name,n)>-1})}else s=r;else s=r;c[e+"_nodes"]=s});var u=e.params.network_data.row_nodes,d=e.params.network_data.col_nodes,f=n(e.config,c);o(e,f),u.length>e.params.inst_nodes.row_nodes.length&&(e.params.inst_nodes.row_nodes=u),d.length>e.params.inst_nodes.col_nodes.length&&(e.params.inst_nodes.col_nodes=d)}},function(t,e,r){"use strict";var n=r(236),o=r(94),i=r(200),a=r(275);t.exports=function(t,e){null!=t.params.cat_update_callback&&t.params.cat_update_callback(this);var r=t.params.viz.cat_colors.col;a(e,t.params.network_data.row_nodes,!0),a(e,t.params.inst_nodes.row_nodes,!0),t.params=o(t.params,!1),n(t,!0),i(t),t.params.new_row_cats=e,t.params.viz.cat_colors.col=r}},function(t,e,r){"use strict";var n=r(236),o=r(94),i=r(200),a=r(275),s=r(291);t.exports=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this,r=s(e),l=e.params.viz.cat_colors.col;if(a(r,e.params.network_data.row_nodes),a(r,e.params.inst_nodes.row_nodes),e.params.new_row_cats=r,e.params.viz.cat_colors.col=l,t){var c=!0;e.params=o(e.params,c),n(e,!0),i(e)}}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t){function e(t,e,n){r={},r.cat_title=t,r.cats=[],o={},o.cat_name=e,o.members=[],o.members.push(n),r.cats.push(o),p.push(r)}var r,o,i,a,s,l,c,u,d=t.config.network_data.row_nodes||[],f=": ",p=[],h=d[0],_=Object.keys(h||{}),v={};_.forEach(function(t){t.indexOf("cat-")>=0&&(l=h[t],u=parseInt(t.split("cat-")[1],10),c=l.indexOf(f)>=0?l.split(f)[0]:t,v[u]=c)});var m,g=Object.keys(v||{}).sort();return g.forEach(function(t){m={},m.cat_title=v[t],m.cats=[],p.push(m)}),d.each(function(t){var r=Object.keys(t||{});r.forEach(function(r){if(r.indexOf("cat-")>-1){s=t[r],u=parseInt(r.split("cat-")[1],10);var l=r;s=t[r];var c=t[r],d=t.name;c.indexOf(f)>-1?(l=c.split(f)[0],s=c.split(f)[1]):(l=r,s=c),0===p.length?e(l,s,d):(i=!1,p.forEach(function(t){l===t.cat_title&&(i=!0,a=!1,n(t.cats,function(t){s===t.cat_name&&(a=!0,t.members.push(d))}),a===!1&&(o={},o.cat_name=s,o.members=[],o.members.push(d),t.cats.push(o)))}))}})}),p}},function(t,e,r){"use strict";var n=r(255),o=r(293);t.exports=function(t,e,r){var i={};i[e]=r,n(t,i),o(t,e,r)}},function(t,e,r){"use strict";var n=r(294);t.exports=function(t,e,r){var o,i,a=t.params;d3.select(a.root+" .slider_"+e).attr("current_state",r),Object.keys(a.viz.possible_filters||{}).forEach(function(r){if(o=e.indexOf("row")>-1?"row":e.indexOf("col")>-1?"col":"neither",i=r.indexOf("row")>-1?"row":r.indexOf("col")>-1?"col":"neither",e!=r&&"neither"!=o&&o==i){var s=n(a,r);t.slider_functions[r].value(0),d3.select(a.root+" .title_"+r).text(s.text+s.state),d3.select(a.root+" .slider_"+r).attr("current_state",s.state)}});var s=n(a,e);d3.select(a.root+" .title_"+e).text(s.text+r+s.suffix)}},function(t,e,r){"use strict";var n=r(18);t.exports=function(t,e){var r={},o={},i={};return r.state=n(t.viz.filter_data,e),i.top=e.split("_")[0],i.node=e.split("_")[1],i.measure=e.split("_")[2],"row"===i.node?o.node="rows":o.node="columns","N"===i.top&&(r.suffix=""),"pct"===i.top&&(r.suffix="%"),"sum"==i.measure?o.measure="sum":"var"==i.measure&&(o.measure="variance"),"sum"===i.measure&&(r.text="Top "+o.node+" "+o.measure+": "),"var"===i.measure&&(r.text="Top "+o.node+" "+o.measure+": "),Object.keys(t.viz.possible_filters||{}).indexOf("enr_score_type")>-1&&"col"===i.node&&(r.text="Top Enriched Terms: ",r.suffix=""),r}},function(t,e,r){"use strict";var n=r(296),o=r(297);t.exports=function(){var t=n(),e=this.params,r=o(e),i=new Blob([r],{type:"text/plain;charset=utf-8"});t(i,"clustergrammer.txt")}},function(t,e){"use strict";t.exports=function(){/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var t=t||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(t){var e=t.document,r=function(){return t.URL||t.webkitURL||t},n=t.URL||t.webkitURL||t,o=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in o,a=function(r){var n=e.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(n)},s=t.webkitRequestFileSystem,l=t.requestFileSystem||s||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",d=0,f=[],p=function(){for(var t=f.length;t--;){var e=f[t];"string"==typeof e?n.revokeObjectURL(e):e.remove()}f.length=0},h=function(t,e,r){e=[].concat(e);for(var n=e.length;n--;){var o=t["on"+e[n]];if("function"==typeof o)try{o.call(t,r||t)}catch(t){c(t)}}},_=function(e,n){var c,p,_,v=this,m=e.type,g=!1,y=function(){var t=r().createObjectURL(e);return f.push(t),t},w=function(){h(v,"writestart progress write writeend".split(" "))},x=function(){!g&&c||(c=y(e)),p&&(p.location.href=c),v.readyState=v.DONE,w()},b=function(t){return function(){if(v.readyState!==v.DONE)return t.apply(this,arguments)}},z={create:!0,exclusive:!1};return v.readyState=v.INIT,n||(n="download"),i?(c=y(e),o.href=c,o.download=n,a(o),v.readyState=v.DONE,void w()):(t.chrome&&m&&m!==u&&(_=e.slice||e.webkitSlice,e=_.call(e,0,e.size,u),g=!0),s&&"download"!==n&&(n+=".download"),p=m===u||s?t:t.open(),l?(d+=e.size,void l(t.TEMPORARY,d,b(function(t){t.root.getDirectory("saved",z,b(function(t){var r=function(){t.getFile(n,z,b(function(t){t.createWriter(b(function(r){r.onwriteend=function(e){p.location.href=t.toURL(),f.push(t),v.readyState=v.DONE,h(v,"writeend",e)},r.onerror=function(){var t=r.error;t.code!==t.ABORT_ERR&&x()},"writestart progress write abort".split(" ").forEach(function(t){r["on"+t]=v["on"+t]}),r.write(e),v.abort=function(){r.abort(),v.readyState=v.DONE},v.readyState=v.WRITING}),x)}),x)};t.getFile(n,{create:!1},b(function(t){t.remove(),r()}),b(function(t){t.code===t.NOT_FOUND_ERR?r():x()}))}),x)}),x)):void x())},v=_.prototype,m=function(t,e){return new _(t,e)};return v.abort=function(){var t=this;t.readyState=t.DONE,h(t,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,t.addEventListener("unload",p,!1),m}(self);return t}},function(t,e,r){"use strict";var n=r(298),o=r(5);t.exports=function(t){var e,r=t.matrix,i={};["row","col"].forEach(function(n){var o;o="row"===n?"col":"row",e=t.inst_order[n],i[o]=r.orders[e+"_"+n]});for(var a="\t",s=t.network_data.row_nodes,l=t.network_data.col_nodes,c=0;c<i.col.length;c++){var u=i.col[c],d=l[u],f=n(t,d,"col");c<i.col.length-1?a=a+f+"\t":a+=f}var p;return a+="\n",o(i.row,function(e){p=r.matrix[e].row_data;var o=s[e],l=n(t,o,"row");a=a+l+"\t";for(var c=0;c<i.col.length;c++){var u=i.col[c];c<i.col.length-1?a=a+String(p[u].value)+"\t":a+=String(p[u].value)}a+="\n"}),a}},function(t,e){"use strict";t.exports=function(t,e,r){var n,o=e.name,i=t.viz.all_cats[r].length;if(i>0){o="('"+o+"'";for(var a=0;a<i;a++)n="cat-"+String(a),o=o+", '"+String(e[n])+"'";o+=")"}else o=String(o);return o}},function(t,e,r){"use strict";var n=r(300),o=r(5);t.exports=function(){function t(){d3.select(r.params.root+" .col_dendro_icons_container").style("display","none"),d3.select(r.params.root+" .row_dendro_icons_container").style("display","none");var t=u.extent(),o=t[0],a=t[1],s=o[0],l=a[0],c=o[1],d=a[1];if(s!=l&&c!=d){setTimeout(n,500,r);var f=e(s,l,c,d,o,a);r.filter_viz_using_names(f),d3.select(i.root+" .crop_button").style("color","#337ab7").classed("fa-crop",!1).classed("fa-undo",!0)}}function e(t,e,r,n,a,s){t>e&&(t=s[0],e=a[0]),r>n&&(r=s[1],n=a[1]),r-=i.viz.rect_height,t-=i.viz.rect_width;var l={};return l.row=[],l.col=[],o(i.matrix.matrix,function(t){var e=i.viz.y_scale(t.row_index);e>r&&e<n&&l.row.push(t.name)}),d3.selectAll(i.root+" .col_label_text").each(function(r){var n=d3.select(this).attr("transform"),o=Number(n.split(",")[0].split("(")[1]);o>t&&o<e&&l.col.push(r.name)}),l}var r=this,i=r.params,a=i.viz.clust.dim.width,s=i.viz.clust.dim.height,l=d3.scale.linear().domain([0,a]).range([0,a]),c=d3.scale.linear().domain([0,s]).range([0,s]);d3.select(i.root+" .clust_container").append("g").classed("brush_group",!0),r.params.is_cropping=!0;var u=d3.svg.brush().x(l).y(c).on("brushend",t);d3.select(i.root+" .brush_group").call(u),d3.selectAll(i.root+" .extent").style("opacity",.2).style("fill","black")}},function(t,e){"use strict";t.exports=function(t){d3.select(t.params.root+" .brush_group").transition().style("opacity",0).remove(),t.params.is_cropping=!1}},function(t,e){t.exports=require("d3")},function(t,e,r){var n,o,i;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){o=[r(301)],n=s,i="function"==typeof n?n.apply(e,o):n,!(void 0!==i&&(t.exports=i))}(void 0,function(t){return function(){"use strict";function e(e){e.each(function(){function e(e){"boolean"==typeof m&&(m=t.svg.axis().ticks(Math.round(d/100)).tickFormat(z).orient("horizontal"===v?"bottom":"right")),l=s.ticks?s.copy().range([0,d]):s.copy().rangePoints([0,d],.5),m.scale(l);var r=e.append("svg").classed("d3-slider-axis d3-slider-axis-"+m.orient(),!0).on("click",E),n=r.append("g");"horizontal"===v?(r.style("margin-left",-g+"px"),r.attr({width:d+2*g,height:g}),"top"===m.orient()?(r.style("top",-g+"px"),n.attr("transform","translate("+g+","+g+")")):n.attr("transform","translate("+g+",0)")):(r.style("top",-g+"px"),r.attr({width:g,height:d+2*g}),"left"===m.orient()?(r.style("left",-g+"px"),n.attr("transform","translate("+g+","+g+")")):n.attr("transform","translate(0,"+g+")")),n.call(m)}function h(){if("array"!=i(a)){var e=Math.max(0,Math.min(d,t.event.offsetX||t.event.layerX));r(s.invert?n(s.invert(e/d)):o(e/d))}}function _(){if("array"!=i(a)){var e=d-Math.max(0,Math.min(d,t.event.offsetY||t.event.layerY));r(s.invert?n(s.invert(e/d)):o(e/d))}}function w(){"handle-one"===t.event.sourceEvent.target.id?y=1:"handle-two"==t.event.sourceEvent.target.id&&(y=2);var e=Math.max(0,Math.min(d,t.event.x));r(s.invert?n(s.invert(e/d)):o(e/d))}function A(){"handle-one"===t.event.sourceEvent.target.id?y=1:"handle-two"==t.event.sourceEvent.target.id&&(y=2);var e=d-Math.max(0,Math.min(d,t.event.y));r(s.invert?n(s.invert(e/d)):o(e/d))}function E(){t.event.stopPropagation()}s||(s=t.scale.linear().domain([f,p])),a=a||s.domain()[0];var N=t.select(this).classed("d3-slider d3-slider-"+v,!0),S=t.behavior.drag();if(S.on("dragend",function(){x.slideend(t.event,a)}),"array"==i(a)&&2==a.length?(c=N.append("a").classed("d3-slider-handle",!0).attr("xlink:href","#").attr("id","handle-one").on("click",E).call(S),k=N.append("a").classed("d3-slider-handle",!0).attr("id","handle-two").attr("xlink:href","#").on("click",E).call(S)):c=N.append("a").classed("d3-slider-handle",!0).attr("xlink:href","#").attr("id","handle-one").on("click",E).call(S),"horizontal"===v){if(N.on("click",h),"array"==i(a)&&2==a.length){u=t.select(this).append("div").classed("d3-slider-range",!0),c.style("left",b(s(a[0]))),u.style("left",b(s(a[0]))),S.on("drag",w);var T=100-parseFloat(b(s(a[1])));k.style("left",b(s(a[1]))),u.style("right",T+"%"),S.on("drag",w)}else c.style("left",b(s(a))),S.on("drag",w);d=parseInt(N.style("width"),10)}else{if(N.on("click",_),S.on("drag",A),"array"==i(a)&&2==a.length){u=t.select(this).append("div").classed("d3-slider-range-vertical",!0),c.style("bottom",b(s(a[0]))),u.style("bottom",b(s(a[0]))),S.on("drag",A);var C=100-parseFloat(b(s(a[1])));k.style("bottom",b(s(a[1]))),u.style("top",C+"%"),S.on("drag",A)}else c.style("bottom",b(s(a))),S.on("drag",A);d=parseInt(N.style("height"),10)}m&&e(N)})}function r(e){var r="array"==i(a)&&2==a.length?a[y-1]:a,o=b(s(n(r))),l=b(s(n(e))),d="horizontal"===v?"left":"bottom";if(o!==l){if("array"==i(a)&&2==a.length?(a[y-1]=e,t.event&&x.slide(t.event,a)):t.event&&x.slide(t.event.sourceEvent||t.event,a=e),a[0]>=a[1])return;if(1===y)"array"==i(a)&&2==a.length&&("left"===d?u.style("left",l):u.style("bottom",l)),_?c.transition().styleTween(d,function(){return t.interpolate(o,l)}).duration("number"==typeof _?_:250):c.style(d,l);else{var f=100-parseFloat(l),p=100-parseFloat(l);"left"===d?u.style("right",f+"%"):u.style("top",p+"%"),_?k.transition().styleTween(d,function(){return t.interpolate(o,l)}).duration("number"==typeof _?_:250):k.style(d,l)}}}function n(t){if(t===s.domain()[0]||t===s.domain()[1])return t;var e=t;if(w)e=o(s(t));else{var r=(t-s.domain()[0])%h;e=t-r,2*Math.abs(r)>=h&&(e+=r>0?h:-h)}return e}function o(t){var e=s.ticks?s.ticks():s.domain(),r=e.map(function(e){return t-s(e)}),n=-1,o=0,i=s.ticks?s.range()[1]:s.rangeExtent()[1];do n++,Math.abs(r[n])<i&&(i=Math.abs(r[n]),o=n);while(r[n]>0&&n<r.length-1);return e[o]}function i(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}var a,s,l,c,u,d,f=0,p=100,h=.01,_=!1,v="horizontal",m=!1,g=50,y=1,w=!1,x=t.dispatch("slide","slideend"),b=t.format(".2%"),z=t.format(".0"),k=null;return e.min=function(t){return arguments.length?(f=t,e):f},e.max=function(t){return arguments.length?(p=t,e):p},e.step=function(t){return arguments.length?(h=t,e):h},e.animate=function(t){return arguments.length?(_=t,e):_},e.orientation=function(t){return arguments.length?(v=t,e):v},e.axis=function(t){return arguments.length?(m=t,e):m},e.margin=function(t){return arguments.length?(g=t,e):g},e.value=function(t){return arguments.length?(a&&r(n(t)),a=t,e):a},e.snap=function(t){return arguments.length?(w=t,e):w},e.scale=function(t){return arguments.length?(s=t,e):s},t.rebind(e,x,"on"),e}})}]);
//# sourceMappingURL=clustergrammer.node.min.js.map