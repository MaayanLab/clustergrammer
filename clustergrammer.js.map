{"version":3,"file":"clustergrammer.js","sources":["webpack:///webpack/bootstrap bd038b74631eb5e6ab5d","webpack:///src/main.js","webpack:///src/config.js","webpack:///src/Utils_clust.js","webpack:///src/colors.js","webpack:///src/network/transpose_network.js","webpack:///src/params/get_available_filters.js","webpack:///src/filters/get_filter_default_state.js","webpack:///src/config/set_defaults.js","webpack:///src/config/check_sim_mat.js","webpack:///src/config/check_nodes_for_categories.js","webpack:///src/params/index.js","webpack:///src/network/change_network_view.js","webpack:///src/network/filter_using_new_nodes.js","webpack:///src/filters/get_subset_views.js","webpack:///src/set_viz_wrapper_size.js","webpack:///src/params/calc_viz_dimensions.js","webpack:///src/params/calc_clust_width.js","webpack:///src/params/calc_clust_height.js","webpack:///src/params/get_svg_dim.js","webpack:///src/params/ini_label_params.js","webpack:///src/params/ini_viz_params.js","webpack:///src/params/ini_matrix_params.js","webpack:///src/initialize_matrix.js","webpack:///src/params/calc_default_fs.js","webpack:///src/params/calc_matrix_params.js","webpack:///src/params/calc_label_params.js","webpack:///src/params/calc_val_max.js","webpack:///src/params/set_zoom_params.js","webpack:///src/zoom/zoomed.js","webpack:///src/zoom/apply_zoom.js","webpack:///src/zoom/run_transformation.js","webpack:///src/zoom/constrain_font_size.js","webpack:///src/zoom/calc_real_font_size.js","webpack:///src/zoom/zooming_has_stopped.js","webpack:///src/zoom/num_visible_labels.js","webpack:///src/zoom/trim_text.js","webpack:///src/zoom/show_visible_area.js","webpack:///src/zoom/toggle_element_display.js","webpack:///src/zoom/resize_label_val_bars.js","webpack:///src/zoom/zoom_rules_y.js","webpack:///src/zoom/zoom_rules_x.js","webpack:///src/zoom/calc_zoom_switching.js","webpack:///src/params/ini_sidebar_params.js","webpack:///src/filters/make_requested_view.js","webpack:///src/viz.js","webpack:///src/matrix/index.js","webpack:///src/draw_gridlines.js","webpack:///src/matrix/add_click_hlight.js","webpack:///src/matrix/make_simple_rows.js","webpack:///src/enter/draw_up_tile.js","webpack:///src/enter/draw_dn_tile.js","webpack:///src/matrix/mouseover_tile.js","webpack:///src/matrix/mouseout_tile.js","webpack:///src/tooltip/d3_tip_custom.js","webpack:///src/labels/make_rows.js","webpack:///src/labels/add_row_click_hlight.js","webpack:///src/reorder/row_reorder.js","webpack:///src/reorder/reposition_tile_highlight.js","webpack:///src/dendrogram/toggle_dendro_view.js","webpack:///src/dendrogram/make_row_dendro_triangles.js","webpack:///src/dendrogram/calc_row_dendro_triangles.js","webpack:///src/dendrogram/dendro_group_highlight.js","webpack:///src/dendrogram/dendro_shade_bars.js","webpack:///src/dendrogram/dendro_mouseover.js","webpack:///src/dendrogram/dendro_mouseout.js","webpack:///src/dendrogram/make_col_dendro_triangles.js","webpack:///src/dendrogram/calc_col_dendro_triangles.js","webpack:///src/reorder/col_reorder.js","webpack:///src/labels/make_row_tooltips.js","webpack:///src/labels/make_cols.js","webpack:///src/labels/add_col_click_hlight.js","webpack:///src/labels/make_col_tooltips.js","webpack:///src/labels/super_labels.js","webpack:///src/spillover.js","webpack:///src/categories/get_cat_title.js","webpack:///src/reorder/ini_cat_reorder.js","webpack:///src/reorder/all_reorder.js","webpack:///src/search/index.js","webpack:///src/zoom/two_translate_zoom.js","webpack:///src/labels/label_constrain_and_trim.js","webpack:///src/initialize_resizing.js","webpack:///src/reset_size/resize_viz.js","webpack:///src/zoom/ini_doubleclick.js","webpack:///src/zoom/reset_zoom.js","webpack:///src/reset_size/resize_dendro.js","webpack:///src/reset_size/resize_grid_lines.js","webpack:///src/reset_size/resize_super_labels.js","webpack:///src/reset_size/resize_spillover.js","webpack:///src/reset_size/resize_borders.js","webpack:///src/reset_size/resize_row_labels.js","webpack:///src/reset_size/resize_highlights.js","webpack:///src/reset_size/resize_row_viz.js","webpack:///src/reset_size/resize_col_labels.js","webpack:///src/reset_size/resize_col_text.js","webpack:///src/reset_size/resize_col_triangle.js","webpack:///src/reset_size/resize_col_hlight.js","webpack:///src/reset_size/recalc_params_for_resize.js","webpack:///src/reset_size/resize_row_tiles.js","webpack:///src/reset_size/resize_label_bars.js","webpack:///src/demo/position_play_button.js","webpack:///src/dendrogram/make_col_cat.js","webpack:///src/dendrogram/cat_tooltip_text.js","webpack:///src/dendrogram/reset_cat_opacity.js","webpack:///src/dendrogram/make_row_cat.js","webpack:///src/dendrogram/make_row_dendro.js","webpack:///src/dendrogram/make_col_dendro.js","webpack:///src/demo/play_demo.js","webpack:///src/demo/run_segment.js","webpack:///src/demo/play_intro.js","webpack:///src/demo/demo_text.js","webpack:///src/demo/play_zoom.js","webpack:///src/demo/play_reset_zoom.js","webpack:///src/demo/sim_click.js","webpack:///src/demo/play_reorder_row.js","webpack:///src/demo/play_reorder_buttons.js","webpack:///src/demo/highlight_sidebar_element.js","webpack:///src/demo/play_search.js","webpack:///src/demo/play_filter.js","webpack:///src/network/update_network.js","webpack:///src/sidebar/disable_sidebar.js","webpack:///src/update/update_with_new_network.js","webpack:///src/network/define_enter_exit_delays.js","webpack:///src/enter/enter_exit_update.js","webpack:///src/reset_size/reset_size_after_update.js","webpack:///src/enter/eeu_existing_row.js","webpack:///src/exit/exit_existing_row.js","webpack:///src/enter/enter_existing_row.js","webpack:///src/update/update_split_tiles.js","webpack:///src/exit/exit_components.js","webpack:///src/enter/enter_grid_lines.js","webpack:///src/enter/enter_row_groups.js","webpack:///src/enter/enter_new_rows.js","webpack:///src/enter/enter_split_tiles.js","webpack:///src/reset_size/resize_containers.js","webpack:///src/sidebar/ini_sidebar.js","webpack:///src/dendrogram/change_groups.js","webpack:///src/sidebar/enable_sidebar.js","webpack:///src/reorder/update_reorder_buttons.js","webpack:///src/demo/quick_cluster.js","webpack:///src/demo/play_groups.js","webpack:///src/demo/play_categories.js","webpack:///src/demo/play_conclusion.js","webpack:///src/demo/toggle_play_button.js","webpack:///src/demo/play_menu_button.js","webpack:///src/demo/ini_demo.js","webpack:///src/demo/make_play_button.js","webpack:///src/demo/make_demo_text_containers.js","webpack:///src/sidebar/index.js","webpack:///src/filters/set_up_filters.js","webpack:///src/filters/make_slider_filter.js","webpack:///src/filters/make_filter_title.js","webpack:///src/filters/apply_filter_slider.js","webpack:///src/filters/reset_other_filter_sliders.js","webpack:///src/filters/get_current_orders.js","webpack:///src/filters/make_button_filter.js","webpack:///src/sidebar/set_up_dendro_sliders.js","webpack:///src/sidebar/set_up_search.js","webpack:///src/sidebar/set_up_reorder.js","webpack:///src/sidebar/set_sidebar_ini_view.js","webpack:///src/sidebar/make_icons.js","webpack:///src/screenshot/save_svg_png.js","webpack:///src/screenshot/file_saver.js","webpack:///src/sidebar/make_modals.js","webpack:///src/modal/make_modal_skeleton.js","webpack:///src/sidebar/set_up_opacity_slider.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap bd038b74631eb5e6ab5d\n **/","var make_config = require('./config');\nvar make_params = require('./params/');\nvar make_viz = require('./viz');\nvar resize_viz = require('./reset_size/resize_viz');\nvar play_demo = require('./demo/play_demo');\nvar ini_demo = require('./demo/ini_demo');\nvar update_network = require('./network/update_network');\n\n/* clustergrammer 1.0\n * Nick Fernandez, Ma'ayan Lab, Icahn School of Medicine at Mount Sinai\n * (c) 2016\n */\nfunction Clustergrammer(args) {\n\n  /* Main program\n   * ----------------------------------------------------------------------- */\n  // consume and validate user input\n  // build giant config object\n  // visualize based on config object\n  // handle user events\n\n  // consume and validate user arguments, produce configuration object\n  var config = make_config(args);\n  // make visualization parameters using configuration object\n  var params = make_params(config);\n\n  var cgm = {};\n  cgm.params = params;\n  cgm.config = config;\n\n  if (params.use_sidebar) {\n    var make_sidebar = require('./sidebar/');\n    params = make_sidebar(cgm);\n  }\n\n  // make visualization using parameters\n  make_viz(params);\n\n  function external_resize() {\n\n    d3.select(params.viz.viz_svg).style('opacity', 0.5);\n\n    var wait_time = 500;\n    if (this.params.viz.run_trans === true){\n      wait_time = 2500;\n    }\n\n    setTimeout(resize_fun, wait_time, this);\n  }\n\n  function resize_fun(cgm){\n    // use this params, because this will have the latest params\n    resize_viz(cgm.params);\n  }\n\n  function external_update_view(requested_view){\n    params = update_network(this, requested_view);\n  }\n\n  // add more API endpoints\n  cgm.update_view = external_update_view;\n  cgm.resize_viz = external_resize;\n  cgm.play_demo = play_demo;\n  cgm.ini_demo = ini_demo;\n\n  return cgm;\n}\n\nmodule.exports = Clustergrammer;\n\n\n\n/** WEBPACK FOOTER **\n ** src/main.js\n **/","var utils = require('./Utils_clust');\nvar colors = require('./colors');\nvar transpose_network = require('./network/transpose_network');\nvar get_available_filters = require('./params/get_available_filters');\nvar get_filter_default_state = require('./filters/get_filter_default_state');\nvar set_defaults = require('./config/set_defaults');\nvar check_sim_mat = require('./config/check_sim_mat');\nvar check_nodes_for_categories = require('./config/check_nodes_for_categories');\n\nmodule.exports = function make_config(args) {\n\n  var defaults = set_defaults();\n\n  // Mixin defaults with user-defined arguments.\n  var config = utils.extend(defaults, args);\n\n  config.network_data = args.network_data;\n\n  var super_string = ': ';\n  var tmp_super;\n\n  // replace undersores with space in row/col names\n  _.each(['row', 'col'], function(inst_rc){\n\n    var inst_nodes = config.network_data[inst_rc+'_nodes'];\n\n    var has_cats = check_nodes_for_categories(inst_nodes);\n\n    inst_nodes.forEach(function(d){\n\n      if (has_cats){\n        config.super_labels = true;\n        config.super[inst_rc] = d.name.split(super_string)[0];\n        d.name = d.name.split(super_string)[1];\n      }\n\n      d.name = d.name.replace(/_/g, ' ');\n    });\n\n  });\n\n  config.network_data.row_nodes_names = utils.pluck(config.network_data.row_nodes, 'name');\n  config.network_data.col_nodes_names = utils.pluck(config.network_data.col_nodes, 'name');\n\n  config.sim_mat = check_sim_mat(config);\n\n  var filters = get_available_filters(config.network_data.views);\n\n  var default_states = {};\n  _.each( _.keys(filters.possible_filters), function(inst_filter){\n    var tmp_state = get_filter_default_state(filters.filter_data, inst_filter);\n\n    default_states[inst_filter] = tmp_state;\n  });\n\n  // process view\n  if (_.has(config.network_data, 'views')){\n    config.network_data.views.forEach(function(inst_view){\n\n      _.each( _.keys(filters.possible_filters), function(inst_filter){\n        if ( !_.has(inst_view, inst_filter) ){\n          inst_view[inst_filter] = default_states[inst_filter];\n        }\n      });\n\n      var inst_nodes = inst_view.nodes;\n\n      // proc row/col nodes names in views\n      _.each(['row','col'], function(inst_rc){\n\n        var has_cats = check_nodes_for_categories(inst_nodes[inst_rc+'_nodes']);\n\n        inst_nodes[inst_rc+'_nodes'].forEach(function(d){\n\n        if (has_cats){\n          d.name = d.name.split(super_string)[1];\n        }\n\n          d.name = d.name.replace(/_/g, ' ');\n\n        });\n\n      });\n\n    });\n  }\n\n  var col_nodes = config.network_data.col_nodes;\n  var row_nodes = config.network_data.row_nodes;\n\n  // add names and instantaneous positions to links\n  config.network_data.links.forEach(function(d){\n    d.name = row_nodes[d.source].name + '_' + col_nodes[d.target].name;\n    d.row_name = row_nodes[d.source].name;\n    d.col_name = col_nodes[d.target].name;\n  });\n\n\n  // transpose network if necessary\n  if (config.transpose) {\n    config.network_data = transpose_network(config.network_data);\n    var tmp_col_label = args.col_label;\n    var tmp_row_label = args.row_label;\n    args.row_label = tmp_col_label;\n    args.col_label = tmp_row_label;\n  }\n\n  // super-row/col labels\n  if (!utils.is_undefined(args.row_label) && !utils.is_undefined(args.col_label)) {\n    config.super_labels = true;\n    config.super = {};\n    config.super.row = args.row_label;\n    config.super.col = args.col_label;\n  }\n\n  // initialize cluster ordering - both rows and columns\n  config.inst_order = {};\n  if (!utils.is_undefined(args.order) && utils.is_supported_order(args.order)) {\n    config.inst_order.row = args.order;\n    config.inst_order.col = args.order;\n  } else {\n    config.inst_order.row = 'clust';\n    config.inst_order.col = 'clust';\n  }\n\n  // set row or column order directly -- note that row/col are swapped\n  // !! need to swap row/col orderings\n  if (!utils.is_undefined(args.row_order) && utils.is_supported_order(args.row_order)) {\n    // !! row and col orderings are swapped, need to fix\n    config.inst_order.col = args.row_order;\n  }\n\n  if (!utils.is_undefined(args.col_order) && utils.is_supported_order(args.col_order)) {\n    // !! row and col orderings are swapped, need to fix\n    config.inst_order.row = args.col_order;\n  }\n\n  var row_has_group = utils.has(config.network_data.row_nodes[0], 'group');\n  var col_has_group = utils.has(config.network_data.col_nodes[0], 'group');\n\n  config.show_dendrogram = row_has_group || col_has_group;\n\n  config.show_categories = {};\n  config.all_cats = {};\n  config.cat_names = {};\n\n  var predefine_colors = false;\n  if (config.cat_colors === null){\n    config.cat_colors = {};\n    predefine_colors = false;\n  } else {\n    predefine_colors = true;\n  }\n\n\n  var num_colors = 0;\n  _.each(['row','col'], function(inst_rc){\n\n    config.show_categories[inst_rc] = false;\n\n    config.all_cats[inst_rc] = [];\n    var tmp_keys = _.keys(config.network_data[inst_rc+'_nodes'][0]);\n\n    _.each( tmp_keys, function(d){\n      if (d.indexOf('cat-') >= 0){\n        config.show_categories[inst_rc] = true;\n        config.all_cats[inst_rc].push(d);\n      }\n    });\n\n\n    if (config.show_categories[inst_rc]){\n\n      if (predefine_colors === false){\n        config.cat_colors[inst_rc] = {};\n      }\n      config.cat_names[inst_rc] = {};\n\n      _.each( config.all_cats[inst_rc], function(inst_cat){\n\n\n        _.each(config.network_data[inst_rc+'_nodes'], function(inst_node){\n\n          if (inst_node[inst_cat].indexOf(super_string) > 0){\n            tmp_super = inst_node[inst_cat].split(super_string)[0];\n            config.cat_names[inst_rc][inst_cat] = tmp_super;\n          } else {\n            config.cat_names[inst_rc][inst_cat] = inst_cat;\n          }\n\n        });\n\n        var names_of_cat = _.uniq( utils.pluck(config.network_data[inst_rc+'_nodes'], inst_cat)).sort();\n\n        if (predefine_colors === false){\n\n          config.cat_colors[inst_rc][inst_cat] = {};\n\n          _.each(names_of_cat, function(cat_tmp, i){\n\n            var inst_color = colors.get_random_color(i+num_colors);\n\n            config.cat_colors[inst_rc][inst_cat][cat_tmp] = inst_color;\n\n            // hack to get 'Not' categories to not be dark colored\n            if (cat_tmp.indexOf('Not ') >= 0){\n              config.cat_colors[inst_rc][inst_cat][cat_tmp] = '#eee';\n            }\n\n            num_colors = num_colors + 1;\n          });\n\n        }\n\n      } );\n\n    }\n\n    if (config.sim_mat){\n      config.cat_colors.row = config.cat_colors.col;\n    }\n\n  });\n\n  // check for category information\n  if (config.show_categories.col) {\n    // generate a dictionary of columns in each category\n    config.cat_dict = {};\n    col_nodes.forEach(function(d){\n\n      // initialize array for each category\n      if (!utils.has(config.cat_dict, d.cat)){\n        config.cat_dict[d.cat] = [];\n      }\n      // add column name to category array\n      config.cat_dict[d.cat].push(d.name);\n    });\n\n  }\n\n  if (utils.has(config.network_data.links[0], 'value_orig')){\n    config.keep_orig = true;\n  } else {\n    config.keep_orig = false;\n  }\n\n  return config;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/config.js\n **/","\n/* Utility functions\n * ----------------------------------------------------------------------- */\nmodule.exports = {\n  normal_name: function(d) {\n    var inst_name = d.name.replace(/_/g, ' ').split('#')[0];\n    return inst_name;\n  },\n  is_supported_order: function(order) {\n    return order === 'ini' || order === 'clust' || order === 'rank_var' || order === 'rank' || order === 'class' || order == 'alpha';\n  },\n\n  /* Returns whether or not an object has a certain property.\n   */\n  has: function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  },\n\n  property: function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  },\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  pluck: function(arr, key) {\n    var self = this;\n    // Double check that we have lodash or underscore available\n    if (window._) {\n      // Underscore provides a _.pluck function. Use that.\n      if (typeof _.pluck === 'function') {\n        return _.pluck(arr, key);\n      } else if (typeof _.map === 'function') {\n        // Lodash does not have a pluck function.\n        // Use _.map with the property function defined above.\n        return _.map(arr, self.property(key));\n      }\n    } else if (arr.map && typeof arr.map === 'function') {\n      // If lodash or underscore not available, check to see if the native arr.map is available.\n      // If so, use it with the property function defined above.\n      return arr.map(self.property(key));\n    }\n  },\n\n  /* Returns true if the object is undefined.\n   */\n  is_undefined: function(obj) {\n    return obj === void 0;\n  },\n\n  /* Mixes two objects in together, overwriting a target with a source.\n   */\n  extend: function(target, source) {\n    target = target || {};\n    for (var prop in source) {\n      if (typeof source[prop] === 'object') {\n        target[prop] = this.extend(target[prop], source[prop]);\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n    return target;\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/Utils_clust.js\n **/","// colors from http://graphicdesign.stackexchange.com/revisions/3815/8\nvar all_colors;\n\nall_colors = [ \"#393b79\", \"#aec7e8\", \"#ff7f0e\", \"#ffbb78\", \"#98df8a\", \"#bcbd22\", \n    \"#404040\", \"#ff9896\", \"#c5b0d5\", \"#8c564b\", \"#1f77b4\", \"#5254a3\", \"#FFDB58\",\n    \"#c49c94\", \"#e377c2\", \"#7f7f7f\", \"#2ca02c\", \"#9467bd\", \"#dbdb8d\", \"#17becf\", \n    \"#637939\", \"#6b6ecf\", \"#9c9ede\", \"#d62728\", \"#8ca252\", \"#8c6d31\", \"#bd9e39\", \n    \"#e7cb94\", \"#843c39\", \"#ad494a\", \"#d6616b\", \"#7b4173\", \"#a55194\", \"#ce6dbd\", \n    \"#de9ed6\"]; \n\n  // too light colors \n  // \"#e7969c\",\n  // \"#c7c7c7\", \n  // \"#f7b6d2\", \n  // \"#cedb9c\", \n  // \"#9edae5\", \n\nfunction get_default_color() {\n  return '#EEE';\n}\n\nfunction get_random_color(i) {\n  return all_colors[i % get_num_colors()];\n}\n\nfunction get_num_colors() {\n  return all_colors.length;\n}\n\nmodule.exports = {\n  get_default_color: get_default_color,\n  get_random_color: get_random_color,\n  get_num_colors: get_num_colors\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/colors.js\n **/","var utils = require('../Utils_clust');\n/* Transpose network.\n */\nmodule.exports = function (net) {\n  var tnet = {},\n      inst_link,\n      i;\n\n  tnet.row_nodes = net.col_nodes;\n  tnet.col_nodes = net.row_nodes;\n  tnet.links = [];\n\n  for (i = 0; i < net.links.length; i++) {\n    inst_link = {};\n    inst_link.source = net.links[i].target;\n    inst_link.target = net.links[i].source;\n    inst_link.value = net.links[i].value;\n\n    // Optional highlight.\n    if (utils.has(net.links[i], 'highlight')) {\n      inst_link.highlight = net.links[i].highlight;\n    }\n    if (utils.has(net.links[i], 'value_up')) {\n      inst_link.value_up = net.links[i].value_up;\n    }\n    if (utils.has(net.links[i], 'value_dn')) {\n      inst_link.value_dn = net.links[i].value_dn;\n    }\n    if (utils.has(net.links[i], 'info')) {\n      inst_link.info = net.links[i].info;\n    }\n    tnet.links.push(inst_link);\n  }\n\n  return tnet;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/network/transpose_network.js\n **/","module.exports = function get_available_filters(views){\n\n  var possible_filters = {};\n  var filter_data = {};\n\n  _.each(views, function(inst_view){\n    var inst_keys = _.keys(inst_view);\n\n    _.each(inst_keys, function(inst_key){\n\n      if (inst_key != 'nodes'){\n\n        if (!_.has(filter_data, inst_key)){\n          filter_data[inst_key] = [];\n        }\n\n        filter_data[inst_key].push(inst_view[inst_key]);\n\n        filter_data[inst_key] = _.uniq( filter_data[inst_key] );\n\n      }\n\n    });\n\n  });\n\n  var tmp_filters = _.keys(filter_data);\n  \n  _.each( tmp_filters, function(inst_filter){\n     \n    var options = filter_data[inst_filter];\n    var num_options = options.length; \n\n    var filter_type = 'categorical';\n    _.each(options, function(inst_option){\n      if (typeof inst_option === 'number'){\n        filter_type = 'numerical';\n      }\n    });\n\n    if (num_options > 1){\n      possible_filters[inst_filter] = filter_type;\n    }\n\n  });\n\n  var filters = {};\n  filters.possible_filters = possible_filters;\n  filters.filter_data = filter_data;\n\n  return filters;\n  \n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/get_available_filters.js\n **/","module.exports = function get_filter_default_state(filter_data, filter_type){\n\n  var default_state = filter_data[filter_type]\n    .sort(function(a, b){return b-a;})[0];\n\n  default_state = String(default_state);\n\n  return default_state;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/filters/get_filter_default_state.js\n **/","module.exports = function set_defaults(){\n\n  var defaults = {\n    // Label options\n    row_label_scale: 1,\n    col_label_scale: 1,\n    super_labels: false,\n    super: {},\n    show_label_tooltips: true,\n    show_tile_tooltips: true,\n    // matrix options\n    transpose: false,\n    tile_colors: ['#FF0000', '#1C86EE'],\n    bar_colors: ['#FF0000', '#1C86EE'],\n    outline_colors: ['orange','black'],\n    highlight_color: '#FFFF00',\n    tile_title: false,\n    // Default domain is set to 0: the domain will be set automatically\n    input_domain: 0,\n    opacity_scale: 'linear',\n    do_zoom: true,\n    is_zoom:0,\n    background_color: '#FFFFFF',\n    super_border_color: '#F5F5F5',\n    outer_margins: {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    },\n    ini_expand: false,\n    grey_border_width: 2,\n    tile_click_hlight: false,\n    super_label_scale: 1,\n    make_tile_tooltip: function(d) { return d.info; },\n    // initialize view, e.g. initialize with row filtering\n    ini_view: null,\n    use_sidebar: true,\n    title:null,\n    about:null,\n    sidebar_width:170,\n    sidebar_icons:true,\n    row_search_placeholder:'Row',\n    buffer_width:10,\n    show_sim_mat:false,\n    cat_colors:null,\n    resize:true,\n    clamp_opacity:0.85,\n    expand_button:true,\n    max_allow_fs: 20\n  };\n\n  return defaults;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/config/set_defaults.js\n **/","module.exports = function check_sim_mat(config){\n\n  var sim_mat = false;\n\n  var num_rows = config.network_data.row_nodes_names.length;\n  var num_cols = config.network_data.col_nodes_names.length;\n  \n  if (num_rows == num_cols){\n\n    // the sort here was causing errors \n    var rows = config.network_data.row_nodes_names;\n    var cols = config.network_data.col_nodes_names;\n    sim_mat = true;\n\n    _.each(rows, function(inst_row){\n      var inst_index = rows.indexOf(inst_row);\n      if (inst_row !== cols[inst_index]){\n        sim_mat = false;\n      }\n    });\n\n  }\n\n  if (sim_mat){\n    config.expand_button = false;\n  }\n\n  return sim_mat;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/config/check_sim_mat.js\n **/","module.exports = function check_nodes_for_categories(nodes){\n\n  var super_string = ': ';\n  var has_cat = true;\n\n  _.each(nodes, function(inst_node){\n    if (inst_node.name.indexOf(super_string) < 0){\n      has_cat = false;\n    }\n  });\n\n  return has_cat;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/config/check_nodes_for_categories.js\n **/","// var crossfilter = require('crossfilter');\nvar change_network_view = require('../network/change_network_view');\nvar set_viz_wrapper_size = require('../set_viz_wrapper_size');\nvar calc_clust_width = require('./calc_clust_width');\nvar calc_clust_height = require('./calc_clust_height');\nvar get_svg_dim = require('./get_svg_dim');\nvar ini_label_params = require('./ini_label_params');\nvar ini_viz_params = require('./ini_viz_params');\nvar ini_matrix_params = require('./ini_matrix_params');\nvar calc_default_fs = require('./calc_default_fs');\nvar calc_matrix_params = require('./calc_matrix_params');\nvar calc_label_params = require('./calc_label_params');\nvar calc_val_max = require('./calc_val_max');\nvar set_zoom_params = require('./set_zoom_params');\nvar ini_sidebar_params = require('./ini_sidebar_params');\nvar make_requested_view = require('../filters/make_requested_view');\nvar get_available_filters = require('./get_available_filters');\n\n/* \nParams: calculates the size of all the visualization elements in the\nclustergram.\n */\n\nmodule.exports = function make_params(input_config) {\n\n  var config = $.extend(true, {}, input_config);\n  var params = config;\n\n  // when pre-loading the visualization using a view\n  if (params.ini_view !== null) {\n\n    var requested_view = params.ini_view;\n\n    var filters = get_available_filters(params.network_data.views);\n\n    params.viz = {};\n    params.viz.possible_filters = filters.possible_filters;\n    params.viz.filter_data = filters.filter_data;\n\n    requested_view = make_requested_view(params, requested_view);  \n\n    // requested_view.enr_score_type = 'combined_score';\n\n    params.network_data = change_network_view(params, params.network_data, requested_view);\n\n  }\n\n  params.labels = ini_label_params(config, params.network_data);\n  params.viz    = ini_viz_params(config, params);\n\n  params.matrix = ini_matrix_params(config, params.viz, params.network_data);\n\n  set_viz_wrapper_size(params);\n\n  params = get_svg_dim(params);\n  params.viz = calc_label_params(params.viz);\n  params.viz = calc_clust_width(params.viz);\n  params.viz = calc_clust_height(params.viz);\n\n  if (params.sim_mat){\n    if (params.viz.clust.dim.width <= params.viz.clust.dim.height){\n      params.viz.clust.dim.height = params.viz.clust.dim.width;\n    } else {\n      params.viz.clust.dim.width = params.viz.clust.dim.height;\n    }\n  }\n\n  params = calc_val_max(params);\n  params = calc_matrix_params(config, params);\n  params = set_zoom_params(params);\n  params = calc_default_fs(params);\n\n  if (params.use_sidebar){\n    params.sidebar = ini_sidebar_params(params);\n  }\n\n  return params;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/params/index.js\n **/","var filter_using_new_nodes = require('./filter_using_new_nodes');\nvar get_subset_views = require('../filters/get_subset_views');\n\nmodule.exports = function change_network_view(params, orig_network_data, requested_view) {\n\n  var views = orig_network_data.views;\n  var inst_view;\n\n  var is_enr = false;\n  if (_.has(views[0], 'enr_score_type')){\n    is_enr = true;\n  }\n\n  // ////////////////////////////////////////\n  // // tmp N_col_sum measure \n  // ////////////////////////////////////////\n  // requested_view.N_col_sum = 30;\n\n  views = get_subset_views(params, views, requested_view);\n\n  // Enrichr specific rules \n  if (is_enr && views.length == 0){\n\n    requested_view = {'N_row_sum':'all', 'N_col_sum':'10'};\n\n    views = orig_network_data.views;\n  \n    views = get_subset_views(params, views, requested_view);\n\n  }\n\n  inst_view = views[0];\n\n  var new_network_data;\n\n  // get new_network_data or default back to old_network_data \n  if (typeof inst_view !== 'undefined'){\n    var new_nodes = inst_view.nodes;\n    var links = orig_network_data.links;\n    new_network_data = filter_using_new_nodes(params, new_nodes, links, views);\n  } else {\n    new_network_data = orig_network_data;\n  }\n\n  // pass on views \n  new_network_data.views = orig_network_data.views;\n\n  return new_network_data;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/network/change_network_view.js\n **/","var utils = require('../Utils_clust');\n\nmodule.exports = function(params, new_nodes, links, views) {\n\n  // get new names of rows and cols\n  var row_names = utils.pluck(new_nodes.row_nodes, 'name');\n  var col_names = utils.pluck(new_nodes.col_nodes, 'name');\n\n  var new_links = _.filter(links, function(d){\n    var inst_row = d.name.split('_')[0];\n    var inst_col = d.name.split('_')[1];\n\n    var row_index = _.indexOf(row_names, inst_row);\n    var col_index = _.indexOf(col_names, inst_col);\n\n    if ( row_index >-1 & col_index >-1 ){\n      // redefine source and target\n      d.source = row_index;\n      d.target = col_index;\n      return d;\n    }\n  });\n\n  // set up new_network_data\n  var new_network_data = {};\n  // rows\n  new_network_data.row_nodes = new_nodes.row_nodes;\n  new_network_data.row_nodes_names = row_names;\n  // cols\n  new_network_data.col_nodes = new_nodes.col_nodes;\n  new_network_data.col_nodes_names = col_names;\n  // links\n  new_network_data.links = new_links;\n\n  // save all links\n  new_network_data.all_links = links;\n\n  // pass on all views\n  new_network_data.views = views;\n\n  return new_network_data;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/network/filter_using_new_nodes.js\n **/","var utils = require('../Utils_clust');\nvar get_filter_default_state = require('./get_filter_default_state');\n\nmodule.exports = function get_subset_views(params, views, requested_view){\n\n  var inst_value;\n  var found_filter;\n\n  var request_filters = _.keys(requested_view);\n\n  // find a view that matches all of the requested view/filter-attributes \n  _.each(request_filters, function(inst_filter){\n\n    inst_value = requested_view[inst_filter];\n\n    // if the value is a number, then convert it to an integer \n    if ( /[^a-z_]/i.test( inst_value ) ){\n      inst_value = parseInt(inst_value,10);\n    } \n\n    // only run filtering if any of the views has the filter \n    found_filter = false;\n    _.each(views, function(tmp_view){\n      if ( utils.has(tmp_view, inst_filter) ){\n        found_filter = true;\n      }\n    });\n\n    if (found_filter){\n      views = _.filter(views, function(d){\n        return d[inst_filter] == inst_value;\n      });\n    }\n\n  });\n\n\n  // remove duplicate complete default states \n  var export_views = [];\n  var found_default = false;\n  var check_default;\n  var inst_default_state;\n\n  // check if each view is a default state: all filters are at default \n  // there can only be one of these \n  _.each(views, function(inst_view){\n\n    check_default = true;\n\n    // check each filter in a view to see if it is in the default state \n    _.each( _.keys(params.viz.possible_filters), function(inst_filter){\n\n      inst_default_state = get_filter_default_state( params.viz.filter_data, inst_filter );\n\n      if (inst_view[inst_filter] != inst_default_state){\n        check_default = false;\n      }\n\n    });\n\n    // found defaule view, only append if you have not already found a default\n    if (check_default){\n      if (found_default === false){\n        found_default = true;\n        export_views.push(inst_view);\n      }\n    } else {\n      export_views.push(inst_view);\n    }\n\n  });\n\n  // if (export_views.length > 1){\n  //   console.log('found more than one view in get_subset_views')\n  //   console.log(requested_view)\n  //   console.log(export_views)\n  // } else {\n  //   console.log('found single view in get_subset_views')\n  //   console.log(requested_view)\n  //   console.log(export_views[0])\n  //   console.log('\\n')\n  // }\n\n  return export_views;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/filters/get_subset_views.js\n **/","var calc_viz_dimensions = require('./params/calc_viz_dimensions');\n\nmodule.exports = function set_viz_wrapper_size(params) {\n\n  // Create wrapper around SVG visualization\n  if (d3.select(params.root+' .viz_wrapper').empty()){\n\n    d3.select(params.root)\n      .append('div')\n      .classed('sidebar_wrapper', true);\n\n    d3.select(params.root)\n      .append('div')\n      .classed('viz_wrapper', true);\n\n  }\n\n\n  var cont_dim = calc_viz_dimensions(params);\n\n  // var sidebar_margin = 5;\n\n  d3.select(params.root)\n    .style('clear','both');\n\n  d3.select(params.root+' .sidebar_wrapper')\n    // .style('margin-left',sidebar_margin+'px')\n    .style('float', 'left')\n    .style('width', params.sidebar_width+'px')\n    .style('height', cont_dim.height+'px')\n    .style('overflow','hidden');\n\n\n  d3.select(params.viz.viz_wrapper)\n    .style('float', 'left')\n    .style('width', cont_dim.width + 'px')\n    // .style('width', '100px')\n    .style('height', cont_dim.height + 'px');\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/set_viz_wrapper_size.js\n **/","module.exports = function calc_viz_dimensions(params){\n\n  var cont_dim = {};\n  var extra_space = params.buffer_width;\n\n  // var screen_width = window.innerWidth;\n  // var screen_height = window.innerHeight;\n\n  // // resize container, then resize visualization within container \n  // d3.select(params.root)\n  //   .style('width', screen_width+'px')\n  //   .style('height', screen_height+'px');\n\n  var container_width = d3.select(params.root).style('width').replace('px','');\n  var container_height = d3.select(params.root).style('height').replace('px','');\n\n  // get outer_margins\n  var outer_margins;\n  if (params.viz.is_expand === false) {\n    outer_margins = params.viz.outer_margins;\n    cont_dim.width = container_width - params.sidebar_width - extra_space;\n  } else {\n    outer_margins = params.viz.outer_margins;\n    cont_dim.width = container_width - extra_space;\n  }\n\n  cont_dim.top = outer_margins.top;\n  cont_dim.left = outer_margins.left;\n\n  if (params.viz.resize) {\n\n    cont_dim.height = container_height;\n\n  } else {\n\n    if (params.viz.is_expand){\n      cont_dim.width = params.viz.fixed_size.width;\n    } else {\n      cont_dim.width = params.viz.fixed_size.width - params.sidebar_width;\n    }\n\n    cont_dim.height = params.viz.fixed_size.height;\n\n  }\n\n  return cont_dim;\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/params/calc_viz_dimensions.js\n **/","module.exports = function calc_clust_width(viz){\n\n  viz.clust = {};\n  viz.clust.margin = {};\n\n  // margin on left/top of the clustergram/matrix \n  // 1) norm_label margin and width\n  // 2) cat_room and uni_margin \n  viz.clust.margin.left = viz.norm_labels.margin.left + \n    viz.norm_labels.width.row + viz.cat_room.row + viz.uni_margin;\n\n  viz.clust.margin.top = viz.norm_labels.margin.top + \n    viz.norm_labels.width.col + viz.cat_room.col + viz.uni_margin;\n\n  // the clustergram/matrix width is the svg width minus:\n  // the margin of the clustergram on the left \n  // the room for the spillover on the right \n  // ** the dendro will fit in the spillover room on the right \n  var ini_clust_width = viz.svg_dim.width\n    - viz.clust.margin.left \n    - viz.spillover_col_slant;\n\n  // make tmp scale to calc height of triangle col labels \n  var tmp_x_scale = d3.scale\n    .ordinal()\n    .rangeBands([0, ini_clust_width])\n    .domain(_.range( viz.num_col_nodes ));\n\n  var triangle_height = tmp_x_scale.rangeBand()/2;\n\n  // prevent the visualization from being unnecessarily wide \n  if (triangle_height > viz.norm_labels.width.col) {\n    var reduce_width = viz.norm_labels.width.col / triangle_height;\n    ini_clust_width = ini_clust_width * reduce_width;\n  }\n\n  viz.clust.dim = {};\n  viz.clust.dim.width = ini_clust_width;\n\n  return viz;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/calc_clust_width.js\n **/","module.exports = function calc_clust_height(viz){\n\n  // the clustergram/matrix height is the svg width minus: \n  // the margin of the clustergram on the top \n  // the dendrogram \n  // the bottom_space \n  var ini_clust_height = viz.svg_dim.height \n    - viz.clust.margin.top\n    - viz.dendro_room.col\n    - viz.bottom_space;\n\n  viz.clust.dim.height = ini_clust_height;\n\n  return viz;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/calc_clust_height.js\n **/","module.exports = function get_svg_dim(params){\n\n  params.viz.svg_dim = {};\n  params.viz.svg_dim.width  = Number(\n    d3.select(params.viz.viz_wrapper)\n      .style('width').replace('px', '')\n      );\n  \n  params.viz.svg_dim.height = Number(\n    d3.select(params.viz.viz_wrapper)\n      .style('height').replace('px', '')\n    );\n  \n  return params;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/get_svg_dim.js\n **/","module.exports = function set_label_params(config, network_data){\n\n  var labels = {};\n  labels.super_label_scale = config.super_label_scale;\n  labels.super_labels = config.super_labels;\n  labels.super_label_fs = 13.8;\n\n  if (labels.super_labels) {\n    labels.super = {};\n    labels.super.row = config.super.row;\n    labels.super.col = config.super.col;\n  }\n\n  labels.show_label_tooltips = config.show_label_tooltips;\n\n  labels.row_max_char = _.max(network_data.row_nodes, \n    function (inst) {\n      return inst.name.length;\n    }).name.length;\n\n  labels.col_max_char = _.max(network_data.col_nodes, \n    function (inst) {\n      return inst.name.length;\n    }).name.length;\n\n  labels.max_allow_fs = config.max_allow_fs;\n\n  return labels;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/ini_label_params.js\n **/","var utils = require('../Utils_clust'); \nvar get_available_filters = require('./get_available_filters');\n\nmodule.exports = function ini_viz_params(config, params){\n\n  var viz = {};\n\n  viz.root = config.root;\n  viz.viz_wrapper = config.root + ' .viz_wrapper';\n  viz.do_zoom = config.do_zoom;\n  viz.background_color = config.background_color;\n  viz.super_border_color = config.super_border_color;\n  viz.outer_margins = config.outer_margins;\n  viz.is_expand = config.ini_expand;\n  viz.grey_border_width = config.grey_border_width;\n  viz.show_dendrogram = config.show_dendrogram;\n  viz.tile_click_hlight = config.tile_click_hlight;\n  viz.inst_order = config.inst_order;\n  viz.expand_button = config.expand_button;\n  viz.all_cats = config.all_cats;\n  viz.cat_colors = config.cat_colors;\n  viz.cat_names = config.cat_names;\n  viz.sim_mat = config.sim_mat;\n\n  viz.viz_svg = viz.viz_wrapper + ' .viz_svg';\n\n  viz.zoom_element = viz.viz_wrapper + ' .viz_svg';\n\n  viz.uni_duration = 1000;\n  viz.bottom_space = 5;\n  viz.run_trans = false;\n  viz.duration = 1000;\n  if (viz.show_dendrogram){\n    config.group_level = {};\n  }\n\n  viz.resize = config.resize;\n  if (utils.has(config, 'size')){\n    viz.fixed_size = config.size;\n  } else { \n    viz.fixed_size = false;\n  }\n\n  // width is 1 over this value\n  viz.border_fraction = 55;\n  viz.uni_margin = 5;\n\n  viz.super_labels = {};\n  viz.super_labels.margin = {};\n  viz.super_labels.dim = {};\n  viz.super_labels.margin.left = viz.grey_border_width;\n  viz.super_labels.margin.top  = viz.grey_border_width;\n  viz.super_labels.dim.width = 0;\n  if (params.labels.super_labels){\n    viz.super_labels.dim.width = 15 * params.labels.super_label_scale;\n  } \n\n  viz.show_categories = {};\n  viz.cat_room = {};\n  viz.cat_room.symbol_width = 12;\n  viz.cat_room.separation = 3;\n\n  viz.cat_colors.opacity = 0.6;\n  viz.cat_colors.active_opacity = 0.9;\n\n  viz.triangle_opacity = 0.6;\n\n  viz.norm_labels = {};\n  viz.norm_labels.width = {};\n\n  viz.dendro_room = {};\n  if (viz.show_dendrogram) {\n    viz.dendro_room.symbol_width = 10;\n  } else {\n    viz.dendro_room.symbol_width = 0;\n  }\n\n  var separtion_room;\n\n  // increase the width of the label container based on the label length \n  var label_scale = d3.scale.linear()\n    .domain([5, 15])\n    .range([ 85, 120]).clamp('true');\n\n  _.each(['row','col'], function(inst_rc){\n\n    viz.show_categories[inst_rc] = config.show_categories[inst_rc];\n    viz.norm_labels.width[inst_rc] = label_scale(params.labels[inst_rc+'_max_char']) \n      * params[inst_rc+'_label_scale'];\n\n    viz['num_'+inst_rc+'_nodes'] = params.network_data[inst_rc+'_nodes'].length;\n\n    if (_.has(config, 'group_level')){\n      config.group_level[inst_rc] = 5;\n    }\n\n    if(inst_rc === 'row'){\n      viz.dendro_room[inst_rc] = viz.dendro_room.symbol_width;\n    } else {\n      viz.dendro_room[inst_rc] = viz.dendro_room.symbol_width + viz.uni_margin;\n    }\n\n    var num_cats = viz.all_cats[inst_rc].length;\n\n    if (viz.show_categories[inst_rc]){\n\n      separtion_room = (num_cats-1)*viz.cat_room.separation;\n\n      var adjusted_cats;\n      if (inst_rc === 'row'){\n        adjusted_cats = num_cats + 1;\n      } else {\n        adjusted_cats = num_cats;\n      }\n\n      viz.cat_room[inst_rc] = adjusted_cats * viz.cat_room.symbol_width + separtion_room;\n\n    } else {\n      // no categories \n      if (inst_rc == 'row'){\n        viz.cat_room[inst_rc] = viz.cat_room.symbol_width;\n      } else {\n        viz.cat_room[inst_rc] = 0;\n      }\n    }\n\n  }); \n\n  viz.dendro_opacity = 0.35;\n\n  viz.spillover_col_slant = viz.norm_labels.width.col;\n\n  var filters = get_available_filters(params.network_data.views);\n\n  viz.possible_filters = filters.possible_filters;\n  viz.filter_data = filters.filter_data;\n\n  return viz;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/ini_viz_params.js\n **/","var utils = require('../Utils_clust');\nvar initialize_matrix = require('../initialize_matrix');\n\nmodule.exports = function ini_matrix_params(config, viz, network_data){\n\n  var matrix = {};\n  matrix.tile_colors = config.tile_colors;\n  matrix.bar_colors = config.bar_colors;\n  matrix.outline_colors = config.outline_colors;\n  matrix.hlight_color = config.highlight_color;\n  matrix.tile_title = config.tile_title;\n  matrix.show_tile_tooltips = config.show_tile_tooltips;\n  matrix.make_tile_tooltip = config.make_tile_tooltip;\n\n  // initialized clicked tile and rows\n  matrix.click_hlight_x = -666;\n  matrix.click_hlight_y = -666;\n  matrix.click_hlight_row = -666;\n  matrix.click_hlight_col = -666;\n\n  // definition of a large matrix (num links) determines if transition is run\n  matrix.def_large_matrix = 10000;\n  matrix.opacity_function = config.opacity_scale;\n\n  matrix.orders = {};\n\n  _.each(['row','col'], function(inst_rc){\n\n    // row ordering is based on col info and vice versa\n    var other_rc;\n    if (inst_rc==='row'){\n      other_rc = 'col';\n    } else {\n      other_rc = 'row';\n    }\n\n    // the nodes are defined using other_rc\n    var inst_nodes = network_data[other_rc+'_nodes'];\n    var num_nodes = inst_nodes.length;\n\n    var nodes_names = utils.pluck(inst_nodes, 'name');\n    var tmp = nodes_names.sort();\n\n    var alpha_index = _.map(tmp, function(d){\n      return network_data[other_rc+'_nodes_names'].indexOf(d);\n    });\n\n    matrix.orders['alpha_'+inst_rc] = alpha_index;\n\n    var possible_orders = ['clust','rank'];\n\n    if (_.has(inst_nodes[0], 'rankvar')){\n      possible_orders.push('rankvar');\n    }\n\n    if (viz.all_cats[other_rc].length > 0){\n      _.each( viz.all_cats[other_rc], function(inst_cat){\n        // the index of the category has replaced - with _\n        inst_cat = inst_cat.replace('-','_');\n        possible_orders.push(inst_cat+'_index');\n      });\n    }\n\n    _.each(possible_orders, function(inst_order){\n\n      var tmp_order_index = d3.range(num_nodes)\n        .sort(function(a,b){\n          return inst_nodes[b][inst_order] - inst_nodes[a][inst_order];\n        });\n\n      matrix.orders[inst_order+'_'+inst_rc] = tmp_order_index;\n\n    });\n\n  });\n\n\n  if (utils.has(network_data, 'all_links')) {\n    matrix.max_link = _.max(network_data.all_links, function (d) {\n      return Math.abs(d.value);\n    }).value;\n  } else {\n    matrix.max_link = _.max(network_data.links, function (d) {\n      return Math.abs(d.value);\n    }).value;\n  }\n\n  matrix.abs_max_val = Math.abs(matrix.max_link) * config.clamp_opacity;\n\n  if (config.input_domain === 0) {\n    if (matrix.opacity_function === 'linear') {\n      matrix.opacity_scale = d3.scale.linear()\n        .domain([0, matrix.abs_max_val]).clamp(true)\n        .range([0.0, 1.0]);\n    } else if (matrix.opacity_function === 'log') {\n      matrix.opacity_scale = d3.scale.log()\n        .domain([0.001, matrix.abs_max_val]).clamp(true)\n        .range([0.0, 1.0]);\n    }\n  } else {\n    if (matrix.opacity_function === 'linear') {\n      matrix.opacity_scale = d3.scale.linear()\n        .domain([0, config.input_domain]).clamp(true)\n        .range([0.0, 1.0]);\n    } else if (matrix.opacity_function === 'log') {\n      matrix.opacity_scale = d3.scale.log()\n        .domain([0.001, config.input_domain]).clamp(true)\n        .range([0.0, 1.0]);\n    }\n  }\n\n  var has_val_up = utils.has(network_data.links[0], 'value_up');\n  var has_val_dn = utils.has(network_data.links[0], 'value_dn');\n\n  if (has_val_up || has_val_dn) {\n    matrix.tile_type = 'updn';\n  } else {\n    matrix.tile_type = 'simple';\n  }\n\n  if (utils.has(network_data.links[0], 'highlight')) {\n    matrix.highlight = 1;\n  } else {\n    matrix.highlight = 0;\n  }\n\n  matrix.matrix = initialize_matrix(network_data);\n\n  matrix.wait_tooltip = 0;\n\n  return matrix;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/params/ini_matrix_params.js\n **/","var utils = require('./Utils_clust');\n\nmodule.exports = function(network_data) {\n  var matrix = [];\n  var ini_object;\n\n  var keep_orig;\n  if (utils.has(network_data.links[0], 'value_orig')){\n    keep_orig = true;\n  } else {\n    keep_orig = false;\n  }\n\n  network_data.row_nodes.forEach(function (tmp, row_index) {\n\n    matrix[row_index] = {};\n    matrix[row_index].name = network_data.row_nodes[row_index].name;\n    matrix[row_index].row_data = d3.range(network_data.col_nodes.length).map(\n      function (col_index) {\n\n        if (utils.has(network_data.links[0], 'value_up') || utils.has(network_data.links[0], 'value_dn')) {\n\n          ini_object = {\n            pos_x: col_index,\n            pos_y: row_index,\n            value: 0,\n            value_up: 0,\n            value_dn: 0,\n            highlight: 0\n          };\n\n        } else {\n\n          ini_object = {\n            pos_x: col_index,\n            pos_y: row_index,\n            value: 0,\n            highlight: 0\n          };\n\n        }\n\n        if (keep_orig){\n          ini_object.value_orig = 0;\n        }\n\n        return ini_object;\n      });\n\n  });\n\n  network_data.links.forEach(function (link) {\n\n    // transfer additional link information is necessary\n    matrix[link.source].row_data[link.target].value = link.value;\n    matrix[link.source].row_data[link.target].row_name = link.row_name;\n    matrix[link.source].row_data[link.target].col_name = link.col_name;\n\n    if (utils.has(link, 'value_up') || utils.has(link, 'value_dn')) {\n      matrix[link.source].row_data[link.target].value_up = link.value_up;\n      matrix[link.source].row_data[link.target].value_dn = link.value_dn;\n    }\n\n    if (keep_orig){\n      matrix[link.source].row_data[link.target].value_orig = link.value_orig;\n    }\n\n    if (link.highlight) {\n      matrix[link.source].row_data[link.target].highlight = link.highlight;\n    }\n    if (link.info) {\n      matrix[link.source].row_data[link.target].info = link.info;\n    }\n  });\n\n  return matrix;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/initialize_matrix.js\n **/","module.exports = function calc_default_fs(params){\n\n  params.labels.default_fs_row = params.viz.y_scale.rangeBand() * 1.01;\n  params.labels.default_fs_col = params.viz.x_scale.rangeBand() * 0.87;\n\n  if ( params.labels.default_fs_row > params.labels.max_allow_fs){\n    params.labels.default_fs_row = params.labels.max_allow_fs;\n  }\n\n  if ( params.labels.default_fs_col > params.labels.max_allow_fs){\n    params.labels.default_fs_col = params.labels.max_allow_fs;\n  }\n\n  return params; \n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/calc_default_fs.js\n **/","module.exports = function calc_matrix_params(config, params){\n\n  params.viz.x_scale = d3.scale.ordinal()\n    .rangeBands([0, params.viz.clust.dim.width]);\n\n  params.viz.y_scale = d3.scale.ordinal()\n    .rangeBands([0, params.viz.clust.dim.height]);\n\n  params.viz.x_scale\n    .domain( params.matrix.orders[ params.viz.inst_order.row + '_row' ] );\n\n  params.viz.y_scale\n    .domain( params.matrix.orders[ params.viz.inst_order.col + '_col' ] );\n\n  params.viz.border_width = params.viz.x_scale.rangeBand() / params.viz.border_fraction;\n\n  return params;\n  \n}; \n\n\n/** WEBPACK FOOTER **\n ** src/params/calc_matrix_params.js\n **/","module.exports = function calc_label_params(viz){\n\n  viz.norm_labels.margin = {};\n\n  viz.norm_labels.margin.left = viz.super_labels.margin.left\n    + viz.super_labels.dim.width;\n    \n  viz.norm_labels.margin.top  = viz.super_labels.margin.top \n    + viz.super_labels.dim.width;\n\n  viz.label_background = {};\n\n  viz.label_background.row = viz.norm_labels.width.row + \n    viz.cat_room.row + viz.uni_margin;\n\n  viz.label_background.col = viz.norm_labels.width.col + \n    viz.cat_room.col + viz.uni_margin;\n\n  return viz;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/calc_label_params.js\n **/","module.exports = function calc_val_max(params){\n\n  var val_max = Math.abs(_.max(params.network_data.col_nodes, function (d) {\n    return Math.abs(d.value);\n  }).value);\n\n  params.labels.bar_scale_col = d3.scale\n    .linear()\n    .domain([0, val_max])\n    .range([0, 0.75 * params.viz.norm_labels.width.col]);\n\n  val_max = Math.abs(_.max(params.network_data.row_nodes, function (d) {\n    return Math.abs(d.value);\n  }).value);\n  \n  params.labels.bar_scale_row = d3.scale\n    .linear()\n    .domain([0, val_max])\n    .range([0, params.viz.norm_labels.width.row]);\n\n  return params;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/calc_val_max.js\n **/","var zoomed = require('../zoom/zoomed');\nvar calc_zoom_switching = require('../zoom/calc_zoom_switching');\n\nmodule.exports = function set_zoom_params(params){\n\n  params.viz.zoom_scale_font = {};\n  params.viz.zoom_scale_font.row = 1;\n  params.viz.zoom_scale_font.col = 1;\n\n  var max_zoom_limit = 0.75;\n  var half_col_height = (params.viz.x_scale.rangeBand() / 2);\n  params.viz.real_zoom = (params.viz.norm_labels.width.col / half_col_height )*max_zoom_limit;\n\n  params.viz = calc_zoom_switching(params.viz);\n\n  params.zoom_behavior = d3.behavior.zoom()\n    .scaleExtent([1, params.viz.real_zoom * params.viz.zoom_switch])\n    .on('zoom', function(){\n      zoomed(params);\n    });\n\n  // rect width needs matrix and zoom parameters \n  params.viz.rect_width  = params.viz.x_scale.rangeBand() \n    - params.viz.border_width;\n\n  params.viz.rect_height = params.viz.y_scale.rangeBand() \n    - params.viz.border_width / params.viz.zoom_switch;\n\n  return params;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/set_zoom_params.js\n **/","var apply_zoom = require('./apply_zoom');\n\nmodule.exports = function zoomed(params) {\n\n  var zoom_info = {};\n  zoom_info.zoom_x = d3.event.scale;\n  zoom_info.zoom_y = d3.event.scale;\n  zoom_info.trans_x = d3.event.translate[0] - params.viz.clust.margin.left;\n  zoom_info.trans_y = d3.event.translate[1] - params.viz.clust.margin.top;\n\n  apply_zoom(params, zoom_info);\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/zoomed.js\n **/","var run_transformation = require('./run_transformation');\nvar zoom_rules_y = require('./zoom_rules_y');\nvar zoom_rules_x = require('./zoom_rules_x');\n\nmodule.exports = function apply_zoom(params, zoom_info) {\n\n  d3.selectAll('.tile_tip')\n    .style('display','none' );\n\n  zoom_info = zoom_rules_y(params, zoom_info);\n\n  zoom_info = zoom_rules_x(params, zoom_info);\n\n  run_transformation(params, zoom_info);\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/apply_zoom.js\n **/","var constrain_font_size = require('./constrain_font_size');\nvar zooming_has_stopped = require('./zooming_has_stopped');\nvar show_visible_area = require('./show_visible_area');\nvar resize_label_val_bars = require('./resize_label_val_bars');\nvar num_visible_labels = require('./num_visible_labels');\n\nmodule.exports = function run_transformation(params, zoom_info){\n\n  // apply transformation and reset translate vector\n  // translate clustergram\n  d3.select(params.root+' .clust_group')\n    .attr('transform', 'translate(' + [zoom_info.trans_x, zoom_info.trans_y] + ') scale(' +\n    zoom_info.zoom_x + ',' + zoom_info.zoom_y + ')');\n\n\n  // labels \n  /////////////////////////////\n  d3.select(params.root+' .row_label_zoom_container')\n    .attr('transform', 'translate(' + [0, zoom_info.trans_y] + ') scale(' + zoom_info.zoom_y +\n    ')');\n\n  // move down col labels as zooming occurs, subtract trans_x - 20 almost works\n  d3.select(params.root+' .col_zoom_container')\n    .attr('transform', 'translate(' + [zoom_info.trans_x, 0] + ') scale(' + zoom_info.zoom_x +\n    ')');\n\n\n  d3.select(params.root+' .row_cat_container')\n    .attr('transform', 'translate(' + [0, zoom_info.trans_y] + ') scale( 1,' +\n    zoom_info.zoom_y + ')');\n\n  d3.select(params.root+' .row_dendro_container')\n    .attr('transform', 'translate(' + [params.viz.uni_margin/2, zoom_info.trans_y] + ') '+\n      'scale( 1,' + zoom_info.zoom_y + ')');    \n\n\n  // transform col_class\n  d3.select(params.root+' .col_cat_container')\n    .attr('transform', 'translate('+[zoom_info.trans_x, 0]+') scale(' +zoom_info.zoom_x+ ',1)');\n\n  d3.select(params.root+' .col_dendro_container')\n    .attr('transform', 'translate('+[zoom_info.trans_x, params.viz.uni_margin/2]+') scale(' +zoom_info.zoom_x+ ',1)');\n\n  // reset translate vector - add back margins to trans_x and trans_y\n  params.zoom_behavior\n    .translate([zoom_info.trans_x + params.viz.clust.margin.left, zoom_info.trans_y + params.viz.clust.margin.top\n    ]);\n\n  constrain_font_size(params);\n\n  resize_label_val_bars(params, zoom_info);\n\n\n  d3.select(params.root+' .viz_svg')\n    .attr('is_zoom', function(){\n      var inst_zoom = Number(d3.select(params.root+' .viz_svg').attr('is_zoom'));\n      d3.select(params.root+' .viz_svg').attr('stopped_zoom',1);\n      return inst_zoom + 1;\n    });\n\n  var not_zooming = function(){\n    \n    d3.select(params.root+' .viz_svg')\n      .attr('is_zoom',function(){\n        var inst_zoom = Number(d3.select(params.root+' .viz_svg').attr('is_zoom'));\n        return inst_zoom - 1;\n      });\n\n  };\n\n  setTimeout(not_zooming, 100);\n\n  setTimeout(zooming_has_stopped, 1000, params);\n\n  _.each(['row','col'], function(inst_rc){\n\n    var inst_num_visible = num_visible_labels(params, inst_rc);\n\n\n    if (inst_num_visible > 250){\n\n      d3.selectAll(params.root+' .'+inst_rc+'_label_group')\n        .select('text')\n        .style('display','none');\n\n      d3.selectAll(params.root+' .'+inst_rc+'_cat_group')\n        .select('path')\n        .style('display','none');\n\n      d3.selectAll('.horz_lines').select('line').style('display','none');\n      d3.selectAll('.vert_lines').select('line').style('display','none');\n    } else {\n\n      if (inst_num_visible > 40){\n\n        var calc_show_char = d3\n          .scale.linear()\n          .domain([1,500])\n          .range([3,1])\n          .clamp(true);\n\n        var num_show_char = Math.floor(calc_show_char(inst_num_visible));\n\n        d3.selectAll(params.root+' .'+inst_rc+'_label_group')\n          .select('text')\n          .style('opacity',0.5)\n          .text(function(d){\n            return d.name.substring(0,num_show_char)+'..';\n          });\n\n      }\n\n    }\n    \n  });\n\n\n  // // experimental tile display toggling \n  // var inst_zoom = Number(d3.select(params.root+' .viz_svg').attr('is_zoom'));\n\n  // if (inst_zoom == 1){\n  //   d3.selectAll(params.root+' .hide_tile')\n  //     .style('display', 'none');\n  // }\n\n  show_visible_area(params, zoom_info);\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/run_transformation.js\n **/","var calc_real_font_size = require('./calc_real_font_size');\n\nmodule.exports = function constrain_font_size(params) {\n\n  var tmp_font_size = params.labels.default_fs_row ;\n  var inst_zoom;\n\n  var real_font_size = calc_real_font_size(params);\n\n  // rows\n  ////////////////////////////////////\n  if (real_font_size.row > params.labels.max_allow_fs){\n\n    if (params.viz.zoom_switch_y){\n      inst_zoom = params.zoom_behavior.scale()/params.viz.zoom_switch_y;\n    } else {\n      inst_zoom = params.zoom_behavior.scale();\n    }\n\n    if (inst_zoom < 1){\n      inst_zoom = 1;\n    }\n\n    tmp_font_size = (params.labels.max_allow_fs/inst_zoom );\n\n    d3.selectAll(params.root+' .row_label_group')\n      .select('text')\n      .style('font-size', tmp_font_size + 'px')\n      .attr('y', params.viz.rect_height * 0.5 + tmp_font_size*0.35 );\n\n  } else {\n    d3.selectAll(params.root+' .row_label_group')\n      .select('text')\n      .style('font-size', params.labels.default_fs_row + 'px')\n      .attr('y', params.viz.rect_height * 0.5 + params.labels.default_fs_row*0.35 );\n  }\n\n  // columns \n  //////////////////////////////////////\n\n\n  if (real_font_size.col > params.labels.max_allow_fs){\n\n    if (params.viz.zoom_switch > 1){\n      inst_zoom = params.zoom_behavior.scale()/params.viz.zoom_switch ;\n    } else {\n      inst_zoom = params.zoom_behavior.scale();\n    }\n\n    if (inst_zoom < 1){\n      inst_zoom = 1;\n    }\n\n    tmp_font_size = params.labels.max_allow_fs/inst_zoom;\n\n    if (tmp_font_size > 0.7*params.viz.rect_width){\n      tmp_font_size = 0.7*params.viz.rect_width;\n    }\n\n    d3.selectAll(params.root+' .col_label_text')\n      .select('text')\n      .style('font-size', tmp_font_size + 'px');\n\n  } else {\n    d3.selectAll(params.root+' .col_label_text')\n      .select('text')\n      .style('font-size', params.labels.default_fs_col + 'px');\n  }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/constrain_font_size.js\n **/"," module.exports = function calc_real_font_size(params){\n\n  var real_font_size = {};\n  // zoom_switch behavior has to change with zoom_switch_y\n  if (params.viz.zoom_switch > 1){\n    real_font_size.row = params.labels.default_fs_row * params.zoom_behavior.scale();\n    real_font_size.col = params.labels.default_fs_col * params.zoom_behavior.scale(); ///params.viz.zoom_switch;\n  } else {\n    real_font_size.row = params.labels.default_fs_row * params.zoom_behavior.scale()/params.viz.zoom_switch_y;\n    real_font_size.col = params.labels.default_fs_col * params.zoom_behavior.scale();\n  }\n\n  return real_font_size;\n\n }; \n\n\n/** WEBPACK FOOTER **\n ** src/zoom/calc_real_font_size.js\n **/","var num_visible_labels = require('./num_visible_labels');\nvar trim_text = require('./trim_text');\nvar constrain_font_size = require('./constrain_font_size');\n\nmodule.exports = function zooming_has_stopped(params){\n  \n  var inst_zoom = Number(d3.select(params.root+' .viz_svg').attr('is_zoom'));\n\n  _.each(['row','col'], function(inst_rc){\n\n    d3.selectAll(params.root+' .'+inst_rc+'_label_group' )\n      .select('text')\n      .style('opacity',1);\n\n    d3.selectAll(params.root+' .'+inst_rc+'_cat_group')\n      .select('path')\n      .style('display','block');      \n      \n\n  });      \n\n  if (inst_zoom === 0){\n\n\n    var check_stop = Number(\n        d3.select(params.root+' .viz_svg').attr('stopped_zoom')\n      );\n    \n    if (check_stop!=0){\n\n      // // experimental tile display toggling \n      // d3.selectAll(params.root+' .hide_tile')\n      //   .style('display','block');\n\n      d3.selectAll(params.root+' .row_label_group').select('text').style('display','none');\n      d3.selectAll(params.root+' .row_label_group').select('text').style('display','block');\n\n      d3.select(params.root+' .viz_svg').attr('stopped_zoom',0);\n\n      d3.selectAll(params.root+' .row_label_group').select('text').style('display','block');\n      d3.selectAll(params.root+' .col_label_group').select('text').style('display','block');\n      \n\n      d3.selectAll(params.root+' .horz_lines').select('line').style('display','block');\n      d3.selectAll(params.root+' .vert_lines').select('line').style('display','block');\n\n\n      _.each(['row','col'], function(inst_rc){\n        \n        var inst_num_visible = num_visible_labels(params, inst_rc);\n\n        if (inst_num_visible < 125){\n          d3.selectAll(params.root+' .'+inst_rc+'_label_group' )\n            .each(function() { \n              trim_text(params, this, inst_rc); \n            });\n        }\n\n      });  \n\n      text_patch();\n\n      constrain_font_size(params);\n\n    } \n\n      // this makes sure that the text is visible after zooming and trimming\n      // there is buggy behavior in chrome when zooming into large matrices\n      // I'm running it twice in quick succession \n      setTimeout( text_patch, 25 );\n      setTimeout( text_patch, 100 );\n      // setTimeout( text_patch, 2000 );\n  }\n\n  function text_patch(){\n\n    _.each(['row','col'], function(inst_rc){\n\n      d3.selectAll(params.root+' .'+inst_rc+'_label_group')\n        .filter(function(){\n          return d3.select(this).style('display') != 'none';\n        })\n        .select('text')\n        .style('font-size',function(){\n          var inst_fs = Number(d3.select(this).style('font-size').replace('px','')); \n          return inst_fs;\n        });\n\n    });\n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/zooming_has_stopped.js\n **/","module.exports = function num_visible_labels(params, inst_rc){\n\nvar group_name;\nif (inst_rc === 'row'){\n  group_name = 'group';\n} else if (inst_rc === 'col') {\n  group_name = 'text';\n}\n\nvar num_visible = d3.selectAll(params.root+' .'+inst_rc+'_label_'+group_name)\n  .filter(function(){\n    return d3.select(this).style('display')!='none';\n  })[0].length;\n\n  return num_visible;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/num_visible_labels.js\n **/","\nmodule.exports = function(params, inst_selection, inst_rc) {\n  if (d3.select(inst_selection).style('display') != 'none'){\n\n    // trim text that is longer than the container \n    var inst_zoom;\n    var inst_width;\n    var trimmed_text;\n    var current_num_char;\n    var inst_text;\n    var original_text;\n    var keep_num_char;\n    var i;\n\n    var max_width = params.viz.norm_labels.width[inst_rc];\n\n    if (inst_rc === 'row'){\n      if (params.viz.zoom_switch_y){\n        inst_zoom = params.zoom_behavior.scale()/params.viz.zoom_switch_y;\n      } else {\n        inst_zoom = params.zoom_behavior.scale();\n      }\n      // num_trims = params.labels.row_max_char;\n    } else {\n      if (params.viz.zoom_switch > 1){\n        inst_zoom = params.zoom_behavior.scale()/params.viz.zoom_switch;\n      } else {\n        inst_zoom = params.zoom_behavior.scale();\n      }\n      // num_trims = params.labels.col_max_char;\n    }\n\n    var num_trims;\n    d3.select(inst_selection)\n      .select('text')\n      .each(function(d){\n        num_trims = d.name.length;\n      });\n\n    var tmp_width = d3.select(inst_selection)\n      .select('text')\n      .node()\n      .getBBox()\n      .width;\n\n    inst_width = calc_width(tmp_width, inst_zoom);\n\n    if (inst_width > max_width){\n\n      for (i=1; i < num_trims; i++){\n        if (inst_width > max_width){\n\n          d3.select(inst_selection)\n            .select('text')\n            .text( trim );\n\n          tmp_width = d3.select(inst_selection)\n            .select('text')\n            .node().getBBox().width;\n\n          inst_width = calc_width(tmp_width, inst_zoom);\n\n        }\n      }\n\n    } \n\n    else if (inst_width < max_width * 0.75 ) {\n\n      for (i=1; i < num_trims; i++){\n        if (inst_width < max_width * 0.75){\n\n          d3.select(inst_selection)\n            .select('text')\n            .text( add_back );\n\n          tmp_width = d3.select(inst_selection)\n            .select('text')\n            .node().getBBox().width;\n\n          inst_width = calc_width(tmp_width, inst_zoom);\n\n        }\n      }\n\n    }\n  }\n\n  function trim(){\n    inst_text = d3.select(this).text();\n    current_num_char = inst_text.length;\n    keep_num_char = current_num_char - 3;\n    trimmed_text = inst_text.substring(0,keep_num_char)+'..';\n    return trimmed_text;\n  }\n\n  function add_back(d){\n    inst_text = d3.select(this).text();\n    if (inst_text.slice(-2)==='..'){\n      current_num_char = inst_text.length-2;\n    } else {\n      current_num_char = inst_text.length;\n    }\n    \n    original_text = d.name;\n    keep_num_char = current_num_char +2;\n    trimmed_text = original_text.substring(0,keep_num_char)+'..';\n\n    // if '..' was added to original text \n    if (trimmed_text.length > original_text.length){\n      trimmed_text = original_text;\n    }\n\n    return trimmed_text;\n  }\n\n  function calc_width(tmp_width, inst_zoom){\n    if (inst_zoom < 1){\n      inst_width = tmp_width;\n    } else {\n      inst_width = tmp_width * inst_zoom;\n    }\n\n    return inst_width;\n  }    \n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/trim_text.js\n **/","var toggle_element_display = require('./toggle_element_display');\n\nmodule.exports = function show_visible_area(params, zoom_info){\n\n  var vis_area = {};\n\n  // get translation vector absolute values \n  vis_area.min_x = Math.abs(zoom_info.trans_x)/zoom_info.zoom_x - 3*params.viz.rect_width;\n  vis_area.min_y = Math.abs(zoom_info.trans_y)/zoom_info.zoom_y - 3*params.viz.rect_height ;\n\n  vis_area.max_x = Math.abs(zoom_info.trans_x)/zoom_info.zoom_x + \n                       params.viz.clust.dim.width/zoom_info.zoom_x ;\n  vis_area.max_y = Math.abs(zoom_info.trans_y)/zoom_info.zoom_y + \n                      params.viz.clust.dim.height/zoom_info.zoom_y ;\n\n  // toggle labels and rows \n  ///////////////////////////////////////////////\n  d3.selectAll(params.root+' .row_label_group')\n    .each(function(){\n      toggle_element_display(vis_area, this, 'row');\n    });\n\n  d3.selectAll(params.root+' .row')\n    .each(function(){\n      toggle_element_display(vis_area, this, 'row');\n    });\n\n  // toggle col labels \n  d3.selectAll(params.root+' .col_label_text')\n    .each(function(){\n      toggle_element_display(vis_area, this, 'col');\n    });\n\n  return vis_area;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/show_visible_area.js\n **/","module.exports = function toggle_element_display(vis_area, inst_selection, inst_rc){\n\n  var inst_trans = d3.select(inst_selection)\n    .attr('transform');\n\n  if (inst_rc === 'row'){\n\n\n    var y_trans = Number(inst_trans.split(',')[1].split(')')[0]);\n\n    d3.select(inst_selection)\n      .style('display',function(){\n        var inst_display;\n        if (y_trans < vis_area.max_y && y_trans > vis_area.min_y){\n          inst_display = 'block';\n        } else {\n          inst_display = 'none';\n        }\n        return inst_display;\n      });  \n\n  } else {\n\n    var x_trans = Number(inst_trans.split('(')[1].split(',')[0].split(')')[0]);\n\n    d3.select(inst_selection)\n      .style('display',function(){\n        var inst_display;\n        if (x_trans < vis_area.max_x && x_trans > vis_area.min_x){\n          inst_display = 'block';\n        } else {\n          inst_display = 'none';\n        }\n\n        return inst_display;\n      });  \n\n    }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/toggle_element_display.js\n **/","var utils = require('../Utils_clust');\n\nmodule.exports = function resize_label_val_bars(params, zoom_info){\n\n  // resize label bars if necessary\n  if (utils.has(params.network_data.row_nodes[0], 'value')) {\n    d3.selectAll(params.root+' .row_bars')\n    .attr('width', function(d) {\n      var inst_value = 0;\n      inst_value = params.labels.bar_scale_row(Math.abs(d.value))/zoom_info.zoom_y;\n      return inst_value;\n    })\n    .attr('x', function(d) {\n      var inst_value = 0;\n      inst_value = -params.labels.bar_scale_row(Math.abs(d.value))/zoom_info.zoom_y;\n      return inst_value;\n    });\n  }\n\n  if (utils.has(params.network_data.col_nodes[0], 'value')) {\n    d3.selectAll(params.root+' .col_bars')\n      .attr('width', function(d) {\n        var inst_value = 0;\n        if (d.value > 0){\n          inst_value = params.labels.bar_scale_col(d.value)/zoom_info.zoom_x;\n        }\n        return inst_value;\n      });\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/resize_label_val_bars.js\n **/","module.exports = function zoom_rules_y(params, zoom_info){\n  \n  // zoom in the x direction before zooming in the y direction \n  if (params.viz.zoom_switch_y > 1){\n    if (zoom_info.zoom_y < params.viz.zoom_switch_y){\n      zoom_info.trans_y = 0;\n      zoom_info.zoom_y = 1;\n    } else {\n      zoom_info.zoom_y = zoom_info.zoom_y / params.viz.zoom_switch_y;\n    }\n  }\n\n  // calculate panning room available in the y direction \n  zoom_info.pan_room_y = (zoom_info.zoom_y - 1) * params.viz.clust.dim.height;\n\n  // no positive panning or panning more than pan_room\n  if (zoom_info.trans_y >= 0) {\n    zoom_info.trans_y = 0;\n  }\n  else if (zoom_info.trans_y <= -zoom_info.pan_room_y) {\n    zoom_info.trans_y = -zoom_info.pan_room_y;\n  }  \n\n  return zoom_info;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/zoom_rules_y.js\n **/","module.exports = function zoom_rules_x(params, zoom_info){\n  \n  // zoom in the y direction before zooming in the x direction \n  if (params.viz.zoom_switch > 1){\n    if (zoom_info.zoom_x < params.viz.zoom_switch) {\n      zoom_info.trans_x = 0;\n      zoom_info.zoom_x = 1;\n    } else {\n      zoom_info.zoom_x = zoom_info.zoom_x / params.viz.zoom_switch;\n    }\n  }\n\n  // calculate panning room available in the x direction \n  zoom_info.pan_room_x = (zoom_info.zoom_x - 1) * params.viz.clust.dim.width;\n\n  // no positive panning or panning more than pan_room\n  if (zoom_info.trans_x > 0) {\n    zoom_info.trans_x = 0;\n  }\n  else if (zoom_info.trans_x <= -zoom_info.pan_room_x) {\n    zoom_info.trans_x = -zoom_info.pan_room_x;\n  }\n\n  return zoom_info;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/zoom_rules_x.js\n **/","module.exports = function calc_zoom_switching(viz){\n  \n  var width_by_col = viz.clust.dim.width / viz.num_col_nodes;\n  var height_by_row = viz.clust.dim.height / viz.num_row_nodes;\n  viz.zoom_switch = width_by_col / height_by_row;\n\n  viz.zoom_switch_y = 1;\n\n  if (viz.zoom_switch < 1) {\n    viz.zoom_switch_y = 1/viz.zoom_switch;\n    viz.zoom_switch = 1;\n  }\n\n  return viz;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/calc_zoom_switching.js\n **/","module.exports = function ini_sidebar_params(params){\n  var sidebar = {};\n\n  sidebar.wrapper = {};\n  sidebar.wrapper.width = 170;\n\n  sidebar.row_search = {};\n  sidebar.row_search.box = {};\n  sidebar.row_search.box.height = 34;\n  sidebar.row_search.box.width = 95;\n  sidebar.row_search.placeholder = params.row_search_placeholder;\n  sidebar.row_search.margin_left = 7;\n\n  sidebar.slider = {};\n  sidebar.slider.width = params.sidebar_width - 30;\n  sidebar.slider.margin_left = 15;\n\n\n  sidebar.key_cat = {};\n  sidebar.key_cat.width = params.sidebar_width - 15;\n  sidebar.key_cat.margin_left = 5;\n  sidebar.key_cat.max_height = 100;\n\n  sidebar.title = params.title;\n  sidebar.title_margin_left = 7;\n  sidebar.about = params.about;\n  sidebar.width = params.sidebar_width;\n\n  sidebar.buttons = {};\n  sidebar.buttons.width = params.sidebar_width - 15;\n\n  sidebar.text = {};\n  sidebar.text.width = params.sidebar_width - 15;\n\n  sidebar.icons = params.sidebar_icons;\n  sidebar.icon_margin_left = -5;\n\n  return sidebar;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/params/ini_sidebar_params.js\n **/","module.exports = function make_view_request(params, requested_view){\n\n  // this will add all necessary information to a view request \n  // it will grab necessary view information from the sliders \n\n  // only one component will be changed at a time \n  var changed_component = _.keys(requested_view)[0];\n\n  // add additional filter information from othe possible filters \n  _.each( _.keys(params.viz.possible_filters), function(inst_filter){\n\n    if (inst_filter != changed_component){\n\n      if (!d3.select(params.root+' .slider_'+inst_filter).empty()){\n\n        var inst_state = d3.select(params.root+' .slider_'+inst_filter)\n          .attr('current_state');\n\n        requested_view[inst_filter] = inst_state;\n      }\n\n    }\n\n  });\n\n  return requested_view;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/filters/make_requested_view.js\n **/","var generate_matrix = require('./matrix');\nvar make_rows = require('./labels/make_rows');\nvar make_cols = require('./labels/make_cols');\nvar generate_super_labels = require('./labels/super_labels');\nvar spillover = require('./spillover');\nvar search = require('./search');\nvar initialize_resizing = require('./initialize_resizing');\nvar ini_doubleclick = require('./zoom/ini_doubleclick');\nvar make_col_cat = require('./dendrogram/make_col_cat');\nvar make_row_cat = require('./dendrogram/make_row_cat');\nvar trim_text = require('./zoom/trim_text');\nvar make_row_dendro = require('./dendrogram/make_row_dendro');\nvar make_col_dendro = require('./dendrogram/make_col_dendro');\n\nmodule.exports = function make_viz(params) {\n  \n  d3.select(params.viz.viz_wrapper+' svg')\n    .remove();\n\n  var svg_group = d3.select(params.viz.viz_wrapper)\n    .append('svg')\n    .attr('class', 'viz_svg')\n    .attr('id', 'svg_'+params.root.replace('#',''))\n    .attr('width', params.viz.svg_dim.width)\n    .attr('height', params.viz.svg_dim.height)\n    .attr('is_zoom',0)\n    .attr('stopped_zoom',1);\n\n  svg_group\n    .append('rect')\n    .attr('class', 'super_background')\n    .style('width', params.viz.svg_dim.width)\n    .style('height', params.viz.svg_dim.height)\n    .style('fill', 'white');\n\n  generate_matrix(params, svg_group);\n\n  var delay_text = 0;\n  make_rows(params, delay_text);\n\n  if (params.viz.show_dendrogram){\n    make_row_dendro(params);\n    make_col_dendro(params);\n  }\n\n  make_cols(params, delay_text);\n\n  _.each(['row','col'], function(inst_rc){\n    \n    var inst_fs = Number(d3.select('.'+inst_rc+'_label_group')\n      .select('text')\n      .style('font-size').replace('px',''));\n\n    var min_trim_fs = 8;\n    if (inst_fs > min_trim_fs){\n      d3.selectAll(params.root+' .'+inst_rc+'_label_group' )\n        .each(function() { \n          trim_text(params, this, inst_rc); \n        });\n    }\n\n  });\n  \n\n  // make category colorbars\n  make_row_cat(params);\n  if (params.viz.show_categories.col) {\n    make_col_cat(params);\n  }\n    \n  spillover(params);\n\n  if (params.labels.super_labels) {\n    generate_super_labels(params);\n  }\n\n  function border_colors() {\n    var inst_color = params.viz.super_border_color;\n    if (params.viz.is_expand) {\n      inst_color = 'white';\n    }\n    return inst_color;\n  }\n\n  // left border\n  d3.select(params.viz.viz_svg)\n    .append('rect')\n    .classed('left_border',true)\n    .classed('borders',true)\n    .attr('fill', border_colors)\n    .attr('width', params.viz.grey_border_width)\n    .attr('height', params.viz.svg_dim.height)\n    .attr('transform', 'translate(0,0)');\n\n  // right border\n  d3.select(params.viz.viz_svg)\n    .append('rect')\n    .classed('right_border',true)\n    .classed('borders',true)\n    .attr('fill', border_colors)\n    .attr('width', params.viz.grey_border_width)\n    .attr('height', params.viz.svg_dim.height)\n    .attr('transform', function () {\n      var inst_offset = params.viz.svg_dim.width - params.viz.grey_border_width;\n      return 'translate(' + inst_offset + ',0)';\n    });\n\n  // top border\n  d3.select(params.viz.viz_svg)\n    .append('rect')\n    .classed('top_border',true)\n    .classed('borders',true)\n    .attr('fill', border_colors)\n    .attr('width', params.viz.svg_dim.width)\n    .attr('height', params.viz.grey_border_width)\n    .attr('transform', function () {\n      var inst_offset = 0;\n      return 'translate(' + inst_offset + ',0)';\n    });\n\n  // bottom border\n  d3.select(params.viz.viz_svg)\n    .append('rect')\n    .classed('bottom_border',true)\n    .classed('borders',true)\n    .attr('fill', border_colors)\n    .attr('width', params.viz.svg_dim.width)\n    .attr('height', params.viz.grey_border_width)\n    .attr('transform', function () {\n      var inst_offset = params.viz.svg_dim.height - params.viz.grey_border_width;\n      return 'translate(0,' + inst_offset + ')';\n    });\n\n  initialize_resizing(params);\n\n  ini_doubleclick(params);\n\n  if (params.viz.do_zoom) {\n    d3.select(params.viz.zoom_element)\n    // d3.select(params.root+' .clust_container')\n      .call(params.zoom_behavior);\n  }\n\n  d3.select(params.viz.zoom_element)\n  // d3.select(params.root+' .clust_container')\n    .on('dblclick.zoom', null);\n\n  search(params, params.network_data.row_nodes, 'name');\n\n  // var opacity_slider = function (inst_slider) {\n\n  //   // var max_link = params.matrix.max_link;\n  //   var slider_scale = d3.scale\n  //     .linear()\n  //     .domain([0, 1])\n  //     .range([1, 0.1]);\n\n  //   var slider_factor = slider_scale(inst_slider);\n\n  //   if (params.matrix.opacity_function === 'linear') {\n  //     params.matrix.opacity_scale = d3.scale.linear()\n  //       .domain([0, slider_factor * Math.abs(params.matrix.max_link)])\n  //       .clamp(true)\n  //       .range([0.0, 1.0]);\n  //   } else if (params.matrix.opacity_function === 'log') {\n  //     params.matrix.opacity_scale = d3.scale.log()\n  //       .domain([0.0001, slider_factor * Math.abs(params.matrix.max_link)])\n  //       .clamp(true)\n  //       .range([0.0, 1.0]);\n  //   }\n\n  //   d3.selectAll(params.root+' .tile')\n  //     .style('fill-opacity', function (d) {\n  //       return params.matrix.opacity_scale(Math.abs(d.value));\n  //     });\n\n  // };\n\n  // function reset_zoom(inst_scale) {\n  //   two_translate_zoom(params, 0, 0, inst_scale);\n  // }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/viz.js\n **/","var utils = require('../Utils_clust');\nvar draw_gridlines = require('../draw_gridlines');\nvar add_click_hlight = require('./add_click_hlight');\nvar make_simple_rows = require('./make_simple_rows');\nvar d3_tip_custom = require('../tooltip/d3_tip_custom');\n\nmodule.exports = function(params, svg_elem) {\n  var network_data = params.network_data;\n\n  var matrix = [],\n  row_nodes = network_data.row_nodes,\n  col_nodes = network_data.col_nodes,\n  clust_group;\n\n  var row_nodes_names = utils.pluck(row_nodes, 'name');\n\n  // append a group that will hold clust_group and position it once\n  clust_group = svg_elem\n    .append('g')\n    .attr('class','clust_container')\n    .attr('transform', 'translate(' +\n      params.viz.clust.margin.left + ',' +\n      params.viz.clust.margin.top + ')')\n    .append('g')\n    .attr('class', 'clust_group')\n    .classed('clust_group',true);\n\n  // d3-tooltip - for tiles\n  var tip = d3_tip_custom()\n    .attr('class', 'd3-tip tile_tip')\n    .direction('nw')\n    .offset([0, 0])\n    .html(function(d){\n      var inst_value = String(d.value.toFixed(3));\n      var tooltip_string;\n\n      if (params.keep_orig){\n        var orig_value = String(d.value_orig.toFixed(3));\n        tooltip_string = '<p>' + d.row_name + ' and ' + d.col_name + '</p>' +\n        '<p> normalized value: ' + inst_value +'</p>' +\n        '<div> original value: ' + orig_value +'</div>'  ;\n      } else {\n        tooltip_string = '<p>' + d.row_name + ' and ' + d.col_name + '</p>' +\n        '<div> value: ' + inst_value +'</div>';\n      }\n\n      return tooltip_string;\n    });\n\n  d3.select(params.root+' .clust_group')\n    .call(tip);\n\n  // clustergram background rect\n  clust_group\n    .append('rect')\n    .classed('background',true)\n    .classed('grey_background',true)\n    .style('fill', '#eee')\n    .style('opacity',0.25)\n    .attr('width', params.viz.clust.dim.width)\n    .attr('height', params.viz.clust.dim.height);\n\n  // make row matrix - add key names to rows in matrix\n  clust_group.selectAll('.row')\n    .data(params.matrix.matrix, function(d){return d.name;})\n    .enter()\n    .append('g')\n    .attr('class', 'row')\n    .attr('transform', function(d) {\n      var tmp_index = _.indexOf(row_nodes_names, d.name);\n      return 'translate(0,' + params.viz.y_scale(tmp_index) + ')';\n    })\n    .each(function(d){\n      make_simple_rows(params, d, tip, this);\n    });\n\n  // add callback function to tile group - if one is supplied by the user\n  if (typeof params.click_tile === 'function') {\n    d3.selectAll(params.root+' .tile')\n    .on('click', function(d) {\n\n      // export row/col name and value from tile\n      var tile_info = {};\n      tile_info.row = params.network_data.row_nodes[d.pos_y].name;\n      tile_info.col = params.network_data.col_nodes[d.pos_x].name;\n      tile_info.value = d.value;\n\n      if (utils.has(d, 'value_up')) {\n        tile_info.value_up = d.value_up;\n      }\n      if (utils.has(d, 'value_dn')) {\n        tile_info.value_dn = d.value_dn;\n      }\n      if (utils.has(d, 'info')) {\n        tile_info.info = d.info;\n      }\n      // run the user supplied callback function\n      params.click_tile(tile_info);\n      add_click_hlight(params, this);\n\n    });\n\n  } else {\n\n    // highlight clicked tile\n    if (params.tile_click_hlight){\n      d3.selectAll(params.root+' .tile')\n        .on('click',function() {\n          add_click_hlight(params, this);\n        });\n    }\n  }\n\n  // draw grid lines after drawing tiles\n  draw_gridlines(params, row_nodes, col_nodes);\n\n  // Matrix API\n  return {\n    get_clust_group: function() {\n      return clust_group;\n    },\n    get_matrix: function(){\n      return matrix;\n    },\n    get_nodes: function(type){\n      if (type === 'row') {\n        return network_data.row_nodes;\n      }\n      return network_data.col_nodes;\n    }\n  };\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/matrix/index.js\n **/","\nmodule.exports = function(params, row_nodes, col_nodes) {\n\n  var row_nodes_names = params.network_data.row_nodes_names;\n  var col_nodes_names = params.network_data.col_nodes_names;\n\n  d3.selectAll(params.root+' .horz_lines')\n    .remove();\n\n  d3.selectAll(params.root+' .vert_lines')\n    .remove();\n\n  // append horizontal lines\n  d3.select(params.root+' .clust_group')\n    .selectAll('.horz_lines')\n    .data(row_nodes, function(d){return d.name;})\n    .enter()\n    .append('g')\n    .attr('class','horz_lines')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(row_nodes_names, d.name);\n      return 'translate(0,' + params.viz.y_scale(inst_index) + ') rotate(0)';\n    })\n    .append('line')\n    .attr('x1',0)\n    .attr('x2',params.viz.clust.dim.width)\n    .style('stroke-width', function(){\n      var inst_width;\n      if (params.viz.zoom_switch > 1){\n        inst_width = params.viz.border_width/params.viz.zoom_switch;\n      } else {\n        inst_width = params.viz.border_width;\n      }\n      return inst_width+'px';\n    })\n    .style('stroke','white');\n\n  // append vertical line groups\n  d3.select(params.root+' .clust_group')\n    .selectAll('.vert_lines')\n    .data(col_nodes)\n    .enter()\n    .append('g')\n    .attr('class', 'vert_lines')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(col_nodes_names, d.name);\n      return 'translate(' + params.viz.x_scale(inst_index) + ') rotate(-90)';\n    })\n    .append('line')\n    .attr('x1', 0)\n    .attr('x2', -params.viz.clust.dim.height)\n    .style('stroke-width', function(){\n      var inst_width;\n       if (params.viz.zoom_switch_y > 1){\n        inst_width = params.viz.border_width/ params.viz.zoom_switch_y;\n       } else {\n        inst_width = params.viz.border_width;\n       }\n       return inst_width + 'px';\n    })\n    .style('stroke', 'white');\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/draw_gridlines.js\n **/","module.exports = function(params, clicked_rect){\n\n  // get x position of rectangle\n  d3.select(clicked_rect).each(function(d){\n    var pos_x = d.pos_x;\n    var pos_y = d.pos_y;\n\n    d3.selectAll(params.root+' .click_hlight')\n      .remove();\n\n    if (pos_x!=params.matrix.click_hlight_x || pos_y!=params.matrix.click_hlight_y){\n\n      // save pos_x to params.viz.click_hlight_x\n      params.matrix.click_hlight_x = pos_x;\n      params.matrix.click_hlight_y = pos_y;\n\n      // draw the highlighting rectangle as four rectangles\n      // so that the width and height can be controlled\n      // separately\n\n      var rel_width_hlight = 6;\n      var opacity_hlight = 0.85;\n\n      var hlight_width  = rel_width_hlight*params.viz.border_width;\n      var hlight_height = rel_width_hlight*params.viz.border_width/params.viz.zoom_switch;\n\n      // top highlight\n      d3.select(clicked_rect.parentNode)\n        .append('rect')\n        .classed('click_hlight',true)\n        .classed('top_hlight',true)\n        .attr('width', params.viz.x_scale.rangeBand())\n        .attr('height', hlight_height)\n        .attr('fill',params.matrix.hlight_color)\n        .attr('transform', function() {\n          return 'translate(' + params.viz.x_scale(pos_x) + ',0)';\n        })\n        .attr('opacity',opacity_hlight);\n\n      // left highlight\n      d3.select(clicked_rect.parentNode)\n        .append('rect')\n        .classed('click_hlight',true)\n        .classed('left_hlight',true)\n        .attr('width', hlight_width)\n        .attr('height', params.viz.y_scale.rangeBand() - hlight_height*0.99 )\n        .attr('fill',params.matrix.hlight_color)\n        .attr('transform', function() {\n          return 'translate(' + params.viz.x_scale(pos_x) + ','+\n            hlight_height*0.99+')';\n        })\n        .attr('opacity',opacity_hlight);\n\n      // right highlight\n      d3.select(clicked_rect.parentNode)\n        .append('rect')\n        .classed('click_hlight',true)\n        .classed('right_hlight',true)\n        .attr('width', hlight_width)\n        .attr('height', params.viz.y_scale.rangeBand() - hlight_height*0.99 )\n        .attr('fill',params.matrix.hlight_color)\n        .attr('transform', function() {\n          var tmp_translate = params.viz.x_scale(pos_x) + params.viz.x_scale.rangeBand() - hlight_width;\n          return 'translate(' + tmp_translate + ','+\n            hlight_height*0.99+')';\n        })\n        .attr('opacity',opacity_hlight);\n\n      // bottom highlight\n      d3.select(clicked_rect.parentNode)\n        .append('rect')\n        .classed('click_hlight',true)\n        .classed('bottom_hlight',true)\n        .attr('width', function(){\n          return params.viz.x_scale.rangeBand() - 1.98*hlight_width;})\n        .attr('height', hlight_height)\n        .attr('fill',params.matrix.hlight_color)\n        .attr('transform', function() {\n          var tmp_translate_x = params.viz.x_scale(pos_x) + hlight_width*0.99;\n          var tmp_translate_y = params.viz.y_scale.rangeBand() - hlight_height;\n          return 'translate(' + tmp_translate_x + ','+\n            tmp_translate_y+')';\n        })\n        .attr('opacity',opacity_hlight);\n\n      } else {\n        params.matrix.click_hlight_x = -666;\n        params.matrix.click_hlight_y = -666;\n      }\n\n\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/matrix/add_click_hlight.js\n **/","var draw_up_tile = require('../enter/draw_up_tile');\nvar draw_dn_tile = require('../enter/draw_dn_tile');\nvar mouseover_tile = require('./mouseover_tile');\nvar mouseout_tile = require('./mouseout_tile');\n\nmodule.exports = function make_simple_rows(params, ini_inp_row_data, tip, row_selection) {\n\n  var inp_row_data = ini_inp_row_data.row_data;\n\n  // value: remove zero values to make visualization faster\n  var row_values = _.filter(inp_row_data, function(num) {\n    return num.value !== 0;\n  });\n\n\n  // generate tiles in the current row\n  var tile = d3.select(row_selection)\n    .selectAll('rect')\n    .data(row_values, function(d){ return d.col_name; })\n    .enter()\n    .append('rect')\n    .attr('class', 'tile row_tile')\n    .attr('width', params.viz.rect_width)\n    .attr('height', params.viz.rect_height)\n    // switch the color based on up/dn value\n    .style('fill', function(d) {\n      return d.value > 0 ? params.matrix.tile_colors[0] : params.matrix.tile_colors[1];\n    })\n    .on('mouseover', function(...args) {\n        mouseover_tile(params, this, tip, args);\n    })\n    .on('mouseout', function() {\n      mouseout_tile(params, this, tip);\n    })\n    .style('fill-opacity', function(d) {\n      // calculate output opacity using the opacity scale\n      var output_opacity = params.matrix.opacity_scale(Math.abs(d.value));\n      return output_opacity;\n    })\n    .attr('transform', function(d) {\n      var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n      var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n      return 'translate(' + x_pos + ','+y_pos+')';\n    });\n\n\n  // // tile circles \n  // /////////////////////////////\n  // var tile = d3.select(row_selection)\n  //   .selectAll('circle')\n  //   .data(row_values, function(d){ return d.col_name; })\n  //   .enter()\n  //   .append('circle')\n  //   .attr('cx', params.viz.rect_height/4)\n  //   .attr('cy', params.viz.rect_height/4)\n  //   .attr('r', params.viz.rect_height/4)\n  //   .attr('class', 'tile_circle')\n  //   // .attr('width', params.viz.rect_width/2)\n  //   // .attr('height', params.viz.rect_height/2)\n  //   // // switch the color based on up/dn value\n  //   // .style('fill', function(d) {\n  //   //   // return d.value > 0 ? params.matrix.tile_colors[0] : params.matrix.tile_colors[1];\n  //   //   return 'black';\n  //   // })\n  //   // .on('mouseover', function(...args) {\n  //   //     mouseover_tile(params, this, tip, args);\n  //   // })\n  //   // .on('mouseout', function() {\n  //   //   mouseout_tile(params, this, tip);\n  //   // })\n  //   .style('fill-opacity', function(d) {\n  //     // calculate output opacity using the opacity scale\n  //     var output_opacity = params.matrix.opacity_scale(Math.abs(d.value));\n  //     if (output_opacity < 0.3){\n  //       output_opacity = 0;\n  //     } else if (output_opacity < 0.6){\n  //       output_opacity = 0.35;\n  //     } else {\n  //       output_opacity = 1;\n  //     }\n  //     return output_opacity;\n  //     // return 0.1;\n  //   })\n  //   .attr('transform', function(d) {\n  //     var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width + params.viz.rect_width/4;\n  //     var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch + params.viz.rect_height/4;\n  //     return 'translate(' + x_pos + ','+y_pos+')';\n  //   });\n\n\n  if (params.matrix.tile_type == 'updn'){\n\n    // value split\n    var row_split_data = _.filter(inp_row_data, function(num){\n      return num.value_up != 0 || num.value_dn !=0 ;\n    });\n\n    // tile_up\n    d3.select(row_selection)\n      .selectAll('.tile_up')\n      .data(row_split_data, function(d){return d.col_name;})\n      .enter()\n      .append('path')\n      .attr('class','tile_up')\n      .attr('d', function() {\n        return draw_up_tile(params);\n      })\n      .attr('transform', function(d) {\n        var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n        var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n        return 'translate(' + x_pos + ','+y_pos+')';\n      })\n      .style('fill', function() {\n        return params.matrix.tile_colors[0];\n      })\n      .style('fill-opacity',function(d){\n        var inst_opacity = 0;\n        if (Math.abs(d.value_dn)>0){\n          inst_opacity = params.matrix.opacity_scale(Math.abs(d.value_up));\n        }\n        return inst_opacity;\n      })\n      .on('mouseover', function(...args) {\n        mouseover_tile(params, this, tip, args);\n      })\n      .on('mouseout', function() {\n        mouseout_tile(params, this, tip);\n      });\n\n    // tile_dn\n    d3.select(row_selection)\n      .selectAll('.tile_dn')\n      .data(row_split_data, function(d){return d.col_name;})\n      .enter()\n      .append('path')\n      .attr('class','tile_dn')\n      .attr('d', function() {\n        return draw_dn_tile(params);\n      })\n      .attr('transform', function(d) {\n        var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n        var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n        return 'translate(' + x_pos + ','+y_pos+')';\n      })\n      .style('fill', function() {\n        return params.matrix.tile_colors[1];\n      })\n      .style('fill-opacity',function(d){\n        var inst_opacity = 0;\n        if (Math.abs(d.value_up)>0){\n          inst_opacity = params.matrix.opacity_scale(Math.abs(d.value_dn));\n        }\n        return inst_opacity;\n      })\n      .on('mouseover', function(...args) {\n        mouseover_tile(params, this, tip, args);\n      })\n      .on('mouseout', function() {\n        mouseout_tile(params, this, tip);\n      });\n\n      // remove rect when tile is split \n      tile\n        .each(function(d){\n          if ( Math.abs(d.value_up)>0 && Math.abs(d.value_dn)>0 ){\n            d3.select(this).remove();\n          }\n        });\n\n  }\n\n  // append title to group\n  if (params.matrix.tile_title) {\n    tile.append('title')\n    .text(function(d) {\n      var inst_string = 'value: ' + d.value;\n      return inst_string;\n    });\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/matrix/make_simple_rows.js\n **/","module.exports = function draw_up_tile(params){\n\n  var start_x = 0;\n  var final_x = params.viz.x_scale.rangeBand() - params.viz.border_width/params.viz.zoom_switch_y;\n  var start_y = 0;\n  var final_y = params.viz.y_scale.rangeBand()- params.viz.border_width/params.viz.zoom_switch;\n\n  var output_string = 'M' + start_x + ',' + start_y + ', L' +\n  start_x + ', ' + final_y + ', L' + final_x + ',0 Z';\n\n  return output_string;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/enter/draw_up_tile.js\n **/","module.exports = function draw_dn_tile(params){\n\n  var start_x = 0;\n  var final_x = params.viz.x_scale.rangeBand() - params.viz.border_width/params.viz.zoom_switch_y;\n  var start_y = params.viz.y_scale.rangeBand() - params.viz.border_width/params.viz.zoom_switch;\n  var final_y = params.viz.y_scale.rangeBand() - params.viz.border_width/params.viz.zoom_switch;\n\n  var output_string = 'M' + start_x + ', ' + start_y + ' ,   L' +\n  final_x + ', ' + final_y + ',  L' + final_x + ',0 Z';\n\n  return output_string;  \n};\n\n\n/** WEBPACK FOOTER **\n ** src/enter/draw_dn_tile.js\n **/","module.exports = function mouseover_tile(params, inst_selection, tip, inst_arguments){\n\n  var inst_data = inst_arguments[0];\n\n  var args = [].slice.call(inst_arguments);\n  var timeout;\n  var delay = 1000;\n\n  d3.select(inst_selection)\n    .classed('hovering', true);\n\n  _.each(['row','col'], function(inst_rc){\n\n    d3.selectAll(params.root+' .'+inst_rc+'_label_group text')\n      .style('font-weight', function(d) {\n        var font_weight;\n        var inst_found = inst_data[inst_rc+'_name'].replace(/_/g, ' ') === d.name;\n        if (inst_found){\n          font_weight = 'bold';\n        } else {\n          font_weight = 'normal';\n        }\n        return font_weight;\n      });\n\n  });\n\n  args.push(inst_selection);\n  clearTimeout(timeout);\n  timeout = setTimeout(check_if_hovering, delay, inst_selection); \n\n  function check_if_hovering() {\n    if ( d3.select(inst_selection).classed('hovering') ){\n\n      var inst_zoom = Number(d3.select(params.root+' .viz_svg').attr('is_zoom'));\n\n      if (inst_zoom === 0){\n\n        if (params.matrix.show_tile_tooltips){\n          d3.selectAll('.d3-tip')\n            .style('display','block');\n          tip.show.apply(inst_selection, args);\n          \n        }\n\n      }\n    }\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/matrix/mouseover_tile.js\n **/","module.exports = function mouseout_tile(params, inst_selection, tip){\n\n  d3.select(inst_selection)\n    .classed('hovering',false);\n\n  _.each(['row','col'], function(inst_rc){\n\n    d3.selectAll(params.root+' .'+inst_rc+'_label_group text')\n      .style('font-weight','normal');\n\n  });    \n\n  tip.hide();\n};\n\n\n/** WEBPACK FOOTER **\n ** src/matrix/mouseout_tile.js\n **/","module.exports = function d3_tip_custom(){\n/* eslint-disable */\n// Copyright (c) 2013 Justin Palmer\n//\n// Tooltips for d3.js SVG visualizations\n\n// Public - contructs a new tooltip\n//\n// Returns a tip\n// ****************** \n// Nick Fernandez modified version 4-19-2016 \n// improved multiple svg, scrolling+zooming support\n// made syntax fixes\n//////////////////////////////////////////////\n  var direction = d3_tip_direction,\n      offset    = d3_tip_offset,\n      html      = d3_tip_html,\n      node      = initNode(),\n      svg       = null,\n      point     = null,\n      target    = null;\n\n  function tip(vis) {\n    svg = getSVGNode(vis);\n    point = svg.createSVGPoint();\n    document.body.appendChild(node);\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function() {\n    var args = Array.prototype.slice.call(arguments);\n    if (args[args.length - 1] instanceof SVGElement) {\n      target = args.pop();  \n    }\n\n    var content = html.apply(this, args);\n    var poffset = offset.apply(this, args);\n    var dir     = direction.apply(this, args);\n    var nodel   = d3.select(node);\n    var i = 0;\n    var coords;\n\n    nodel.html(content)\n      .style({opacity: 1, 'pointer-events': 'all'});\n\n    while(i--) {\n      nodel.classed(directions[i], false);\n    }\n    coords = direction_callbacks.get(dir).apply(this);\n    nodel.classed(dir, true).style({\n      top: (coords.top +  poffset[0]) + 'px',\n      left: (coords.left + poffset[1]) + 'px'\n    });\n\n    // quick fix for fading tile tooltips\n    if (isFunction(this) === false){\n\n      var inst_class = d3.select(this).attr('class');\n\n      if (inst_class.indexOf('tile') >= 0){\n        setTimeout(fade_tips, 10000, this);\n      }\n\n    }\n\n    return tip;\n  };\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function() {\n    var nodel = d3.select(node);\n    nodel.style({opacity: 0, 'pointer-events': 'none'});\n    return tip;\n  };\n\n  // Public: Proxy attr calls to the d3 tip container.  Sets or gets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns tip or attribute value\n  tip.attr = function(n) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return d3.select(node).attr(n);\n    } else {\n      var args =  Array.prototype.slice.call(arguments);\n      d3.selection.prototype.attr.apply(d3.select(node), args);\n    }\n\n    return tip;\n  };\n\n  // Public: Proxy style calls to the d3 tip container.  Sets or gets a style value.\n  //\n  // n - name of the property\n  // v - value of the property\n  //\n  // Returns tip or style property value\n  tip.style = function(n) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return d3.select(node).style(n);\n    } else {\n      var args =  Array.prototype.slice.call(arguments);\n      d3.selection.prototype.style.apply(d3.select(node), args);\n    }\n\n    return tip;\n  };\n\n  // Public: Set or get the direction of the tooltip\n  //\n  // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n  //     sw(southwest), ne(northeast) or se(southeast)\n  //\n  // Returns tip or direction\n  tip.direction = function(v) {\n    if (!arguments.length){\n      return direction;\n    } \n    direction = v == null ? v : d3.functor(v);\n\n    return tip;\n  };\n\n  // Public: Sets or gets the offset of the tip\n  //\n  // v - Array of [x, y] offset\n  //\n  // Returns offset or\n  tip.offset = function(v) {\n    if (!arguments.length) {\n      return offset;\n    }\n    offset = v == null ? v : d3.functor(v);\n\n    return tip;\n  };\n\n  // Public: sets or gets the html value of the tooltip\n  //\n  // v - String value of the tip\n  //\n  // Returns html value or tip\n  tip.html = function(v) {\n    if (!arguments.length) {\n      return html;\n    }\n    html = v == null ? v : d3.functor(v);\n\n    return tip;\n  };\n\n  function d3_tip_direction() { \n    return 'n'; \n  }\n  function d3_tip_offset() { \n    return [0, 0]; \n  }\n  function d3_tip_html() { \n    return ' '; \n  }\n\n  var direction_callbacks = d3.map({\n    n:  direction_n,\n    s:  direction_s,\n    e:  direction_e,\n    w:  direction_w,\n    nw: direction_nw,\n    ne: direction_ne,\n    sw: direction_sw,\n    se: direction_se\n  }),\n\n  directions = direction_callbacks.keys();\n\n  function direction_n() {\n    var bbox = getScreenBBox();\n    return {\n      top:  bbox.n.y - node.offsetHeight,\n      left: bbox.n.x - node.offsetWidth / 2\n    };\n  }\n\n  function direction_s() {\n    var bbox = getScreenBBox();\n    return {\n      top:  bbox.s.y,\n      left: bbox.s.x - node.offsetWidth / 2\n    };\n  }\n\n  function direction_e() {\n    var bbox = getScreenBBox();\n    return {\n      top:  bbox.e.y - node.offsetHeight / 2,\n      left: bbox.e.x\n    };\n  }\n\n  function direction_w() {\n    var bbox = getScreenBBox();\n    return {\n      top:  bbox.w.y - node.offsetHeight / 2,\n      left: bbox.w.x - node.offsetWidth\n    };\n  }\n\n  function direction_nw() {\n    var bbox = getScreenBBox();\n    return {\n      top:  bbox.nw.y - node.offsetHeight,\n      left: bbox.nw.x - node.offsetWidth\n    };\n  }\n\n  function direction_ne() {\n    var bbox = getScreenBBox();\n    return {\n      top:  bbox.ne.y - node.offsetHeight,\n      left: bbox.ne.x\n    };\n  }\n\n  function direction_sw() {\n    var bbox = getScreenBBox();\n    return {\n      top:  bbox.sw.y,\n      left: bbox.sw.x - node.offsetWidth\n    };\n  }\n\n  function direction_se() {\n    var bbox = getScreenBBox();\n    return {\n      top:  bbox.se.y,\n      left: bbox.e.x\n    };\n  }\n\n  function initNode() {\n    var node = d3.select(document.createElement('div'));\n    node.style({\n      position: 'absolute',\n      opacity: 0,\n      pointerEvents: 'none',\n      boxSizing: 'border-box'\n    });\n\n    return node.node();\n  }\n\n  function getSVGNode(el) {\n    el = el.node();\n    if(el.tagName.toLowerCase() == 'svg'){\n      return el;\n    }\n\n    return el.ownerSVGElement;\n  }\n\n  // Private - gets the screen coordinates of a shape\n  //\n  // Given a shape on the screen, will return an SVGPoint for the directions\n  // n(north), s(south), e(east), w(west), ne(northeast), se(southeast), nw(northwest),\n  // sw(southwest).\n  //\n  //    +-+-+\n  //    |   |\n  //    +   +\n  //    |   |\n  //    +-+-+\n  //\n  // Returns an Object {n, s, e, w, nw, sw, ne, se}\n  function getScreenBBox() {\n    var targetel   = target || d3.event.target;\n    var bbox       = {};\n    var matrix     = targetel.getScreenCTM();\n    var tbbox      = targetel.getBBox();\n    var width      = tbbox.width;\n    var height     = tbbox.height;\n    var x          = tbbox.x;\n    var y          = tbbox.y;\n    var scrollTop  = document.documentElement.scrollTop || document.body.scrollTop;\n    var scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft;\n\n    // Nick - prevents bugs with scrolling and zooming on the same object \n    matrix.a = 1;\n    matrix.d = 1;\n    // changing order of adding scrolling, \n    // original ordering was causing problems with pre-translated or rotated\n    // elements. \n    matrix.e = matrix.e + scrollLeft;\n    matrix.f = matrix.f + scrollTop;\n    point.x = x; //+ scrollLeft \n    point.y = y; //+ scrollTop \n\n    bbox.nw = point.matrixTransform(matrix);\n    point.x = point.x + width;\n    bbox.ne = point.matrixTransform(matrix);\n    point.y = point.y + height;  \n    bbox.se = point.matrixTransform(matrix);\n    point.x = point.x - width;\n    bbox.sw = point.matrixTransform(matrix);\n    point.y = point.y - height / 2;\n    bbox.w  = point.matrixTransform(matrix);\n    point.x = point.x + width;\n    bbox.e = point.matrixTransform(matrix);\n    point.x = point.x - width / 2;\n    point.y = point.y - height / 2;\n    bbox.n = point.matrixTransform(matrix);\n    point.y = point.y + height;\n    bbox.s = point.matrixTransform(matrix);\n\n    return bbox;\n  }\n\n  // only fade tips if you are still hovering on the current tip \n  function fade_tips(inst_selection){\n\n    var is_hovering = d3.select(inst_selection)\n      .classed('hovering');\n\n    if (is_hovering){\n      d3.selectAll('.d3-tip')\n        .transition()\n        .duration(250)\n        .style('opacity',0);\n    }\n  }\n\n  function isFunction(functionToCheck) {\n   var getType = {};\n   return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n  }\n\n  return tip;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/tooltip/d3_tip_custom.js\n **/","var utils = require('../Utils_clust');\nvar add_row_click_hlight = require('./add_row_click_hlight');\nvar row_reorder = require('../reorder/row_reorder');\nvar col_reorder = require('../reorder/col_reorder');\nvar make_row_tooltips = require('./make_row_tooltips');\n\nmodule.exports = function(params, text_delay) {\n  var row_nodes = params.network_data.row_nodes;\n\n  var row_nodes_names = params.network_data.row_nodes_names;\n  var row_container;\n\n  // row container holds all row text and row visualizations (triangles rects)\n  if ( d3.select(params.viz.viz_svg + ' .row_container').empty() ){\n    row_container = d3.select(params.viz.viz_svg)\n      .append('g')\n      .attr('class','row_container')\n      .attr('transform', 'translate(' + params.viz.norm_labels.margin.left + ',' +\n      params.viz.clust.margin.top + ')');\n  } else {\n    row_container = d3.select(params.viz.viz_svg)\n      .select('.row_container')\n      .attr('transform', 'translate(' + params.viz.norm_labels.margin.left + ',' +\n      params.viz.clust.margin.top + ')');\n  }\n\n  if (d3.select(params.root+' .row_white_background').empty()){\n    row_container\n      .append('rect')\n      .classed('row_white_background',true)\n      .classed('white_bars',true)\n      .attr('fill', params.viz.background_color)\n      .attr('width', params.viz.label_background.row)\n      .attr('height', 30*params.viz.clust.dim.height + 'px');\n  }\n\n  if ( d3.select(params.root +' .row_label_container').empty() ){\n    // container to hold text row labels\n    row_container\n      .append('g')\n      .attr('class','row_label_container')\n      .attr('transform', 'translate(' + params.viz.norm_labels.width.row + ',0)')\n      .append('g')\n      .attr('class', 'row_label_zoom_container');\n  } else {\n    // container to hold text row labels\n    row_container\n      .select(params.root+' .row_label_container')\n      .attr('transform', 'translate(' + params.viz.norm_labels.width.row + ',0)');\n  }\n\n\n  var row_labels = d3.select(params.root+' .row_label_zoom_container')\n    .selectAll('g')\n    .data(row_nodes, function(d){return d.name;})\n    .enter()\n    .append('g')\n    .attr('class', 'row_label_group')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(row_nodes_names, d.name);\n      return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n    });\n\n  d3.select(params.root+' .row_label_zoom_container')\n    .selectAll('.row_label_group')\n    .on('dblclick', function(d) {\n\n      var data_attr = '__data__';\n      var row_name = this[data_attr].name;\n\n      if (params.sim_mat){\n        row_reorder(params, this, row_name);\n\n        var col_selection = d3.selectAll(params.root+' .col_label_text')\n          .filter(function(d){\n            return d.name == row_name;}\n            )[0][0];\n\n        col_reorder(params, col_selection, row_name);\n      } else {\n        row_reorder(params, this, row_name);\n      }\n      if (params.tile_click_hlight){\n        add_row_click_hlight(this,d.ini);\n      }\n    });\n\n  make_row_tooltips(params);\n\n  // append rectangle behind text\n  row_labels\n    .insert('rect')\n    .style('opacity', 0);\n\n  // append row label text\n  row_labels\n    .append('text')\n    .attr('y', params.viz.rect_height * 0.5 + params.labels.default_fs_row*0.35 )\n    .attr('text-anchor', 'end')\n    .style('font-size', params.labels.default_fs_row + 'px')\n    .text(function(d){ return utils.normal_name(d); })\n    .attr('pointer-events','none')\n    .style('opacity',0)\n    .style('cursor','default')\n    .transition().delay(text_delay).duration(text_delay)\n    .style('opacity',1);\n\n  // change the size of the highlighting rects\n  row_labels\n    .each(function() {\n      var bbox = d3.select(this)\n          .select('text')[0][0]\n        .getBBox();\n      d3.select(this)\n        .select('rect')\n        .attr('x', bbox.x )\n        .attr('y', 0)\n        .attr('width', bbox.width )\n        .attr('height', params.viz.y_scale.rangeBand())\n        .style('fill', function() {\n        var inst_hl = 'yellow';\n        return inst_hl;\n        })\n        .style('opacity', function(d) {\n        var inst_opacity = 0;\n        // highlight target genes\n        if (d.target === 1) {\n          inst_opacity = 1;\n        }\n        return inst_opacity;\n        });\n    });\n\n\n\n  if (utils.has(params.network_data.row_nodes[0], 'value')) {\n\n    row_labels\n      .append('rect')\n      .attr('class', 'row_bars')\n      .attr('width', function(d) {\n        var inst_value = 0;\n        inst_value = params.labels.bar_scale_row( Math.abs(d.value) );\n        return inst_value;\n      })\n      .attr('x', function(d) {\n        var inst_value = 0;\n        inst_value = -params.labels.bar_scale_row( Math.abs(d.value) );\n        return inst_value;\n      })\n      .attr('height', params.viz.y_scale.rangeBand() )\n      .attr('fill', function(d) {\n        return d.value > 0 ? params.matrix.bar_colors[0] : params.matrix.bar_colors[1];\n      })\n      .attr('opacity', 0.4);\n\n  }\n\n  // add row callback function\n  d3.selectAll(params.root+' .row_label_group')\n    .on('click',function(d){\n      if (typeof params.click_label == 'function'){\n        params.click_label(d.name, 'row');\n        add_row_click_hlight(params, this, d.ini);\n      } else {\n        if (params.tile_click_hlight){\n          add_row_click_hlight(params, this, d.ini);\n        }\n      }\n\n    });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/labels/make_rows.js\n **/","module.exports = function(params, clicked_row, id_clicked_row) {\n  if (id_clicked_row != params.click_hlight_row){\n\n    var rel_width_hlight = 6;\n    var opacity_hlight = 0.85;\n    // var hlight_width  = rel_width_hlight*params.viz.border_width;\n    var hlight_height = rel_width_hlight*params.viz.border_width/params.viz.zoom_switch;\n\n    d3.selectAll(params.root+' .click_hlight')\n      .remove();\n\n    // // highlight selected row\n    // d3.selectAll(params.root+' .row_label_group')\n    //   .select('rect')\n    // d3.select(this)\n    //   .select('rect')\n    //   .style('opacity', 1);\n\n    d3.select(clicked_row)\n      .append('rect')\n      .classed('click_hlight',true)\n      .classed('row_top_hlight',true)\n      .attr('width',params.viz.svg_dim.width)\n      .attr('height',hlight_height)\n      .attr('fill',params.matrix.hlight_color)\n      .attr('opacity',opacity_hlight);\n\n    d3.select(clicked_row)\n      .append('rect')\n      .classed('click_hlight',true)\n      .classed('row_bottom_hlight',true)\n      .attr('width',params.viz.svg_dim.width)\n      .attr('height',hlight_height)\n      .attr('fill',params.matrix.hlight_color)\n      .attr('opacity',opacity_hlight)\n      .attr('transform', function(){\n        var tmp_translate_y = params.viz.y_scale.rangeBand() - hlight_height;\n        return 'translate(0,'+tmp_translate_y+')';\n      });\n  } else{\n    d3.selectAll(params.root+' .click_hlight')\n    .remove();\n    params.click_hlight_row = -666;\n  }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/labels/add_row_click_hlight.js\n **/","var utils = require('../Utils_clust');\nvar reposition_tile_highlight = require('./reposition_tile_highlight');\nvar toggle_dendro_view = require('../dendrogram/toggle_dendro_view');\nvar show_visible_area = require('../zoom/show_visible_area');\n\nmodule.exports = function row_reorder(params, row_selection, inst_row) {\n\n  params.viz.inst_order.row = 'custom';\n  toggle_dendro_view(params, 'col');\n\n  d3.selectAll(params.root+' .col_dendro_group').style('opacity',0);\n\n  d3.selectAll(params.root+' .toggle_col_order .btn')\n    .classed('active',false);\n\n  // // get inst row (gene)\n  // var inst_row = d3.select(row_selection).select('text').text();\n\n  params.viz.run_trans = true;\n\n  var mat       = params.matrix.matrix;\n  var row_nodes = params.network_data.row_nodes;\n  var col_nodes = params.network_data.col_nodes;\n\n  var col_nodes_names = utils.pluck(col_nodes, 'name');\n\n  // find the index of the row\n  var tmp_arr = [];\n  row_nodes.forEach(function(node) {\n    tmp_arr.push(node.name);\n  });\n\n  // find index\n  inst_row = _.indexOf(tmp_arr, inst_row);\n\n  // gather the values of the input genes\n  tmp_arr = [];\n  col_nodes.forEach(function(node, index) {\n    tmp_arr.push( mat[inst_row].row_data[index].value);\n  });\n\n  // sort the rows\n  var tmp_sort = d3.range(tmp_arr.length).sort(function(a, b) {\n    return tmp_arr[b] - tmp_arr[a];\n  });\n\n  // resort cols\n  params.viz.x_scale.domain(tmp_sort);\n\n  var t;\n\n  // reorder matrix\n  ////////////////////\n  if (params.network_data.links.length > params.matrix.def_large_matrix){\n\n    // define the t variable as the transition function\n    t = d3.select(params.root + ' .clust_group');\n\n    // Move Col Labels\n    d3.select(params.root+' .col_zoom_container')\n      .selectAll('.col_label_text')\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ')rotate(-90)';\n      });\n\n    // reorder col_class groups\n    d3.selectAll(params.root+' .col_cat_group')\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ',0)';\n      });\n\n  } else {\n\n    // define the t variable as the transition function\n    t = d3.select(params.root + ' .clust_group').transition().duration(2500);\n\n    // Move Col Labels\n    d3.select(params.root+' .col_zoom_container')\n      .selectAll('.col_label_text')\n      .transition().duration(2500)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ')rotate(-90)';\n      });\n\n    // reorder col_class groups\n    d3.selectAll(params.root+' .col_cat_group')\n      .transition().duration(2500)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ',0)';\n      });\n\n  }\n\n  // reorder matrix\n  t.selectAll('.tile')\n    .attr('transform', function(d) {\n      return 'translate(' + params.viz.x_scale(d.pos_x) + ',0)';\n    });\n\n  t.selectAll('.tile_up')\n    .attr('transform', function(d) {\n      return 'translate(' + params.viz.x_scale(d.pos_x) + ',0)';\n    });\n\n  t.selectAll('.tile_dn')\n    .attr('transform', function(d) {\n      return 'translate(' + params.viz.x_scale(d.pos_x) + ',0)';\n    });\n\n\n  // highlight selected column\n  ///////////////////////////////\n  // unhilight and unbold all columns (already unbolded earlier)\n  d3.selectAll(params.root+' .row_label_group')\n    .select('rect')\n    .style('opacity', 0);\n  // highlight column name\n  d3.select(row_selection)\n    .select('rect')\n    .style('opacity', 1);\n\n  reposition_tile_highlight(params);\n\n  // redefine x and y positions\n  params.network_data.links.forEach(function(d){\n    d.x = params.viz.x_scale(d.target);\n    d.y = params.viz.y_scale(d.source);\n  });\n\n  // reset visible area\n  var zoom_info = {};\n  zoom_info.zoom_x = 1;\n  zoom_info.zoom_y = 1;\n  zoom_info.trans_x = 0;\n  zoom_info.trans_y = 0;\n  show_visible_area(params, zoom_info);\n\n  setTimeout(function(){\n    params.viz.run_trans = false;\n  }, 2500);\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/reorder/row_reorder.js\n **/","module.exports = function(params) {\n\n  // resize click hlight\n  var rel_width_hlight = 6;\n  // var opacity_hlight = 0.85;\n\n  var hlight_width = rel_width_hlight*params.viz.border_width;\n  var hlight_height = rel_width_hlight*params.viz.border_width/params.viz.zoom_switch;\n  // reposition tile highlight\n  ////////////////////////////////\n\n  // top highlight\n  d3.select(params.root+' .top_hlight')\n    .attr('width', params.viz.x_scale.rangeBand())\n    .attr('height', hlight_height)\n    .transition().duration(2500)\n    .attr('transform', function() {\n      return 'translate(' + params.viz.x_scale(params.matrix.click_hlight_x) + ',0)';\n    });\n\n  // left highlight\n  d3.select(params.root+' .left_hlight')\n    .attr('width', hlight_width)\n    .attr('height', params.viz.y_scale.rangeBand() - hlight_height*0.99 )\n    .transition().duration(2500)\n    .attr('transform', function() {\n      return 'translate(' + params.viz.x_scale(params.matrix.click_hlight_x) + ','+\n        hlight_height*0.99+')';\n    });\n\n  // right highlight\n  d3.select(params.root+' .right_hlight')\n    .attr('width', hlight_width)\n    .attr('height', params.viz.y_scale.rangeBand() - hlight_height*0.99 )\n    .transition().duration(2500)\n    .attr('transform', function() {\n      var tmp_translate = params.viz.x_scale(params.matrix.click_hlight_x) + params.viz.x_scale.rangeBand() - hlight_width;\n      return 'translate(' + tmp_translate + ','+\n        hlight_height*0.99+')';\n    });\n\n  // bottom highlight\n  d3.select(params.root+' .bottom_hlight')\n    .attr('width', function(){\n      return params.viz.x_scale.rangeBand() - 1.98*hlight_width;})\n    .attr('height', hlight_height)\n    .transition().duration(2500)\n    .attr('transform', function() {\n      var tmp_translate_x = params.viz.x_scale(params.matrix.click_hlight_x) + hlight_width*0.99;\n      var tmp_translate_y = params.viz.y_scale.rangeBand() - hlight_height;\n      return 'translate(' + tmp_translate_x + ','+\n        tmp_translate_y+')';\n    });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/reorder/reposition_tile_highlight.js\n **/","var make_row_dendro_triangles = require('../dendrogram/make_row_dendro_triangles');\nvar make_col_dendro_triangles = require('../dendrogram/make_col_dendro_triangles');\n\nmodule.exports = function toggle_dendro_view(params, row_col, wait_time = 1500){\n\n  // row and col are reversed\n  if (row_col === 'row'){\n    if (params.viz.inst_order.col === 'clust'){\n      // the last true tells the viz that I'm chaning group size and not to \n      // delay the change in dendro\n      setTimeout( make_row_dendro_triangles, wait_time, params, true);\n    }\n  }\n\n  if (row_col === 'col'){\n    if (params.viz.inst_order.row === 'clust'){\n      setTimeout( make_col_dendro_triangles, wait_time, params, true);\n    }\n  }\n\n  if (params.viz.inst_order.row != 'clust'){\n    d3.selectAll(params.root+' .col_dendro_group')\n      .style('opacity',0)\n      .on('mouseover',null)\n      .on('mouseout',null);\n  }\n\n  if (params.viz.inst_order.col != 'clust'){\n    d3.selectAll(params.root+' .row_dendro_group')\n      .style('opacity',0)\n      .on('mouseover',null)\n      .on('mouseout',null);\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/toggle_dendro_view.js\n **/","var calc_row_dendro_triangles = require('./calc_row_dendro_triangles');\nvar dendro_group_highlight = require('./dendro_group_highlight');\nvar dendro_mouseover = require('./dendro_mouseover');\nvar dendro_mouseout = require('./dendro_mouseout');\n\nmodule.exports = function make_row_dendro_triangles(params, is_change_group=false){\n\n  var dendro_info = calc_row_dendro_triangles(params);\n\n  var run_transition;\n  if (d3.selectAll(params.root+' .row_dendro_group').empty()){\n    run_transition = false;\n  } else {\n    run_transition = true;\n    d3.selectAll(params.root+' .row_dendro_group').remove();\n  }\n\n  if (is_change_group){\n    run_transition = false;\n  }\n\n  d3.select(params.root+' .row_dendro_container')\n    .selectAll('path')\n    .data(dendro_info, function(d){return d.name;})\n    .enter()\n    .append('path')\n    .style('opacity',0)\n    .attr('class', 'row_dendro_group')\n    .attr('d', function(d) {\n\n      // up triangle\n      var start_x = 0 ;\n      var start_y = d.pos_top;\n      \n      var mid_x = 30;\n      var mid_y = d.pos_mid;\n\n      var final_x = 0;\n      var final_y = d.pos_bot;\n\n      var output_string = 'M' + start_x + ',' + start_y + ', L' +\n      mid_x + ', ' + mid_y + ', L' \n      + final_x + ','+ final_y +' Z';\n\n      return output_string;\n    })\n    .style('fill','black')\n    .on('mouseover', function(d){\n      var inst_rc;\n      if (params.sim_mat){\n        inst_rc = 'both';\n      } else {\n        inst_rc = 'row';\n      }\n      dendro_mouseover(this);\n      dendro_group_highlight(params, this, d, inst_rc);\n    })\n    .on('mouseout', function(){\n      if (params.viz.inst_order.col === 'clust'){\n        d3.select(this)\n          .style('opacity',params.viz.dendro_opacity);\n      }\n      d3.selectAll(params.root+' .dendro_shadow')\n        .remove();\n      dendro_mouseout(this);\n    })\n    .on('click', function(d){\n      d3.select(params.root+' .dendro_info')\n        .select('.modal-title')\n        .html('Rows in Group');\n\n      $(params.root+' .dendro_info .current_names')\n        .val(d.all_names.join(', '));\n\n      $(params.root+' .dendro_info').modal('toggle');      \n    });\n\n  var triangle_opacity;\n  if (params.viz.inst_order.col === 'clust'){\n    triangle_opacity = params.viz.dendro_opacity;\n  } else {\n    triangle_opacity = 0;\n  }\n\n  if (run_transition){\n\n    d3.select(params.root+' .row_dendro_container')\n      .selectAll('path') \n      .transition().delay(1000).duration(1000)\n      .style('opacity', triangle_opacity);\n\n  } else {\n\n    d3.select(params.root+' .row_dendro_container')\n      .selectAll('path') \n      .style('opacity', triangle_opacity);\n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/make_row_dendro_triangles.js\n **/","module.exports = function calc_row_dendro_triangles(params){\n\n  var triangle_info = {};\n  var inst_level = params.group_level.row;\n  var row_nodes = params.network_data.row_nodes;\n  var row_nodes_names = params.network_data.row_nodes_names;\n\n  _.each(row_nodes, function(d){\n\n    var tmp_group = d.group[inst_level];\n    var inst_index = _.indexOf(row_nodes_names, d.name);\n    var inst_top = params.viz.y_scale(inst_index);\n    var inst_bot = inst_top + params.viz.y_scale.rangeBand();\n\n    if ( _.has(triangle_info, tmp_group) === false ){\n      triangle_info[tmp_group] = {};\n      triangle_info[tmp_group].name_top = d.name;\n      triangle_info[tmp_group].name_bot = d.name;\n      triangle_info[tmp_group].pos_top = inst_top;\n      triangle_info[tmp_group].pos_bot = inst_bot;\n      triangle_info[tmp_group].pos_mid = (inst_top + inst_bot)/2;\n      triangle_info[tmp_group].name = tmp_group;\n      triangle_info[tmp_group].all_names = [];\n    } \n\n    triangle_info[tmp_group].all_names.push(d.name);\n\n    if (inst_top < triangle_info[tmp_group].pos_top){\n      triangle_info[tmp_group].name_top = d.name;\n      triangle_info[tmp_group].pos_top = inst_top;\n      triangle_info[tmp_group].pos_mid = (inst_top + triangle_info[tmp_group].pos_bot)/2;\n    }\n\n    if (inst_bot > triangle_info[tmp_group].pos_bot){\n      triangle_info[tmp_group].name_bot = d.name;\n      triangle_info[tmp_group].pos_bot = inst_bot;\n      triangle_info[tmp_group].pos_mid = (triangle_info[tmp_group].pos_top + inst_bot)/2;\n    }\n\n  });\n\n  var group_info = [];\n  \n  _.each(triangle_info, function(d){\n    group_info.push(d);\n  });\n\n  return group_info;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/calc_row_dendro_triangles.js\n **/","var dendro_shade_bars = require('./dendro_shade_bars');\nmodule.exports = function dendro_group_highlight(params, inst_selection, inst_data, inst_rc){\n\n  var wait_before_make_shade = 200;\n\n  setTimeout(still_hovering, wait_before_make_shade);\n\n  function still_hovering(){\n    if (d3.select(inst_selection).classed('hovering')){\n      make_shade_bars();\n    }\n  }\n\n  function make_shade_bars(){\n\n    if (inst_rc === 'row'){\n\n      // row and col labling are reversed\n      if (params.viz.inst_order.col === 'clust'){\n        dendro_shade_bars(params, inst_selection, inst_rc, inst_data);\n      }\n\n    } else if (inst_rc === 'col') {\n      \n      // row and col labeling are reversed\n      if (params.viz.inst_order.row === 'clust'){\n        dendro_shade_bars(params, inst_selection, inst_rc, inst_data);\n      }\n\n    } else if (inst_rc === 'both'){\n\n      if (params.viz.inst_order.col === 'clust'){\n        dendro_shade_bars(params, inst_selection, 'row', inst_data);\n      } \n      if (params.viz.inst_order.row === 'clust'){\n        dendro_shade_bars(params, inst_selection, 'col', inst_data);\n      } \n\n    }\n\n  }\n};\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/dendro_group_highlight.js\n **/","module.exports = function dendro_shade_bars(params, inst_selection, inst_rc, inst_data){\n\n  var inst_opacity = 0.2;\n  var select_opacity = 0.7;\n  var bot_height;\n\n  if (inst_rc == 'row'){\n\n    d3.select(inst_selection)\n      .style('opacity',select_opacity);\n\n    // top shade \n    d3.select(params.root+' .clust_group')\n      .append('rect')\n      .style('width', params.viz.clust.dim.width+'px')\n      .style('height', inst_data.pos_top+'px')\n      .style('fill','black')\n      .style('opacity', inst_opacity)\n      .classed('dendro_shadow',true);\n\n    bot_height = params.viz.clust.dim.height - inst_data.pos_bot;\n    // bottom shade \n    d3.select(params.root+' .clust_group')\n      .append('rect')\n      .style('width', params.viz.clust.dim.width+'px')\n      .style('height', bot_height+'px')\n      .attr('transform','translate(0,'+inst_data.pos_bot+')')\n      .style('fill','black')\n      .style('opacity', inst_opacity)\n      .classed('dendro_shadow',true);\n\n  } else if (inst_rc === 'col'){\n\n    d3.select(inst_selection)\n      .style('opacity', select_opacity);\n\n    // top shade \n    d3.select(params.root+' .clust_group')\n      .append('rect')\n      .style('width', inst_data.pos_top+'px')\n      .style('height', params.viz.clust.dim.height+'px')\n      .style('fill','black')\n      .style('opacity', inst_opacity)\n      .classed('dendro_shadow',true);\n\n    // bottom shade \n    bot_height = params.viz.clust.dim.width - inst_data.pos_bot;\n    d3.select(params.root+' .clust_group')\n      .append('rect')\n      .style('width', bot_height+'px')\n      .style('height', params.viz.clust.dim.height+'px')\n      .attr('transform','translate('+inst_data.pos_bot+',0)')\n      .style('fill','black')\n      .style('opacity',inst_opacity)\n      .classed('dendro_shadow',true);\n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/dendro_shade_bars.js\n **/","module.exports = function dendro_mouseover(inst_selection){\n  d3.select(inst_selection)\n    .classed('hovering',true);\n};\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/dendro_mouseover.js\n **/","module.exports = function dendro_mouseout(inst_selection){\n  d3.select(inst_selection)\n    .classed('hovering',false);\n};\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/dendro_mouseout.js\n **/","var calc_col_dendro_triangles = require('./calc_col_dendro_triangles');\nvar dendro_group_highlight = require('./dendro_group_highlight');\nvar dendro_mouseover = require('./dendro_mouseover');\nvar dendro_mouseout = require('./dendro_mouseout');\n\nmodule.exports = function make_col_dendro_triangles(params, is_change_group = false){\n\n  var dendro_info = calc_col_dendro_triangles(params);\n\n  var run_transition;\n  if (d3.selectAll(params.root+' .col_dendro_group').empty()){\n    run_transition = false;\n  } else {\n    run_transition = true;\n    d3.selectAll(params.root+' .col_dendro_group').remove();\n  }\n\n  if (is_change_group){\n    run_transition = false;\n  }\n\n  d3.select(params.root+' .col_dendro_container')\n    .selectAll('path')\n    .data(dendro_info, function(d){return d.name;})\n    .enter()\n    .append('path')\n    .style('opacity',0)\n    .attr('class','col_dendro_group')\n    .attr('d', function(d) {\n\n      // up triangle\n      var start_x = d.pos_top;\n      var start_y = 0 ;\n      \n      var mid_x = d.pos_mid;\n      var mid_y = 30;\n\n      var final_x = d.pos_bot;\n      var final_y = 0;\n\n      var output_string = 'M' + start_x + ',' + start_y + ', L' +\n      mid_x + ', ' + mid_y + ', L' \n      + final_x + ','+ final_y +' Z';\n\n      return output_string;\n    })\n    .style('fill','black')\n    .on('mouseover', function(d){\n      var inst_rc;\n      if (params.sim_mat){\n        inst_rc = 'both';\n      } else {\n        inst_rc = 'col';\n      }\n      dendro_mouseover(this);\n      dendro_group_highlight(params, this, d, inst_rc);\n    })\n    .on('mouseout', function(){\n      if (params.viz.inst_order.col === 'clust'){\n        d3.select(this)\n          .style('opacity',params.viz.dendro_opacity);\n      }\n      d3.selectAll(params.root+' .dendro_shadow')\n        .remove();\n      dendro_mouseout(this);\n    })\n    .on('click', function(d){\n      \n      d3.select(params.root+' .dendro_info')\n        .select('.modal-title')\n        .html('Columns in Group');\n\n      $(params.root+' .dendro_info .current_names')\n        .val(d.all_names.join(', '));\n\n      $(params.root+' .dendro_info').modal('toggle');\n\n    });\n\n  var triangle_opacity;\n\n  if (params.viz.inst_order.row === 'clust'){\n    triangle_opacity = params.viz.dendro_opacity;\n  } else {\n    triangle_opacity = 0;\n  }\n\n  if (run_transition){\n\n    d3.select(params.root+' .col_dendro_container')\n      .selectAll('path') \n      .transition().delay(1000).duration(1000)\n      .style('opacity', triangle_opacity);\n\n  } else {\n\n    d3.select(params.root+' .col_dendro_container')\n      .selectAll('path') \n      .style('opacity', triangle_opacity);\n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/make_col_dendro_triangles.js\n **/","module.exports = function calc_col_dendro_triangles(params){\n  \n  var triangle_info = {};\n  var inst_level = params.group_level.col;\n  var col_nodes = params.network_data.col_nodes;\n  var col_nodes_names = params.network_data.col_nodes_names;\n\n  _.each(col_nodes, function(d){\n\n    var tmp_group = d.group[inst_level];\n    var inst_index = _.indexOf(col_nodes_names, d.name);\n    var inst_top = params.viz.x_scale(inst_index);\n    var inst_bot = inst_top + params.viz.x_scale.rangeBand();\n\n    if ( _.has(triangle_info, tmp_group) === false){\n      triangle_info[tmp_group] = {};\n      triangle_info[tmp_group].name_top = d.name;\n      triangle_info[tmp_group].name_bot = d.name;\n      triangle_info[tmp_group].pos_top = inst_top;\n      triangle_info[tmp_group].pos_bot = inst_bot;\n      triangle_info[tmp_group].pos_mid = (inst_top + inst_bot)/2;\n      triangle_info[tmp_group].name = tmp_group;\n      triangle_info[tmp_group].all_names = [];\n    }\n\n    triangle_info[tmp_group].all_names.push(d.name);\n\n    if (inst_top < triangle_info[tmp_group].pos_top){\n      triangle_info[tmp_group].name_top = d.name;\n      triangle_info[tmp_group].pos_top = inst_top;\n      triangle_info[tmp_group].pos_mid = (inst_top + triangle_info[tmp_group].pos_bot)/2;\n    }\n\n    if (inst_bot > triangle_info[tmp_group].pos_bot){\n      triangle_info[tmp_group].name_bot = d.name;\n      triangle_info[tmp_group].pos_bot = inst_bot;\n      triangle_info[tmp_group].pos_mid = (triangle_info[tmp_group].pos_top + inst_bot)/2;\n    }\n\n  });\n\n  var group_info = [];\n\n  _.each(triangle_info, function(d){\n    group_info.push(d);\n  });\n\n  return group_info;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/calc_col_dendro_triangles.js\n **/","var utils = require('../Utils_clust');\nvar reposition_tile_highlight = require('./reposition_tile_highlight');\nvar toggle_dendro_view = require('../dendrogram/toggle_dendro_view');\nvar show_visible_area = require('../zoom/show_visible_area');\n\nmodule.exports = function col_reorder(params, col_selection, inst_term) {\n\n  params.viz.inst_order.col = 'custom';\n  toggle_dendro_view(params, 'col');\n\n  d3.selectAll(params.root+' .row_dendro_group').style('opacity',0);\n\n  d3.selectAll(params.root+' .toggle_row_order .btn')\n    .classed('active',false);\n\n  params.viz.run_trans = true;\n\n  var mat       = params.matrix.matrix;\n  var row_nodes = params.network_data.row_nodes;\n  var col_nodes = params.network_data.col_nodes;\n\n  var row_nodes_names = utils.pluck(row_nodes, 'name');\n\n  // // get inst col (term)\n  // var inst_term = d3.select(col_selection).select('text').attr('full_name');\n\n  // find the column number of col_selection term from col_nodes\n  // gather column node names\n  var tmp_arr = [];\n  col_nodes.forEach(function(node) {\n    tmp_arr.push(node.name);\n  });\n\n  // find index\n  var inst_col = _.indexOf(tmp_arr, inst_term);\n\n  // gather the values of the input genes\n  tmp_arr = [];\n  row_nodes.forEach(function(node, index) {\n    tmp_arr.push( mat[index].row_data[inst_col].value);\n  });\n\n  // sort the cols\n  var tmp_sort = d3.range(tmp_arr.length).sort(function(a, b) {\n    return tmp_arr[b] - tmp_arr[a];\n  });\n\n\n  // resort cols\n  ////////////////////////////\n  params.viz.y_scale.domain(tmp_sort);\n\n  var t;\n\n  // reorder\n  if (params.network_data.links.length > params.matrix.def_large_matrix){\n    t = d3.select(params.root+' .clust_group');\n\n    // reorder row_label_triangle groups\n    d3.selectAll(params.root+' .row_cat_group')\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n      });\n\n    // Move Row Labels\n    d3.select(params.root+' .row_label_zoom_container')\n      .selectAll('.row_label_group')\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n      });\n\n  } else {\n\n    t = d3.select(params.root+' .clust_group')\n      .transition().duration(2500);\n\n    // reorder row_label_triangle groups\n    d3.selectAll(params.root+' .row_cat_group')\n      .transition().duration(2500)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n      });\n\n    // Move Row Labels\n    d3.select(params.root+' .row_label_zoom_container')\n      .selectAll('.row_label_group')\n      .transition().duration(2500)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n      });\n  }\n\n  // reorder matrix rows\n  t.selectAll('.row')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(row_nodes_names, d.name);\n      return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n    });\n\n\n  // highlight selected column\n  ///////////////////////////////\n  // unhilight and unbold all columns (already unbolded earlier)\n  d3.selectAll(params.root+' .col_label_text')\n    .select('.highlight_rect')\n    .style('opacity', 0);\n  // highlight column name\n  d3.select(col_selection)\n    .select('.highlight_rect')\n    .style('opacity', 1);\n\n  // redefine x and y positions\n  params.network_data.links.forEach(function(d){\n    d.x = params.viz.x_scale(d.target);\n    d.y = params.viz.y_scale(d.source);\n  });\n\n  reposition_tile_highlight(params);\n\n  // reset visible area\n  var zoom_info = {};\n  zoom_info.zoom_x = 1;\n  zoom_info.zoom_y = 1;\n  zoom_info.trans_x = 0;\n  zoom_info.trans_y = 0;\n  show_visible_area(params, zoom_info);\n\n  setTimeout(function(){\n    params.viz.run_trans = false;\n  }, 2500);\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/reorder/col_reorder.js\n **/","var d3_tip_custom = require('../tooltip/d3_tip_custom');\n\nmodule.exports = function make_tooltips(params){\n\n  if (params.labels.show_label_tooltips){\n\n    // d3-tooltip\n    var row_tip = d3_tip_custom()\n      .attr('class', 'd3-tip')\n      .direction('e')\n      .offset([0, 10])\n      .html(function(d) {\n        var inst_name = d.name.replace(/_/g, ' ').split('#')[0];\n        return \"<span>\" + inst_name + \"</span>\";\n      });\n\n    d3.select(params.viz.viz_wrapper)\n      .select(params.root+' .row_container')\n      .call(row_tip);\n\n    d3.select(params.root+' .row_label_zoom_container')\n      .selectAll('g')\n      .on('mouseover', function(d) {\n\n        d3.selectAll('.d3-tip')\n          .style('opacity',0);\n\n        d3.select(this)\n          .select('text')\n          .classed('active',true);\n\n        row_tip.show(d);\n        \n      })\n      .on('mouseout', function mouseout(d) {\n        d3.select(this)\n          .select('text')\n          .classed('active',false);\n        row_tip.hide(d);\n      });\n\n\n  } else{\n    \n    d3.select(params.root+' .row_label_zoom_container')\n      .selectAll('g')\n      .on('mouseover', function() {\n        d3.select(this)\n          .select('text')\n          .classed('active',true);\n      })\n      .on('mouseout', function mouseout() {\n        d3.select(this)\n          .select('text')\n          .classed('active',false);\n      });\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/labels/make_row_tooltips.js\n **/","var utils = require('../Utils_clust');\nvar add_col_click_hlight = require('./add_col_click_hlight');\nvar col_reorder = require('../reorder/col_reorder');\nvar row_reorder = require('../reorder/row_reorder');\nvar make_col_tooltips = require('./make_col_tooltips');\n\nmodule.exports = function(params, text_delay) {\n\n  var col_container;\n\n  var col_nodes = params.network_data.col_nodes;\n  var col_nodes_names = params.network_data.col_nodes_names;\n\n  // offset click group column label\n  var x_offset_click = params.viz.x_scale.rangeBand() / 2 + params.viz.border_width;\n  // reduce width of rotated rects\n  var reduce_rect_width = params.viz.x_scale.rangeBand() * 0.36;\n\n\n  // make container to pre-position zoomable elements\n  if (d3.select(params.root+' .col_container').empty()) {\n\n    col_container = d3.select(params.viz.viz_svg)\n      .append('g')\n      .attr('class','col_container')\n      .attr('transform', 'translate(' + params.viz.clust.margin.left + ',' +\n      params.viz.norm_labels.margin.top + ')');\n\n    // white background rect for col labels\n    col_container\n      .append('rect')\n      .attr('fill', params.viz.background_color) //!! prog_colors\n      .attr('width', 30 * params.viz.clust.dim.width + 'px')\n      .attr('height', params.viz.label_background.col)\n      .attr('class', 'white_bars');\n\n    // col labels\n    col_container\n      .append('g')\n      .attr('class','col_label_outer_container')\n      // position the outer col label group\n      .attr('transform', 'translate(0,' + params.viz.norm_labels.width.col + ')')\n      .append('g')\n      .attr('class', 'col_zoom_container');\n\n  } else {\n\n    col_container = d3.select(params.root+' .col_container')\n      .attr('transform', 'translate(' + params.viz.clust.margin.left + ',' +\n      params.viz.norm_labels.margin.top + ')');\n\n    // white background rect for col labels\n    col_container\n      .select('.white_bars')\n      .attr('fill', params.viz.background_color) //!! prog_colors\n      .attr('width', 30 * params.viz.clust.dim.width + 'px')\n      .attr('height', params.viz.label_background.col);\n\n    // col labels\n    col_container.select(params.root+' .col_label_outer_container');\n\n  }\n\n  // add main column label group\n  var col_label_obj = d3.select(params.root+' .col_zoom_container')\n    .selectAll('.col_label_text')\n    .data(col_nodes, function(d){return d.name;})\n    .enter()\n    .append('g')\n    .attr('class', 'col_label_text')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(col_nodes_names, d.name);\n      return 'translate(' + params.viz.x_scale(inst_index) + ') rotate(-90)';\n    });\n\n  // append group for individual column label\n  var col_label_group = col_label_obj\n    // append new group for rect and label (not white lines)\n    .append('g')\n    .attr('class', 'col_label_group')\n    // rotate column labels\n    .attr('transform', 'translate(' + params.viz.x_scale.rangeBand() / 2 + ',' + x_offset_click + ') rotate(45)')\n    .on('mouseover', function() {\n      d3.select(this).select('text')\n        .classed('active',true);\n    })\n    .on('mouseout', function() {\n      d3.select(this).select('text')\n        .classed('active',false);\n    });\n\n  // append column value bars\n  if (utils.has(params.network_data.col_nodes[0], 'value')) {\n\n    col_label_group\n      .append('rect')\n      .attr('class', 'col_bars')\n      .attr('width', function(d) {\n        var inst_value = 0;\n        if (d.value > 0){\n          inst_value = params.labels.bar_scale_col(d.value);\n        }\n        return inst_value;\n      })\n      // rotate labels - reduce width if rotating\n      .attr('height', params.viz.x_scale.rangeBand() * 0.66)\n      .style('fill', function(d) {\n        return d.value > 0 ? params.matrix.bar_colors[0] : params.matrix.bar_colors[1];\n      })\n      .attr('opacity', 0.6);\n\n  }\n\n  // add column label\n  col_label_group\n    .append('text')\n    .attr('x', 0)\n    // manually tuned\n    .attr('y', params.viz.x_scale.rangeBand() * 0.64)\n    .attr('dx', params.viz.border_width)\n    .attr('text-anchor', 'start')\n    .attr('full_name', function(d) {\n      return d.name;\n    })\n    // original font size\n    .style('font-size', params.labels.default_fs_col + 'px')\n    .style('cursor','default')\n    .text(function(d){ return utils.normal_name(d); })\n    // .attr('pointer-events','none')\n    .style('opacity',0)\n    .transition().delay(text_delay).duration(text_delay)\n    .style('opacity',1);\n\n  make_col_tooltips(params);\n\n  // this is interferring with text tooltip \n  //////////////////////////////////////////\n  // // append rectangle behind text\n  // col_label_group\n  //   .insert('rect')\n  //   .attr('class','.highlight_rect')\n  //   .attr('x', 0)\n  //   .attr('y', 0)\n  //   .attr('width', 10*params.viz.rect_height)\n  //   .attr('height', 0.67*params.viz.rect_width)\n  //   .style('opacity', 0);\n\n  // add triangle under rotated labels\n  col_label_group\n    .append('path')\n    .style('stroke-width', 0)\n    .attr('d', function() {\n      // x and y are flipped since its rotated\n      var origin_y = -params.viz.border_width;\n      var start_x = 0;\n      var final_x = params.viz.x_scale.rangeBand() - reduce_rect_width;\n      var start_y = -(params.viz.x_scale.rangeBand() - reduce_rect_width +\n      params.viz.border_width);\n      var final_y = -params.viz.border_width;\n      var output_string = 'M ' + origin_y + ',0 L ' + start_y + ',' +\n        start_x + ', L ' + final_y + ',' + final_x + ' Z';\n      return output_string;\n    })\n    .attr('fill', '#eee')\n    .style('opacity',0)\n    .transition().delay(text_delay).duration(text_delay)\n    .style('opacity', params.viz.triangle_opacity);\n\n  // add col callback function\n  d3.selectAll(params.root+' .col_label_text')\n    .on('click',function(d){\n\n      if (typeof params.click_label == 'function'){\n        params.click_label(d.name, 'col');\n        add_col_click_hlight(params, this, d.ini);\n      } else {\n\n        if (params.tile_click_hlight){\n          add_col_click_hlight(params, this, d.ini);\n        }\n\n      }\n\n    })\n    .on('dblclick', function(d) {\n\n      var data_attr = '__data__';\n      var col_name = this[data_attr].name;\n\n      if (params.sim_mat){\n        col_reorder(params, this, col_name);\n        \n        var row_selection = d3.selectAll(params.root+' .row_label_group')\n          .filter(function(d){\n            return d.name == col_name;}\n            )[0][0];\n\n        row_reorder(params, row_selection, col_name);\n\n      } else {\n        col_reorder(params, this, col_name);\n      }\n\n      if (params.tile_click_hlight){\n        add_col_click_hlight(params, this, d.ini);\n      }\n    });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/labels/make_cols.js\n **/","module.exports = function(params, clicked_col, id_clicked_col) {\n\n  if (id_clicked_col != params.click_hlight_col){\n\n    params.click_hlight_col = id_clicked_col;\n\n    var rel_width_hlight = 6;\n    var opacity_hlight = 0.85;\n    var hlight_width  = rel_width_hlight*params.viz.border_width;\n    // var hlight_height = rel_width_hlight*params.viz.border_width/params.viz.zoom_switch;\n\n    d3.selectAll(params.root+' .click_hlight')\n      .remove();\n\n    // // highlight selected column\n    // ///////////////////////////////\n    // // unhilight and unbold all columns (already unbolded earlier)\n    // d3.selectAll('.col_label_text')\n    //   .select('rect')\n    //   .style('opacity', 0);\n    // // highlight column name\n    // d3.select(clicked_col)\n    //   .select('rect')\n    //   .style('opacity', 1);\n\n    d3.select(clicked_col)\n      .append('rect')\n      .classed('click_hlight',true)\n      .classed('col_top_hlight',true)\n      .attr('width',params.viz.clust.dim.height)\n      .attr('height',hlight_width)\n      .attr('fill',params.matrix.hlight_color)\n      .attr('opacity',opacity_hlight)\n      .attr('transform',function(){\n        var tmp_translate_y = 0;\n        var tmp_translate_x = -(params.viz.clust.dim.height+\n          params.viz.cat_room.col+params.viz.uni_margin);\n        return 'translate('+tmp_translate_x+','+tmp_translate_y+')';\n      });\n\n    d3.select(clicked_col)\n      .append('rect')\n      .classed('click_hlight',true)\n      .classed('col_bottom_hlight',true)\n      .attr('width',params.viz.clust.dim.height)\n      .attr('height',hlight_width)\n      .attr('fill',params.matrix.hlight_color)\n      .attr('opacity',opacity_hlight)\n      .attr('transform', function(){\n        // reverse x and y since rotated\n        var tmp_translate_y = params.viz.x_scale.rangeBand() - hlight_width;\n        var tmp_translate_x = -(params.viz.clust.dim.height +\n          params.viz.cat_room.col+params.viz.uni_margin);\n        return 'translate('+tmp_translate_x+','+tmp_translate_y+')';\n      });\n  } else {\n    d3.selectAll(params.root+' .click_hlight')\n      .remove();\n    params.click_hlight_col = -666;\n  }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/labels/add_col_click_hlight.js\n **/","var d3_tip_custom = require('../tooltip/d3_tip_custom');\n\nmodule.exports = function make_col_tooltips(params){\n\n  if (params.labels.show_label_tooltips){\n\n    // d3-tooltip\n    var col_tip = d3_tip_custom()\n      .attr('class', 'd3-tip')\n      .direction('w')\n      .offset([20, 0])\n      .style('display','block')\n      .html(function(d) { \n        var inst_name = d.name.replace(/_/g, ' ').split('#')[0];\n        return \"<span>\" + inst_name + \"</span>\";\n      });\n\n    d3.select(params.viz.viz_wrapper)\n      .select('svg')\n      .select(params.root+' .col_zoom_container')\n      .selectAll('.col_label_group')\n      .select('text')\n      .call(col_tip);\n\n    d3.select(params.root+' .col_zoom_container')\n      // .selectAll('.col_label_text')\n      .selectAll('.col_label_group')\n      // .selectAll('text')\n      .on('mouseover', col_tip.show)\n      .on('mouseout', function(){\n         col_tip.hide(this); \n      });\n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/labels/make_col_tooltips.js\n **/","module.exports = function(params) {\n\n\n  d3.select(params.viz.viz_svg)\n    .append('rect')\n    .attr('fill', params.viz.background_color)\n    .attr('height', params.viz.super_labels.dim.width + 'px')\n    .attr('width', '3000px')\n    .classed('super_col_bkg',true)\n    .classed('white_bars',true)\n    .attr('transform', 'translate(0,' + params.viz.super_labels.margin.top + ')');\n\n  d3.select(params.viz.viz_svg)\n    .append('text')\n    .attr('class', 'super_col')\n    .text(params.labels.super.col)\n    .attr('text-anchor', 'center')\n    .attr('transform', function () {\n\n      var inst_text_width = d3.select(this)[0][0]\n        .getBBox().width;\n\n      var inst_x = params.viz.clust.dim.width / 2 + params.viz.norm_labels.width\n          .row - inst_text_width / 2;\n      var inst_y = params.viz.super_labels.dim.width;\n      return 'translate(' + inst_x + ',' + inst_y + ')';\n    })\n    .style('font-size', function () {\n      var inst_font_size = params.labels.super_label_fs * params.labels.super_label_scale;\n      return inst_font_size + 'px';\n    })\n    .style('font-weight', 300);\n\n  d3.select(params.viz.viz_svg)\n    .append('rect')\n    .attr('fill', params.viz.background_color)\n    .attr('width', params.viz.super_labels.dim.width + 'px')\n    .attr('height', '3000px')\n    .classed('super_row_bkg',true)\n    .classed('white_bars',true)\n    .attr('transform', 'translate(' + params.viz.super_labels.margin.left + ',0)');\n\n  // append super title row group - used to separate translation from rotation\n  d3.select(params.viz.viz_svg)\n    .append('g')\n    .classed('super_row',true)\n    .attr('transform', function () {\n      // position in the middle of the clustergram\n      var inst_x = params.viz.super_labels.dim.width;\n      var inst_y = params.viz.clust.dim.height / 2 + params.viz.norm_labels.width\n          .col;\n      return 'translate(' + inst_x + ',' + inst_y + ')';\n    });\n\n  // super row label (rotate the already translated title )\n  d3.select(params.root+' .super_row')\n    .append('text')\n    .text(params.labels.super.row)\n    .attr('text-anchor', 'center')\n    .attr('transform', function () {\n      var inst_text_width = d3.select(this)[0][0].getBBox().width;\n      var inst_x_offset = inst_text_width / 2 + params.viz.norm_labels.width.col;\n      var inst_offset = 'translate(0,' + inst_x_offset + '), rotate(-90)';\n      return inst_offset;\n    })\n    .style('font-size', function () {\n      var inst_font_size = params.labels.super_label_fs * params.labels.super_label_scale;\n      return inst_font_size + 'px';\n    })\n    .style('font-weight', 300);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/labels/super_labels.js\n **/","var get_cat_title = require('./categories/get_cat_title');\nvar ini_cat_reorder = require('./reorder/ini_cat_reorder');\n\nmodule.exports = function Spillover(params) {\n\n  var viz = params.viz;\n\n  // hide spillover from slanted column labels on right side\n  d3.select(viz.root+' .col_container')\n    .append('path')\n    .style('stroke-width', '0')\n    .attr('d', 'M 0,0 L 1000,-1000, L 1000,0 Z')\n    .attr('fill', viz.background_color) //!! prog_colors\n    .attr('class', 'right_slant_triangle')\n    .attr('transform', 'translate(' + viz.clust.dim.width + ',' +\n    viz.norm_labels.width.col + ')');\n\n  // hide spillover from slanted column labels on left side\n  d3.select(viz.root+' .col_container')\n    .append('path')\n    .style('stroke-width', '0')\n    .attr('d', 'M 0,0 L 500,-500, L 0,-500 Z')\n    .attr('fill', viz.background_color)\n    .attr('class', 'left_slant_triangle')\n    // shift left by 1 px to prevent cutting off labels\n    .attr('transform', 'translate(-1,' + viz.norm_labels.width.col +\n    ')');\n\n  // white rect to cover excess labels\n  d3.select(viz.viz_svg)\n    .append('rect')\n    .attr('fill', viz.background_color) //!! prog_colors\n    .attr('width', viz.clust.margin.left)\n    .attr('height', viz.clust.margin.top)\n    .attr('class', 'top_left_white');\n\n\n  var tmp_left = viz.clust.margin.left + \n    viz.clust.dim.width +\n    viz.uni_margin + \n    viz.dendro_room.row;\n  var tmp_top = viz.norm_labels.margin.top + viz.norm_labels.width.col;\n\n  // hide spillover from right\n  d3.select(viz.viz_svg)\n    .append('rect')\n    .attr('fill', viz.background_color) //!! prog_colors\n    .attr('width', 10*viz.clust.dim.width)\n    .attr('height', viz.svg_dim.height+'px')\n    .attr('transform', function() {\n      return 'translate(' + tmp_left + ',' + tmp_top + ')';\n    })\n    .attr('class', 'white_bars')\n    .attr('class','right_spillover');\n\n  // hide spillover from top of row dendrogram \n  var x_offset = viz.clust.margin.left + viz.clust.dim.width;\n  var y_offset = tmp_top;\n  var tmp_width = viz.dendro_room.row + viz.uni_margin;\n  var tmp_height = viz.cat_room.col + viz.uni_margin;\n  d3.select(viz.viz_svg)\n    .append('rect')\n    .attr('fill', viz.background_color)\n    .attr('width',tmp_width)\n    .attr('height',tmp_height)\n    .attr('transform', function(){\n      return 'translate('+x_offset+','+y_offset+')';\n    })\n    .classed('white_bars',true)\n    .classed('dendro_row_spillover',true); \n\n  // hide spillover left top of col dendrogram \n  x_offset = 0;\n  y_offset = viz.clust.margin.top + viz.clust.dim.height;\n  tmp_width = viz.clust.margin.left;\n  tmp_height = viz.clust.dim.height*10;\n  d3.select(viz.viz_svg)\n    .append('rect')\n    .attr('fill', viz.background_color)\n    .attr('width',tmp_width)\n    .attr('height',tmp_height)\n    .attr('transform', function(){\n      return 'translate('+x_offset+','+y_offset+')';\n    })\n    .classed('white_bars',true)\n    .classed('dendro_col_spillover',true); \n\n  x_offset = viz.clust.margin.left + viz.clust.dim.width;\n  y_offset = viz.clust.margin.top + viz.clust.dim.height;\n  tmp_width = viz.cat_room.col + viz.clust.dim.width;\n  tmp_height = viz.cat_room.row + viz.uni_margin;\n  d3.select(viz.viz_svg)\n    .append('rect')\n    .attr('fill', viz.background_color)\n    .attr('width',tmp_width)\n    .attr('height',tmp_height)\n    .attr('transform', function(){\n      return 'translate('+x_offset+','+y_offset+')';\n    })\n    .classed('white_bars',true)\n    .classed('dendro_corner_spillover',true); \n\n  x_offset = viz.clust.margin.left + viz.clust.dim.width + viz.uni_margin;\n  y_offset = viz.norm_labels.margin.top + viz.norm_labels.width.col \n    + 2.5*viz.uni_margin;\n  var cat_text_size = 1.15*viz.cat_room.symbol_width;\n  var cat_super_opacity = 0.65;\n  var extra_x_room = 2.75;\n  var extra_y_room = 1.25;\n\n  // col category super labels \n  if (viz.show_categories.col){  \n    d3.select(viz.viz_svg)\n      .selectAll()\n      .data(viz.all_cats.col)\n      .enter()\n      .append('text')\n      .classed('col_cat_super', true)\n      .style('font-size', cat_text_size+'px')\n      .style('opacity', cat_super_opacity)\n      .style('cursor','default')\n      .attr('transform', function(d){\n        var inst_cat = parseInt( d.split('-')[1], 10);\n        var inst_y = y_offset + extra_y_room * viz.cat_room.symbol_width \n          * inst_cat;\n        return 'translate('+x_offset+','+inst_y+')';\n      })\n      .text(function(d){\n        return get_cat_title(viz, d, 'col');\n      });\n    }\n\n  // row category super labels \n  if (viz.show_categories.row){\n    var row_cat_label_container = d3.select(viz.viz_svg)\n      .append('g')\n      .classed('row_cat_label_container', true)\n      .attr('transform', function(){ \n        x_offset = viz.norm_labels.margin.left + viz.norm_labels.width.row \n          + viz.cat_room.symbol_width + extra_x_room * viz.uni_margin;\n        y_offset = viz.clust.margin.top - viz.uni_margin;\n        return 'translate('+x_offset+','+y_offset+') rotate(-90)';\n      });\n\n    if (viz.sim_mat === false){\n\n      row_cat_label_container\n        .selectAll()\n        .data(viz.all_cats.row)\n        .enter()\n        .append('text')\n        .classed('row_cat_super',true)\n        .style('font-size', cat_text_size+'px')\n        .style('opacity', cat_super_opacity)\n        .style('cursor','default')\n        .attr('transform', function(d){\n          var inst_y = extra_y_room*viz.cat_room.symbol_width \n            * parseInt( d.split('-')[1], 10 );\n          return 'translate(0,'+inst_y+')';\n        })\n        .text(function(d){\n          return get_cat_title(viz, d, 'row');\n        });\n\n    }  \n  }\n\n\n  // white border bottom - prevent clustergram from hitting border\n  if (viz.show_dendrogram){\n    y_offset = viz.clust.margin.top + viz.clust.dim.height + viz.dendro_room.col;\n  } else {\n    y_offset = viz.clust.margin.top + viz.clust.dim.height;\n  }\n  d3.select(viz.viz_svg)\n    .append('rect')\n    .attr('class','bottom_spillover')\n    .attr('fill', viz.background_color) //!! prog_colors\n    .attr('width', viz.svg_dim.width)\n    // make this border twice the width of the grey border\n    .attr('height', 2 * viz.svg_dim.height)\n    .attr('transform', function() {\n      // shift up enough to show the entire border width\n      var inst_offset = y_offset;\n      return 'translate(0,' + inst_offset + ')';\n    });\n\n\n\n  ini_cat_reorder(params);\n\n\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/spillover.js\n **/","module.exports = function get_cat_title(viz, inst_cat, inst_rc){\n  var cat_title;\n\n  // make default title if none is given \n  if(viz.cat_names[inst_rc][inst_cat] === inst_cat){\n    var inst_num = parseInt( inst_cat.split('-')[1], 10) + 1;\n    cat_title = 'Category ' + inst_num;\n  } else {\n    cat_title = viz.cat_names[inst_rc][inst_cat];\n  }\n\n  return cat_title;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/categories/get_cat_title.js\n **/","var all_reorder = require('./all_reorder');\n\nmodule.exports = function ini_cat_reorder(params){\n/* eslint-disable */\n\n  _.each(['row','col'], function(inst_rc){\n\n    if (params.viz.show_categories[inst_rc]){  \n      d3.selectAll(params.root+' .'+inst_rc+'_cat_super')\n        .on('dblclick',function(){\n\n          if (params.sim_mat){\n            inst_rc = 'both';\n          }\n\n          d3.selectAll(params.root+' .toggle_'+inst_rc+'_order .btn')\n            .classed('active',false);\n\n          var order_id = this.__data__.replace('-','_') + '_index'; \n          if (params.viz.sim_mat){\n            all_reorder( params, order_id, 'row');\n            all_reorder( params, order_id, 'col');\n          }\n          else {\n            all_reorder( params, order_id, inst_rc);\n          }\n        });\n    }\n\n  });      \n};\n\n\n/** WEBPACK FOOTER **\n ** src/reorder/ini_cat_reorder.js\n **/","var utils = require('../Utils_clust');\nvar toggle_dendro_view = require('../dendrogram/toggle_dendro_view');\nvar show_visible_area = require('../zoom/show_visible_area');\n\nmodule.exports = function(params, inst_order, tmp_row_col) {\n\n  // row/col names are swapped, will improve later\n  var row_col;\n  if (tmp_row_col==='row'){\n    row_col = 'col';\n  } else if (tmp_row_col === 'col'){\n    row_col = 'row';\n  }\n\n  params.viz.run_trans = true;\n\n  // save order state\n  if (row_col === 'row'){\n    params.viz.inst_order.row = inst_order;\n  } else if (row_col === 'col'){\n    params.viz.inst_order.col = inst_order;\n  }\n\n  if (params.viz.show_dendrogram){\n    toggle_dendro_view(params, tmp_row_col);\n  }\n\n  var row_nodes_obj = params.network_data.row_nodes;\n  var row_nodes_names = utils.pluck(row_nodes_obj, 'name');\n\n  var col_nodes_obj = params.network_data.col_nodes;\n  var col_nodes_names = utils.pluck(col_nodes_obj, 'name');\n\n  if (row_col === 'row'){\n\n    params.viz.x_scale\n      .domain( params.matrix.orders[ params.viz.inst_order.row + '_row' ] );\n\n  } else if (row_col == 'col') {\n\n    params.viz.y_scale\n      .domain( params.matrix.orders[ params.viz.inst_order.col + '_col' ] );\n\n  }\n\n  var t;\n\n  // only animate transition if there are a small number of tiles\n  if (d3.selectAll(params.root+' .tile')[0].length < params.matrix.def_large_matrix){\n\n    // define the t variable as the transition function\n    t = d3.select(params.root+' .clust_group')\n      .transition().duration(2500);\n\n    t.selectAll('.row')\n      .attr('transform', function(d) {\n        var tmp_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(tmp_index) + ')';\n        });\n\n    t.selectAll('.row')\n      .selectAll('.tile')\n      .attr('transform', function(d) {\n        return 'translate(' + params.viz.x_scale(d.pos_x) + ' , 0)';\n      });\n\n    t.selectAll('.row')\n      .selectAll('.tile_circle')\n      .attr('transform', function(d) {\n        var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width + params.viz.rect_width/4;\n        var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch + params.viz.rect_height/4;\n        return 'translate(' + x_pos + ' , '+y_pos+')';\n      });\n\n    t.selectAll('.tile_up')\n      .attr('transform', function(d) {\n        return 'translate(' + params.viz.x_scale(d.pos_x) + ' , 0)';\n      });\n\n    t.selectAll('.tile_dn')\n      .attr('transform', function(d) {\n        return 'translate(' + params.viz.x_scale(d.pos_x) + ' , 0)';\n      });\n\n    // Move Row Labels\n    d3.select(params.root+' .row_label_zoom_container')\n      .selectAll('.row_label_group')\n      .transition().duration(2500)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n      });\n\n    // t.selectAll('.column')\n    d3.select(params.root+' .col_zoom_container')\n      .selectAll('.col_label_text')\n      .transition().duration(2500)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ') rotate(-90)';\n      });\n\n    // reorder row_label_triangle groups\n    d3.selectAll(params.root+' .row_cat_group')\n      .transition().duration(2500)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n      });\n\n    // reorder col_class groups\n    d3.selectAll(params.root+' .col_cat_group')\n      .transition().duration(2500)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ',0)';\n      });\n\n  } else {\n\n    // define the t variable as the transition function\n    t = d3.select(params.root+' .clust_group');\n\n    // reorder matrix\n    t.selectAll('.row')\n      .attr('transform', function(d) {\n        var tmp_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(tmp_index) + ')';\n      })\n      .selectAll('.tile')\n      .attr('transform', function(d) {\n        return 'translate(' + params.viz.x_scale(d.pos_x) + ' , 0)';\n      });\n\n    t.selectAll('.tile_up')\n      .attr('transform', function(d) {\n        return 'translate(' + params.viz.x_scale(d.pos_x) + ' , 0)';\n      });\n\n    t.selectAll('.tile_dn')\n      .attr('transform', function(d) {\n        return 'translate(' + params.viz.x_scale(d.pos_x) + ' , 0)';\n      });\n\n    // Move Row Labels\n    d3.select(params.root+' .row_label_zoom_container')\n      .selectAll('.row_label_group')\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n      });\n\n    // t.selectAll('.column')\n    d3.select(params.root+' .col_zoom_container')\n      .selectAll('.col_label_text')\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names,d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ') rotate(-90)';\n      });\n\n    // reorder row_label_triangle groups\n    d3.selectAll(params.root+' .row_cat_group')\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names,d.name);\n        return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n      });\n\n    // reorder col_class groups\n    d3.selectAll(params.root+' .col_cat_group')\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names,d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ',0)';\n      });\n\n  }\n\n  // redefine x and y positions\n  params.network_data.links.forEach(function(d){\n    d.x = params.viz.x_scale(d.target);\n    d.y = params.viz.y_scale(d.source);\n  });\n\n  // reset visible area\n  var zoom_info = {};\n  zoom_info.zoom_x = 1;\n  zoom_info.zoom_y = 1;\n  zoom_info.trans_x = 0;\n  zoom_info.trans_y = 0;\n  show_visible_area(params, zoom_info);\n\n  setTimeout(function(){\n    params.viz.run_trans = false;\n  }, 2500);\n\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/reorder/all_reorder.js\n **/","var two_translate_zoom = require('../zoom/two_translate_zoom');\n\n/* Handles searching rows or columns.\n TODO need to generalize to column and row\n * ----------------------------------------------------------------------- */\nmodule.exports = function(params, nodes, prop) {\n\n  /* Collect entities from row or columns.\n   */\n  var entities = [];\n  var i;\n\n  for (i = 0; i < nodes.length; i++) {\n    entities.push(nodes[i][prop]);\n  }\n\n  /* Find a gene (row) in the clustergram.\n   */\n  function find_entity(search_term) {\n    \n    if (entities.indexOf(search_term) !== -1) {\n\n      // unhighlight\n      d3.selectAll(params.root+' .row_label_group')\n        .select('rect').style('opacity', 0);\n\n      // calc pan_dy \n      var idx = _.indexOf(entities, search_term);\n      var inst_y_pos = params.viz.y_scale(idx);\n      var pan_dy = params.viz.clust.dim.height / 2 - inst_y_pos;\n\n      two_translate_zoom(params, 0, pan_dy, params.viz.zoom_switch);\n\n      // highlight \n      d3.selectAll(params.root+' .row_label_group')\n        .filter(function(d) {\n          return d[prop] === search_term;\n        })\n        .select('rect')\n        .style('opacity', 1);\n    }\n  }\n\n  return {\n    find_entity: find_entity,\n    get_entities: entities\n  };\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/search/index.js\n **/","var utils = require('../Utils_clust');\nvar label_constrain_and_trim = require('../labels/label_constrain_and_trim');\nvar show_visible_area = require('./show_visible_area');\n\nmodule.exports = function two_translate_zoom(params, pan_dx, pan_dy, fin_zoom) {\n\n  d3.selectAll('.tile_tip')\n    .style('display','none' );\n    \n  // reset visible area \n  var zoom_info = {};\n  zoom_info.zoom_x = 1;\n  zoom_info.zoom_y = 1;\n  zoom_info.trans_x = 0;\n  zoom_info.trans_y = 0;\n\n  show_visible_area(params, zoom_info);\n\n  // do not allow while transitioning, e.g. reordering\n  if (!params.viz.run_trans) {\n\n    // define the commonly used variable half_height\n    var half_height = params.viz.clust.dim.height / 2;\n\n    // y pan room, the pan room has to be less than half_height since\n    // zooming in on a gene that is near the top of the clustergram also causes\n    // panning out of the visible region\n    var y_pan_room = half_height / params.viz.zoom_switch;\n\n    // prevent visualization from panning down too much\n    // when zooming into genes near the top of the clustergram\n    if (pan_dy >= half_height - y_pan_room) {\n\n      // explanation of panning rules\n      /////////////////////////////////\n      // prevent the clustergram from panning down too much\n      // if the amount of panning is equal to the half_height then it needs to be reduced\n      // effectively, the the visualization needs to be moved up (negative) by some factor\n      // of the half-width-of-the-visualization.\n      //\n      // If there was no zooming involved, then the\n      // visualization would be centered first, then panned to center the top term\n      // this would require a\n      // correction to re-center it. However, because of the zooming the offset is\n      // reduced by the zoom factor (this is because the panning is occurring on something\n      // that will be zoomed into - this is why the pan_dy value is not scaled in the two\n      // translate transformations, but it has to be scaled afterwards to set the translate\n      // vector)\n      // pan_dy = half_height - (half_height)/params.viz.zoom_switch\n\n      // if pan_dy is greater than the pan room, then panning has to be restricted\n      // start by shifting back up (negative) by half_height/params.viz.zoom_switch then shift back down\n      // by the difference between half_height and pan_dy (so that the top of the clustergram is\n      // visible)\n      var shift_top_viz = half_height - pan_dy;\n      var shift_up_viz = -half_height / params.viz.zoom_switch +\n        shift_top_viz;\n\n      // reduce pan_dy so that the visualization does not get panned to far down\n      pan_dy = pan_dy + shift_up_viz;\n    }\n\n    // prevent visualization from panning up too much\n    // when zooming into genes at the bottom of the clustergram\n    if (pan_dy < -(half_height - y_pan_room)) {\n\n      shift_top_viz = half_height + pan_dy;\n\n      shift_up_viz = half_height / params.viz.zoom_switch - shift_top_viz; //- move_up_one_row;\n\n      // reduce pan_dy so that the visualization does not get panned to far down\n      pan_dy = pan_dy + shift_up_viz;\n\n    }\n\n    // will improve this !!\n    var zoom_y = fin_zoom;\n    var zoom_x;\n    if (fin_zoom <= params.viz.zoom_switch){\n      zoom_x = 1;\n    } else {\n      zoom_x = fin_zoom/params.viz.zoom_switch;\n    }\n\n    // search duration - the duration of zooming and panning\n    var search_duration = 700;\n\n    // center_y\n    var center_y = -(zoom_y - 1) * half_height;\n\n    // transform clust group\n    ////////////////////////////\n    d3.select(params.root+' .clust_group')\n      .transition().duration(search_duration)\n      // first apply the margin transformation\n      // then zoom, then apply the final transformation\n      .attr('transform', 'translate(' + [0, 0 + center_y] + ')' +\n      ' scale(' + zoom_x + ',' + zoom_y + ')' + 'translate(' + [pan_dx,\n        pan_dy\n      ] + ')');\n\n    // transform row labels\n    d3.select(params.root+' .row_label_zoom_container')\n      .transition()\n      .duration(search_duration)\n      .attr('transform', 'translate(' + [0, center_y] + ')' + ' scale(' +\n      zoom_y + ',' + zoom_y + ')' + 'translate(' + [0, pan_dy] + ')');\n\n    // transform row_cat_container\n    // use the offset saved in params, only zoom in the y direction\n    d3.select(params.root+' .row_cat_container')\n      .transition()\n      .duration(search_duration)\n      .attr('transform', 'translate(' + [0, center_y] + ')' + ' scale(' +\n      1 + ',' + zoom_y + ')' + 'translate(' + [0, pan_dy] + ')');\n\n    d3.select(params.root+' .row_dendro_container')\n      .transition()\n      .duration(search_duration)\n      .attr('transform', 'translate(' + [0, center_y] + ')' + ' scale(' + zoom_x + ',' + zoom_y + ')' + 'translate(' + [params.viz.uni_margin/2, pan_dy] + ')');\n\n    // transform col labels\n    d3.select(params.root+' .col_zoom_container')\n      .transition()\n      .duration(search_duration)\n      .attr('transform', ' scale(' + zoom_x + ',' + zoom_x + ')' + 'translate(' + [\n        pan_dx, 0\n      ] + ')');\n\n    // transform col_class\n    d3.select(params.root+' .col_cat_container')\n      .transition()\n      .duration(search_duration)\n      .attr('transform', ' scale(' + zoom_x + ',' + 1 + ')' + 'translate(' + [\n        pan_dx, 0 ] + ')');\n\n    d3.select(params.root+' .col_dendro_container')\n      .transition()\n      .duration(search_duration)\n      .attr('transform', ' scale(' + zoom_x + ',' + 1 + ')' + 'translate(' + [\n        pan_dx, params.viz.uni_margin/2 ] + ')');\n\n    // set y translate: center_y is positive, positive moves the visualization down\n    // the translate vector has the initial margin, the first y centering, and pan_dy\n    // times the scaling zoom_y\n    var net_y_offset = params.viz.clust.margin.top + center_y + pan_dy * zoom_y;\n\n    // reset the zoom and translate \n    params.zoom_behavior\n      .scale(zoom_y)\n      .translate([pan_dx, net_y_offset]);\n\n    label_constrain_and_trim(params);\n\n    // re-size of the highlighting rects\n    /////////////////////////////////////////\n    d3.select(params.root+' .row_label_zoom_container')\n      .each(function() {\n        // get the bounding box of the row label text\n        var bbox = d3.select(this)\n          .select('text')[0][0]\n          .getBBox();\n\n        // use the bounding box to set the size of the rect\n        d3.select(this)\n          .select('rect')\n          .attr('x', bbox.x * 0.5)\n          .attr('y', 0)\n          .attr('width', bbox.width * 0.5)\n          .attr('height', params.viz.y_scale.rangeBand())\n          .style('fill', 'yellow');\n      });\n\n\n    // column value bars\n    ///////////////////////\n    // reduce the height of the column value bars based on the zoom applied\n    // recalculate the height and divide by the zooming scale\n    // col_label_obj.select('rect')\n    if (utils.has(params.network_data.col_nodes[0], 'value')) {\n\n      d3.selectAll(params.root+' .col_bars')\n        // .transition()\n        // .duration(search_duration)\n        .attr('width', function(d) {\n        var inst_value = 0;\n        if (d.value > 0){\n          inst_value = params.labels.bar_scale_col(d.value)/zoom_x;\n        }\n        return inst_value;\n      });\n    }\n\n    if (utils.has(params.network_data.row_nodes[0], 'value')) {\n\n      d3.selectAll(params.root+' .row_bars')\n        .transition()\n        .duration(search_duration)\n        .attr('width', function(d) {\n        var inst_value = 0;\n        inst_value = params.labels.bar_scale_row(Math.abs(d.value))/zoom_y;\n        return inst_value;\n      })\n      .attr('x', function(d) {\n        var inst_value = 0;\n        inst_value = -params.labels.bar_scale_row(Math.abs(d.value))/zoom_y;\n        return inst_value;\n      });\n\n    }\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/two_translate_zoom.js\n **/","var utils = require('../Utils_clust');\nvar trim_text = require('../zoom/trim_text');\nvar constrain_font_size = require('../zoom/constrain_font_size');\n\nmodule.exports = function label_constrain_and_trim(params){\n\n  // console.log('label_constrain_and_trim');\n\n  // reset text in rows and columns \n  d3.selectAll(params.root+' .row_label_group')\n    .select('text')\n    .text(function(d){ return utils.normal_name(d); });\n\n  d3.selectAll(params.root+' .col_label_text')\n    .select('text')\n    .text(function(d){ return utils.normal_name(d); });\n\n  constrain_font_size(params);\n\n  d3.selectAll(params.root+' .row_label_group' )\n    .each(function() { trim_text(params, this, 'row'); });\n\n  d3.selectAll(params.root+' .col_label_group')\n    .each(function() { trim_text(params, this, 'col'); });\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/labels/label_constrain_and_trim.js\n **/","var resize_viz = require('./reset_size/resize_viz');\n\nmodule.exports = function(params) {\n\n  var exp_button;\n\n  // d3.select(window).on('resize', null);\n\n  // // resize window\n  // if (params.viz.resize) {\n  //   d3.select(window).on('resize', function () {\n\n  //     d3.select(params.viz.viz_svg).style('opacity', 0.5);\n\n  //     var wait_time = 500;\n  //     if (params.viz.run_trans === true) {\n  //       wait_time = 2500;\n  //     }\n      \n  //     setTimeout(resize_viz, wait_time, params);\n  //   });\n  // }\n\n  // if (params.viz.expand_button) {\n\n    d3.select(params.root + ' .expand_button').on('click', null);\n    var expand_opacity = 0.4;\n\n    if (d3.select(params.root + ' .expand_button').empty()) {\n      exp_button = d3.select(params.viz.viz_svg)\n        .append('text')\n        .attr('class', 'expand_button');\n    } else {\n      exp_button = d3.select(params.root + ' .expand_button');\n    }\n\n    exp_button\n      .attr('text-anchor', 'middle')\n      .attr('dominant-baseline', 'central')\n      .attr('font-family', 'FontAwesome')\n      .attr('font-size', '30px')\n      .text(function () {\n        if (params.viz.is_expand === false) {\n          // expand button\n          return '\\uf0b2';\n        } else {\n          // menu button\n          return '\\uf0c9';\n        }\n      })\n      .attr('y', '25px')\n      .attr('x', '25px')\n      .style('cursor', 'pointer')\n      .style('opacity', expand_opacity)\n      .on('mouseover', function () {\n        d3.select(this).style('opacity', 0.75);\n      })\n      .on('mouseout', function () {\n        d3.select(this).style('opacity', expand_opacity);\n      })\n      .on('click', function () {\n\n        // expand view\n        if (params.viz.is_expand === false) {\n\n          d3.select(this)\n            .text(function() {\n              // menu button\n              return '\\uf0c9';\n            });\n          params.viz.is_expand = true;\n\n          d3.selectAll(params.root+' .borders').style('fill', 'white');\n          // d3.select(params.root+' .footer_section').style('display', 'none');\n          d3.select(params.root+' .sidebar_wrapper')\n            .style('display','none');\n\n        // contract view\n        } else {\n\n          d3.select(this)\n            .text(function () {\n              // expand button\n              return '\\uf0b2';\n            });\n\n          params.viz.is_expand = false;\n\n          d3.selectAll(params.root+' .borders').style('fill', '#eee');\n          // d3.select(params.root+' .footer_section').style('display', 'block');\n          d3.select(params.root+' .viz_wrapper').style('width','100px');\n          d3.select(params.root+' .sidebar_wrapper')\n            .style('display','block');\n        }\n\n        // // resize parent div\n        // set_viz_wrapper_size(params);\n\n        d3.select(params.viz.viz_svg).style('opacity', 0.5);\n        var wait_time = 500;\n        if (params.viz.run_trans == true) {\n          wait_time = 2500;\n        }\n        setTimeout(resize_viz, wait_time, params);\n      });\n  // }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/initialize_resizing.js\n **/","// var crossfilter = require('crossfilter');\nvar utils = require('../Utils_clust');\nvar zoomed = require('../zoom/zoomed');\nvar ini_doubleclick = require('../zoom/ini_doubleclick');\nvar reset_zoom = require('../zoom/reset_zoom');\nvar resize_dendro = require('./resize_dendro');\nvar resize_grid_lines = require('./resize_grid_lines');\nvar resize_super_labels = require('./resize_super_labels');\nvar resize_spillover = require('./resize_spillover');\nvar resize_borders = require('./resize_borders');\nvar resize_row_labels = require('./resize_row_labels');\nvar resize_highlights = require('./resize_highlights');\nvar resize_row_viz = require('./resize_row_viz');\nvar resize_col_labels = require('./resize_col_labels');\nvar resize_col_text = require('./resize_col_text');\nvar resize_col_triangle = require('./resize_col_triangle');\nvar resize_col_hlight = require('./resize_col_hlight');\nvar recalc_params_for_resize = require('./recalc_params_for_resize');\nvar resize_row_tiles = require('./resize_row_tiles');\nvar resize_label_bars = require('./resize_label_bars');\nvar label_constrain_and_trim = require('../labels/label_constrain_and_trim');\nvar make_row_dendro_triangles = require('../dendrogram/make_row_dendro_triangles');\nvar make_col_dendro_triangles = require('../dendrogram/make_col_dendro_triangles');\nvar toggle_dendro_view = require('../dendrogram/toggle_dendro_view');\nvar show_visible_area = require('../zoom/show_visible_area');\nvar calc_viz_dimensions = require('../params/calc_viz_dimensions');\nvar position_play_button = require('../demo/position_play_button');\n\nmodule.exports = function(params) {\n\n  var cont_dim = calc_viz_dimensions(params);\n\n  d3.select(params.root+' .play_button');\n    // .style('opacity', 0.2);\n\n  // reset visible area\n  var zoom_info = {};\n  zoom_info.zoom_x = 1;\n  zoom_info.zoom_y = 1;\n  zoom_info.trans_x = 0;\n  zoom_info.trans_y = 0;\n\n  show_visible_area(params, zoom_info);\n\n  d3.select(params.root+' .sidebar_wrapper')\n    .style('height', cont_dim.height+'px');\n\n  d3.select(params.viz.viz_wrapper)\n    // .style('float', 'left')\n    .style('margin-top',  cont_dim.top  + 'px')\n    .style('width',  cont_dim.width  + 'px')\n    .style('height', cont_dim.height + 'px');\n\n  params = recalc_params_for_resize(params);\n\n  reset_zoom(params);\n\n  var svg_group = d3.select(params.viz.viz_svg);\n\n  // redefine x and y positions\n  _.each(params.network_data.links, function(d){\n    d.x = params.viz.x_scale(d.target);\n    d.y = params.viz.y_scale(d.source);\n  });\n\n  // disable zoom while transitioning\n  svg_group.on('.zoom', null);\n\n  params.zoom_behavior\n    .scaleExtent([1, params.viz.real_zoom * params.viz.zoom_switch])\n    .on('zoom', function(){\n      zoomed(params);\n    });\n\n  // reenable zoom after transition\n  if (params.viz.do_zoom) {\n    svg_group.call(params.zoom_behavior);\n  }\n\n  // prevent normal double click zoom etc\n  ini_doubleclick(params);\n\n  svg_group\n    .attr('width', params.viz.svg_dim.width)\n    .attr('height', params.viz.svg_dim.height);\n\n  svg_group.select('.super_background')\n    .style('width', params.viz.svg_dim.width)\n    .style('height', params.viz.svg_dim.height);\n\n  svg_group.select('.grey_background')\n    .attr('width', params.viz.clust.dim.width)\n    .attr('height', params.viz.clust.dim.height);\n\n  setTimeout(position_play_button, 100, params);\n\n  var row_nodes = params.network_data.row_nodes;\n  var row_nodes_names = utils.pluck(row_nodes, 'name');\n\n  resize_row_tiles(params, svg_group);\n\n  svg_group.selectAll('.highlighting_rect')\n    .attr('width', params.viz.x_scale.rangeBand() * 0.80)\n    .attr('height', params.viz.y_scale.rangeBand() * 0.80);\n\n  resize_highlights(params);\n\n  // resize row labels\n  ///////////////////////////\n\n  resize_row_labels(params, svg_group);\n  resize_row_viz(params, svg_group);\n\n  // change the size of the highlighting rects\n  svg_group.selectAll('.row_label_group')\n    .each(function() {\n      var bbox = d3.select(this).select('text')[0][0].getBBox();\n      d3.select(this)\n        .select('rect')\n        .attr('x', bbox.x )\n        .attr('y', 0)\n        .attr('width', bbox.width )\n        .attr('height', params.viz.rect_height)\n        .style('fill', 'yellow')\n        .style('opacity', function(d) {\n          var inst_opacity = 0;\n          // highlight target genes\n          if (d.target === 1) {\n            inst_opacity = 1;\n          }\n          return inst_opacity;\n        });\n    });\n\n  // necessary to properly position row labels vertically\n  svg_group.selectAll('.row_label_group')\n    .select('text')\n    .attr('y', params.viz.rect_height * 0.5 + params.labels.default_fs_row*0.35 );\n\n  if (utils.has( params.network_data.row_nodes[0], 'value')) {\n    resize_label_bars(params, svg_group);\n  }\n\n  svg_group\n    .selectAll('.row_cat_group')\n    .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0, ' + params.viz.y_scale(inst_index) + ')';\n      });\n\n  svg_group\n    .selectAll('.row_cat_group')\n    .select('path')\n    .attr('d', function() {\n      var origin_x = params.viz.cat_room.symbol_width - 1;\n      var origin_y = 0;\n      var mid_x = 1;\n      var mid_y = params.viz.rect_height / 2;\n      var final_x = params.viz.cat_room.symbol_width - 1;\n      var final_y = params.viz.rect_height;\n      var output_string = 'M ' + origin_x + ',' + origin_y + ' L ' +\n        mid_x + ',' + mid_y + ', L ' + final_x + ',' + final_y + ' Z';\n      return output_string;\n    });\n\n  var is_resize = true;\n  if (params.viz.show_dendrogram){\n    make_row_dendro_triangles(params, is_resize);\n    make_col_dendro_triangles(params, is_resize);\n    resize_dendro(params, svg_group);\n\n    toggle_dendro_view(params, 'row', 0);\n    toggle_dendro_view(params, 'col', 0);\n  }\n\n  resize_col_labels(params, svg_group);\n  resize_col_text(params, svg_group);\n  resize_col_triangle(params, svg_group);\n  resize_col_hlight(params, svg_group);\n\n\n  resize_super_labels(params, svg_group);\n  resize_spillover(params.viz, svg_group);\n\n  // specific to screen resize\n  resize_grid_lines(params, svg_group);\n  resize_borders(params, svg_group);\n\n  // reset zoom and translate\n  params.zoom_behavior\n    .scale(1)\n    .translate([ params.viz.clust.margin.left, params.viz.clust.margin.top ]);\n\n  label_constrain_and_trim(params);\n\n  d3.select(params.viz.viz_svg).style('opacity',1);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_viz.js\n **/","var two_translate_zoom = require('./two_translate_zoom');\n\nmodule.exports = function(params) {\n  // disable double-click zoom\n  d3.selectAll(params.viz.zoom_element)\n    .on('dblclick.zoom', null);\n\n  d3.select(params.viz.zoom_element)\n    .on('dblclick', function() {\n      two_translate_zoom(params, 0, 0, 1);\n    });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/ini_doubleclick.js\n **/","module.exports = function(params){\n\n  // reset zoom\n  //////////////////////////////\n  var zoom_y = 1;\n  // var zoom_x = 1;\n  var pan_dx = 0;\n  var pan_dy = 0;\n\n  var half_height = params.viz.clust.dim.height / 2;\n  var center_y = -(zoom_y - 1) * half_height;\n\n  d3.select(params.root + ' .clust_group')\n    .attr('transform', 'translate(' + [0, 0 + center_y] + ')' +\n    ' scale(' + 1 + ',' + zoom_y + ')' + 'translate(' + [pan_dx,pan_dy] + ')');\n\n  d3.select(params.root+' .row_label_zoom_container')\n    .attr('transform', 'translate(' + [0, center_y] + ')' + ' scale(' +\n    zoom_y + ',' + zoom_y + ')' + 'translate(' + [0, pan_dy] + ')');\n\n  d3.select(params.root+' .row_cat_container')\n    .attr('transform', 'translate(' + [0, center_y] + ')' + ' scale(' +\n    1 + ',' + zoom_y + ')' + 'translate(' + [0, pan_dy] + ')');\n\n  d3.select(params.root+' .row_dendro_container')\n    .attr('transform', 'translate(' + [0, center_y] + ')' + ' scale(' +\n    zoom_y + ',' + zoom_y + ')' + 'translate(' + [params.viz.uni_margin/2, pan_dy] + ')');    \n\n  d3.select(params.root+' .col_zoom_container')\n    .attr('transform', ' scale(' + 1 + ',' + 1 + ')' + 'translate(' + [pan_dx, 0] + ')');\n\n  d3.select(params.root+' .col_cat_container')\n    .attr('transform', ' scale(' + 1 + ',' + 1 + ')' + 'translate(' + [pan_dx, 0] + ')');\n\n  d3.select(params.root+' .col_dendro_container')\n    .attr('transform', ' scale(' + 1 + ',' + 1 + ')' + 'translate(' + [pan_dx, params.viz.uni_margin/2] + ')');    \n    \n};\n\n\n/** WEBPACK FOOTER **\n ** src/zoom/reset_zoom.js\n **/","module.exports = function resize_dendro(params, svg_group, delay_info=false){\n\n  // resize dendrogram\n  ///////////////////\n\n  var delays = {};\n\n  if (delay_info === false){\n    delays.run_transition = false;\n  } else {\n    delays = delay_info;\n  }\n\n  var duration = params.viz.duration;\n  var col_nodes = params.network_data.col_nodes;\n  var col_nodes_names = params.network_data.col_nodes_names;\n\n  var dendro_group;\n  if (delays.run_transition){\n\n    dendro_group = svg_group\n      .transition().delay(delays.update).duration(duration);\n\n    svg_group\n      .selectAll('.col_cat_group')\n      // data binding needed for loss/gain of columns\n      .data(col_nodes, function(d){return d.name;})\n      .transition().delay(delays.update).duration(duration)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ',0)';\n      });\n\n    svg_group\n      .selectAll('.col_dendro_group')\n      // data binding needed for loss/gain of columns\n      .data(col_nodes, function(d){return d.name;})\n      .transition().delay(delays.update).duration(duration)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ',0)';\n      });        \n\n  } else {\n\n    dendro_group = svg_group;\n\n    svg_group\n      .selectAll('.col_cat_group')\n      // data binding needed for loss/gain of columns\n      .data(col_nodes, function(d){return d.name;})\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ',0)';\n      });\n\n    d3.select(params.root)\n      .selectAll('.col_dendro_group')\n      // data binding needed for loss/gain of columns\n      .data(col_nodes, function(d){return d.name;})\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ',0)';\n      });        \n\n  }\n\n  var i;\n  var inst_class;\n\n  _.each(['row','col'], function(inst_rc){\n\n    var num_cats = params.viz.all_cats[inst_rc].length;\n\n    for (i=0; i<num_cats; i++){\n      inst_class = '.'+inst_rc+'_cat_rect_'+String(i);\n\n      if (inst_rc === 'row'){\n        dendro_group\n          .selectAll(inst_class)\n          .attr('height', params.viz.y_scale.rangeBand());\n      } else {\n        dendro_group\n          .selectAll(inst_class)\n          .attr('width', params.viz.x_scale.rangeBand());\n      }\n    }\n  });\n\n  // position row_dendro_outer_container\n  var x_offset = params.viz.clust.margin.left + params.viz.clust.dim.width;\n  var y_offset = params.viz.clust.margin.top;\n  var spillover_width = params.viz.dendro_room.row + params.viz.uni_margin;\n\n  d3.select(params.root+' .viz_svg')\n    .select('row_dendro_outer_container')\n    .attr('transform', 'translate(' + x_offset + ','+y_offset+')');\n\n  d3.select(params.root+' .row_dendro_outer_container')\n    .select('.row_dendro_spillover')\n    .attr('width', spillover_width + 'px')\n    .attr('height', params.viz.svg_dim.height); \n\n  x_offset = params.viz.clust.margin.left;\n  y_offset = params.viz.clust.margin.top + params.viz.clust.dim.height;\n  var spillover_height = params.viz.dendro_room.col + params.viz.uni_margin;\n\n  d3.select(params.root+' .col_dendro_outer_container')\n      .select('.col_dendro_spillover')\n      .attr('width', params.viz.svg_dim.width)\n      .attr('height', spillover_height+'px');\n\n  d3.select(params.root+' .col_dendro_outer_container')\n    .select('.col_dendro_spillover_top')\n    .attr('width', params.viz.svg_dim.width)\n    .attr('height', params.viz.svg_dim.height)\n    .attr('transform', 'translate(0,'+params.viz.dendro_room.col+')');\n\n}; \n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_dendro.js\n **/","module.exports = function resize_grid_lines(params, svg_group){\n\n  var col_nodes_names = params.network_data.col_nodes_names;\n  var row_nodes_names = params.network_data.row_nodes_names;\n\n  // reposition grid lines\n  svg_group.selectAll('.horz_lines')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(row_nodes_names, d.name);\n      return 'translate(0,' + params.viz.y_scale(inst_index) + ') rotate(0)';\n    });\n\n  svg_group.selectAll('.horz_lines')\n    .select('line')\n    .attr('x2',params.viz.clust.dim.width)\n    .style('stroke-width', function(){\n      var inst_width;\n      if (params.viz.zoom_switch > 1){\n        inst_width = params.viz.border_width/params.viz.zoom_switch;\n      } else {\n        inst_width = params.viz.border_width;\n      }\n      return inst_width+'px';\n    });\n\n  svg_group.selectAll('.vert_lines')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(col_nodes_names, d.name);\n      return 'translate(' + params.viz.x_scale(inst_index) + ') rotate(-90)';\n    });\n\n  svg_group.selectAll('.vert_lines')\n    .select('line')\n    .attr('x2', -params.viz.clust.dim.height)\n    .style('stroke-width', function(){\n      var inst_width;\n       if (params.viz.zoom_switch_y > 1){\n        inst_width = params.viz.border_width/ params.viz.zoom_switch_y;\n       } else {\n        inst_width = params.viz.border_width;\n       }\n       return inst_width + 'px';\n    });\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_grid_lines.js\n **/"," module.exports = function resize_super_labels(params, ini_svg_group, delay_info=false){\n\n  var delays = {};\n  var duration = params.viz.duration;\n  var svg_group;\n\n  if(delay_info === false){\n    delays.run_transition = false;\n  } else {\n    delays = delay_info;\n  }\n\n  if (delays.run_transition){\n    svg_group = ini_svg_group\n      .transition().delay(delays.update).duration(duration);\n  } else {\n    svg_group = ini_svg_group;\n  }\n\n  svg_group.select('.super_col_bkg')\n    .attr('height', params.viz.super_labels.dim.width + 'px')\n    .attr('transform', 'translate(0,' + params.viz.grey_border_width + ')');\n\n  // super col title\n  svg_group.select('.super_col')\n    .attr('transform', function() {\n      var inst_x = params.viz.clust.dim.width / 2 + params.viz.norm_labels.width\n        .row;\n      var inst_y = params.viz.super_labels.dim.width ;\n      return 'translate(' + inst_x + ',' + inst_y + ')';\n    });\n\n  svg_group.select('.super_row_bkg')\n    .attr('width', params.viz.super_labels.dim.width + 'px')\n    .attr('transform', 'translate(' + params.viz.grey_border_width + ',0)');\n\n  svg_group.select('.super_row')\n    .attr('transform', function() {\n      var inst_x = params.viz.super_labels.dim.width;\n      var inst_y = params.viz.clust.dim.height / 2 + params.viz.norm_labels.width\n        .col;\n      return 'translate(' + inst_x + ',' + inst_y + ')';\n    });\n\n}; \n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_super_labels.js\n **/","module.exports = function resize_spillover(viz, ini_svg_group, delay_info=false){\n\n  var delays = {};\n  var duration = viz.duration;\n  var svg_group;\n\n  if(delay_info === false){\n    delays.run_transition = false;\n  } else {\n    delays = delay_info;\n  }\n\n  if (delays.run_transition){\n    svg_group = ini_svg_group\n      .transition().delay(delays.update).duration(duration);\n  } else {\n    svg_group = ini_svg_group;\n  }\n\n  svg_group\n    .select(viz.root+' .right_slant_triangle')\n    .attr('transform', 'translate(' + viz.clust.dim.width + ',' +\n    viz.norm_labels.width.col + ')');\n\n  svg_group.select(viz.root+' .left_slant_triangle')\n    .attr('transform', 'translate(-1,' + viz.norm_labels.width.col +')');\n\n  svg_group\n    .select(viz.root+' .top_left_white')\n    .attr('width', viz.clust.margin.left)\n    .attr('height', viz.clust.margin.top);\n\n  var tmp_left = viz.clust.margin.left +   \n    viz.clust.dim.width +\n    viz.uni_margin + \n    viz.dendro_room.row;\n  var tmp_top = viz.norm_labels.margin.top + viz.norm_labels.width.col;\n  \n  svg_group.select(viz.root+' .right_spillover')\n    .attr('transform', function() {\n      return 'translate(' + tmp_left + ',' + tmp_top + ')';\n    })\n    .attr('height', viz.svg_dim.height+'px');\n\n  // resize dendro spillovers \n  var x_offset = viz.clust.margin.left + viz.clust.dim.width;\n  var y_offset = tmp_top;\n  var tmp_width = viz.dendro_room.row + viz.uni_margin;\n  var tmp_height = viz.cat_room.col + viz.uni_margin;  \n  d3.select(viz.root+' .dendro_row_spillover')\n    .attr('width',tmp_width)\n    .attr('height',tmp_height)\n    .attr('transform', function(){\n      return 'translate('+x_offset+','+y_offset+')';\n    });\n\n  // hide spillover left top of col dendrogram \n  x_offset = 0;\n  y_offset = viz.clust.margin.top + viz.clust.dim.height;\n  tmp_width = viz.clust.margin.left ;\n  tmp_height = viz.clust.dim.height*10;\n\n  svg_group\n    .select('.dendro_col_spillover')\n    .attr('width',tmp_width)\n    .attr('height',tmp_height)\n    .attr('transform', function(){\n      return 'translate('+x_offset+','+y_offset+')';\n    });\n\n  x_offset = viz.clust.margin.left + viz.clust.dim.width;\n  y_offset = viz.clust.margin.top + viz.clust.dim.height;\n  tmp_width = viz.cat_room.col + viz.clust.dim.width;\n  tmp_height = viz.cat_room.row + viz.uni_margin;\n\n  svg_group\n    .select('.dendro_corner_spillover')\n    .attr('width',tmp_width)\n    .attr('height',tmp_height)\n    .attr('transform', function(){\n      return 'translate('+x_offset+','+y_offset+')';\n    });\n\n  x_offset = viz.clust.margin.left + viz.clust.dim.width + viz.uni_margin;\n  y_offset = viz.norm_labels.margin.top + viz.norm_labels.width.col \n    + 2.5*viz.uni_margin;\n  var extra_x_room = 2.75;\n  var extra_y_room = 1.2;\n\n  // reposition category superlabels \n  if (viz.show_categories.col){\n\n    d3.selectAll(viz.root+' .col_cat_super')\n      .attr('transform', function(d){\n        var inst_cat = parseInt( d.split('-')[1], 10);\n        var inst_y = y_offset + extra_y_room * viz.cat_room.symbol_width \n          * inst_cat;\n        return 'translate('+x_offset+','+inst_y+')';\n      });\n  }\n\n  if (viz.show_categories.row){\n    d3.select(viz.root+' .row_cat_label_container')\n      .attr('transform', function(){ \n        x_offset = viz.norm_labels.margin.left + viz.norm_labels.width.row \n          + viz.cat_room.symbol_width + extra_x_room * viz.uni_margin;\n        y_offset = viz.clust.margin.top - viz.uni_margin;\n        return 'translate('+x_offset+','+y_offset+') rotate(-90)';\n      });\n  }\n\n  // white border bottom - prevent clustergram from hitting border\n  if (viz.show_dendrogram){\n    y_offset = viz.clust.margin.top + viz.clust.dim.height + viz.dendro_room.col;\n  } else {\n    y_offset = viz.clust.margin.top + viz.clust.dim.height;\n  }\n  svg_group.select(viz.root+' .bottom_spillover')\n    .attr('width', viz.svg_dim.width)\n    .attr('height', 2 * viz.svg_dim.height)\n    .attr('transform', function() {\n      // shift up enough to show the entire border width\n      var inst_offset = y_offset;\n      return 'translate(0,' + inst_offset + ')';\n    });\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_spillover.js\n **/","module.exports = function resize_borders(params, svg_group){\n\n  // left border\n  svg_group.select('.left_border')\n    .attr('width', params.viz.grey_border_width)\n    .attr('height', params.viz.svg_dim.height)\n    .attr('transform', 'translate(0,0)');\n\n  // right border\n  svg_group.select('.right_border')\n    .attr('width', params.viz.grey_border_width)\n    .attr('height', params.viz.svg_dim.height)\n    .attr('transform', function() {\n      var inst_offset = params.viz.svg_dim.width - params.viz.grey_border_width;\n      return 'translate(' + inst_offset + ',0)';\n    });\n\n  // top border\n  svg_group.select('.top_border')\n    .attr('width', params.viz.svg_dim.width)\n    .attr('height', params.viz.grey_border_width)\n    .attr('transform', function() {\n      var inst_offset = 0;\n      return 'translate(' + inst_offset + ',0)';\n    });\n\n  // bottom border\n  svg_group.select('.bottom_border')\n    .attr('width', params.viz.svg_dim.width)\n    .attr('height', params.viz.grey_border_width)\n    .attr('transform', function() {\n      var inst_offset = params.viz.svg_dim.height - params.viz.grey_border_width;\n      return 'translate(0,' + inst_offset + ')';\n    });\n\n};  \n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_borders.js\n **/","module.exports = function resize_row_labels(params, ini_svg_group, delay_info=false){\n\n  var delays = {};\n  var duration = params.viz.duration;\n  var svg_group;\n  \n  var row_nodes = params.network_data.row_nodes;\n  var row_nodes_names = params.network_data.row_nodes_names;\n\n  if(delay_info === false){\n    delays.run_transition = false;\n  } else {\n    delays = delay_info;\n  }\n\n  if (delays.run_transition){\n\n    ini_svg_group.selectAll('.row_label_group')\n      // data bind necessary for loss/gain of rows\n      .data(row_nodes, function(d){return d.name;})\n      .transition().delay(delays.update).duration(duration)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n      })\n      .attr('y', params.viz.rect_height * 0.5 + params.labels.default_fs_row*0.35 );      \n\n    svg_group = ini_svg_group\n      .transition().delay(delays.update).duration(duration);\n\n  } else {\n\n    ini_svg_group.selectAll('.row_label_group')\n      // data bind necessary for loss/gain of rows\n      .data(row_nodes, function(d){return d.name;})\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,' + params.viz.y_scale(inst_index) + ')';\n      })\n      .attr('y', params.viz.rect_height * 0.5 + params.labels.default_fs_row*0.35 );\n    \n    svg_group = ini_svg_group;\n  }\n\n  svg_group.select(params.root+' .row_container')\n    .attr('transform', 'translate(' + params.viz.norm_labels.margin.left + ',' +\n    params.viz.clust.margin.top + ')');\n\n  svg_group.select(params.root+' .row_container')\n    .select('.white_bars')\n    .attr('width', params.viz.label_background.row)\n    .attr('height', 30*params.viz.clust.dim.height + 'px');\n\n  svg_group.select(params.root + ' .row_container')\n    .select('.row_label_container')\n    .attr('transform', 'translate(' + params.viz.norm_labels.width.row + ',0)');  \n\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_row_labels.js\n **/"," module.exports = function resize_highlights(params){\n\n  // reposition tile highlight\n  ////////////////////////////////\n\n  var rel_width_hlight = 6;\n  // var opacity_hlight = 0.85;\n  var hlight_width = rel_width_hlight*params.viz.border_width;\n  var hlight_height = rel_width_hlight*params.viz.border_width/params.viz.zoom_switch;\n\n  // top highlight\n  d3.select(params.root+' .top_hlight')\n    .attr('width', params.viz.rect_width)\n    .attr('height', hlight_height)\n    .attr('transform', function() {\n      return 'translate(' + params.viz.x_scale(params.matrix.click_hlight_x) + ',0)';\n    });\n\n  // left highlight\n  d3.select(params.root+' .left_hlight')\n    .attr('width', hlight_width)\n    .attr('height', params.viz.rect_width - hlight_height*0.99 )\n    .attr('transform', function() {\n      return 'translate(' + params.viz.x_scale(params.matrix.click_hlight_x) + ','+\n        hlight_height*0.99+')';\n    });\n\n  // right highlight\n  d3.select(params.root+' .right_hlight')\n    .attr('width', hlight_width)\n    .attr('height', params.viz.rect_height - hlight_height*0.99 )\n    .attr('transform', function() {\n      var tmp_translate = params.viz.x_scale(params.matrix.click_hlight_x) + params.viz.rect_width - hlight_width;\n      return 'translate(' + tmp_translate + ','+\n        hlight_height*0.99+')';\n    });\n\n  // bottom highlight\n  d3.select(params.root+' .bottom_hlight')\n    .attr('width', function(){\n      return params.viz.rect_width - 1.98*hlight_width;})\n    .attr('height', hlight_height)\n    .attr('transform', function() {\n      var tmp_translate_x = params.viz.x_scale(params.matrix.click_hlight_x) + hlight_width*0.99;\n      var tmp_translate_y = params.viz.rect_height - hlight_height;\n      return 'translate(' + tmp_translate_x + ','+\n        tmp_translate_y+')';\n    });\n\n  // resize row highlight\n  /////////////////////////\n  d3.select(params.root+' .row_top_hlight')\n    .attr('width',params.viz.svg_dim.width)\n    .attr('height',hlight_height);\n\n  d3.select(params.root+' .row_bottom_hlight')\n    .attr('width',params.viz.svg_dim.width)\n    .attr('height',hlight_height)\n    .attr('transform', function(){\n      var tmp_translate_y = params.viz.rect_height - hlight_height;\n      return 'translate(0,'+tmp_translate_y+')';\n    });\n\n  // resize col highlight\n  /////////////////////////\n  d3.select(params.root+' .col_top_hlight')\n    .attr('width',params.viz.clust.dim.height)\n    .attr('height',hlight_width)\n    .attr('transform',function(){\n          var tmp_translate_y = 0;\n          var tmp_translate_x = -(params.viz.clust.dim.height+\n            params.viz.cat_room.col+params.viz.uni_margin);\n          return 'translate('+tmp_translate_x+','+tmp_translate_y+')';\n        });\n\n  d3.select(params.root+' .col_bottom_hlight')\n    .attr('width',params.viz.clust.dim.height)\n    .attr('height',hlight_width)\n    .attr('transform', function(){\n          var tmp_translate_y = params.viz.rect_width - hlight_width;\n          var tmp_translate_x = -(params.viz.clust.dim.height +\n            params.viz.cat_room.col+params.viz.uni_margin);\n          return 'translate('+tmp_translate_x+','+tmp_translate_y+')';\n        });\n\n };\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_highlights.js\n **/","module.exports = function resize_row_viz(params, ini_svg_group, delay_info=false){\n\n  var delays = {};\n  var duration = params.viz.duration;\n  var svg_group;\n\n  if (delay_info === false){\n    delays.run_transition = false;\n  } else {\n    delays = delay_info;\n  }\n\n  if (delays.run_transition){\n    svg_group = ini_svg_group\n      .transition().delay(delays.update).duration(duration);\n\n  } else {\n    svg_group = ini_svg_group;\n  }\n\n  svg_group.select('.row_cat_outer_container')\n    .attr('transform', 'translate(' + params.viz.norm_labels.width.row + ',0)')\n    .select('white_bars')\n    .attr('width', params.viz.cat_room.row + 'px')\n    .attr('height', function() {\n      var inst_height = params.viz.clust.dim.height;\n      return inst_height;\n    });\n\n  var x_offset = params.viz.clust.margin.left + params.viz.clust.dim.width ;\n  var y_offset = params.viz.clust.margin.top;\n  svg_group.select('.row_dendro_outer_container')\n    .attr('transform','translate('+ x_offset + ','+y_offset+')');\n\n  // !! tmp resize col dendro\n  x_offset = params.viz.clust.margin.left;\n  y_offset = params.viz.clust.margin.top + params.viz.clust.dim.height;\n\n  svg_group\n    .select(' .col_dendro_outer_container')\n    .attr('transform', function() {\n        return 'translate('+x_offset+',' + y_offset + ')';\n      });      \n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_row_viz.js\n **/","module.exports = function(params, ini_svg_group, delay_info=false){\n\n  var delays = {};\n  var duration = params.viz.duration;\n  var svg_group;\n\n  var col_nodes = params.network_data.col_nodes;\n  var col_nodes_names = params.network_data.col_nodes_names;\n\n  \n  if(delay_info === false){\n    delays.run_transition = false;\n  } else {\n    delays = delay_info;\n  }  \n\n  if (delays.run_transition){\n    svg_group = ini_svg_group\n      .transition().delay(delays.update).duration(duration);\n\n    ini_svg_group\n      .selectAll('.col_label_text')\n      .data(col_nodes, function(d){return d.name;})\n      .transition().delay(delays.update).duration(duration)\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ') rotate(-90)';\n      });\n\n  } else {    \n    svg_group = ini_svg_group;\n\n    ini_svg_group\n      .selectAll('.col_label_text')\n      .data(col_nodes, function(d){return d.name;})\n      .attr('transform', function(d) {\n        var inst_index = _.indexOf(col_nodes_names, d.name);\n        return 'translate(' + params.viz.x_scale(inst_index) + ') rotate(-90)';\n      });\n\n  }  \n\n  // offset click group column label\n  var x_offset_click = params.viz.x_scale.rangeBand() / 2 + params.viz.border_width;\n\n  svg_group\n    .select(params.root+' .col_container')\n    .attr('transform', 'translate(' + params.viz.clust.margin.left + ',' +\n    params.viz.norm_labels.margin.top + ')');\n\n  svg_group\n    .select(params.root+' .col_container')\n    .select('.white_bars')\n    .attr('width', 30 * params.viz.clust.dim.width + 'px')\n    .attr('height', params.viz.label_background.col);\n\n  svg_group\n    .select(params.root+' .col_container')\n    .select('.col_label_outer_container')\n    .attr('transform', 'translate(0,' + params.viz.norm_labels.width.col + ')');\n\n\n  svg_group\n    .selectAll('.col_label_group')\n    .attr('transform', 'translate(' + params.viz.x_scale.rangeBand() / 2 + ',' + x_offset_click + ') rotate(45)');\n\n  svg_group\n    .selectAll('.col_label_group')\n    .select('text')\n    .attr('y', params.viz.x_scale.rangeBand() * 0.60)\n    .attr('dx', 2 * params.viz.border_width);\n\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_col_labels.js\n **/","var utils = require('../Utils_clust');\n\nmodule.exports = function resize_col_text(params, svg_group){\n  svg_group\n    .selectAll('.col_label_group')\n    .select('text')\n    .style('font-size', params.labels.default_fs_col + 'px')\n    .text(function(d){ return utils.normal_name(d);});\n\n  svg_group\n    .selectAll('.col_label_group')\n    .each(function() {\n      d3.select(this)\n        .select('text')[0][0]\n        .getBBox();\n    });  \n};\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_col_text.js\n **/","module.exports = function resize_col_triangle(params,  ini_svg_group, delay_info=false){\n\n  // resize column triangle\n  var ini_triangle_group = ini_svg_group\n    .selectAll('.col_label_group')\n    .select('path');\n\n  var delays = {};\n  var duration = params.viz.duration;\n  \n  // var row_nodes = params.network_data.row_nodes;\n  // var row_nodes_names = params.network_data.row_nodes_names;\n\n  if(delay_info === false){\n    delays.run_transition = false;\n  } else {\n    delays = delay_info;\n  }\n\n  var triangle_group;\n  if (delays.run_transition){\n    triangle_group = ini_triangle_group\n      .transition().delay(delays.update).duration(duration);\n  } else {\n    triangle_group = ini_triangle_group;\n  }\n\n  var reduce_rect_width = params.viz.x_scale.rangeBand() * 0.36;\n  \n  triangle_group\n    .attr('d', function() {\n      // x and y are flipped since its rotated\n      var origin_y = -params.viz.border_width;\n      var start_x = 0;\n      var final_x = params.viz.x_scale.rangeBand() - reduce_rect_width;\n      var start_y = -(params.viz.x_scale.rangeBand() - reduce_rect_width +\n      params.viz.border_width);\n      var final_y = -params.viz.border_width;\n      var output_string = 'M ' + origin_y + ',0 L ' + start_y + ',' +\n        start_x + ', L ' + final_y + ',' + final_x + ' Z';\n      return output_string;\n    })\n    .attr('fill', '#eee');\n\n  \n};\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_col_triangle.js\n **/","var utils = require('../Utils_clust');\n\nmodule.exports = function resize_col_hlight(params, svg_group, delay_info=false){\n\n  var delays = {};\n  // var duration = params.viz.duration;\n\n  if(delay_info === false){\n    delays.run_transition = false;\n  } else {\n    delays = delay_info;\n  }  \n\n  if (utils.has( params.network_data.col_nodes[0], 'value')) {\n\n    svg_group\n      .selectAll('.col_bars')\n      .data(params.network_data.col_nodes, function(d){return d.name;})\n      .attr('width', function(d) {\n\n        var inst_value = 0;\n\n        if (d.value > 0){\n          inst_value = params.labels.bar_scale_col(d.value);\n        }\n        return inst_value;\n      })\n      // rotate labels - reduce width if rotating\n      .attr('height', params.viz.rect_width * 0.66);\n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_col_hlight.js\n **/","var get_svg_dim = require('../params/get_svg_dim');\nvar calc_clust_height = require('../params/calc_clust_height');\nvar calc_clust_width = require('../params/calc_clust_width');\nvar calc_default_fs = require('../params/calc_default_fs');\nvar calc_zoom_switching = require('../zoom/calc_zoom_switching');\n\nmodule.exports = function recalc_params_for_resize(params){\n\n  // Resetting some visualization parameters\n  params = get_svg_dim(params);\n  params.viz = calc_clust_width(params.viz);\n  params.viz = calc_clust_height(params.viz);  \n\n  if (params.sim_mat){\n    if (params.viz.clust.dim.width <= params.viz.clust.dim.height){\n      params.viz.clust.dim.height = params.viz.clust.dim.width;\n    } else {\n      params.viz.clust.dim.width = params.viz.clust.dim.height;\n    }\n  }\n  \n  params.viz = calc_zoom_switching(params.viz);\n  \n  // redefine x_scale and y_scale rangeBands\n  params.viz.x_scale.rangeBands([0, params.viz.clust.dim.width]);\n  params.viz.y_scale.rangeBands([0, params.viz.clust.dim.height]);\n\n  // precalc rect_width and height\n  params.viz.rect_width = params.viz.x_scale.rangeBand();\n  params.viz.rect_height = params.viz.y_scale.rangeBand();\n\n  // redefine zoom extent\n  params.viz.real_zoom = params.viz.norm_labels.width.col / (params.viz.rect_width/2);\n\n  // redefine border width\n  params.viz.border_width = params.viz.rect_width / 55;\n\n  // the default font sizes are set here\n  params = calc_default_fs(params);\n\n  return params;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/recalc_params_for_resize.js\n **/","var utils = require('../Utils_clust');\nvar draw_up_tile = require('../enter/draw_up_tile');\nvar draw_dn_tile = require('../enter/draw_dn_tile');\n\nmodule.exports = function resize_row_tiles(params, svg_group){\n\n  var row_nodes = params.network_data.row_nodes;\n  var row_nodes_names = utils.pluck(row_nodes, 'name');\n\n  svg_group.selectAll('.row')\n    .attr('transform', function(d){\n      var tmp_index = _.indexOf(row_nodes_names, d.name);\n      return 'translate(0,'+params.viz.y_scale(tmp_index)+')';\n    });\n\n  // reset tiles\n  svg_group.selectAll('.row')\n    .selectAll('.tile')\n    .attr('transform', function(d){\n      var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n      var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n      return 'translate('+x_pos+','+y_pos+')';\n    })\n    .attr('width', params.viz.rect_width)\n    .attr('height', params.viz.rect_height);\n\n  // reset tile_up\n  svg_group.selectAll('.row')\n    .selectAll('.tile_up')\n    .attr('d', function(){\n      return draw_up_tile(params);\n    })\n    .attr('transform', function(d) {\n      var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n      var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n      return 'translate(' + x_pos + ','+y_pos+')';\n    });\n\n  svg_group.selectAll('.row')\n    .selectAll('.tile_dn')\n    .attr('d', function() {\n      return draw_dn_tile(params);\n    })\n    .attr('transform', function(d) {\n      var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n      var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n      return 'translate(' + x_pos + ','+y_pos+')';\n    });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_row_tiles.js\n **/","var calc_val_max = require('../params/calc_val_max');\n\nmodule.exports = function resize_label_bars(params, svg_group){\n\n  // // set bar scale\n  // var val_max = Math.abs(_.max( params.network_data.row_nodes, function(d) { \n  //   return Math.abs(d.value); \n  // } ).value) ;\n\n  // params.labels.bar_scale_row = d3.scale\n  //   .linear()\n  //   .domain([0, val_max])\n  //   .range([0, params.viz.norm_labels.width.row ]);\n\n  params = calc_val_max(params);  \n\n  svg_group.selectAll('.row_bars')\n    // .transition().delay(delays.update).duration(duration)\n    .attr('width', function(d) {\n      var inst_value = 0;\n      inst_value = params.labels.bar_scale_row( Math.abs(d.value) );\n      return inst_value;\n    })\n    .attr('x', function(d) {\n      var inst_value = 0;\n      inst_value = -params.labels.bar_scale_row( Math.abs(d.value) );\n      return inst_value;\n    })\n    .attr('height', params.viz.y_scale.rangeBand() );\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_label_bars.js\n **/","module.exports = function position_play_button(params){\n\n  var clust_transform = d3.select(params.root+' .clust_container')\n    .attr('transform');\n\n  var clust_x = Number(clust_transform.split('(')[1].split(',')[0]);\n  var clust_y = Number(clust_transform.split(',')[1].replace(')',''));\n  var trans_x = clust_x + params.viz.clust.dim.width/2;\n  var trans_y = clust_y + params.viz.clust.dim.height/2;\n\n  d3.select(params.root+' .play_button')\n    .attr('transform', function(){\n      return 'translate('+trans_x+','+trans_y+')';\n    });\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/position_play_button.js\n **/","var cat_tooltip_text = require('./cat_tooltip_text');\nvar d3_tip_custom = require('../tooltip/d3_tip_custom');\nvar reset_cat_opacity = require('./reset_cat_opacity');\n\nmodule.exports = function make_col_cat(params) {\n\n  // make or reuse outer container \n  if (d3.select(params.root+' .col_cat_outer_container').empty()){\n    d3.select(params.root+' .col_container')\n      .append('g')\n      .attr('class', 'col_cat_outer_container')\n      .attr('transform', function () {\n        var inst_offset = params.viz.norm_labels.width.col + 2; \n        return 'translate(0,' + inst_offset + ')'; \n      })\n      .append('g')\n      .attr('class', 'col_cat_container');\n  } else {\n    d3.select(params.root+' .col_container')\n      .select('col_cat_outer_container')\n      .attr('transform', function () {\n        var inst_offset = params.viz.norm_labels.width.col + 2; \n        return 'translate(0,' + inst_offset + ')'; \n      });\n  }\n  \n  // d3-tooltip \n  var cat_tip = d3_tip_custom()\n    .attr('class', 'd3-tip')\n    .direction('s')\n    .offset([5,0])\n    .style('display','block')\n    .html(function(d){\n      return cat_tooltip_text(params, d, this, 'col');\n    });\n\n  // append groups - each will hold classification rects \n  d3.select(params.root+' .col_cat_container')\n    .selectAll('g')\n    .data(params.network_data.col_nodes, function(d){ return d.name; })\n    .enter()\n    .append('g')\n    .attr('class', 'col_cat_group')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(params.network_data.col_nodes_names, d.name);\n      return 'translate(' + params.viz.x_scale(inst_index) + ',0)';\n    });\n\n  d3.select(params.root+' .col_cat_container')\n    .selectAll('.col_cat_group')\n    .call(cat_tip);\n\n  // add category rects \n  d3.selectAll(params.root+' .col_cat_group')\n    .each(function() {\n\n      var inst_selection = this;\n      var cat_rect;\n\n      _.each( params.viz.all_cats.col, function(inst_cat){\n\n        var inst_num = parseInt(inst_cat.split('-')[1], 10);\n        var cat_rect_class = 'col_cat_rect_'+String(inst_num);\n\n        if (d3.select(inst_selection).select('.'+cat_rect_class).empty()){\n          cat_rect = d3.select(inst_selection)\n            .append('rect')\n            .attr('class', cat_rect_class)\n            .attr('cat', inst_cat)\n            .attr('transform',function(){\n              var cat_room = params.viz.cat_room.symbol_width + params.viz.cat_room.separation;\n              var inst_shift = inst_num * cat_room;\n              return 'translate(0,'+ inst_shift +')';\n            });\n        } else {\n          cat_rect = d3.select(inst_selection)\n            .select('.'+cat_rect_class);\n        }\n\n        cat_rect\n          .attr('width', params.viz.x_scale.rangeBand())\n          .attr('height', params.viz.cat_room.symbol_width)\n          .style('fill', function(d) {\n            return params.viz.cat_colors.col[inst_cat][d[inst_cat]];\n          })\n          .style('opacity', params.viz.cat_colors.opacity)\n          .on('mouseover', cat_tip.show)\n          .on('mouseout', function(){\n\n            cat_tip.hide(this);\n\n            reset_cat_opacity(params);\n\n            d3.select(this)\n              .classed('hovering', false);  \n\n          });\n      });\n\n  });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/make_col_cat.js\n **/","var get_cat_title = require('../categories/get_cat_title');\nvar utils = require('../Utils_clust');\n\nmodule.exports = function cat_tooltip_text(params, inst_data, inst_selection, inst_rc){\n\n  // category index \n  var inst_cat = d3.select(inst_selection).attr('cat');\n  var cat_title = get_cat_title(params.viz, inst_cat, inst_rc);\n  var cat_name = inst_data[inst_cat];\n\n  if (cat_name.indexOf(': ') >=0){\n    cat_name = cat_name.split(': ')[1];\n  }\n\n  var cat_string = cat_title + ': '+ cat_name;\n\n  var pval_name = inst_cat.replace('-','_')+'_pval';\n  var inst_pval ;\n  if (utils.has(inst_data, pval_name)){\n    inst_pval = inst_data[inst_cat.replace('-','_')+'_pval'];\n    // there are three significant digits in the pval\n    inst_pval = inst_pval.toFixed(3);\n    cat_string = cat_string + ' (pval: '+ String(inst_pval) + ')';\n\n  }\n\n  d3.select(inst_selection)\n    .classed('hovering',true);\n\n  setTimeout(highlight_categories, 700);\n\n  return cat_string;\n\n\n  function highlight_categories(){\n\n    if (d3.select(inst_selection).classed('hovering')){\n\n      var node_types = [inst_rc];\n\n      if (params.viz.sim_mat){\n        node_types = ['row','col'];\n      }\n\n      _.each(node_types, function(tmp_rc){\n\n        if (cat_name.indexOf('Not ') < 0){\n          d3.selectAll(params.root+' .'+tmp_rc+'_cat_group')\n            .selectAll('rect')\n            .style('opacity', function(d){\n              var inst_opacity;\n              var tmp_name;\n              var tmp_cat = d3.select(this).attr('cat');\n\n              if (d[tmp_cat].indexOf(': ')>=0){\n                tmp_name = d[tmp_cat].split(': ')[1];\n              } else {\n                tmp_name = d[tmp_cat];\n              }\n\n              if (tmp_cat === inst_cat && tmp_name === cat_name){\n                inst_opacity = params.viz.cat_colors.active_opacity;\n              } else {\n                inst_opacity = params.viz.cat_colors.opacity/4;\n              }\n\n              return inst_opacity;\n            });\n        }\n\n      });\n\n    } \n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/cat_tooltip_text.js\n **/","module.exports = function reset_cat_opacity(params){\n\n  _.each(['row','col'], function(inst_rc){\n    d3.selectAll(params.root+' .'+inst_rc+'_cat_group')\n      .selectAll('rect')\n      .style('opacity', params.viz.cat_colors.opacity);\n    \n  });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/reset_cat_opacity.js\n **/","var cat_tooltip_text = require('./cat_tooltip_text');\nvar d3_tip_custom = require('../tooltip/d3_tip_custom');\nvar reset_cat_opacity = require('./reset_cat_opacity');\n\nmodule.exports = function make_row_cat(params) {\n\n  // make or reuse outer container \n  if (d3.select(params.root+' .row_cat_outer_container').empty()){\n    d3.select(params.root+' .row_container')\n      .append('g')\n      .attr('class','row_cat_outer_container')\n      .attr('transform', 'translate(' + params.viz.norm_labels.width.row + ',0)')\n      .append('g')\n      .attr('class', 'row_cat_container');\n  } else {\n    d3.select(params.root+' .row_container')\n      .select('row_cat_outer_container')\n      .attr('transform', 'translate(' + params.viz.norm_labels.width.row + ',0)');\n  }\n\n  // white background \n  if (d3.select(params.root+' .row_cat_container').select('.white_bars').empty()){\n    d3.select(params.root+' .row_cat_container')\n      .append('rect')\n      .attr('class','white_bars')\n      .attr('fill', params.viz.background_color)\n      .attr('width', params.viz.cat_room.row + 'px')\n      .attr('height', function() {\n        var inst_height = params.viz.clust.dim.height;\n        return inst_height;\n      });\n  } else {\n    d3.select(params.root+' .row_cat_container')\n      .select('class','white_bars')\n      .attr('fill', params.viz.background_color)\n      .attr('width', params.viz.cat_room.row + 'px')\n      .attr('height', function() {\n        var inst_height = params.viz.clust.dim.height;\n        return inst_height;\n      });\n  }\n\n  // d3-tooltip \n  var cat_tip = d3_tip_custom()\n    .attr('class','d3-tip')\n    .direction('e')\n    .offset([5,0])\n    .style('display','block')\n    .html(function(d){\n      return cat_tooltip_text(params, d, this, 'row');\n    });\n\n  // groups that hold classification triangle and colorbar rect\n  var row_cat_group = d3.select(params.root+' .row_cat_container')\n    .selectAll('g')\n    .data(params.network_data.row_nodes, function(d){return d.name;})\n    .enter()\n    .append('g')\n    .attr('class', 'row_cat_group')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(params.network_data.row_nodes_names, d.name);\n      return 'translate(0, ' + params.viz.y_scale(inst_index) + ')';\n    });\n\n  d3.select(params.root+' .row_cat_container')\n    .selectAll('.row_cat_group')\n    .call(cat_tip);\n\n  // add row triangles\n  row_cat_group\n    .append('path')\n    .attr('d', function() {\n      var origin_x = params.viz.cat_room.symbol_width - 1;\n      var origin_y = 0;\n      var mid_x = 1;\n      var mid_y = params.viz.y_scale.rangeBand() / 2;\n      var final_x = params.viz.cat_room.symbol_width - 1;\n      var final_y = params.viz.y_scale.rangeBand();\n      var output_string = 'M ' + origin_x + ',' + origin_y + ' L ' +\n        mid_x + ',' + mid_y + ', L ' + final_x + ',' + final_y + ' Z';\n      return output_string;\n    })\n    .attr('fill', '#eee')\n    .style('opacity', params.viz.triangle_opacity);\n\n  var cat_rect;\n  var inst_selection;\n\n  if (params.viz.show_categories.row){\n    d3.selectAll(params.root+' .row_cat_group')\n      .each(function() {\n    \n        inst_selection = this;\n\n        _.each( params.viz.all_cats.row, function(inst_cat){\n\n          var inst_num = parseInt(inst_cat.split('-')[1], 10);\n          var cat_rect_class = 'row_cat_rect_'+String(inst_num);\n\n          if (d3.select(inst_selection).select('.'+cat_rect_class).empty()){\n            cat_rect = d3.select(inst_selection)\n              .append('rect')\n              .attr('class', cat_rect_class)\n              .attr('cat', inst_cat);\n          } else {\n            cat_rect = d3.select(inst_selection)\n              .select('.'+cat_rect_class);\n          }\n\n          cat_rect\n            .attr('width', params.viz.cat_room.symbol_width)\n            .attr('height', params.viz.y_scale.rangeBand())\n            .style('fill', function(d) {\n              var inst_color = params.viz.cat_colors.row[inst_cat][d[inst_cat]];\n              return inst_color;\n            })\n            .attr('x', function() {\n              var inst_offset = params.viz.cat_room.symbol_width + params.viz.uni_margin/2 ;\n              return inst_offset + 'px';\n            })\n            .attr('transform',function(){\n              var cat_room = (params.viz.cat_room.symbol_width + params.viz.cat_room.separation);\n              var inst_shift = inst_num * cat_room ;\n              return 'translate('+inst_shift+',0)';\n            })\n            .style('opacity', params.viz.cat_colors.opacity)\n            .on('mouseover', cat_tip.show)\n            .on('mouseout', function(){\n\n              cat_tip.hide(this); \n\n              reset_cat_opacity(params);\n\n              d3.select(this)\n                .classed('hovering', false);\n\n\n            });\n\n        });\n\n\n\n      });\n    }\n\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/make_row_cat.js\n **/","var make_row_dendro_triangles = require('./make_row_dendro_triangles');\n\nmodule.exports = function make_row_dendro(params) {\n\n  var spillover_width = params.viz.dendro_room.row + params.viz.uni_margin;\n\n  // position row_dendro_outer_container\n  var x_offset = params.viz.clust.margin.left + params.viz.clust.dim.width;\n  var y_offset = params.viz.clust.margin.top;\n\n  // make or reuse outer container \n  if (d3.select(params.root+' .row_dendro_outer_container').empty()){\n\n    d3.select(params.root+' .viz_svg')\n      .append('g')\n      .attr('class','row_dendro_outer_container')\n      .attr('transform', 'translate(' + x_offset + ','+ y_offset +')');\n\n    d3.select(params.root+' .row_dendro_outer_container')\n      .append('rect')\n      .classed('row_dendro_spillover',true)\n      .attr('fill', params.viz.background_color)\n      .attr('width', spillover_width + 'px')\n      .attr('height', params.viz.svg_dim.height);\n\n    d3.select(params.root+' .row_dendro_outer_container')\n      .append('g')\n      .attr('class', 'row_dendro_container')\n      .attr('transform', 'translate('+params.viz.uni_margin/2+',0)');\n\n  } else {\n    d3.select(params.root+' .viz_svg')\n      .select('row_dendro_outer_container')\n      .attr('transform', 'translate(' + x_offset + ','+y_offset+')');\n\n    d3.select(params.root+' .row_dendro_outer_container')\n      .select('.row_dendro_spillover')\n      .attr('width', spillover_width + 'px')\n      .attr('height', params.viz.svg_dim.height); \n  }\n\n  make_row_dendro_triangles(params);\n\n  if (params.viz.inst_order.col != 'clust'){\n    d3.selectAll(params.root+' .row_dendro_group').remove();\n  }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/make_row_dendro.js\n **/","var make_col_dendro_triangles = require('./make_col_dendro_triangles');\n\nmodule.exports = function make_col_dendro(params) {\n\n  // position col_dendro_outer_container\n  var x_offset = params.viz.clust.margin.left;\n  var y_offset = params.viz.clust.margin.top + params.viz.clust.dim.height;\n  var spillover_height = params.viz.dendro_room.col + params.viz.uni_margin;\n\n  // make or reuse outer container \n  if (d3.select(params.root+' .col_dendro_outer_container').empty()){\n\n    d3.select(params.root+' .viz_svg')\n      .append('g')\n      .attr('class', 'col_dendro_outer_container')\n      .attr('transform', 'translate('+x_offset+','+y_offset+')');\n\n    d3.select(params.root+' .col_dendro_outer_container')\n      .append('rect')\n      .classed('col_dendro_spillover',true)\n      .attr('fill', params.viz.background_color)\n      .attr('width', params.viz.svg_dim.width)\n      .attr('height', spillover_height+'px');\n\n    d3.select(params.root+' .col_dendro_outer_container')\n      .append('g')\n      .attr('class', 'col_dendro_container')\n      .attr('transform', 'translate(0,'+params.viz.uni_margin/2+')');\n\n    d3.select(params.root+' .col_dendro_outer_container')\n      .append('rect')\n      .classed('col_dendro_spillover_top',true)\n      .attr('fill', params.viz.background_color)\n      .attr('width', params.viz.svg_dim.width)\n      .attr('height', params.viz.svg_dim.height)\n      .attr('transform', 'translate(0,'+params.viz.dendro_room.col+')');\n\n  } else {\n\n    d3.select(params.root+' .viz_svg')\n      .select('col_dendro_outer_container')\n      .attr('transform', 'translate('+x_offset+','+y_offset+')'); \n\n    d3.select(params.root+' .col_dendro_outer_container')\n      .select('.col_dendro_spillover')\n      .attr('width', params.viz.svg_dim.width)\n      .attr('height', spillover_height+'px');\n\n  }\n\n  make_col_dendro_triangles(params);\n  \n  if (params.viz.inst_order.row != 'clust'){\n    d3.selectAll(params.root+' .col_dendro_group').remove();\n  }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/make_col_dendro.js\n **/","/* eslint-disable */\n\nvar run_segment = require('./run_segment');\nvar play_intro = require('./play_intro');\nvar play_zoom = require('./play_zoom');\nvar play_reset_zoom = require('./play_reset_zoom');\nvar play_reorder_row = require('./play_reorder_row');\nvar play_reorder_buttons = require('./play_reorder_buttons');\nvar play_search = require('./play_search'); \nvar play_filter = require('./play_filter');\nvar quick_cluster = require('./quick_cluster');\nvar play_groups = require('./play_groups');\nvar play_categories = require('./play_categories'); \nvar play_conclusion = require('./play_conclusion');\nvar toggle_play_button = require('./toggle_play_button');\nvar play_menu_button = require('./play_menu_button');\n\nmodule.exports = function play_demo(){\n\n  var cgm = this;\n  var params = cgm.params;\n\n  if (d3.select(params.root+' .running_demo').empty()){\n\n    // prevent more than one demo from running at once \n    d3.select(params.root+' .play_button')\n      .classed('running_demo', true);\n\n    toggle_play_button(params, false);\n\n    // prevent user interaction while playing \n    $.blockUI({ css: { \n        border: 'none', \n        padding: '15px', \n        backgroundColor: '#000', \n        '-webkit-border-radius': '10px', \n        '-moz-border-radius': '10px', \n        opacity: 0, \n        color: '#fff',\n        cursor:'default'\n    } });\n\n    d3.selectAll('.blockUI').style('opacity',0);    \n\n    // intro text \n    var inst_time = 750;\n\n    if (cgm.params.viz.is_expand === false){\n        inst_time = run_segment(params, inst_time, quick_cluster);\n        inst_time = inst_time - 1500;\n    }\n\n    // clustergram interaction \n    ///////////////////////////////////\n    inst_time = run_segment(params, inst_time, play_intro);\n    inst_time = run_segment(params, inst_time, play_zoom);\n    inst_time = run_segment(params, inst_time, play_reset_zoom);\n    inst_time = run_segment(params, inst_time, play_categories);\n    inst_time = run_segment(params, inst_time, play_reorder_row);\n\n    // sidebar interaction \n    ///////////////////////////////////\n    inst_time = run_segment(params, inst_time, play_menu_button);       \n    inst_time = run_segment(params, inst_time, play_groups);\n    inst_time = run_segment(params, inst_time, play_reorder_buttons);\n    inst_time = run_segment(params, inst_time, play_search);\n    inst_time = run_segment(cgm, inst_time, play_filter);\n\n    // conclusion \n    ///////////////////////////////////\n    inst_time = run_segment(params, inst_time, quick_cluster);\n    inst_time = run_segment(params, inst_time, play_conclusion);\n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_demo.js\n **/","\nmodule.exports = function run_segment(segment_data, inst_time, inst_segment){\n  /* eslint-disable */\n\n  var timer = setTimeout( inst_segment().run, inst_time, segment_data);\n\n  // set up kill demo that will stop setTimeouts\n  //////////////////////////////////////////////////\n  // if (clear_timer){\n  //   clearTimeout(timer);\n  // }\n\n  var inst_duration = inst_segment().get_duration();\n  inst_time = inst_time + inst_duration;\n\n  return inst_time;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/run_segment.js\n **/","var demo_text = require('./demo_text');\n\nmodule.exports = function play_intro(){\n\n  var speed_up = 1;\n\n  function run(params){\n    var text_1 = 'Clustergrammer allows users to generate\\ninteractive and '+\n                 'sharable visualizations\\nby uploading a matrix';\n    var text_2 = \"This demo will quickly overview some\\nof Clustergrammer's \"+\n                 \"interactive features\";\n\n    setTimeout( demo_text,    0, params, text_1, 4500/speed_up );\n    setTimeout( demo_text, 4500/speed_up, params, text_2, 4500/speed_up );\n  }\n\n  function get_duration(){\n    return 10000/speed_up;\n  }\n\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_intro.js\n **/","module.exports = function demo_text(params, text, read_duration){\n\n  var split_text = text.split('\\n');\n\n  if (split_text.length < 3){\n    split_text.push('');\n  }\n\n  d3.select(params.root+' .demo_group')\n    .style('opacity',0)\n    .transition().duration(250)\n    .style('opacity',1)\n    .transition().duration(250).delay(read_duration)\n    .style('opacity',0);\n  \n  for (var i=0; i<split_text.length; i++){\n\n    var inst_text_num = i+1;\n\n    // make text box \n    //////////////////\n    var inst_text_obj = d3.select(params.root+' .demo_group')\n      .select('#text_'+inst_text_num)\n      .text(split_text[i]);\n    var bbox = inst_text_obj[0][0].getBBox();\n\n    var box_opacity = 0.9;\n\n    var tmp_fs = Number(d3.select('.demo_group').select('text').style('font-size')\n                    .replace('px',''));\n    var shift_height = tmp_fs * 1.3;\n\n    d3.select(params.root+' .demo_group')\n      .select('.rect_'+inst_text_num)\n      .style('fill','white')\n      .attr('width', bbox.width+20)\n      .attr('height',bbox.height)\n      .attr('x',-10)\n      .attr('y',bbox.y+i * shift_height)\n      .style('opacity',box_opacity);\n  }\n     \n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/demo_text.js\n **/","var demo_text = require('./demo_text');\nvar two_translate_zoom = require('../zoom/two_translate_zoom');\n\nmodule.exports = function play_zoom(){\n\n  function run(params){\n    var text = 'Zoom and pan by\\nscrolling and dragging';\n    demo_text(params, text, 4000);\n    \n    setTimeout(two_translate_zoom, 1500, params, 0, 0, 4);\n\n  }\n\n  function get_duration(){\n    return 4000;\n  }\n\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_zoom.js\n **/","var demo_text = require('./demo_text');\nvar two_translate_zoom = require('../zoom/two_translate_zoom');\nvar sim_click = require('./sim_click');\n\nmodule.exports = function play_reset_zoom(){\n\n  function run(params){\n\n    var text = 'Reset zoom by double-clicking\\n';\n    demo_text(params, text, 4000);\n    \n    setTimeout(sim_click, 2000, params, 'double', 300, 300);\n    setTimeout(two_translate_zoom, 2400, params, 0, 0, 1);\n\n  }\n\n  function get_duration(){\n    return 4500;\n  }\n\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_reset_zoom.js\n **/","module.exports = function sim_click(params, single_double, pos_x, pos_y){\n\n  var click_duration = 200;\n\n  var click_circle = d3.select(params.root+' .viz_svg')\n    .append('circle')\n    .attr('cx',pos_x)\n    .attr('cy',pos_y)\n    .attr('r',25)\n    .style('stroke','black')\n    .style('stroke-width','3px')\n    .style('fill','#007f00')\n    .style('opacity',0.5);\n\n  if (single_double === 'double'){\n    click_circle \n      .transition().duration(click_duration)\n      .style('opacity',0.0)\n      .transition().duration(50)\n      .style('opacity',0.5)\n      .transition().duration(click_duration)\n      .style('opacity',0.0)\n      .remove();\n  } else {\n    click_circle \n      .transition().duration(click_duration)\n      .style('opacity',0.0)\n      .transition().duration(250)\n      .remove();\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/sim_click.js\n **/","var demo_text = require('./demo_text');\nvar sim_click = require('./sim_click');\n\nmodule.exports = function play_reorder_row(){\n  /* eslint-disable */\n\n  function run(params){\n\n    var text = 'Reorder the matrix based on a single\\nrow or column by double-clicking a\\nlabel';\n    demo_text(params, text, 7000);\n\n    var inst_element = get_row_element(params, 'EGFR');\n\n    var group_trans = d3.select(inst_element).attr('transform');\n\n    var container_trans = d3.select(params.root+' .clust_container')\n      .attr('transform')\n      .split(',')[1].replace(')','');\n\n    var x_trans = params.viz.norm_labels.width.row * 0.9;\n\n    var row_trans = group_trans.split(',')[1].replace(')','');\n    var y_trans = String(Number(row_trans) + Number(container_trans) + \n      params.viz.rect_height/2);\n\n    var wait_click = 4000;\n    setTimeout(sim_click, wait_click, params, 'double', x_trans, y_trans);\n    var wait_reorder = wait_click + 300;\n    setTimeout(fire_double_click_row, wait_reorder, params, inst_element);\n\n  }\n\n  function get_duration(){\n    return 8000;\n  }\n\n  function get_row_element(params, inst_row){\n\n    var inst_element = d3.selectAll(params.root+' .row_label_group')\n      .filter(function(){\n        var inst_data = this.__data__;\n        return inst_data.name == inst_row;\n      })[0][0];\n\n    return inst_element;\n  }\n\n  function fire_double_click_row(params, inst_element){\n\n    $(inst_element).d3DblClick();    \n  }\n\n\n  // allows doubleclicking on d3 element\n  jQuery.fn.d3DblClick = function () {\n    this.each(function (i, e) {\n      var evt = document.createEvent(\"MouseEvents\");\n      evt.initMouseEvent(\"dblclick\", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      e.dispatchEvent(evt);\n    });\n  };\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_reorder_row.js\n **/","var demo_text = require('./demo_text');\nvar highlight_sidebar_element = require('./highlight_sidebar_element');\n\nmodule.exports = function play_reorder_buttons(){\n  /* eslint-disable */\n\n  function run(params){\n\n    var text = 'Reorder all rows and columns\\nby clicking the reorder\\n buttons';\n    demo_text(params, text, 9000);\n    \n    setTimeout(highlight_sidebar_element, 3000, params, 'toggle_col_order');\n    setTimeout(click_reorder_button, 3500, params, 'col', 'rank');\n\n    setTimeout(highlight_sidebar_element, 7000, params, 'toggle_row_order');\n    setTimeout(click_reorder_button, 7500, params, 'row', 'rank');\n\n  }\n\n  function get_duration(){\n    return 11000;\n  }\n\n  function click_reorder_button(params, inst_rc, inst_order){\n    var inst_button = d3.selectAll('.toggle_'+inst_rc+'_order .btn')\n      .filter(function(){\n        return this.__data__ == inst_order;\n      })[0];\n\n    $(inst_button).click();\n  }\n\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_reorder_buttons.js\n **/","module.exports = function highlight_sidebar_element(params, highlight_class, \n  duration=4000){\n\n  if (highlight_class.indexOf('slider') < 0){\n    d3.select(params.root+' .'+highlight_class)\n      .style('background','#007f00')\n      .style('box-shadow','0px 0px 10px 5px #007f00')\n      .transition().duration(1).delay(duration)\n      .style('background','#FFFFFF')\n      .style('box-shadow','none');\n  } else {\n    d3.select(params.root+' .'+highlight_class)\n      .style('box-shadow','0px 0px 10px 5px #007f00')\n      .transition().duration(1).delay(duration)\n      .style('box-shadow','none');\n  }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/demo/highlight_sidebar_element.js\n **/","var demo_text = require('./demo_text');\nvar highlight_sidebar_element = require('./highlight_sidebar_element');\nvar two_translate_zoom = require('../zoom/two_translate_zoom');\n\nmodule.exports = function play_search(){\n\n\n  function run(params){\n\n    var text = 'Search for rows using\\nthe search box';\n    demo_text(params, text, 5000);\n    \n    var ini_delay = 2500;\n    setTimeout(highlight_sidebar_element, ini_delay, params, 'gene_search_container');\n\n    // manually mimic typing and autocomplete \n    setTimeout( type_out_search, ini_delay+1000, params, 'E' );\n    setTimeout( type_out_search, ini_delay+1500, params, 'EG' );\n    setTimeout( type_out_search, ini_delay+2000, params, 'EGF' );\n    setTimeout( type_out_search, ini_delay+2500, params, 'EGFR' );\n\n    setTimeout(run_search, 5500, params );\n\n    setTimeout(two_translate_zoom, 7500, params, 0, 0, 1);\n  }\n\n  function get_duration(){\n    return 10000;\n  }\n\n  function type_out_search(params, inst_string){\n    $(params.root+' .gene_search_box').val(inst_string);\n    $(params.root+' .gene_search_box').autocomplete( \"search\", inst_string );\n  }  \n\n  function run_search(params){\n    $(params.root+' .submit_gene_button').click();\n    $(params.root+' .gene_search_box').autocomplete( \"search\", '' );\n  }\n\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_search.js\n **/","var demo_text = require('./demo_text');\nvar highlight_sidebar_element = require('./highlight_sidebar_element');\nvar update_network = require('../network/update_network');\n\nmodule.exports = function play_filter(){\n\n  function run(cgm){\n    var params = cgm.params;\n\n    var text = 'Filter rows based on sum or\\nvariance using the sliders';\n    demo_text(params, text, 4000);\n    \n    var filter_type = 'N_row_sum';\n\n    setTimeout(highlight_sidebar_element, 5000, params, 'slider_'+filter_type, \n      13000);\n\n    text = 'Filter: Top 20 rows by sum';\n    setTimeout(demo_text, 5000, params, text, 4000);\n    setTimeout(run_update,  5300, cgm, filter_type, 20, 1);\n\n    text = 'Filter: Top 10 rows by sum';\n    setTimeout(demo_text, 10000, params, text, 4000);\n    setTimeout(run_update, 10300, cgm, filter_type, 10, 2);\n\n    text = 'Filter: All rows';\n    setTimeout(demo_text, 15000, params, text, 4000);\n    setTimeout(run_update, 15300, cgm, filter_type, 'all', 0);\n\n  }\n\n  function get_duration(){\n    return 19500;\n  }\n\n  function run_update(cgm, filter_type, filter_value, filter_index ){\n\n    var params = cgm.params;\n\n    var requested_view = {};\n    requested_view[filter_type] = filter_value;\n    update_network(cgm, requested_view);\n\n    // quick fix for slider \n    $(params.root+' .slider_'+filter_type).slider( \"value\", filter_index);\n\n    var unit_name;\n    if (filter_type === 'N_row_sum'){\n      unit_name = 'sum';\n    } else {\n      unit_name = 'variance';\n    }\n\n    d3.select(params.root+' .title_'+filter_type)\n      .text('Top rows '+unit_name+': '+filter_value);\n\n  }\n\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_filter.js\n **/","var change_network_view = require('./change_network_view');\nvar disable_sidebar = require('../sidebar/disable_sidebar');\n\nvar update_with_new_network = require('../update/update_with_new_network');\n\nmodule.exports = function(cgm, requested_view) {\n  var old_params = cgm.params;\n  var config = cgm.config;\n\n  disable_sidebar(old_params);\n\n  // make new_network_data by filtering the original network data\n  var config_copy = jQuery.extend(true, {}, config);\n\n  var new_network_data = change_network_view(old_params, config_copy.network_data, requested_view);\n\n  var params = update_with_new_network(config, old_params, new_network_data);\n\n  cgm.params = params;\n\n  return params;\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/network/update_network.js\n **/","module.exports = function disable_sidebar(params){\n\n  $(params.root+' .slider').slider('disable');\n\n  d3.selectAll(params.root+' .btn').attr('disabled',true);\n\n  d3.select( params.viz.viz_svg ).style('opacity',0.70);\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/disable_sidebar.js\n **/","var make_params = require('../params/');\nvar define_enter_exit_delays = require('../network/define_enter_exit_delays');\nvar enter_exit_update = require('../enter/enter_exit_update');\nvar initialize_resizing = require('../initialize_resizing');\nvar make_col_cat = require('../dendrogram/make_col_cat');\nvar make_row_cat = require('../dendrogram/make_row_cat');\nvar make_row_dendro = require('../dendrogram/make_row_dendro');\nvar make_col_dendro = require('../dendrogram/make_col_dendro');\nvar ini_sidebar = require('../sidebar/ini_sidebar');\nvar enable_sidebar  = require('../sidebar/enable_sidebar');\nvar ini_doubleclick = require('../zoom/ini_doubleclick');\nvar update_reorder_buttons = require('../reorder/update_reorder_buttons');\n\nmodule.exports = function update_with_new_network(config, old_params,  new_network_data){\n\n  // make tmp config to make new params \n  var tmp_config = jQuery.extend(true, {}, config);\n\n  tmp_config.network_data = new_network_data;\n  tmp_config.inst_order = old_params.viz.inst_order;\n  tmp_config.input_domain = old_params.matrix.opacity_scale.domain()[1];\n\n  update_reorder_buttons(tmp_config, old_params);\n\n  tmp_config.ini_expand = false;\n  tmp_config.ini_view = null;\n  tmp_config.current_col_cat = old_params.current_col_cat;\n\n  var params = make_params(tmp_config);\n  var delays = define_enter_exit_delays(old_params, params);\n\n  enter_exit_update(params, new_network_data, delays);\n\n  make_row_cat(params);\n\n  if (params.viz.show_categories.col){\n    make_col_cat(params);\n  }\n\n  if (params.viz.show_dendrogram){\n    make_row_dendro(params);\n    make_col_dendro(params);\n  }\n\n  initialize_resizing(params);\n\n  d3.select(params.viz.viz_svg).call(params.zoom_behavior);\n\n  ini_doubleclick(params);\n\n  ini_sidebar(params);\n\n  params.viz.run_trans = true;\n\n  d3.selectAll(params.root+' .d3-tip')\n    .style('opacity',0);\n\n  setTimeout(enable_sidebar, 2500, params);\n\n  return params;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/update/update_with_new_network.js\n **/","module.exports = function(old_params, params) {\n\n  // exit, update, enter\n\n  // check if exit or enter or both are required\n  var old_row_nodes = old_params.network_data.row_nodes;\n  var old_col_nodes = old_params.network_data.col_nodes;\n  var old_row = _.map(old_row_nodes, function(d){return d.name;});\n  var old_col = _.map(old_col_nodes, function(d){return d.name;});\n  var all_old_nodes = old_row.concat(old_col);\n\n  var row_nodes = params.network_data.row_nodes;\n  var col_nodes = params.network_data.col_nodes;\n  var row = _.map(row_nodes, function(d){return d.name;});\n  var col = _.map(col_nodes, function(d){return d.name;});\n  var all_nodes = row.concat(col);\n\n  var exit_nodes  = _.difference( all_old_nodes, all_nodes ).length;\n  var enter_nodes = _.difference( all_nodes, all_old_nodes ).length;\n\n  var delays = {};\n\n  if (exit_nodes > 0){\n    delays.update = 1000;\n  } else {\n    delays.update = 0;\n  }\n\n  if (enter_nodes > 0){\n    delays.enter = 1000;\n  } else {\n    delays.enter = 0;\n  }\n\n  delays.enter  = delays.enter + delays.update ;\n\n  delays.run_transition = true;\n\n  var old_num_links = old_params.network_data.links.length;\n  var new_num_links = params.network_data.links.length;\n  var cutoff_num_links = 0.5*params.matrix.def_large_matrix;\n\n  if ( old_num_links > cutoff_num_links || new_num_links > cutoff_num_links ){\n    delays.run_transition = false;\n    delays.update = 0;\n    delays.enter = 0;\n  }\n\n  // reduce opacity during update\n  d3.select(params.viz.viz_svg)\n    .style('opacity',0.70);\n\n  function finish_update(){\n    d3.select(params.viz.viz_svg)\n      .transition().duration(250)\n      .style('opacity',1.0);\n  }\n  setTimeout(finish_update, delays.enter);\n\n  return delays;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/network/define_enter_exit_delays.js\n **/","var resize_after_update = require('../reset_size/reset_size_after_update');\nvar make_rows = require('../labels/make_rows');\nvar make_cols = require('../labels/make_cols');\nvar eeu_existing_row = require('./eeu_existing_row');\nvar exit_components = require('../exit/exit_components');\nvar enter_grid_lines = require('../enter/enter_grid_lines');\nvar enter_row_groups = require('../enter/enter_row_groups');\nvar resize_containers = require('../reset_size/resize_containers');\nvar label_constrain_and_trim = require('../labels/label_constrain_and_trim');\nvar d3_tip_custom = require('../tooltip/d3_tip_custom');\n\nmodule.exports = function(params, network_data, delays){\n\n  // remove old tooltips \n  d3.selectAll(params.root+' .d3-tip')\n    .style('opacity',0);\n\n  // d3-tooltip - for tiles\n  var tip = d3_tip_custom()\n    .attr('class', 'd3-tip tile_tip')\n    .direction('nw')\n    .offset([0, 0])\n    .html(function(d){\n      var inst_value = String(d.value.toFixed(3));\n      var tooltip_string;\n\n      if (params.keep_orig){\n        var orig_value = String(d.value_orig.toFixed(3));\n        tooltip_string = '<p>' + d.row_name + ' and ' + d.col_name + '</p>' +\n        '<p> normalized value: ' + inst_value +'</p>' + \n        '<div> original value: ' + orig_value +'</div>'  ;\n      } else {\n        tooltip_string = '<p>' + d.row_name + ' and ' + d.col_name + '</p>' +\n        '<div> value: ' + inst_value +'</div>';\n      }\n\n      return tooltip_string;\n    });\n\n  d3.select(params.root+' .clust_group')\n    .call(tip);\n\n  // TODO check if necessary \n  resize_containers(params);\n\n  // get row and col names\n  var row_nodes_names = params.network_data.row_nodes_names;\n\n  var duration = 1000;\n\n  // make global so that names can be accessed\n  var row_nodes = network_data.row_nodes;\n  var col_nodes = network_data.col_nodes;\n  var links = network_data.links;\n\n  //\n  var tile_data = links;\n\n  // add name to links for object constancy\n  for (var i = 0; i < tile_data.length; i++) {\n    var d = tile_data[i];\n    tile_data[i].name = row_nodes[d.source].name + '_' + col_nodes[d.target].name;\n  }\n\n  // move rows\n  var move_rows = d3.select(params.root+' .clust_group')\n    .selectAll('.row')\n    .data(params.matrix.matrix, function(d){return d.name;});\n\n  if (delays.run_transition){\n    move_rows\n      .transition().delay(delays.update).duration(duration)\n      .attr('transform', function(d){\n        var tmp_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,'+params.viz.y_scale(tmp_index)+')';\n      });\n  } else {\n    move_rows\n      .attr('transform', function(d){\n        var tmp_index = _.indexOf(row_nodes_names, d.name);\n        return 'translate(0,'+params.viz.y_scale(tmp_index)+')';\n      });\n  }\n\n  // update existing rows - enter, exit, update tiles in existing row\n  d3.select(params.root+' .clust_group')\n    .selectAll('.row')\n    .each(function(d) {\n      // TODO add tip back to arguments \n      var inst_selection = this;\n      eeu_existing_row(params, d, delays, duration, inst_selection, tip);\n    });\n\n\n  d3.selectAll(params.root+' .horz_lines').remove();\n  d3.selectAll(params.root+' .vert_lines').remove();\n\n  // exit\n  ////////////\n  exit_components(params, delays, duration);\n\n  // resize clust components using appropriate delays\n  resize_after_update(params, row_nodes, col_nodes, links, duration, delays);\n\n  // enter new elements\n  //////////////////////////\n  enter_row_groups(params, delays, duration, tip);\n\n  // update existing rows \n  make_rows(params, duration);\n  make_cols(params, duration);\n\n  enter_grid_lines(params, delays, duration);\n\n  label_constrain_and_trim(params);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/enter/enter_exit_update.js\n **/","var utils = require('../Utils_clust');\nvar calc_clust_height = require('../params/calc_clust_height');\nvar get_svg_dim = require('../params/get_svg_dim');\nvar calc_clust_width = require('../params/calc_clust_width');\nvar reset_zoom = require('../zoom/reset_zoom');\nvar resize_dendro = require('./resize_dendro');\nvar resize_super_labels = require('./resize_super_labels');\nvar resize_spillover = require('./resize_spillover');\nvar resize_row_labels = require('./resize_row_labels');\nvar resize_row_viz = require('./resize_row_viz');\nvar resize_col_labels = require('./resize_col_labels');\nvar resize_col_text = require('./resize_col_text');\nvar resize_col_triangle = require('./resize_col_triangle');\nvar resize_col_hlight = require('./resize_col_hlight');\nvar resize_label_bars = require('./resize_label_bars');\nvar calc_default_fs = require('../params/calc_default_fs');\nvar calc_zoom_switching = require('../zoom/calc_zoom_switching');\nvar show_visible_area = require('../zoom/show_visible_area');\n\nmodule.exports = function(params, row_nodes, col_nodes, links, duration, delays) {\n\n  // reset visible area \n  var zoom_info = {};\n  zoom_info.zoom_x = 1;\n  zoom_info.zoom_y = 1;\n  zoom_info.trans_x = 0;\n  zoom_info.trans_y = 0;\n\n  show_visible_area(params, zoom_info);\n\n  var row_nodes_names = params.network_data.row_nodes_names;\n\n  reset_zoom(params);\n\n  // Resetting some visualization parameters\n  params = get_svg_dim(params);\n  params.viz = calc_clust_width(params.viz);\n  params.viz = calc_clust_height(params.viz);\n\n  if (params.sim_mat){\n    if (params.viz.clust.dim.width <= params.viz.clust.dim.height){\n      params.viz.clust.dim.height = params.viz.clust.dim.width;\n    } else {\n      params.viz.clust.dim.width = params.viz.clust.dim.height;\n    }\n  }\n  params.viz = calc_zoom_switching(params.viz);\n\n  // redefine x_scale and y_scale rangeBands\n  params.viz.x_scale.rangeBands([0, params.viz.clust.dim.width]);\n  params.viz.y_scale.rangeBands([0, params.viz.clust.dim.height]);\n\n  // redefine zoom extent\n  params.viz.real_zoom = params.viz.norm_labels.width.col / (params.viz.x_scale.rangeBand()/2);\n  params.zoom_behavior\n    .scaleExtent([1, params.viz.real_zoom * params.viz.zoom_switch]);\n\n  // redefine border width\n  params.viz.border_width = params.viz.x_scale.rangeBand() / 40;\n\n  params = calc_default_fs(params);\n\n\n  // resize the svg\n  ///////////////////////\n  var svg_group = d3.select(params.viz.viz_wrapper)\n    .select('svg');\n\n  svg_group.select(params.root+' .grey_background')\n    .transition().delay(delays.update).duration(duration)\n    .attr('width', params.viz.clust.dim.width)\n    .attr('height', params.viz.clust.dim.height);\n\n  resize_row_labels(params, svg_group, delays);\n\n  // do not delay the font size change since this will break the bounding box calc\n  svg_group.selectAll('.row_label_group')\n    .select('text')\n    .style('font-size', params.labels.default_fs_row + 'px')\n    .text(function(d){ return utils.normal_name(d);});\n\n  // change the size of the highlighting rects\n  svg_group.selectAll('.row_label_group')\n    .each(function() {\n      var bbox = d3.select(this).select('text')[0][0].getBBox();\n      d3.select(this)\n        .select('rect')\n        .attr('x', bbox.x )\n        .attr('y', 0)\n        .attr('width', bbox.width )\n        .attr('height', params.viz.y_scale.rangeBand())\n        .style('fill', 'yellow')\n        .style('opacity', function(d) {\n          var inst_opacity = 0;\n          // highlight target genes\n          if (d.target === 1) {\n            inst_opacity = 1;\n          }\n          return inst_opacity;\n        });\n    });\n\n\n  resize_row_viz(params, svg_group, delays);\n\n  if (delays.run_transition){\n\n    // positioning row text after row text size may have been reduced\n    svg_group.selectAll('.row_label_group')\n      .select('text')\n      .transition().delay(delays.update).duration(duration)\n      .attr('y', params.viz.rect_height * 0.5 + params.labels.default_fs_row*0.35 );\n\n    svg_group.selectAll('.row_cat_group')\n      .data(row_nodes, function(d){return d.name;})\n      .transition().delay(delays.update).duration(duration)\n      .attr('transform', function(d) {\n          var inst_index = _.indexOf(row_nodes_names, d.name);\n          return 'translate(0, ' + params.viz.y_scale(inst_index) + ')';\n        });\n\n    svg_group.selectAll('.row_cat_group')\n      .select('path')\n      .transition().delay(delays.update).duration(duration)\n      .attr('d', function() {\n        var origin_x = params.viz.cat_room.symbol_width - 1;\n        var origin_y = 0;\n        var mid_x = 1;\n        var mid_y = params.viz.y_scale.rangeBand() / 2;\n        var final_x = params.viz.cat_room.symbol_width - 1;\n        var final_y = params.viz.y_scale.rangeBand();\n        var output_string = 'M ' + origin_x + ',' + origin_y + ' L ' +\n          mid_x + ',' + mid_y + ', L ' + final_x + ',' + final_y + ' Z';\n        return output_string;\n      });\n\n    svg_group.selectAll('.row_dendro_group')\n      .data(row_nodes, function(d){return d.name;})\n      .transition().delay(delays.update).duration(duration)\n      .attr('transform', function(d) {\n          var inst_index = _.indexOf(row_nodes_names, d.name);\n          return 'translate(0, ' + params.viz.y_scale(inst_index) + ')';\n        });\n\n\n\n  } else {\n\n    // positioning row text after row text size may have been reduced\n    svg_group.selectAll('.row_label_group')\n      .select('text')\n      .attr('y', params.viz.rect_height * 0.5 + params.labels.default_fs_row*0.35 );\n\n    svg_group.selectAll('.row_cat_group')\n      .data(row_nodes, function(d){return d.name;})\n      .attr('transform', function(d) {\n          var inst_index = _.indexOf(row_nodes_names, d.name);\n          return 'translate(0, ' + params.viz.y_scale(inst_index) + ')';\n        });\n\n    svg_group.selectAll('.row_cat_group')\n      .select('path')\n      .attr('d', function() {\n        var origin_x = params.viz.cat_room.symbol_width - 1;\n        var origin_y = 0;\n        var mid_x = 1;\n        var mid_y = params.viz.y_scale.rangeBand() / 2;\n        var final_x = params.viz.cat_room.symbol_width - 1;\n        var final_y = params.viz.y_scale.rangeBand();\n        var output_string = 'M ' + origin_x + ',' + origin_y + ' L ' +\n          mid_x + ',' + mid_y + ', L ' + final_x + ',' + final_y + ' Z';\n        return output_string;\n      });\n\n    svg_group.selectAll('.row_dendro_group')\n      .data(row_nodes, function(d){return d.name;})\n      .attr('transform', function(d) {\n          var inst_index = _.indexOf(row_nodes_names, d.name);\n          return 'translate(0, ' + params.viz.y_scale(inst_index) + ')';\n        });\n\n  }\n\n  if (utils.has( params.network_data.row_nodes[0], 'value')) {\n\n    resize_label_bars(params, svg_group);\n\n  }\n\n  // resize col labels\n  ///////////////////////\n  // reduce width of rotated rects\n\n  resize_col_labels(params, svg_group, delays);\n  resize_col_text(params, svg_group);\n  resize_col_triangle(params, svg_group, delays);\n\n  resize_col_hlight(params, svg_group, delays);\n\n  resize_dendro(params, svg_group, delays);\n  resize_super_labels(params, svg_group, delays);\n  resize_spillover(params.viz, svg_group, delays);\n\n  // reset zoom and translate\n  params.zoom_behavior\n    .scale(1)\n    .translate([ params.viz.clust.margin.left, params.viz.clust.margin.top ]);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/reset_size_after_update.js\n **/","var exit_existing_row = require('../exit/exit_existing_row');\nvar enter_existing_row = require('./enter_existing_row');\nvar update_split_tiles = require('../update/update_split_tiles');\nvar mouseover_tile = require('../matrix/mouseover_tile');\nvar mouseout_tile = require('../matrix/mouseout_tile');\n\n// TODO add tip back to arguments\nmodule.exports = function eeu_existing_row(params, ini_inp_row_data, delays, duration, row_selection, tip) {\n\n  var inp_row_data = ini_inp_row_data.row_data;\n\n  // remove zero values from\n  var row_values = _.filter(inp_row_data, function(num){\n    return num.value !=0;\n  });\n\n  // bind data to tiles\n  var cur_row_tiles = d3.select(row_selection)\n    .selectAll('.tile')\n    .data(row_values, function(d){\n      return d.col_name;\n    });\n\n  exit_existing_row(params, delays, cur_row_tiles, inp_row_data, row_selection);\n\n  ///////////////////////////\n  // Update\n  ///////////////////////////\n\n  // update tiles in x direction \n  var update_row_tiles = cur_row_tiles\n    .on('mouseover', function(...args) {\n      mouseover_tile(params, this, tip, args);\n    })\n    .on('mouseout', function mouseout() {\n      mouseout_tile(params, this, tip);\n    });\n\n  var col_nodes_names = params.network_data.col_nodes_names;\n\n  if (delays.run_transition){\n    update_row_tiles\n      .transition().delay(delays.update).duration(duration)\n      .attr('width', params.viz.rect_width)\n      .attr('height', params.viz.rect_height)\n      .attr('transform', function(d) {\n        if (_.contains(col_nodes_names, d.col_name)){\n          var inst_col_index = _.indexOf(col_nodes_names, d.col_name);\n          var x_pos = params.viz.x_scale(inst_col_index) + 0.5*params.viz.border_width;\n          return 'translate(' + x_pos + ',0)';\n        }\n      });\n  } else {\n    update_row_tiles\n      .attr('width', params.viz.rect_width)\n      .attr('height', params.viz.rect_height)\n      .attr('transform', function(d) {\n        if (_.contains(col_nodes_names, d.col_name)){\n          var inst_col_index = _.indexOf(col_nodes_names, d.col_name);\n          var x_pos = params.viz.x_scale(inst_col_index) + 0.5*params.viz.border_width;\n          return 'translate(' + x_pos + ',0)';\n        }\n      });\n  }\n\n  if (params.matrix.tile_type == 'updn'){\n    update_split_tiles(params, inp_row_data, row_selection, delays, duration, cur_row_tiles, tip);\n  }\n\n  enter_existing_row(params, delays, duration, cur_row_tiles, tip);\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/enter/eeu_existing_row.js\n **/","module.exports = function exit_existing_row(params, delays, cur_row_tiles, inp_row_data, row_selection){\n\n  if (delays.run_transition){\n    cur_row_tiles\n      .exit()\n      .transition().duration(300)\n      .attr('fill-opacity',0)\n      .remove();\n  } else {\n    cur_row_tiles\n      .exit()\n      .attr('fill-opacity',0)\n      .remove();\n  }\n\n  if (params.matrix.tile_type == 'updn'){\n\n    // value split\n    var row_split_data = _.filter(inp_row_data, function(num){\n      return num.value_up != 0 || num.value_dn !=0 ;\n    });\n\n    // tile_up\n    var cur_tiles_up = d3.select(row_selection)\n      .selectAll('.tile_up')\n      .data(row_split_data, function(d){return d.col_name;});\n\n    if (delays.run_transition){\n      cur_tiles_up\n        .exit()\n        .transition().duration(300)\n        .attr('fill','0')\n        .remove();\n    } else {\n      cur_tiles_up\n        .exit()\n        .attr('fill',0)\n        .remove();\n    }\n\n    // tile_dn\n    var cur_tiles_dn = d3.select(row_selection)\n      .selectAll('.tile_dn')\n      .data(row_split_data, function(d){return d.col_name;});\n\n    if (delays.run_transition){\n      cur_tiles_dn\n        .exit()\n        .transition().duration(300)\n        .attr('fill',0)\n        .remove();\n    } else {\n      cur_tiles_dn\n        .exit()\n        .attr('fill',0)\n        .remove();\n    }\n\n  }\n\n\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/exit/exit_existing_row.js\n **/","var mouseover_tile = require('../matrix/mouseover_tile');\nvar mouseout_tile = require('../matrix/mouseout_tile');\n\nmodule.exports = function enter_existing_row(params, delays, duration, cur_row_tiles, tip){\n\n  // enter new tiles\n  var new_tiles = cur_row_tiles\n    .enter()\n    .append('rect')\n    .attr('class', 'tile row_tile')\n    .attr('width', params.viz.rect_width)\n    .attr('height', params.viz.rect_height)\n    .on('mouseover', function(...args) {\n      mouseover_tile(params, this, tip, args);\n    })\n    .on('mouseout', function mouseout() {\n      mouseout_tile(params, this, tip);\n    })\n    .attr('fill-opacity',0)\n    .attr('transform', function(d){\n      var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n      var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n      return 'translate('+x_pos+','+y_pos+')';\n    });\n\n\n  if (delays.run_transition){\n    new_tiles\n      .transition().delay(delays.enter).duration(duration)\n      .style('fill', function(d) {\n        return d.value > 0 ? params.matrix.tile_colors[0] : params.matrix.tile_colors[1];\n      })\n      .attr('fill-opacity',function(d){\n        var output_opacity = params.matrix.opacity_scale(Math.abs(d.value));\n        return output_opacity;\n      });\n  } else {\n    new_tiles\n      .style('fill', function(d) {\n        return d.value > 0 ? params.matrix.tile_colors[0] : params.matrix.tile_colors[1];\n      })\n      .attr('fill-opacity',function(d){\n        var output_opacity = params.matrix.opacity_scale(Math.abs(d.value));\n        return output_opacity;\n      });\n  }\n\n  // remove new tiles if necessary\n  new_tiles\n    .each(function(d){\n      if (Math.abs(d.value_up) > 0 && Math.abs(d.value_dn) > 0) {\n        d3.select(this)\n          .remove();\n      }\n    });\n};\n\n\n/** WEBPACK FOOTER **\n ** src/enter/enter_existing_row.js\n **/","var draw_up_tile = require('../enter/draw_up_tile');\nvar draw_dn_tile = require('../enter/draw_dn_tile');\nvar mouseover_tile = require('../matrix/mouseover_tile');\nvar mouseout_tile = require('../matrix/mouseout_tile');\n\nmodule.exports = function update_split_tiles(params, inp_row_data, row_selection, delays, duration, cur_row_tiles, tip){\n\n  // value split\n  var row_split_data = _.filter(inp_row_data, function(num){\n    return num.value_up != 0 || num.value_dn !=0 ;\n  });\n\n  // tile_up\n  var cur_tiles_up = d3.select(row_selection)\n    .selectAll('.tile_up')\n    .data(row_split_data, function(d){return d.col_name;});\n\n  // update split tiles_up\n  var update_tiles_up = cur_tiles_up\n    .on('mouseover', function(...args) {\n      mouseover_tile(params, this, tip, args);\n    })\n    .on('mouseout', function mouseout() {\n      mouseout_tile(params, this, tip);\n    });\n\n  if (delays.run_transition){\n    update_tiles_up\n      .transition().delay(delays.update).duration(duration)\n      .attr('d', function() {\n        return draw_up_tile(params);\n      })\n      .attr('transform', function(d) {\n        var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n        var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n        return 'translate(' + x_pos + ','+y_pos+')';\n      });\n  } else {\n    update_tiles_up\n      .attr('d', function() {\n        return draw_up_tile(params);\n      })\n      .attr('transform', function(d) {\n        var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n        var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n        return 'translate(' + x_pos + ','+y_pos+')';\n      });\n  }\n\n  // tile_dn\n  var cur_tiles_dn = d3.select(row_selection)\n    .selectAll('.tile_dn')\n    .data(row_split_data, function(d){return d.col_name;});\n\n  // update split tiles_dn\n  var update_tiles_dn = cur_tiles_dn\n    .on('mouseover', function(...args) {\n      mouseover_tile(params, this, tip, args);\n    })\n    .on('mouseout', function mouseout() {\n      mouseout_tile(params, this, tip);\n    });\n\n  if (delays.run_transition){\n    update_tiles_dn\n      .transition().delay(delays.update).duration(duration)\n      .attr('d', function() {\n        return draw_dn_tile(params);  \n      })\n      .attr('transform', function(d) {\n        var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n        var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n        return 'translate(' + x_pos + ','+y_pos+')';\n      });\n  } else {\n    update_tiles_dn\n      .attr('d', function() {\n        return draw_dn_tile(params);\n      })\n      .attr('transform', function(d) {\n        var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n        var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n        return 'translate(' + x_pos + ','+y_pos+')';\n      });\n  }\n\n  // remove tiles when splitting is done\n  cur_row_tiles\n    .selectAll('.tile')\n    .each(function(d){\n      if ( Math.abs(d.value_up)>0 && Math.abs(d.value_dn)>0 ){\n        d3.select(this)\n          .remove();\n      }\n    });\n};\n\n\n/** WEBPACK FOOTER **\n ** src/update/update_split_tiles.js\n **/"," module.exports = function exit_components(params, delays, duration){\n\n  var row_nodes = params.network_data.row_nodes;\n  var col_nodes = params.network_data.col_nodes;\n\n  // remove entire rows\n  var exiting_rows = d3.select(params.root+' .clust_group')\n    .selectAll('.row')\n    .data(params.matrix.matrix, function(d){return d.name;})\n    .exit();\n\n  if (delays.run_transition){\n    exiting_rows\n      .transition().duration(duration)\n      .style('opacity',0)\n      .remove();\n  } else {\n    exiting_rows\n      .style('opacity',0)\n      .remove();\n  }\n  \n  // remove row labels\n  d3.selectAll(params.root+' .row_label_group')\n    .data(row_nodes, function(d){ return d.name;})\n    .exit()\n    .transition().duration(duration)\n    .style('opacity',0)\n    .remove();\n\n  // remove column labels\n  d3.selectAll(params.root+' .col_label_group')\n    .data(col_nodes, function(d){return d.name;})\n    .exit()\n    .transition().duration(duration)\n    .style('opacity',0)\n    .remove();\n\n  // remove row triangles and colorbars\n  d3.selectAll(params.root+' .row_cat_group')\n    .data(row_nodes, function(d){return d.name;})\n    .exit()\n    .transition().duration(duration)\n    .style('opacity',0)\n    .remove();\n\n  // remove row triangles and colorbars\n  d3.selectAll(params.root+' .row_dendro_group')\n    .data(row_nodes, function(d){return d.name;})\n    .exit()\n    .transition().duration(duration)\n    .style('opacity',0)\n    .remove();    \n\n  d3.selectAll(params.root+' .col_label_text')\n    .data(col_nodes, function(d){return d.name;})\n    .exit()\n    .transition().duration(duration)\n    .style('opacity',0)\n    .remove();\n\n  d3.selectAll(params.root+' .horz_lines')\n    .data(row_nodes, function(d){return d.name;})\n    .exit()\n    .transition().duration(duration)\n    .style('opacity',0)\n    .remove();\n\n  d3.selectAll(params.root+' .vert_lines')\n    .data(col_nodes, function(d){return d.name;})\n    .exit()\n    .transition().duration(duration)\n    .style('opacity',0)\n    .remove();\n\n  // remove dendrogram\n  d3.selectAll(params.root+' .col_cat_group')\n    .data(col_nodes, function(d){return d.name;})\n    .exit()\n    .transition().duration(duration)\n    .style('opacity',0)\n    .remove();\n\n  d3.selectAll(params.root+' .col_dendro_group')\n    .data(col_nodes, function(d){return d.name;})\n    .exit()\n    .transition().duration(duration)\n    .style('opacity',0)\n    .remove();    \n\n };\n\n\n/** WEBPACK FOOTER **\n ** src/exit/exit_components.js\n **/","module.exports = function enter_grid_lines(params, delays, duration){\n\n  var row_nodes = params.network_data.row_nodes;\n  var row_nodes_names = params.network_data.row_nodes_names;\n\n  var col_nodes = params.network_data.col_nodes;\n  var col_nodes_names = params.network_data.col_nodes_names;\n\n  // Fade in new gridlines\n  ///////////////////////////\n\n  // append horizontal lines\n  d3.select(params.root+' .clust_group')\n    .selectAll('.horz_lines')\n    .data(row_nodes, function(d){return d.name;})\n    .enter()\n    .append('g')\n    .attr('class','horz_lines')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(row_nodes_names, d.name);\n      return 'translate(0,' + params.viz.y_scale(inst_index) + ') rotate(0)';\n    })\n    .append('line')\n    .attr('x1',0)\n    .attr('x2',params.viz.clust.dim.width)\n    .style('stroke-width', function(){\n      var inst_width;\n      if (params.viz.zoom_switch > 1){\n        inst_width = params.viz.border_width/params.viz.zoom_switch;\n      } else {\n        inst_width = params.viz.border_width;\n      }\n      return inst_width+'px';\n    })\n    .attr('opacity',0)\n    .attr('stroke','white')\n    .transition().delay(delays.enter).duration(2*duration)\n    .attr('opacity',1);\n\n  // append vertical line groups\n  d3.select(params.root+' .clust_group')\n    .selectAll('.vert_lines')\n    .data(col_nodes)\n    .enter()\n    .append('g')\n    .attr('class', 'vert_lines')\n    .attr('transform', function(d) {\n      var inst_index = _.indexOf(col_nodes_names, d.name);\n      return 'translate(' + params.viz.x_scale(inst_index) + ') rotate(-90)';\n    })\n    .append('line')\n    .attr('x1', 0)\n    .attr('x2', -params.viz.clust.dim.height)\n    .style('stroke-width', function(){\n      var inst_width;\n       if (params.viz.zoom_switch_y > 1){\n        inst_width = params.viz.border_width/ params.viz.zoom_switch_y;\n       } else {\n        inst_width = params.viz.border_width;\n       }\n       return inst_width + 'px';\n    })\n    .style('stroke', 'white')\n    .attr('opacity',0)\n    .transition().delay(delays.enter).duration(2*duration)\n    .attr('opacity',1);\n    \n  };\n\n\n/** WEBPACK FOOTER **\n ** src/enter/enter_grid_lines.js\n **/","var enter_new_rows = require('./enter_new_rows');\n\nmodule.exports = function enter_row_groups(params, delays, duration, tip){\n\n  var row_nodes_names = params.network_data.row_nodes_names;\n\n  // enter new rows\n  var new_row_groups = d3.select(params.root+' .clust_group')\n    .selectAll('.row')\n    .data(params.matrix.matrix, function(d){return d.name;})\n    .enter()\n    .append('g')\n    .attr('class','row')\n    .attr('transform', function(d) {\n      var tmp_index = _.indexOf(row_nodes_names, d.name);\n      return 'translate(0,' + params.viz.y_scale(tmp_index) + ')';\n    })  ;\n\n  new_row_groups\n    .each( function(d){\n      enter_new_rows(params, d, delays, duration, tip, this); \n    } );\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/enter/enter_row_groups.js\n **/","var enter_split_tiles = require('./enter_split_tiles');\nvar mouseover_tile = require('../matrix/mouseover_tile');\nvar mouseout_tile = require('../matrix/mouseout_tile');\n\n// make each row in the clustergram\nmodule.exports = function enter_new_rows(params, ini_inp_row_data, delays, duration, tip, row_selection) {\n\n  var inp_row_data = ini_inp_row_data.row_data;\n\n  // remove zero values to make visualization faster\n  var row_data = _.filter(inp_row_data, function(num) {\n    return num.value !== 0;\n  });\n\n  // update tiles\n  ////////////////////////////////////////////\n  var tile = d3.select(row_selection)\n    .selectAll('rect')\n    .data(row_data, function(d){ return d.col_name; })\n    .enter()\n    .append('rect')\n    .attr('class', 'tile row_tile')\n    .attr('width', params.viz.rect_width)\n    .attr('height', params.viz.rect_height)\n    // switch the color based on up/dn value\n    .style('fill', function(d) {\n      return d.value > 0 ? params.matrix.tile_colors[0] : params.matrix.tile_colors[1];\n    })\n    .on('mouseover', function(...args) {\n      mouseover_tile(params, this, tip, args);\n    })\n    .on('mouseout', function mouseout() {\n      mouseout_tile(params, this, tip);\n    });\n\n  tile\n    .style('fill-opacity',0)\n    .transition().delay(delays.enter).duration(duration)\n    .style('fill-opacity', function(d) {\n      // calculate output opacity using the opacity scale\n      var output_opacity = params.matrix.opacity_scale(Math.abs(d.value));\n      return output_opacity;\n    });\n\n  tile\n    .attr('transform', function(d) {\n      var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n      var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n      return 'translate(' + x_pos + ','+y_pos+')';\n    });\n\n  if (params.matrix.tile_type == 'updn'){\n    enter_split_tiles(params, inp_row_data, row_selection, tip, delays, duration, tile);\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/enter/enter_new_rows.js\n **/","var draw_up_tile = require('./draw_up_tile');\nvar draw_dn_tile = require('./draw_dn_tile');\n\nmodule.exports = function enter_split_tiles(params, inp_row_data, row_selection, tip, delays, duration, tile){\n\n  // value split\n  var row_split_data = _.filter(inp_row_data, function(num){\n    return num.value_up != 0 || num.value_dn !=0 ;\n  });\n\n  // tile_up\n  var new_tiles_up = d3.select(row_selection)\n    .selectAll('.tile_up')\n    .data(row_split_data, function(d){ return d.col_name; })\n    .enter()\n    .append('path')\n    .attr('class','tile_up')\n    .attr('d', function() {\n      return draw_up_tile(params);\n    })\n    .attr('transform', function(d) {\n      var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n      var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n      return 'translate(' + x_pos + ','+y_pos+')';\n    })\n    .style('fill', function() {\n      return params.matrix.tile_colors[0];\n    })\n    .on('mouseover', function(p) {\n    // highlight row - set text to active if\n    d3.selectAll(params.root+' .row_label_group text')\n      .classed('active', function(d) {\n        return p.row_name === d.name;\n      });\n\n    d3.selectAll(params.root+' .col_label_text text')\n      .classed('active', function(d) {\n        return p.col_name === d.name;\n      });\n    if (params.matrix.show_tile_tooltips){\n      tip.show(p);\n    }\n  })\n  .on('mouseout', function() {\n    d3.selectAll(params.root+' text').classed('active', false);\n    if (params.matrix.show_tile_tooltips){\n      tip.hide();\n    }\n  });\n\n  new_tiles_up\n    .style('fill-opacity',0)\n    .transition().delay(delays.enter).duration(duration)\n    .style('fill-opacity',function(d){\n      var inst_opacity = 0;\n      if (Math.abs(d.value_dn)>0){\n        inst_opacity = params.matrix.opacity_scale(Math.abs(d.value_up));\n      }\n      return inst_opacity;\n    });\n\n\n  // tile_dn\n  var new_tiles_dn = d3.select(row_selection)\n    .selectAll('.tile_dn')\n    .data(row_split_data, function(d){return d.col_name;})\n    .enter()\n    .append('path')\n    .attr('class','tile_dn')\n    .attr('d', function() {\n      return draw_dn_tile(params);\n    })\n    .attr('transform', function(d) {\n      var x_pos = params.viz.x_scale(d.pos_x) + 0.5*params.viz.border_width;\n      var y_pos = 0.5*params.viz.border_width/params.viz.zoom_switch;\n      return 'translate(' + x_pos + ','+y_pos+')';\n    })\n    .style('fill', function() {\n      return params.matrix.tile_colors[1];\n    })\n    .on('mouseover', function(p) {\n    // highlight row - set text to active if\n    d3.selectAll(params.root+' .row_label_group text')\n      .classed('active', function(d) {\n        return p.row_name === d.name;\n      });\n\n    d3.selectAll(params.root+' .col_label_text text')\n      .classed('active', function(d) {\n        return p.col_name === d.name;\n      });\n    if (params.matrix.show_tile_tooltips){\n      tip.show(p);\n    }\n  })\n  .on('mouseout', function() {\n    d3.selectAll(params.root+' text').classed('active', false);\n    if (params.matrix.show_tile_tooltips){\n      tip.hide();\n    }\n  });\n\n  new_tiles_dn\n    .style('fill-opacity',0)\n    .transition().delay(delays.enter).duration(duration)\n    .style('fill-opacity',function(d){\n      var inst_opacity = 0;\n      if (Math.abs(d.value_up)>0){\n        inst_opacity = params.matrix.opacity_scale(Math.abs(d.value_dn));\n      }\n      return inst_opacity;\n    });\n\n  // remove tiles when splitting is done\n  tile\n    .each(function(d){\n      if ( Math.abs(d.value_up)>0 && Math.abs(d.value_dn)>0 ){\n        d3.select(this)\n          .remove();\n      }\n    });\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/enter/enter_split_tiles.js\n **/","module.exports = function resize_containers(params){\n  // reposition matrix\n  d3.select(params.root+' .clust_container')\n    .attr('transform', 'translate(' +\n      params.viz.clust.margin.left + ',' +\n      params.viz.clust.margin.top + ')');\n\n  // reposition col container\n  d3.select(params.root+' .col_label_outer_container')\n    .attr('transform', 'translate(0,' + params.viz.norm_labels.width.col + ')');\n\n  // reposition col_viz container\n  d3.select(params.root+' .col_cat_outer_container')\n    .attr('transform', function() {\n        var inst_offset = params.viz.norm_labels.width.col + 2;\n        return 'translate(0,' + inst_offset + ')';\n      });  \n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/reset_size/resize_containers.js\n **/","var change_groups = require('../dendrogram/change_groups');\nvar search = require('../search');\nvar all_reorder = require('../reorder/all_reorder');\nvar ini_cat_reorder = require('../reorder/ini_cat_reorder');\n\nmodule.exports = function ini_sidebar(params){\n\n  // initializes sidebar buttons and sliders\n  // this function is also used by update_network\n\n  var search_obj = search(params, params.network_data.row_nodes, 'name');\n\n  $(params.root+' .gene_search_box').autocomplete({\n    source: search_obj.get_entities\n  });\n\n  // submit genes button\n  $(params.root+' .gene_search_box').keyup(function(e) {\n    if (e.keyCode === 13) {\n      var search_gene = $(params.root+' .gene_search_box').val();\n      search_obj.find_entity(search_gene);\n    }\n  });\n\n  $(params.root+' .submit_gene_button').off().click(function() {\n    var gene = $(params.root+' .gene_search_box').val();\n    search_obj.find_entity(gene);\n  });\n\n  var reorder_types;\n  if (params.sim_mat){\n    reorder_types = ['both'];\n  } else {\n    reorder_types = ['row','col'];\n  }\n\n  _.each( reorder_types, function(inst_rc){\n\n    // dendrogram\n    $( params.root+' .slider_'+inst_rc ).slider({\n      value:0.5,\n      min: 0,\n      max: 1,\n      step: 0.1,\n      slide: function( event, ui ) {\n        $( \"#amount\" ).val( \"$\" + ui.value );\n        var inst_index = ui.value*10;\n        if (inst_rc != 'both'){\n          change_groups(params, inst_rc, inst_index);\n        } else {\n          change_groups(params, 'row', inst_index);\n          change_groups(params, 'col', inst_index);\n        }\n      }\n    });\n\n    // reorder buttons\n    $(params.root+' .toggle_'+inst_rc+'_order .btn')\n      .off()\n      .click(function(evt) {\n\n        var order_id = $(evt.target)\n          .attr('name')\n          .replace('_row','')\n          .replace('_col','');\n\n        d3.selectAll(params.root+' .toggle_'+inst_rc+'_order .btn')\n          .classed('active',false);\n\n        d3.select(this)\n          .classed('active',true);\n\n        if (inst_rc != 'both'){\n          all_reorder( params, order_id, inst_rc);\n        } else{\n          all_reorder( params, order_id, 'row');\n          all_reorder( params, order_id, 'col');\n        }\n\n      });\n\n  });\n\n  ini_cat_reorder(params);\n\n  $( params.root+' .opacity_slider' ).slider({\n    // value:0.5,\n    min: 0.1,\n    max: 2.0,\n    step: 0.1,\n    slide: function( event, ui ) {\n\n      $( \"#amount\" ).val( \"$\" + ui.value );\n      var inst_index = 2 - ui.value;\n\n      var scaled_max = params.matrix.abs_max_val * inst_index;\n\n      params.matrix.opacity_scale.domain([0, scaled_max]);\n\n      d3.selectAll(params.root+' .tile')\n        .style('fill-opacity', function(d) {\n          // calculate output opacity using the opacity scale\n          var output_opacity = params.matrix.opacity_scale(Math.abs(d.value));\n          return output_opacity;\n        });\n\n\n    }\n  });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/ini_sidebar.js\n **/","// var build_color_groups = require('./build_color_groups');\nvar make_row_dendro_triangles = require('./make_row_dendro_triangles');\nvar make_col_dendro_triangles = require('./make_col_dendro_triangles');\n\n/* Changes the groupings (x- and y-axis color bars).\n */\nmodule.exports = function (params, inst_rc, inst_index) {\n\n  if (inst_rc==='row'){\n    params.group_level.row = inst_index;\n  } else if (inst_rc==='col'){\n    params.group_level.col = inst_index;\n  }\n\n  var is_change_group = true;\n  make_row_dendro_triangles(params, is_change_group);\n  make_col_dendro_triangles(params, is_change_group);\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/dendrogram/change_groups.js\n **/","module.exports = function enable_sidebar(params) {\n  $(params.root+' .slider').slider('enable');\n  d3.selectAll(params.root+' .btn').attr('disabled',null);\n\n  params.viz.run_trans = false;\n\n  // d3.selectAll(params.root+' .category_section')\n  //   .on('click', category_key_click)\n  //   .select('text')\n  //   .style('opacity',1);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/enable_sidebar.js\n **/","module.exports = function update_reorder_buttons(tmp_config, params){\n  _.each(['row','col'], function(inst_rc){\n\n    var other_rc;\n    if (inst_rc === 'row'){\n      other_rc = 'col';\n    } else {\n      other_rc = 'row';\n    }\n\n    d3.selectAll(params.root+' .toggle_'+other_rc+'_order .btn')\n      .filter(function(){\n        return d3.select(this).attr('name') === tmp_config.inst_order[inst_rc];\n      })\n      .classed('active',true);\n\n  });  \n};\n\n\n/** WEBPACK FOOTER **\n ** src/reorder/update_reorder_buttons.js\n **/","var sim_click = require('./sim_click');\n\nmodule.exports = function quick_cluster(){\n  /* eslint-disable */\n\n  function run(params){\n\n    var x_trans = Number(d3.select(params.root+' .expand_button').attr('x')\n        .replace('px',''));\n    var y_trans = Number(d3.select(params.root+' .expand_button').attr('y')\n        .replace('px',''));\n\n    var wait_click = 0;\n    var wait_real_click = 400;\n    setTimeout(sim_click, wait_click, params, 'single', x_trans, y_trans);\n    setTimeout(click_menu_button, wait_real_click, params);\n\n    setTimeout(reset_cluster_order, 1500, params);\n\n  }\n\n  function get_duration(){\n    return 3500;\n  }\n\n  function click_menu_button(params){\n    $(params.root+' .expand_button').d3Click();\n  };\n\n  function reset_cluster_order(params){\n    click_reorder_button(params, 'row', 'clust');\n    click_reorder_button(params, 'col', 'clust');\n  }\n\n  function click_reorder_button(params, inst_rc, inst_order){\n    var inst_button = d3.selectAll('.toggle_'+inst_rc+'_order .btn')\n      .filter(function(){\n        return this.__data__ == inst_order;\n      })[0];\n\n    $(inst_button).click();\n  }\n\n  // allows doubleclicking on d3 element\n  jQuery.fn.d3Click = function () {\n    this.each(function (i, e) {\n      var evt = document.createEvent(\"MouseEvents\");\n      evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, false,\n       false, false, false, 0, null);\n      e.dispatchEvent(evt);\n    });\n  };  \n\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/quick_cluster.js\n **/","var demo_text = require('./demo_text');\nvar highlight_sidebar_element = require('./highlight_sidebar_element');\nvar change_groups = require('../dendrogram/change_groups');\n\nmodule.exports = function play_groups(){\n  /* eslint-disable */\n\n  function run(params){\n\n    var text = 'Identify row and column groups\\nof varying sizes using '+\n      ' the\\nsliders and dendrogram';\n    demo_text(params, text, 10000);\n    \n    setTimeout(highlight_sidebar_element, 3000, params, 'slider_col', 7000);\n\n    setTimeout(change_group_slider, 4000, params, 'row', 3);\n    setTimeout(change_group_slider, 5000, params, 'row', 4);\n    setTimeout(change_group_slider, 6000, params, 'row', 5);\n    setTimeout(change_group_slider, 7000, params, 'row', 6);\n    setTimeout(change_group_slider, 8000, params, 'row', 7);\n    setTimeout(change_group_slider, 9000, params, 'row', 5);\n\n  }\n\n  function get_duration(){\n    return 11000;\n  }\n\n  function change_group_slider(params, inst_rc, inst_value){\n    $(cgm.params.root+' .slider_col').slider( \"value\", inst_value/10);\n    change_groups(params, inst_rc, inst_value);\n  }\n\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_groups.js\n **/","var demo_text = require('./demo_text');\nvar sim_click = require('./sim_click');\n\nmodule.exports = function play_category(){\n  /* eslint-disable */\n\n  function run(params){\n\n    var text = 'Row and column categories\\ncan be use to reorder\\nby double-clicking';\n    demo_text(params, text, 7000);\n\n    var inst_element = d3.selectAll(params.root+' .col_cat_super')\n      .filter(function(){\n        return this.__data__ === 'cat-1';\n    })[0];\n\n    var tmp_pos = d3.select('.col_cat_super').attr('transform');\n    var x_trans = Number(tmp_pos.split('(')[1].split(',')[0]\n      .replace(')',''))+20;\n    var y_trans = Number(tmp_pos.split(',')[1].replace(')',''));\n\n    var wait_click = 4000;\n    setTimeout(sim_click, wait_click, params, 'double', x_trans, y_trans);\n\n    var wait_reorder = wait_click + 300;\n    setTimeout(fire_double_click_row, wait_reorder, params, inst_element);\n\n  }\n\n  function get_duration(){\n    return 8000;\n  }\n\n  function fire_double_click_row(params, inst_element){\n    $(inst_element).d3DblClick();    \n  }\n\n\n  // allows doubleclicking on d3 element\n  jQuery.fn.d3DblClick = function () {\n    this.each(function (i, e) {\n      var evt = document.createEvent(\"MouseEvents\");\n      evt.initMouseEvent(\"dblclick\", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      e.dispatchEvent(evt);\n    });\n  };\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_categories.js\n **/","var demo_text = require('./demo_text');\nvar toggle_play_button = require('./toggle_play_button');\n\nmodule.exports = function play_conclusion(){\n\n  function run(params){\n    var text_1 = \"Clustergrammer is built with gene\\nexpression data in mind\"+\n      \" and interfaces\\nwith several Ma'ayan lab web tools\";\n    var text_2 = \"The example data being visualized is\\ngene expression data\"+\n      \" obtained from the\\nCancer Cell Line Encyclopedia\";\n    var text_3 = \"For more information please view\\nthe help documentation\";\n\n    setTimeout( demo_text,    0, params, text_1, 4500 );\n    setTimeout( demo_text, 4500, params, text_2, 4500 );\n    setTimeout( demo_text, 9000, params, text_3, 4500 );\n\n    setTimeout( reset_demo, 14000, params);\n  }\n\n  function reset_demo(params){\n\n    // prevent more than one demo from running at once \n    d3.select(params.root+' .play_button')\n      .classed('running_demo', false);\n\n    toggle_play_button(params, true);\n  }\n\n  function get_duration(){\n    return 12000;\n  }\n\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_conclusion.js\n **/","module.exports = function toggle_play_button(params, show){\n\n  \n  if (show === false){\n    d3.select(params.root+' .play_button')\n    .transition().duration(500)\n    .style('opacity', 0);\n  } else {\n    d3.select(params.root+' .play_button')\n      .transition().duration(500)\n      .style('opacity', 1);\n      \n    $.unblockUI();\n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/toggle_play_button.js\n **/","var demo_text = require('./demo_text');\nvar sim_click = require('./sim_click');\n\nmodule.exports = function play_menu_button(){\n  /* eslint-disable */\n\n  function run(params){\n\n    var text = 'View additional controls\\nby clicking the menu button';\n    demo_text(params, text, 4000);\n\n    // var inst_element = get_row_element(params, 'EGFR');\n\n    // var group_trans = d3.select(inst_element).attr('transform');\n\n    // var container_trans = d3.select(params.root+' .clust_container')\n    //   .attr('transform')\n    //   .split(',')[1].replace(')','');\n\n    // var x_trans = params.viz.norm_labels.width.row * 0.9;\n\n    // var row_trans = group_trans.split(',')[1].replace(')','');\n    // var y_trans = String(Number(row_trans) + Number(container_trans) + \n    //   params.viz.rect_height/2);\n\n    var x_trans = Number(d3.select(params.root+' .expand_button').attr('x')\n        .replace('px',''));\n    var y_trans = Number(d3.select(params.root+' .expand_button').attr('y')\n        .replace('px',''));\n\n    var wait_click = 3000;\n    var wait_real_click = 3400;\n    setTimeout(sim_click, wait_click, params, 'single', x_trans, y_trans);\n    setTimeout(click_menu_button, wait_real_click, params);\n\n  }\n\n  function get_duration(){\n    return 5000;\n  }\n\n  function click_menu_button(params){\n    $(params.root+' .expand_button').d3Click();\n  };\n\n  function get_row_element(params, inst_row){\n\n    var inst_element = d3.selectAll(params.root+' .row_label_group')\n      .filter(function(){\n        var inst_data = this.__data__;\n        return inst_data.name == inst_row;\n      })[0][0];\n\n    return inst_element;\n  }\n\n  // allows doubleclicking on d3 element\n  jQuery.fn.d3Click = function () {\n    this.each(function (i, e) {\n      var evt = document.createEvent(\"MouseEvents\");\n      evt.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 0, 0, false, \n        false, false, false, 0, null);\n      e.dispatchEvent(evt);\n    });\n  };  \n\n  // allows doubleclicking on d3 element\n  jQuery.fn.d3DblClick = function () {\n    this.each(function (i, e) {\n      var evt = document.createEvent(\"MouseEvents\");\n      evt.initMouseEvent(\"dblclick\", true, true, window, 0, 0, 0, 0, 0, false,\n       false, false, false, 0, null);\n      e.dispatchEvent(evt);\n    });\n  };\n  return {\n    run: run,\n    get_duration: get_duration\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/play_menu_button.js\n **/","var make_play_button = require('./make_play_button');\nvar make_demo_text_containers = require('./make_demo_text_containers');\n\nmodule.exports = function ini_demo(){\n\n  var cgm = this;\n  var params = cgm.params;\n\n  make_play_button(cgm);\n\n  var demo_text_size = 30;\n  make_demo_text_containers(params, demo_text_size);\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/ini_demo.js\n **/","var position_play_button = require('./position_play_button');\n\nmodule.exports = function make_play_button(cgm){\n\n  var params = cgm.params;\n\n  if (d3.select(params.root+' .play_button').empty()){\n\n    var play_button = d3.select(params.root+' .viz_svg')\n      .append('g')\n      .classed('play_button', true)\n      .classed('running_demo', false);\n\n    position_play_button(params);\n\n    play_button\n      .append('circle')\n      .style('r', 45)\n      .style('fill','white')\n      .style('stroke','black')\n      .style('stroke-width','3px')\n      .style('opacity',0.5);\n\n    play_button\n      .append('path')\n      .attr('d',function(){\n\n        var tri_w = 40;\n        var tri_h = 22; \n        var tri_offset = 15;\n\n        return 'M-'+tri_offset+',-'+tri_h+' l '+tri_w+','+tri_h+' l -'+tri_w+','+tri_h+' z ';\n      })\n      .style('fill','black')\n      .style('opacity',0.5);\n\n    // mouseover behavior\n    play_button\n      .on('mouseover', function(){\n        d3.select(this)\n          .select('path')\n          .style('fill','red')\n          .style('opacity',1);\n\n        d3.select(this)\n          .select('circle')\n          .style('opacity',1);\n\n      })\n      .on('mouseout', function(){\n        d3.select(this)\n          .select('path')\n          .style('fill','black')\n          .style('opacity',0.5);\n        d3.select(this)\n          .select('circle')\n          .style('opacity',0.5);\n      })\n      .on('click', function(){\n        // running from anonymous function to keep this defined correctly \n        cgm.play_demo();\n      });\n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/make_play_button.js\n **/","module.exports = function make_demo_text_containers(params, demo_text_size){\n\n  if (d3.select(params.root+' .demo_group').empty()){\n\n    var clust_transform = d3.select(params.root+' .clust_container')\n      .attr('transform');\n    var clust_x = Number(clust_transform.split('(')[1].split(',')[0]);\n    var clust_y = Number(clust_transform.split(',')[1].replace(')',''));\n\n    // demo text container \n    var demo_group = d3.select(params.root+' .viz_svg')\n      .append('g')\n      .classed('demo_group', true)\n      .attr('transform', function(){\n          var pos_x = clust_x+20;\n          var pos_y = clust_y+40;\n          return 'translate('+pos_x+','+pos_y+')';\n        });\n\n    demo_group\n      .append('rect')\n      .classed('rect_1', true);\n\n    demo_group\n      .append('rect')\n      .classed('rect_2', true);\n\n    demo_group\n      .append('rect')\n      .classed('rect_3', true);\n\n    var shift_height = 1.3*demo_text_size;\n\n    demo_group\n      .append('text')\n      .attr('id','text_1')\n      .attr('font-size',demo_text_size+'px')\n      .attr('font-weight',1000)\n      .attr('font-family','\"Helvetica Neue\", Helvetica, Arial, sans-serif');\n\n    demo_group\n      .append('text')\n      .attr('id','text_2')\n      .attr('font-size',demo_text_size+'px')\n      .attr('font-weight',1000)\n      .attr('font-family','\"Helvetica Neue\", Helvetica, Arial, sans-serif')\n      .attr('transform', function(){\n        return 'translate(0,'+String(shift_height)+')';\n      });\n\n    demo_group\n      .append('text')\n      .attr('id','text_3')\n      .attr('font-size',demo_text_size+'px')\n      .attr('font-weight',1000)\n      .attr('font-family','\"Helvetica Neue\", Helvetica, Arial, sans-serif')\n      .attr('transform', function(){\n        return 'translate(0,'+String(2*shift_height)+')';\n      });\n\n  }\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/demo/make_demo_text_containers.js\n **/","var ini_sidebar = require('./ini_sidebar');\nvar set_up_filters = require('../filters/set_up_filters');\nvar set_up_dendro_sliders = require('./set_up_dendro_sliders');\nvar set_up_search = require('./set_up_search');\nvar set_up_reorder = require('./set_up_reorder');\nvar set_sidebar_ini_view = require('./set_sidebar_ini_view');\nvar make_icons = require('./make_icons');\nvar make_modals = require('./make_modals');\nvar set_up_opacity_slider = require('./set_up_opacity_slider');\n\n/* Represents sidebar with controls.\n */\nmodule.exports = function sidebar(cgm) {\n\n  var params = cgm.params;\n\n  var sidebar = d3.select(params.root+' .sidebar_wrapper');\n\n  // console.log('is_expand ',params.viz.is_expand)\n\n  if (params.viz.is_expand){\n    sidebar\n      .style('display','none');\n  }\n\n  sidebar\n    .append('div')\n    .classed('title_section',true);\n\n  if (params.sidebar.title != null){\n    sidebar\n      .select('.title_section')\n      .append('h4')\n      // .style('margin-left', params.sidebar.title_margin_left+'px')\n      .style('margin-left', '20px')\n      .style('margin-top','5px')\n      .style('margin-bottom','0px')\n      .text(params.sidebar.title);\n  }\n\n  sidebar\n    .append('div')\n    .classed('about_section',true);\n\n  if (params.sidebar.about != null){\n\n    var about_section_width = params.sidebar.text.width - 5;\n    sidebar\n      .select('.about_section')\n      .append('h5')\n      .classed('sidebar_text',true)\n      .style('margin-left','7px')\n      .style('margin-top','5px')\n      .style('margin-bottom','2px')\n      .style('width', about_section_width+'px')\n      .style('text-align','justify')\n      .text(params.sidebar.about);\n  }\n\n  sidebar\n    .append('div')\n    .classed('icons_section',true)\n    .style('text-align', 'center');\n\n  if (params.sidebar.icons){\n    make_modals(params);\n    make_icons(params, sidebar);\n  }\n\n  // // tmp sim mat button\n  // sidebar\n  //   .append('text')\n  //   .text('here')\n  //   .on('click',function(){\n  //     console.log('change to sim_mat')\n  //   })\n\n  set_up_reorder(params, sidebar);\n\n  set_up_search(sidebar, params);\n\n  set_up_opacity_slider(sidebar, params);\n\n  if (params.viz.show_dendrogram){\n    set_up_dendro_sliders(sidebar, params);\n  }\n\n\n\n  var possible_filter_names = _.keys(params.viz.possible_filters);\n\n  if (possible_filter_names.indexOf('enr_score_type')>-1){\n    possible_filter_names.sort(function (a, b) {\n      return a.toLowerCase().localeCompare(b.toLowerCase());\n    });\n  }\n\n  _.each(possible_filter_names, function(inst_filter){\n    set_up_filters(cgm, inst_filter);\n  });\n\n  ini_sidebar(params);\n\n  // disable for now\n  // make_cat_keys(params);\n\n  // when initializing the visualization using a view\n  if (params.ini_view !== null) {\n\n    set_sidebar_ini_view(params);\n\n    params.ini_view = null;\n\n  }\n\n  return params;\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/index.js\n **/","var make_slider_filter = require('./make_slider_filter');\nvar make_button_filter = require('./make_button_filter');\n\nmodule.exports = function set_up_filters(cgm, filter_type) {\n\n  var params = cgm.params;\n\n  var div_filters = d3.select(params.root+' .sidebar_wrapper')\n    .append('div')\n    .classed('div_filters',true)\n    .style('padding-left', '15px')\n    .style('padding-right', '15px');\n\n  if (params.viz.possible_filters[filter_type] == 'numerical'){\n    make_slider_filter(cgm, filter_type, div_filters);\n  } else if (params.viz.possible_filters[filter_type] == 'categorical'){\n    make_button_filter(cgm, filter_type, div_filters);\n  }\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/filters/set_up_filters.js\n **/","var make_filter_title = require('./make_filter_title');\nvar apply_filter_slider = require('./apply_filter_slider');\nvar get_filter_default_state = require('./get_filter_default_state');\nvar get_subset_views = require('./get_subset_views');\n\nmodule.exports = function make_slider_filter(cgm, filter_type, div_filters){\n\n  var params = cgm.params;\n\n  var requested_view = {};\n\n  var possible_filters = _.keys(params.viz.possible_filters);\n\n  _.each(possible_filters, function(tmp_filter){\n    if (tmp_filter != filter_type){\n      var default_state = get_filter_default_state(params.viz.filter_data, tmp_filter);\n      requested_view[tmp_filter] = default_state;\n    }\n  });\n\n  var filter_title = make_filter_title(params, filter_type);\n\n  div_filters\n    .append('div')\n    .classed('title_'+filter_type,true)\n    .classed('sidebar_text', true)\n    .classed('slider_description', true)\n    .style('margin-top', '5px')\n    .style('margin-bottom', '3px')\n    .text(filter_title.text + filter_title.state + filter_title.suffix);\n\n  div_filters\n    .append('div')\n    .classed('slider_'+filter_type,true)\n    .classed('slider',true)\n    .attr('current_state', filter_title.state);\n\n  var views = params.network_data.views;\n\n  var available_views = get_subset_views(params, views, requested_view);\n\n  // sort available views by filter_type value\n  available_views = available_views.sort(function(a, b) {\n      return b[filter_type] - a[filter_type];\n  });\n\n  var inst_max = available_views.length - 1;\n\n  $( params.root+' .slider_'+filter_type ).slider({\n    value:0,\n    min: 0,\n    max: inst_max,\n    step: 1,\n    stop: function() {\n      params = apply_filter_slider(cgm, filter_type, available_views);\n    }\n  });\n\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/filters/make_slider_filter.js\n **/","var get_filter_default_state = require('./get_filter_default_state');\n\nmodule.exports = function make_filter_title(params, filter_type){\n\n  var filter_title = {};\n  var title = {};\n  var type = {};\n\n  filter_title.state = get_filter_default_state(params.viz.filter_data, filter_type);\n\n  type.top     = filter_type.split('_')[0];\n  type.node    = filter_type.split('_')[1];\n  type.measure = filter_type.split('_')[2];\n\n  if (type.node === 'row'){\n    title.node = 'rows';\n  } else {\n    title.node = 'columns';\n  }\n\n  if (type.top === 'N'){\n    // filter_title.suffix = ' '+title.node;\n    filter_title.suffix = '';\n  }\n\n  if (type.top === 'pct'){\n    filter_title.suffix = '%';\n  }\n\n  if (type.measure == 'sum'){\n    title.measure = 'sum';\n  } else if (type.measure == 'var'){\n    title.measure = 'variance';\n  }\n\n  if (type.measure === 'sum'){\n    filter_title.text = 'Top '+ title.node + ' ' + title.measure+': ';\n  } \n\n  if (type.measure === 'var'){\n    filter_title.text = 'Top '+ title.node + ' ' + title.measure+': ';\n  }\n\n  // Enrichr specific rules \n  if ( _.keys(params.viz.possible_filters).indexOf('enr_score_type') > -1 ){\n    if (type.node === 'col'){\n      filter_title.text = 'Top Enriched Terms: ';\n      filter_title.suffix = '';\n    }\n  }\n\n  return filter_title;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/filters/make_filter_title.js\n **/","var update_network = require('../network/update_network');\nvar reset_other_filter_sliders = require('./reset_other_filter_sliders');\nvar get_current_orders = require('./get_current_orders');\nvar make_requested_view = require('./make_requested_view');\n\nmodule.exports = function apply_filter_slider(cgm, filter_type, available_views){\n\n  var params = cgm.params;\n\n  // get value\n  var inst_index = $( params.root+' .slider_'+filter_type ).slider( \"value\" );\n  var inst_state = available_views[inst_index][filter_type];\n\n  reset_other_filter_sliders(params, filter_type, inst_state);\n\n  params = get_current_orders(params);\n  \n  var requested_view = {};\n  requested_view[filter_type] = inst_state;\n\n  requested_view = make_requested_view(params, requested_view);  \n\n  if ( _.has(available_views[0],'enr_score_type') ){\n    var enr_state = d3.select(params.root+' .toggle_enr_score_type')\n      .attr('current_state');\n\n    requested_view.enr_score_type = enr_state;\n  } \n\n  params = update_network(cgm, requested_view);\n\n  return params;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/filters/apply_filter_slider.js\n **/","var make_filter_title = require('./make_filter_title');\n\nmodule.exports = function reset_other_filter_sliders(params, filter_type, inst_state){\n\n  var inst_rc;\n  var reset_rc;\n\n  d3.select(params.root+' .slider_'+filter_type)\n    .attr('current_state', inst_state);\n\n  _.each( _.keys(params.viz.possible_filters), function(reset_filter){\n\n    if ( filter_type.indexOf('row') > -1 ){\n      inst_rc = 'row';\n    } else if ( filter_type.indexOf('col') > -1 ){\n      inst_rc = 'col';\n    } else {\n      inst_rc = 'neither';\n    }\n\n    if ( reset_filter.indexOf('row') > -1 ){\n      reset_rc = 'row';\n    } else if ( reset_filter.indexOf('col') > -1 ){\n      reset_rc = 'col';\n    } else {\n      reset_rc = 'neither';\n    }    \n\n    if (filter_type != reset_filter && inst_rc != 'neither'){\n\n      if (inst_rc == reset_rc){\n\n        var tmp_title = make_filter_title(params, reset_filter);\n        $(params.root+' .slider_'+reset_filter).slider( \"value\", 0);\n\n        d3.select(params.root+' .title_'+reset_filter)\n          .text(tmp_title.text + tmp_title.state);\n\n        d3.select(params.root+' .slider_'+reset_filter)\n          .attr('current_state', tmp_title.state);\n\n      }\n\n    }\n\n\n  });\n\n  var filter_title = make_filter_title(params, filter_type);\n\n  d3.select(params.root+' .title_'+filter_type)\n    .text(filter_title.text + inst_state + filter_title.suffix);\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/filters/reset_other_filter_sliders.js\n **/","module.exports = function get_current_orders(params){\n\n  // get current orders \n  var other_rc;\n  _.each(['row','col'], function(inst_rc){\n\n    if (inst_rc === 'row'){\n      other_rc = 'col';\n    } else {\n      other_rc = 'row';\n    }\n    \n    if (d3.select(params.root+' .toggle_'+other_rc+'_order .active').empty() === false){\n\n      params.viz.inst_order[inst_rc] = d3.select(params.root+' .toggle_'+other_rc+'_order')\n        .select('.active').attr('name');\n\n    } else {\n\n      // default to cluster ordering \n      params.viz.inst_order[inst_rc] = 'clust';\n\n    }\n\n  });\n\n  return params;\n};\n\n\n/** WEBPACK FOOTER **\n ** src/filters/get_current_orders.js\n **/","var update_network = require('../network/update_network');\nvar make_requested_view = require('./make_requested_view');\n\nmodule.exports = function make_button_filter(config, params, filter_type, div_filters){\n\n  /*\n  Enrichr specific code\n  */\n\n  var buttons = div_filters\n    .append('div')\n    .classed('categorical_filter',true)\n    .classed('toggle_'+filter_type,true)\n    .classed('btn-group-vertical',true)\n    .style('width', '100%')\n    .style('margin-top','10px')\n    .attr('current_state','combined_score');\n\n  var filter_options = params.viz.filter_data[filter_type];\n\n  var button_dict = {\n    'combined_score':'Combined Score',\n    'pval':'P-Value',\n    'zscore':'Z-score'\n  };\n\n  buttons\n    .selectAll('button')\n    .data(filter_options)\n    .enter()\n    .append('button')\n    .attr('type','button')\n    .classed('btn',true)\n    .classed('btn-primary',true)\n    .classed('.filter_button',true)\n    .classed('active', function(d){\n      var is_active = false;\n      if (d == 'combined_score'){\n        is_active = true;\n      }\n      return is_active;\n    })\n    .attr('name', function(d){\n      return d;\n    })\n    .html(function(d){\n      return button_dict[d];\n    });\n\n  $(params.root+ ' .categorical_filter .btn')\n    .off()\n    .click(function(){\n\n      d3.selectAll(params.root+' .categorical_filter .btn')\n        .classed('active',false);\n\n      d3.select(this)\n        .classed('active',true);\n\n      var inst_state = d3.select(this)\n        .attr('name');\n\n      var requested_view = {'enr_score_type':inst_state};\n\n      requested_view = make_requested_view(params, requested_view);\n\n      // console.log('\\n---------\\n requested_view from button filter')\n      // console.log(requested_view)\n\n      update_network(config, params, requested_view);\n\n      d3.select(params.root+' .toggle_enr_score_type')\n        .attr('current_state', inst_state);\n\n    });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/filters/make_button_filter.js\n **/","module.exports = function set_up_dendro_sliders(sidebar, params){\n\n  var dendro_sliders = sidebar\n    .append('div')\n    .classed('dendro_sliders', true)\n    .style('padding-left', '15px')\n    .style('padding-right', '15px');\n\n  var dendro_types;\n  if (params.sim_mat){\n    dendro_types = ['both'];\n  } else {\n    dendro_types = ['row','col'];\n  }\n\n  var dendro_text = {};\n  dendro_text.row = 'Row Group Size';\n  dendro_text.col = 'Column Group Size';\n  dendro_text.both = 'Group Size';\n\n  _.each( dendro_types, function(inst_rc){\n\n    dendro_sliders\n      .append('div')\n      .classed('sidebar_text', true)\n      .classed('slider_description', true)\n      .style('margin-top', '5px')\n      .style('margin-bottom', '3px')\n      .text(dendro_text[inst_rc]);\n\n    dendro_sliders\n      .append('div')\n      .classed('slider_'+inst_rc, true)\n      .classed('slider', true);\n\n  });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/set_up_dendro_sliders.js\n **/","module.exports = function set_up_search(sidebar, params ){\n\n  var search_container = sidebar\n    .append('div')\n    // .classed('row',true)\n    .classed('gene_search_container',true)\n    .style('padding-left','15px')\n    .style('padding-right','15px')\n    .style('margin-top','10px');\n\n  search_container\n    .append('input')\n    .classed('form-control',true)\n    .classed('gene_search_box',true)\n    .classed('sidebar_text', true)\n    .attr('type','text')\n    .attr('placeholder', params.sidebar.row_search.placeholder)\n    .style('height', params.sidebar.row_search.box.height+'px');\n\n  search_container\n    .append('div')\n    .classed('gene_search_button',true)\n    .style('margin-top', '5px')\n    .attr('data-toggle','buttons')\n    .append('button')\n    .classed('sidebar_text', true)\n    .html('Search')\n    .attr('type','button')\n    .classed('btn',true)\n    .classed('btn-primary',true)\n    .classed('submit_gene_button',true)\n    .style('width', '100%')\n    .style('font-size', '14px');\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/set_up_search.js\n **/","// var get_cat_title = require('../categories/get_cat_title');\n\nmodule.exports = function set_up_reorder(params, sidebar){\n\n  var button_dict;\n  var tmp_orders;\n  var rc_dict = {'row':'Row', 'col':'Column', 'both':''};\n  var is_active;\n  var inst_reorder;\n  // var all_cats;\n  // var inst_order_label;\n\n  var reorder_section = sidebar\n    .append('div')\n    .style('padding-left', '15px')\n    .style('padding-right', '15px')\n    .classed('reorder_section', true);\n\n  var reorder_types;\n  if (params.sim_mat){\n    reorder_types = ['both'];\n  } else {\n    reorder_types = ['row','col'];\n  }\n\n  _.each(reorder_types, function(inst_rc){\n\n    button_dict = {\n      'clust':'Cluster',\n      'rank':'Rank by Sum',\n      'rankvar':'Rank by Variance',\n      'ini':'Initial Order',\n      'alpha':'Alphabetically'\n    };\n\n    var other_rc;\n    if (inst_rc === 'row'){\n      other_rc = 'col';\n    } else {\n      other_rc = 'row';\n    }\n\n    // // removing categories from reorder buttons\n    // /////////////////////////////////////////////\n    // var cat_rc;\n    // if (inst_rc != 'both'){\n    //   cat_rc = inst_rc;\n    // } else {\n    //   cat_rc = 'row';\n    // }\n    // if ( params.viz.all_cats[cat_rc].length > 0 ){\n    //   all_cats = params.viz.all_cats[cat_rc];\n    //   _.each(all_cats, function(inst_cat){\n    //     var cat_title = get_cat_title(params.viz, inst_cat, cat_rc);\n    //     inst_order_label = inst_cat.replace('-','_')+'_index';\n    //     button_dict[inst_order_label] = cat_title;\n    //   });\n    // }\n\n    tmp_orders = Object.keys(params.matrix.orders);\n\n    var possible_orders = [];\n\n    _.each(tmp_orders, function(inst_name){\n\n      if (inst_name.indexOf(other_rc) > -1){\n        inst_name = inst_name.replace('_row','').replace('_col','');\n\n        if ( inst_name.indexOf('cat_') < 0 ){\n          possible_orders.push(inst_name);\n        }\n      }\n\n    });\n\n    // specific to Enrichr\n    if ( _.keys(params.viz.filter_data).indexOf('enr_score_type') > -1 ){\n      possible_orders = ['clust','rank'];\n    }\n\n    possible_orders = _.uniq(possible_orders);\n\n    possible_orders = possible_orders.sort();\n\n    var reorder_text;\n    if (inst_rc !='both'){\n      reorder_text = ' Order';\n    } else {\n      reorder_text = 'Reorder Matrix';\n    }\n\n    reorder_section\n      .append('div')\n      .classed('sidebar_text',true)\n      .style('clear','both')\n      .style('margin-top','10px')\n      .style('font-size','13px')\n      .html(rc_dict[inst_rc]+reorder_text);\n\n    inst_reorder = reorder_section\n      .append('div')\n      .classed('btn-group-vertical',true)\n      .style('width', '100%')\n      .classed('toggle_'+inst_rc+'_order',true)\n      .attr('role','group');\n\n    inst_reorder\n      .selectAll('.button')\n      .data(possible_orders)\n      .enter()\n      .append('button')\n      .attr('type','button')\n      .style('font-size','13px')\n      .classed('btn',true)\n      .classed('btn-primary',true)\n      .classed('sidebar_text',true)\n      .classed('active', function(d){\n        is_active = false;\n        if (d == params.viz.inst_order[other_rc]){\n          is_active = true;\n        }\n        return is_active;\n      })\n      .attr('name', function(d){\n        return d;\n      })\n      .html(function(d){\n        return button_dict[d];\n      });\n\n  });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/set_up_reorder.js\n **/","var make_filter_title = require('../filters/make_filter_title');\n\n\nmodule.exports = function set_sidebar_ini_view(params){\n\n  _.each( _.keys(params.ini_view), function(inst_filter){\n\n    // initialize filter slider using ini_view\n    var inst_value = params.ini_view[inst_filter];\n\n    var filter_type = params.viz.possible_filters[inst_filter];\n\n    if (filter_type === 'numerical'){\n\n      var possible_values = params.viz.filter_data[inst_filter];\n\n      if (inst_value != 'all'){\n        inst_value = parseInt(inst_value,10);\n      }\n\n      if (params.viz.filter_data[inst_filter].indexOf(inst_value) <= -1){\n        inst_value = 'all';\n      }\n\n      var tmp_index = possible_values.indexOf( inst_value );\n\n      $(params.root+' .slider_'+inst_filter)\n        .slider( \"value\", tmp_index);\n\n      var filter_title = make_filter_title(params, inst_filter);\n\n      d3.select(params.root+' .title_'+inst_filter)\n        .text(filter_title.text + inst_value + filter_title.suffix);\n\n      d3.select(params.root+' .slider_'+inst_filter)\n        .attr('current_state', inst_value);\n\n    } else {\n\n      // set up button initialization\n\n    }\n\n  });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/set_sidebar_ini_view.js\n **/","var save_svg_png = require('../screenshot/save_svg_png');\nvar file_saver = require('../screenshot/file_saver');\n\nmodule.exports = function make_icons(params, sidebar){\n\n  // <a href=\"help\" target=\"_blank\"  id=\"help_link\">\n  //   <i class=\"fa fa-question-circle icon_buttons\"></i>\n  // </a>\n\n  var saveSvgAsPng = save_svg_png();\n  var saveAs = file_saver();\n\n  var row = sidebar\n    .select('.icons_section')\n    .style('margin-top','7px');\n\n  row\n    .append('div')\n    .classed('col-xs-4',true)\n    .append('a')\n    .attr('href','http://amp.pharm.mssm.edu/clustergrammer/help')\n    .attr('target','_blank')\n    .append('i')\n    .classed('fa',true)\n    .classed('fa-question-circle',true)\n    .classed('icon_buttons',true)\n    .style('font-size','25px');\n\n  row\n    .append('div')\n    .classed('col-xs-4',true)\n    .append('i')\n    .classed('fa',true)\n    .classed('fa-share-alt',true)\n    .classed('icon_buttons',true)\n    .style('font-size','25px')\n    .on('click',function(){\n\n      $(params.root+' .share_info').modal('toggle');\n      $('.share_url').val(window.location.href);\n\n    });\n\n  row\n    .append('div')\n    .classed('col-xs-4',true)\n    .append('i')\n    .classed('fa',true)\n    .classed('fa-camera',true)\n    .classed('icon_buttons',true)\n    .style('font-size','25px')\n    .on('click', function() {\n\n      $(params.root+' .picture_info').modal('toggle');\n\n    });\n\n    // save svg: example from: http://bl.ocks.org/pgiraud/8955139#profile.json\n    ////////////////////////////////////////////////////////////////////////////\n    function save_clust_svg(){\n\n      d3.select(params.root+' .expand_button').style('opacity',0);\n\n      var html = d3.select(params.root+\" svg\")\n            .attr(\"title\", \"test2\")\n            .attr(\"version\", 1.1)\n            .attr(\"xmlns\", \"http://www.w3.org/2000/svg\")\n            .node().parentNode.innerHTML;\n\n      var blob = new Blob([html], {type: \"image/svg+xml\"});\n\n      saveAs(blob, \"clustergrammer.svg\");\n\n      d3.select(params.root+' .expand_button').style('opacity',0.4);\n    }\n\n    d3.select(params.root+' .download_buttons')\n      .append('p')\n      .append('a')\n      .html('Download SVG')\n      .on('click',function(){\n        save_clust_svg();\n      });\n\n\n    var svg_id = 'svg_'+params.root.replace('#','');\n\n    // save as PNG\n    /////////////////////////////////////////\n    d3.select(params.root+' .download_buttons')\n      .append('p')\n      .append('a')\n      .html('Download PNG')\n      .on('click',function(){\n        d3.select(params.root+' .expand_button').style('opacity',0);\n        saveSvgAsPng(document.getElementById(svg_id), \"clustergrammer.png\");\n        d3.select(params.root+' .expand_button').style('opacity',0.4);\n      });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/make_icons.js\n **/","module.exports = function save_svg_png(){\n/* eslint-disable */\n// (function() {\n  var out$ = typeof exports != 'undefined' && exports || this;\n\n  var doctype = '<?xml version=\"1.0\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">';\n\n  function isExternal(url) {\n    return url && url.lastIndexOf('http',0) == 0 && url.lastIndexOf(window.location.host) == -1;\n  }\n\n  function inlineImages(el, callback) {\n    var images = el.querySelectorAll('image');\n    var left = images.length;\n    if (left == 0) {\n      callback();\n    }\n    for (var i = 0; i < images.length; i++) {\n      (function(image) {\n        var href = image.getAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\");\n        if (href) {\n          if (isExternal(href.value)) {\n            console.warn(\"Cannot render embedded images linking to external hosts: \"+href.value);\n            return;\n          }\n        }\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        var img = new Image();\n        href = href || image.getAttribute('href');\n        img.src = href;\n        img.onload = function() {\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.drawImage(img, 0, 0);\n          image.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", canvas.toDataURL('image/png'));\n          left--;\n          if (left == 0) {\n            callback();\n          }\n        }\n        img.onerror = function() {\n          console.log(\"Could not load \"+href);\n          left--;\n          if (left == 0) {\n            callback();\n          }\n        }\n      })(images[i]);\n    }\n  }\n\n  function styles(el, selectorRemap) {\n    var css = \"\";\n    var sheets = document.styleSheets;\n    for (var i = 0; i < sheets.length; i++) {\n      try {\n        var rules = sheets[i].cssRules;\n      } catch (e) {\n        console.warn(\"Stylesheet could not be loaded: \"+sheets[i].href);\n        continue;\n      }\n\n      if (rules != null) {\n        for (var j = 0; j < rules.length; j++) {\n          var rule = rules[j];\n          if (typeof(rule.style) != \"undefined\") {\n            var match = null;\n            try {\n              match = el.querySelector(rule.selectorText);\n            } catch(err) {\n              console.warn('Invalid CSS selector \"' + rule.selectorText + '\"', err);\n            }\n            if (match) {\n              var selector = selectorRemap ? selectorRemap(rule.selectorText) : rule.selectorText;\n              css += selector + \" { \" + rule.style.cssText + \" }\\n\";\n            } else if(rule.cssText.match(/^@font-face/)) {\n              css += rule.cssText + '\\n';\n            }\n          }\n        }\n      }\n    }\n    return css;\n  }\n\n  function getDimension(el, clone, dim) {\n    var v = (el.viewBox.baseVal && el.viewBox.baseVal[dim]) ||\n      (clone.getAttribute(dim) !== null && !clone.getAttribute(dim).match(/%$/) && parseInt(clone.getAttribute(dim))) ||\n      el.getBoundingClientRect()[dim] ||\n      parseInt(clone.style[dim]) ||\n      parseInt(window.getComputedStyle(el).getPropertyValue(dim));\n    return (typeof v === 'undefined' || v === null || isNaN(parseFloat(v))) ? 0 : v;\n  }\n\n  function reEncode(data) {\n    data = encodeURIComponent(data);\n    data = data.replace(/%([0-9A-F]{2})/g, function(match, p1) {\n      var c = String.fromCharCode('0x'+p1);\n      return c === '%' ? '%25' : c;\n    });\n    return decodeURIComponent(data);\n  }\n\n  out$.svgAsDataUri = function(el, options, cb) {\n    options = options || {};\n    options.scale = options.scale || 1;\n    var xmlns = \"http://www.w3.org/2000/xmlns/\";\n\n    inlineImages(el, function() {\n      var outer = document.createElement(\"div\");\n      var clone = el.cloneNode(true);\n      var width, height;\n      if(el.tagName == 'svg') {\n        width = options.width || getDimension(el, clone, 'width');\n        height = options.height || getDimension(el, clone, 'height');\n      } else if(el.getBBox) {\n        var box = el.getBBox();\n        width = box.x + box.width;\n        height = box.y + box.height;\n        clone.setAttribute('transform', clone.getAttribute('transform').replace(/translate\\(.*?\\)/, ''));\n\n        var svg = document.createElementNS('http://www.w3.org/2000/svg','svg')\n        svg.appendChild(clone)\n        clone = svg;\n      } else {\n        console.error('Attempted to render non-SVG element', el);\n        return;\n      }\n\n      clone.setAttribute(\"version\", \"1.1\");\n      clone.setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/2000/svg\");\n      clone.setAttributeNS(xmlns, \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n      clone.setAttribute(\"width\", width * options.scale);\n      clone.setAttribute(\"height\", height * options.scale);\n      clone.setAttribute(\"viewBox\", [\n        options.left || 0,\n        options.top || 0,\n        width,\n        height\n      ].join(\" \"));\n\n      outer.appendChild(clone);\n\n      var css = styles(el, options.selectorRemap);\n      var s = document.createElement('style');\n      s.setAttribute('type', 'text/css');\n      s.innerHTML = \"<![CDATA[\\n\" + css + \"\\n]]>\";\n      var defs = document.createElement('defs');\n      defs.appendChild(s);\n      clone.insertBefore(defs, clone.firstChild);\n\n      var svg = doctype + outer.innerHTML;\n      var uri = 'data:image/svg+xml;base64,' + window.btoa(reEncode(svg));\n      if (cb) {\n        cb(uri);\n      }\n    });\n  }\n\n  out$.svgAsPngUri = function(el, options, cb) {\n    out$.svgAsDataUri(el, options, function(uri) {\n      var image = new Image();\n      image.onload = function() {\n        var canvas = document.createElement('canvas');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        var context = canvas.getContext('2d');\n        if(options && options.backgroundColor){\n          context.fillStyle = options.backgroundColor;\n          context.fillRect(0, 0, canvas.width, canvas.height);\n        }\n        context.drawImage(image, 0, 0);\n        var a = document.createElement('a'), png;\n        try {\n          png = canvas.toDataURL('image/png');\n        } catch (e) {\n          if (e instanceof SecurityError) {\n            console.error(\"Rendered SVG images cannot be downloaded in this browser.\");\n            return;\n          } else {\n            throw e;\n          }\n        }\n        cb(png);\n      }\n      image.src = uri;\n    });\n  }\n\n  out$.saveSvgAsPng = function(el, name, options) {\n    options = options || {};\n    out$.svgAsPngUri(el, options, function(uri) {\n      var a = document.createElement('a');\n      a.download = name;\n      a.href = uri;\n      document.body.appendChild(a);\n      a.addEventListener(\"click\", function(e) {\n        a.parentNode.removeChild(a);\n      });\n      a.click();\n    });\n  }\n// })();\n\nreturn out$.saveSvgAsPng;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/screenshot/save_svg_png.js\n **/","module.exports = function file_saver(){\n/* eslint-disable */\n/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 2013-01-23\n * \n * By Eli Grey, http://eligrey.com\n * License: X11/MIT\n *   See LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, regexp: true, confusion: true, es5: true, vars: true, white: true,\n  plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs\n  || (navigator.msSaveBlob && navigator.msSaveBlob.bind(navigator))\n  || (function(view) {\n  \"use strict\";\n  var\n      doc = view.document\n      // only get URL when necessary in case BlobBuilder.js hasn't overridden it yet\n    , get_URL = function() {\n      return view.URL || view.webkitURL || view;\n    }\n    , URL = view.URL || view.webkitURL || view\n    , save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n    , can_use_save_link = \"download\" in save_link\n    , click = function(node) {\n      var event = doc.createEvent(\"MouseEvents\");\n      event.initMouseEvent(\n        \"click\", true, false, view, 0, 0, 0, 0, 0\n        , false, false, false, false, 0, null\n      );\n      node.dispatchEvent(event);\n    }\n    , webkit_req_fs = view.webkitRequestFileSystem\n    , req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem\n    , throw_outside = function (ex) {\n      (view.setImmediate || view.setTimeout)(function() {\n        throw ex;\n      }, 0);\n    }\n    , force_saveable_type = \"application/octet-stream\"\n    , fs_min_size = 0\n    , deletion_queue = []\n    , process_deletion_queue = function() {\n      var i = deletion_queue.length;\n      while (i--) {\n        var file = deletion_queue[i];\n        if (typeof file === \"string\") { // file is an object URL\n          URL.revokeObjectURL(file);\n        } else { // file is a File\n          file.remove();\n        }\n      }\n      deletion_queue.length = 0; // clear queue\n    }\n    , dispatch = function(filesaver, event_types, event) {\n      event_types = [].concat(event_types);\n      var i = event_types.length;\n      while (i--) {\n        var listener = filesaver[\"on\" + event_types[i]];\n        if (typeof listener === \"function\") {\n          try {\n            listener.call(filesaver, event || filesaver);\n          } catch (ex) {\n            throw_outside(ex);\n          }\n        }\n      }\n    }\n    , FileSaver = function(blob, name) {\n      // First try a.download, then web filesystem, then object URLs\n      var\n          filesaver = this\n        , type = blob.type\n        , blob_changed = false\n        , object_url\n        , target_view\n        , get_object_url = function() {\n          var object_url = get_URL().createObjectURL(blob);\n          deletion_queue.push(object_url);\n          return object_url;\n        }\n        , dispatch_all = function() {\n          dispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n        }\n        // on any filesys errors revert to saving with object URLs\n        , fs_error = function() {\n          // don't create more object URLs than needed\n          if (blob_changed || !object_url) {\n            object_url = get_object_url(blob);\n          }\n          if (target_view) {\n            target_view.location.href = object_url;\n          }\n          filesaver.readyState = filesaver.DONE;\n          dispatch_all();\n        }\n        , abortable = function(func) {\n          return function() {\n            if (filesaver.readyState !== filesaver.DONE) {\n              return func.apply(this, arguments);\n            }\n          };\n        }\n        , create_if_not_found = {create: true, exclusive: false}\n        , slice\n      ;\n      filesaver.readyState = filesaver.INIT;\n      if (!name) {\n        name = \"download\";\n      }\n      if (can_use_save_link) {\n        object_url = get_object_url(blob);\n        save_link.href = object_url;\n        save_link.download = name;\n        click(save_link);\n        filesaver.readyState = filesaver.DONE;\n        dispatch_all();\n        return;\n      }\n      // Object and web filesystem URLs have a problem saving in Google Chrome when\n      // viewed in a tab, so I force save with application/octet-stream\n      // http://code.google.com/p/chromium/issues/detail?id=91158\n      if (view.chrome && type && type !== force_saveable_type) {\n        slice = blob.slice || blob.webkitSlice;\n        blob = slice.call(blob, 0, blob.size, force_saveable_type);\n        blob_changed = true;\n      }\n      // Since I can't be sure that the guessed media type will trigger a download\n      // in WebKit, I append .download to the filename.\n      // https://bugs.webkit.org/show_bug.cgi?id=65440\n      if (webkit_req_fs && name !== \"download\") {\n        name += \".download\";\n      }\n      if (type === force_saveable_type || webkit_req_fs) {\n        target_view = view;\n      } else {\n        target_view = view.open();\n      }\n      if (!req_fs) {\n        fs_error();\n        return;\n      }\n      fs_min_size += blob.size;\n      req_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {\n        fs.root.getDirectory(\"saved\", create_if_not_found, abortable(function(dir) {\n          var save = function() {\n            dir.getFile(name, create_if_not_found, abortable(function(file) {\n              file.createWriter(abortable(function(writer) {\n                writer.onwriteend = function(event) {\n                  target_view.location.href = file.toURL();\n                  deletion_queue.push(file);\n                  filesaver.readyState = filesaver.DONE;\n                  dispatch(filesaver, \"writeend\", event);\n                };\n                writer.onerror = function() {\n                  var error = writer.error;\n                  if (error.code !== error.ABORT_ERR) {\n                    fs_error();\n                  }\n                };\n                \"writestart progress write abort\".split(\" \").forEach(function(event) {\n                  writer[\"on\" + event] = filesaver[\"on\" + event];\n                });\n                writer.write(blob);\n                filesaver.abort = function() {\n                  writer.abort();\n                  filesaver.readyState = filesaver.DONE;\n                };\n                filesaver.readyState = filesaver.WRITING;\n              }), fs_error);\n            }), fs_error);\n          };\n          dir.getFile(name, {create: false}, abortable(function(file) {\n            // delete file if it already exists\n            file.remove();\n            save();\n          }), abortable(function(ex) {\n            if (ex.code === ex.NOT_FOUND_ERR) {\n              save();\n            } else {\n              fs_error();\n            }\n          }));\n        }), fs_error);\n      }), fs_error);\n    }\n    , FS_proto = FileSaver.prototype\n    , saveAs = function(blob, name) {\n      return new FileSaver(blob, name);\n    }\n  ;\n  FS_proto.abort = function() {\n    var filesaver = this;\n    filesaver.readyState = filesaver.DONE;\n    dispatch(filesaver, \"abort\");\n  };\n  FS_proto.readyState = FS_proto.INIT = 0;\n  FS_proto.WRITING = 1;\n  FS_proto.DONE = 2;\n  \n  FS_proto.error =\n  FS_proto.onwritestart =\n  FS_proto.onprogress =\n  FS_proto.onwrite =\n  FS_proto.onabort =\n  FS_proto.onerror =\n  FS_proto.onwriteend =\n    null;\n  \n  view.addEventListener(\"unload\", process_deletion_queue, false);\n  return saveAs;\n}(self));\n\nreturn saveAs;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/screenshot/file_saver.js\n **/","var make_modal_skeleton = require('../modal/make_modal_skeleton');\n\nmodule.exports = function ini_modals(params){\n\n  // share modal \n  ///////////////////////////////////////\n  var share_modal = make_modal_skeleton(params, 'share_info');\n\n  share_modal.header\n    .append('a')\n    .attr('target','_blank')\n    .attr('href', '/clustergrammer/');\n\n  share_modal.header\n    .append('h4')\n    .classed('modal-title', true)\n    .html('Share the visualization using the current URL:');\n\n  share_modal.body\n    .append('input')\n    .classed('bootstrap_highlight', true)\n    .classed('share_url', true);\n\n  // picture modal \n  ///////////////////////////////////////\n  var screenshot_modal = make_modal_skeleton(params, 'picture_info');\n\n  screenshot_modal.header\n    .append('h4')\n    .classed('modal-title', true)\n    .html('Save a snapshot of the visualization');\n\n  screenshot_modal.body\n    .append('div')\n    .classed('download_buttons', true);\n\n  // dendro modal \n  ///////////////////////////////////////\n  var dendro_modal = make_modal_skeleton(params, 'dendro_info');\n\n  dendro_modal.header\n    .append('h4')\n    .classed('modal-title', true);\n    // .html('Group data points');\n\n  dendro_modal.body\n    .append('div')\n    .classed('dendro_text', true)\n    .append('input')\n    .classed('bootstrap_highlight', true)\n    .classed('current_names', true)\n    .style('width', '100%');\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/make_modals.js\n **/","module.exports = function make_modal_skeleton(params, modal_class){\n\n  var modal_skeleton = {};\n\n  var modal = d3.select(params.root)\n    .append('div')\n    .classed('modal', true)\n    .classed('fade', true)\n    .classed(modal_class, true)\n    .attr('role','dialog');\n\n  var modal_dialog = modal\n    .append('div')\n    .classed('modal-dialog', true);\n\n  var modal_content = modal_dialog\n    .append('div')\n    .classed('modal-content', true);\n\n  modal_skeleton.header = modal_content\n    .append('div')\n    .classed('modal-header', true);\n\n  modal_skeleton.header\n    .append('button')\n    .attr('type','button')\n    .classed('close', true)\n    .attr('data-dismiss','modal')\n    .html('&times;');  \n\n  modal_skeleton.body = modal_content\n    .append('div')\n    .classed('modal-body', true);\n\n  return modal_skeleton;\n\n};\n\n\n/** WEBPACK FOOTER **\n ** src/modal/make_modal_skeleton.js\n **/","module.exports = function set_up_opacity_slider(sidebar, params){\n\n  var slider_container = sidebar\n    .append('div')\n    .classed('opacity_slider_container', true)\n    .style('margin-top', '5px')\n    .style('padding-left', '15px')\n    .style('padding-right', '15px');\n\n  slider_container\n    .append('div')\n    .classed('sidebar_text', true)\n    .classed('opacity_slider_text', true)\n    .style('margin-bottom', '3px')\n    .text('Opacity Slider');\n\n  slider_container\n    .append('div')\n    .classed('slider', true)\n    .classed('opacity_slider', true);\n\n  $( params.root+' .opacity_slider' ).slider({\n    value:1.0\n  });\n\n};\n\n\n\n/** WEBPACK FOOTER **\n ** src/sidebar/set_up_opacity_slider.js\n **/"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;;;;;;;;;AASA;;AAVA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;;AAnBA;AACA;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AATA;AACA;AAWA;;AAEA;AAFA;AACA;AAIA;AACA;AADA;AACA;;AA5CA;AAiDA;AACA;AACA;AACA;AACA;AArDA;AACA;AAuDA;;;;;;;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAHA;AACA;AAMA;AACA;AACA;AACA;AACA;;AAXA;AACA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AARA;AANA;AACA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;;AAzCA;AAgDA;AACA;AACA;AACA;AACA;AADA;AADA;AACA;AAKA;AACA;;AATA;AACA;AAYA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AANA;AAJA;AAXA;AADA;AACA;AA8BA;AACA;AACA;;AAhFA;AAmFA;AACA;AACA;AAHA;AACA;;AAnFA;AA2FA;AACA;AACA;AACA;AACA;AALA;AACA;;AA3FA;AAoGA;AACA;AACA;AACA;AAJA;AACA;;AApGA;AA4GA;AACA;AACA;AAFA;AAIA;AACA;AALA;AACA;;;AA7GA;;AAwHA;AAFA;AACA;AAIA;;AAEA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAJA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AACA;AAOA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AAJA;AAFA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AALA;AAQA;AADA;AACA;AAGA;AAXA;AAJA;AAhBA;AAPA;AACA;AA8CA;AACA;AADA;AA9DA;AACA;;AApJA;;AA0NA;AACA;AACA;;AAEA;AACA;AADA;;AAHA;AAAA;AAHA;AACA;AAcA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AA7OA;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AAFA;AAIA;AACA;AADA;AACA;;;AAKA;AACA;AADA;AACA;AAGA;AACA;AACA;AADA;AADA;AACA;;AAMA;AACA;;AADA;;AAKA;AACA;AADA;;;AAKA;AAHA;AAJA;;;AAYA;AAHA;AAZA;AACA;;;AAoBA;AACA;AADA;AACA;;;AAKA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AADA;AAOA;AATA;AAjDA;;;;;;;;;ACFA;AACA;AACA;AACA;;;;;;;;AAaA;AACA;AADA;AACA;AAGA;AACA;AADA;AACA;AAGA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AAHA;;;;;;;;AC7BA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AALA;AAQA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAGA;AAnBA;AACA;AAqBA;AA/BA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AARA;AAFA;AAHA;AACA;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AACA;AAKA;AACA;AADA;AAZA;AACA;AAiBA;AACA;AACA;AACA;AACA;AAlDA;;;;;;;;ACAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;ACAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/CA;AACA;AAiDA;AApDA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAPA;AACA;AAeA;AACA;AADA;AACA;AAGA;AA3BA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AACA;AAKA;AAXA;;;;;;;;;ACCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;;AAJA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAXA;AAAA;AACA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AADA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AArDA;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;;;;;;AAPA;AACA;;AADA;AACA;AAmBA;AACA;AACA;AACA;AACA;AANA;AACA;AASA;AACA;AACA;AACA;;AA/BA;AAkCA;AACA;AACA;AAHA;AAKA;AALA;AACA;;AAlCA;AACA;AA2CA;AA5CA;;;;;;;;ACHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAJA;AAPA;AACA;;AAPA;;AAAA;AAyBA;;AAzBA;AA4BA;;AA5BA;AACA;;AADA;AACA;;AADA;AACA;AAqCA;AAtCA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AANA;AACA;AASA;AACA;;AAHA;AAMA;AADA;AACA;;AANA;AAWA;AACA;AACA;AADA;AADA;AACA;AAKA;AACA;AACA;AADA;AADA;AAjBA;AACA;;AATA;AAoCA;AACA;AACA;AACA;;;AAvCA;AACA;AA2CA;AACA;;AAHA;AACA;AAMA;AACA;AACA;AACA;AADA;AAJA;AACA;;AANA;AAiBA;AACA;AACA;AAFA;AADA;AAMA;AANA;AAhBA;AACA;;;;;;;;;;;;AA3CA;AAAA;;;;;;;;ACHA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAGA;AANA;AACA;AAYA;AACA;;;AAjBA;AACA;AAsBA;;AAAA;AACA;AAOA;;AAAA;AA/BA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;;;;;;;;;AAJA;AAcA;AACA;;AAfA;AAkBA;AACA;AACA;AAFA;AAIA;AACA;AALA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAKA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AAZA;AACA;AAeA;AA7CA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;;;AAJA;AACA;AAUA;AACA;;;;;AAZA;AACA;;AADA;AACA;AA2BA;AACA;;AA7BA;AAgCA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AAvCA;;;;;;;;ACAA;AACA;;;;;AAKA;AACA;AAIA;AACA;AACA;AAbA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AAIA;AACA;AAIA;AAbA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AAEA;AADA;AACA;AAGA;AAEA;AADA;AACA;AAGA;AACA;AACA;AA3BA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AADA;AAGA;AAHA;AACA;;AAnCA;AA0CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;;AA3EA;AACA;AAgFA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AAXA;;AAeA;AACA;AADA;AAGA;AAHA;AAfA;AApBA;AACA;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtIA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAVA;AAaA;AACA;AACA;AACA;;AAhBA;AAmBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AADA;AAGA;AAHA;AACA;;AALA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;;AAEA;AACA;AAHA;AADA;AACA;AAOA;AACA;AACA;AAEA;AADA;AACA;AAGA;AAPA;AArCA;AACA;AAkDA;AACA;AACA;AADA;AADA;AAKA;AACA;AADA;AALA;AACA;AASA;AACA;AACA;AACA;AACA;AADA;AAKA;AADA;AALA;AAWA;AACA;AADA;AAKA;AADA;AAfA;AACA;AAqBA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AA/HA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAFA;AACA;AAYA;AACA;AACA;AACA;AACA;AAJA;AAbA;AACA;AAqBA;AACA;AADA;AACA;AAGA;AA5BA;AALA;AACA;AAqCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AADA;AACA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAnBA;AACA;AAuBA;AAzEA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AADA;AACA;AAGA;AAbA;;;;;;;;ACAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAhBA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAlBA;;;;;;;;ACAA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AAIA;AACA;AADA;AACA;AAGA;AACA;AAIA;AApBA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AADA;AACA;;AAfA;AACA;AAqBA;AACA;AAEA;AAzBA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AATA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;;AALA;AACA;;AADA;AACA;AAoBA;AACA;AAGA;AACA;;AA1BA;AACA;AAiCA;AACA;;AAnCA;AACA;AAyCA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AAEA;AACA;AAFA;AAHA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AAXA;AACA;AAaA;AACA;AACA;AACA;AAKA;AACA;AACA;AAIA;AADA;AAbA;AAdA;AALA;AACA;;;;;;;;;AArEA;AAAA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;AACA;AAUA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AADA;AACA;AAGA;AACA;AACA;AAdA;AAoBA;AApBA;AACA;;;;AAVA;AACA;AAwCA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AADA;AACA;AAGA;AAlBA;AAuBA;AAvBA;AAvCA;;;;;;;;ACFA;AACA;AACA;;AAFA;AAKA;AACA;AAFA;AAIA;AACA;AALA;AACA;AAOA;AAZA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AANA;AACA;AAYA;AACA;AAEA;AACA;AAGA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AADA;AAFA;AAJA;AACA;AAYA;AACA;AACA;AAlCA;AACA;;;;AARA;AAiDA;;AAjDA;AACA;AAoDA;AACA;AACA;AACA;AACA;AAEA;AADA;AAKA;AACA;AAFA;AAPA;AAFA;AAtEA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AADA;AAGA;AADA;AACA;AAGA;AAEA;AADA;AACA;AAGA;AAdA;;;;;;;;ACCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;;AADA;AAQA;AACA;AADA;AAGA;AAHA;;AADA;AACA;AAQA;AACA;AAGA;AADA;AACA;AAGA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;AAVA;AADA;AAFA;AACA;AAqBA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;AAVA;AADA;AAFA;AAjEA;AACA;AAqFA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AACA;;AAXA;AAcA;AADA;AACA;AAGA;AAjBA;AACA;AAmBA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AAPA;AAnHA;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;;AAHA;AAMA;AACA;AACA;AAEA;AACA;;;AAXA;AAiBA;AADA;AACA;AAGA;AAEA;AADA;AACA;;AAtBA;AA4BA;AADA;AACA;AAGA;AA/BA;;;;;;;;ACFA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;AAHA;AAKA;AAPA;AANA;AACA;AAiBA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AARA;AArBA;AALA;;;;;;;;ACAA;AACA;AACA;AACA;;AAEA;AACA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAPA;AACA;AAaA;AACA;AAEA;AACA;AACA;AADA;AAGA;AALA;AAFA;AAjBA;;;;;;;;ACFA;AACA;;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAJA;AADA;AACA;;AAJA;AACA;;AADA;AAiBA;AADA;AAIA;AADA;AACA;AAGA;AAvBA;;;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;AAFA;AAIA;AAJA;AADA;AACA;;AAJA;AACA;;AADA;AAiBA;AADA;AAIA;AADA;AACA;AAGA;AAvBA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AAbA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArCA;;;;;;;;ACAA;AACA;;;;;AAKA;AACA;;AAPA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AAEA;AALA;AAFA;AAFA;AACA;AAeA;AAzBA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAQA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AADA;AAFA;AAPA;AACA;;AAlCA;AAoDA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AADA;AAGA;AALA;AACA;;AA/DA;AACA;;AADA;AAyFA;AACA;AAFA;AACA;;AAzFA;AAsGA;AACA;AAFA;AACA;;AAtGA;AAmHA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;;AAAA;AADA;AACA;AAKA;;AAAA;AACA;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAtIA;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AATA;AACA;;AADA;AA2BA;AACA;AACA;AACA;AACA;AACA;AAFA;AAMA;AANA;AACA;AASA;AAdA;AACA;AAgBA;AACA;;AA5CA;AACA;;AADA;AA0DA;AAAA;AAKA;AACA;AAFA;AAKA;AADA;AACA;;AAnEA;AAwEA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;;AAdA;AAmBA;AAnBA;AAFA;AACA;;AA2BA;AACA;AAEA;AADA;AAFA;AA5BA;AACA;;AAxEA;AACA;;AADA;AAgHA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AADA;AAGA;AAJA;AAPA;AA/GA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AATA;AAcA;AAAA;AAKA;AACA;AAFA;AAQA;AACA;AACA;AADA;AAGA;AAHA;AAKA;AAPA;AACA;;AA1BA;AA4CA;AACA;AAFA;AAQA;AACA;AACA;AADA;AAGA;AAHA;AAKA;AAPA;AAlDA;;;;;;;;ACDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AACA;AACA;;;;;AALA;AAWA;AACA;AACA;AACA;AACA;;AAfA;AAyBA;AADA;AACA;;AAzBA;AAsCA;AADA;AACA;;AAtCA;AAoDA;AACA;AAFA;AACA;;AApDA;AAgEA;AADA;AAKA;AACA;AACA;AAHA;AAnEA;AA4EA;AACA;AA7EA;AAPA;AAHA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAHA;AAMA;AADA;AACA;;AANA;AAaA;AAAA;;AAFA;AAUA;AADA;AAGA;;AAAA;AACA;AAAA;AADA;AAIA;AADA;;AAKA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAnCA;AACA;;AAuFA;AACA;AADA;AACA;;AAJA;AAUA;AAAA;AAKA;AADA;AAIA;AACA;AACA;AAHA;AAMA;AADA;AAIA;AACA;AACA;AADA;AAGA;AALA;AAOA;;AAAA;AACA;AAAA;AADA;AAIA;AADA;AACA;;AApCA;AA0CA;AAAA;AAKA;AADA;AAIA;AACA;AACA;AAHA;AAMA;AADA;AAIA;AACA;AACA;AADA;AAGA;AALA;AAOA;;AAAA;AACA;AAAA;AADA;AAIA;AADA;AACA;;AApEA;AA0EA;AACA;AADA;AADA;AAzEA;AACA;;AAtFA;AAwKA;AAEA;AACA;AAFA;AAFA;AAvKA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAVA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAVA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AAHA;AAKA;AARA;AAHA;AACA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAHA;AAFA;AAJA;AADA;AA/BA;;;;;;;;ACAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAFA;AACA;AAMA;AAZA;;;;;;;;ACAA;;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;;;;AAvBA;AAgCA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AACA;;AArBA;AACA;AA2BA;AACA;AACA;AACA;AADA;AAJA;AACA;AASA;AApCA;AACA;;;;AAhCA;AA0EA;AACA;AACA;AAHA;AACA;;;;;;;AA1EA;AAsFA;AACA;AADA;AAGA;AACA;AAJA;AACA;AAMA;AARA;AACA;;;;;;;AAtFA;AAuGA;AACA;AADA;AAGA;AACA;AAJA;AACA;AAMA;AARA;AACA;;;;;;;AAvGA;AAwHA;AACA;AADA;AAGA;AACA;AACA;AANA;AACA;;;;;;AAxHA;AAsIA;AACA;AADA;AAGA;AACA;AACA;AANA;AACA;;;;;;AAtIA;AAoJA;AACA;AADA;AAGA;AACA;AACA;AANA;AACA;AAQA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AAFA;AAFA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AATA;AACA;AAWA;AACA;AACA;AACA;AADA;AACA;AAGA;AANA;AACA;;;;;;;;;;;;;;AAhQA;AAsRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAXA;AAcA;;;;AAdA;AAmBA;AACA;AApBA;AACA;AADA;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxCA;AACA;;AAtRA;AACA;AAkUA;AACA;AAEA;AACA;AADA;AALA;AACA;AAYA;AACA;AACA;AAFA;AACA;AAIA;AAnVA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AALA;AAQA;AADA;AAOA;AAPA;AACA;AAYA;AACA;AADA;AACA;AASA;;AAEA;AAFA;;AAUA;AAVA;AACA;AAeA;AAEA;AAAA;AAKA;AACA;AAFA;AACA;AAIA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AADA;AACA;AAGA;AARA;AAUA;AAVA;AAYA;AACA;AADA;AAjBA;AACA;AAqBA;AACA;;AAlFA;AACA;;AADA;AA8FA;AAAA;AACA;;AA/FA;AAwGA;AAGA;AAOA;AACA;AAFA;AAKA;;AADA;AAIA;AADA;AAGA;AANA;AAdA;AACA;AAyBA;AACA;AACA;AAIA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAOA;AADA;AAhBA;AACA;;AAlIA;AA2JA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAJA;AADA;AA1JA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;;AAHA;AACA;AAMA;AACA;;;;;;;;AARA;AACA;AAyBA;AASA;AACA;AAFA;AAlCA;AAuCA;AAEA;AAzCA;AADA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AARA;AACA;AAcA;AACA;AACA;AACA;AACA;AACA;;AApBA;AAuBA;AACA;AADA;AACA;;AAxBA;AACA;;AADA;AAgCA;AACA;AADA;AACA;;AAjCA;AAsCA;AADA;AACA;;AAtCA;AACA;AA2CA;AACA;;;AA7CA;AACA;;AAkDA;AACA;;AAJA;AASA;AACA;AAFA;AACA;;AATA;AAgBA;AACA;AAFA;AAfA;AACA;;AAsBA;AACA;;AAJA;AAUA;AACA;AAFA;AACA;;AAVA;AAkBA;AACA;AAFA;AArCA;AACA;;AAjDA;AA+FA;AADA;AACA;AAGA;AAEA;AADA;AACA;AAGA;AAEA;AADA;AACA;;;;AAzGA;;AAAA;AACA;AAuHA;AACA;;AAzHA;AA4HA;AACA;AAFA;AACA;;AA5HA;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAxIA;;;;;;;;ACLA;AACA;;AAEA;;;AAHA;AAOA;;;;;AAPA;AAiBA;AADA;AACA;;AAjBA;AA0BA;AADA;AACA;;AA1BA;AAoCA;AACA;AAFA;AACA;;AApCA;AA4CA;AADA;AAKA;AACA;AACA;AAHA;AA/CA;;;;;;;;ACAA;AACA;AACA;AACA;AAAA;AACA;AACA;;AACA;AACA;;;AAGA;AAHA;AADA;AACA;AAOA;AACA;AACA;AADA;AADA;AACA;AAKA;AACA;AADA;AACA;AAMA;AACA;AADA;AAxBA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAJA;AACA;AAMA;AACA;AADA;AACA;AAGA;AAEA;AAAA;AACA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAhBA;AAoBA;AACA;AACA;AADA;AAGA;AAHA;AAKA;AACA;AARA;AAWA;AACA;AADA;AAIA;AAEA;AAPA;AAUA;AACA;AAGA;AACA;AAEA;AARA;AACA;AAUA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AAFA;AACA;AAQA;AATA;AA/EA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AAHA;AA1BA;AACA;AAiCA;AACA;AACA;AACA;AADA;AACA;AAGA;AA/CA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AACA;AAKA;AACA;AACA;AACA;;AAEA;AACA;AADA;AAHA;AACA;;AASA;AACA;AADA;AAHA;AACA;AAQA;AACA;AADA;AAGA;AACA;AADA;AALA;AAhBA;AAZA;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAHA;AACA;AAaA;;AAdA;AAAA;AACA;AA0BA;AACA;;AAHA;AACA;;AADA;AAgBA;AAhBA;AA/BA;;;;;;;;ACAA;AACA;AADA;;;;;;;;ACAA;AACA;AADA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAJA;AACA;AAMA;AACA;AADA;AACA;AAGA;AAEA;AAAA;AACA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAhBA;AAoBA;AACA;AACA;AADA;AAGA;AAHA;AAKA;AACA;AARA;AAWA;AACA;AADA;AAIA;AAEA;AAPA;AACA;AAUA;AACA;AAGA;AACA;AAEA;AATA;AACA;AAYA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AAFA;AACA;AAQA;AATA;AAlFA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AAHA;AA1BA;AACA;AAiCA;AACA;AACA;AACA;AADA;AACA;AAGA;AA/CA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAjBA;AAwBA;AACA;AADA;AACA;;AAzBA;AACA;;AADA;AAiCA;AACA;AADA;AACA;;AAlCA;AAuCA;AADA;AACA;;;AAvCA;AACA;AA8CA;AACA;;AAhDA;AAmDA;AACA;;AAFA;AAMA;AACA;AAFA;AACA;;AANA;AAcA;AACA;AAFA;AAbA;AACA;AAmBA;AACA;;AAHA;AASA;AACA;AAFA;AACA;;AATA;AAkBA;AACA;AAFA;AAnCA;AACA;;AAnDA;AA8FA;AACA;AAFA;AACA;;;;AA9FA;;AAAA;AACA;;AADA;AAgHA;AACA;AAFA;AACA;AAIA;AACA;;AArHA;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AA9HA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAKA;AACA;AAFA;AACA;AAIA;AACA;AAGA;AACA;AAGA;AACA;AAEA;AACA;AAGA;AATA;AAaA;AAGA;AAJA;AA9BA;AACA;AAuCA;AAGA;AADA;AAMA;AADA;AA/CA;AAFA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AANA;;AAAA;AACA;;AADA;AACA;AAeA;AACA;;AAHA;AASA;AACA;;AAVA;;AAqBA;AArBA;AACA;AA0BA;AACA;;AAHA;AAOA;AACA;;AARA;AAzBA;AACA;;AAfA;AA4DA;AAAA;AAKA;AACA;AAFA;AACA;;AAjEA;;AAwEA;;AAGA;AAEA;AADA;AAKA;AADA;AACA;;AAjFA;AACA;AAuFA;AAIA;AACA;AACA;AADA;AAGA;AALA;;AAHA;AAaA;AADA;AAdA;AACA;;AAvFA;;AAgHA;AAIA;AADA;;AAPA;AAaA;AAAA;;AAbA;AACA;AAkBA;AACA;;;;;;;;;;;;;;AAhIA;;AAmJA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAVA;AACA;;AAlJA;AACA;AAqKA;AACA;AACA;AAFA;AACA;AAIA;AACA;AADA;AALA;AAFA;AACA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AADA;AACA;AAGA;AARA;AAWA;AAXA;AACA;AAaA;AACA;AADA;AAnBA;AAlLA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;AACA;;;;;;;;;;;;AADA;AAgCA;AACA;AAEA;AAJA;AACA;AAMA;;AAUA;AACA;AAEA;AALA;AA9CA;AAsDA;AAEA;AAxDA;AAFA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AAMA;AACA;AAFA;AACA;AAIA;AACA;AAMA;;AAAA;;AAIA;AAEA;AADA;AAzBA;AAFA;;;;;;;;ACFA;AACA;AAEA;AACA;AAQA;AACA;AAMA;AACA;AAEA;AAEA;AACA;AARA;AAWA;AACA;AAFA;AACA;AAKA;AACA;;AAlCA;;AAgDA;AACA;AAEA;AALA;AACA;;AA/CA;AA4DA;AACA;AACA;AACA;AAJA;AAOA;AACA;AAFA;AAjEA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAHA;AAKA;AACA;;AANA;;AAsBA;AACA;;AAvBA;AA0BA;AACA;AAOA;AAIA;AACA;;AAvCA;AAyCA;AAMA;AADA;AACA;;AA/CA;AAsDA;AACA;AACA;AACA;AAMA;AADA;AACA;;AA/DA;AAsEA;AACA;AACA;AACA;AAMA;AADA;AACA;AAKA;AACA;AACA;AACA;AACA;AAMA;AADA;AACA;AAKA;AACA;AAEA;AACA;AACA;AACA;AACA;;AA1GA;AA6GA;AAUA;AACA;AAEA;AAJA;AAOA;AADA;AAhBA;AACA;;AA7GA;AAmIA;AAIA;AAEA;AACA;AAJA;AACA;AAMA;AACA;AACA;AAUA;AAEA;AAHA;AAMA;AADA;AAhBA;AAXA;AACA;;AAnIA;AAuKA;AADA;AAGA;AAHA;AAKA;AAAA;;AAAA;;AASA;AACA;AAHA;AACA;AAOA;AA1LA;;;;;;;;ACHA;AACA;AACA;;AAFA;AAKA;AACA;AAFA;AAIA;AAJA;AACA;AAMA;AAXA;;;;;;;;ACAA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AADA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAKA;AALA;AAVA;AAFA;AAFA;AAHA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AADA;AAGA;AADA;AACA;AAGA;AACA;;AAXA;AAcA;AADA;AAGA;AADA;AACA;AAGA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAMA;AAFA;AACA;AAMA;AACA;;AA1CA;AACA;;AA8CA;AACA;AAEA;AAEA;AACA;AAFA;AACA;AAIA;AAGA;AADA;AACA;AAGA;AAGA;AACA;AACA;AAHA;AACA;AAKA;AAEA;AADA;AACA;AAGA;AAEA;AADA;AACA;;AAjCA;AAyCA;AACA;AAFA;AACA;;AAzCA;AAkDA;AACA;AAFA;AACA;;AAlDA;AA0DA;AACA;AAFA;AACA;;AA1DA;AAkEA;AACA;AAFA;AAjEA;AACA;;AAwEA;AACA;;AAJA;AAQA;AACA;AAFA;AAMA;AADA;AACA;AAGA;AAEA;AADA;AACA;AAGA;AAEA;AADA;AACA;;AAvBA;AA8BA;AACA;AAFA;AACA;;AA9BA;AAsCA;AACA;AAFA;AACA;;AAtCA;AA6CA;AACA;AAFA;AACA;;AA7CA;AAoDA;AACA;AAFA;AAzHA;AACA;;AA7CA;AA8KA;AACA;AAFA;AACA;;AA9KA;AAoLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AA1LA;;;;;;;;ACJA;AACA;;;;AAIA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AADA;AACA;;;AARA;AACA;AAcA;AACA;;AAEA;AACA;;AAJA;AAQA;AACA;AACA;AACA;AACA;;AAZA;AAgBA;AADA;AAfA;AAFA;AACA;AAwBA;AACA;AACA;AAFA;AAtCA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAHA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;;AAbA;AACA;;AAiBA;AACA;;;;AAJA;AACA;;;AADA;AACA;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;;AAzBA;AAAA;AACA;;;AAbA;AACA;AA8CA;AACA;AACA;AACA;;AALA;AAAA;AACA;;AA9CA;AA0DA;AACA;AACA;AADA;AAGA;AAHA;AACA;;AA5DA;AACA;;AADA;AACA;;;AADA;;;AA6EA;AACA;;AA9EA;AACA;;;AADA;AACA;AAgGA;AACA;;AAlGA;AACA;;AADA;AACA;AAoHA;AACA;;;;AAtHA;AACA;;AADA;AACA;AAoIA;AACA;;;AAtIA;;AA4IA;AACA;;AAHA;AAAA;AACA;;;;;;AA3IA;AACA;AAiKA;;;AAAA;AAIA;AACA;AACA;AADA;AAGA;AALA;AALA;AACA;AAaA;AACA;AACA;AAIA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAVA;AA9KA;AAfA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AAEA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAnBA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;AAHA;AAwBA;AACA;AACA;AACA;AADA;AAKA;AALA;AACA;AAOA;AAMA;;AAEA;AAFA;;AAKA;AALA;AADA;AAcA;AADA;AAIA;AADA;AACA;;AAKA;AACA;AACA;;AAGA;AAFA;AAIA;AACA;AACA;;AATA;AACA;;AADA;AACA;AAgBA;;AAGA;AAFA;AACA;AAIA;AACA;AACA;;AAVA;AAaA;AA5BA;AACA;;;;AAJA;AAuCA;AACA;AACA;AADA;AAGA;AA3CA;;AA1DA;;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAJA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;;AA9BA;AAiCA;AACA;AAFA;AACA;;AAjCA;AACA;AAuCA;AAGA;AADA;AACA;;AA3CA;AAgDA;AADA;AACA;;AAhDA;AACA;AAqDA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;;;;AA9EA;AAmFA;AACA;;AApFA;AAwFA;AACA;AAQA;;AADA;AAIA;AADA;AAGA;AANA;AATA;AACA;;AAxFA;AACA;AA8GA;AACA;AADA;AACA;AAGA;AAGA;AACA;AAFA;AACA;AAIA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AATA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AA3JA;AA8JA;AACA;;AA/JA;AACA;AAoKA;AACA;AACA;AAvKA;;;;;;;;AC5BA;AACA;AACA;;AAEA;AACA;AAEA;AAEA;AADA;AANA;;;;;;;;ACFA;AACA;;;AAGA;;AAJA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AAlCA;;;;;;;;ACAA;AAAA;AACA;AACA;;;;AAGA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAGA;AAAA;AAAA;AAGA;AACA;AAFA;AACA;AAIA;;AAGA;AAAA;AAAA;AAGA;AACA;AAFA;AApBA;AACA;AA0BA;AACA;AACA;;AAGA;AAAA;AAAA;AAEA;AACA;AAFA;AACA;AAIA;;AAGA;AAAA;AAAA;AAEA;AACA;AAFA;AA1CA;AACA;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAKA;AALA;AAHA;AAJA;AACA;;AAvEA;AA2FA;AACA;AACA;AACA;AACA;AAGA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAIA;AAhHA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAJA;AAQA;AACA;AAFA;AACA;AAIA;AAIA;AACA;AACA;AADA;AAGA;AAHA;AAKA;AAPA;AACA;AASA;AAEA;AACA;AAFA;AACA;AAIA;AAIA;AACA;AACA;AADA;AAGA;AAHA;AAKA;AAPA;AAlCA;;;;;;;;ACAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AADA;AAIA;AAJA;AACA;AAMA;AACA;;AApBA;AA0BA;AAEA;AACA;AAJA;AACA;AAMA;AACA;AAGA;AAEA;AACA;AAEA;AAJA;AArCA;;;;;;;;ACAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AADA;AAIA;AAJA;AACA;AAMA;AACA;AAIA;AACA;AAEA;AACA;AAIA;AAIA;AACA;AACA;AAEA;AADA;AACA;;AAxCA;AA8CA;AACA;AACA;AACA;AAIA;AADA;AACA;;AArDA;AA0DA;AACA;AACA;AACA;AACA;AAKA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAKA;AADA;AACA;AAGA;AACA;AAEA;AACA;AACA;;AAxFA;AACA;AA2FA;AAEA;AACA;AAEA;AAJA;AAHA;AACA;AAUA;AACA;AAEA;AAEA;AACA;AAJA;AAFA;AACA;;AAtGA;AAiHA;AADA;AAGA;AAHA;AAKA;;AAKA;AACA;AAHA;AAxHA;;;;;;;;ACAA;AACA;;AAEA;AACA;;AAJA;AAaA;AACA;AAFA;AACA;;AAbA;AAsBA;AACA;AAFA;AACA;;AAtBA;AA+BA;AACA;AAFA;AA9BA;;;;;;;;ACAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;;AAEA;AAAA;AAAA;AAGA;AACA;AAFA;AACA;AAKA;AAZA;AACA;AAgBA;;AAEA;AAAA;AAAA;AAEA;AACA;AAFA;AACA;AAKA;AA1BA;AACA;AA4BA;AACA;AAGA;AACA;AAIA;AArDA;;;;;;;;ACAA;AACA;;;;AAIA;;AALA;AAQA;AACA;;AATA;AAeA;AADA;AACA;;AAfA;AAuBA;AADA;AACA;;AAvBA;AAgCA;AACA;AAFA;AACA;;AAhCA;AAwCA;AADA;AAIA;AACA;AACA;AAHA;AACA;;;AA3CA;AACA;AAsDA;AAIA;AACA;AAFA;AACA;;;AA3DA;AAqEA;AACA;AAEA;AAJA;AACA;AAMA;AAIA;AACA;AAEA;AAJA;AA9EA;;;;;;;;ACAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AADA;AAKA;AALA;AACA;AAOA;AAKA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;;AAhCA;AAoCA;AACA;AACA;AAGA;AADA;AAxCA;;;;;;;;ACAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AAEA;AAEA;AAAA;AAGA;AACA;AAFA;AARA;AAcA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AAFA;AAnBA;AACA;;AAjBA;AACA;AA4CA;AACA;AAIA;AACA;AAKA;AACA;AAKA;AACA;AAGA;AAlEA;;;;;;;;ACAA;AACA;AACA;AACA;AAIA;AAAA;AACA;AACA;AAGA;AADA;AATA;;;;;;;;ACFA;AAAA;AACA;AACA;;AACA;AACA;AAGA;AACA;AACA;;;;AATA;AAcA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AADA;AAIA;AAJA;AACA;AAMA;AACA;AACA;;AAGA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAVA;AA9BA;;;;;;;;ACAA;AACA;AACA;AAAA;AACA;AACA;AAAA;;;AAFA;AAMA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AAPA;;AAHA;AAFA;AAXA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AADA;AACA;AAOA;AACA;;AAhBA;AAmBA;AACA;;AApBA;AAuBA;AACA;;AAxBA;AACA;;AADA;AACA;;AADA;AACA;AAiCA;AAlCA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AACA;;AAPA;AAeA;AACA;AACA;AAHA;AACA;;AAfA;AA0BA;AADA;AAIA;AACA;AACA;AAHA;AACA;AAKA;AAGA;AADA;AAIA;AACA;AACA;AAHA;AAvCA;;;;;;;;ACJA;AACA;AACA;AACA;;;;;;;;;;;AAWA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AArBA;;;;;;;;ACFA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AADA;AAXA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAIA;AACA;AAFA;AAJA;AAWA;AAGA;AACA;AAFA;AAbA;AACA;;AAJA;AA6BA;AADA;AACA;;AA7BA;AAmCA;AAAA;AAKA;AACA;AAFA;AACA;AAIA;AACA;;AA7CA;AACA;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AAHA;AALA;AAWA;AAXA;AACA;AAcA;AAIA;AADA;AACA;AAMA;AACA;AACA;AACA;AACA;AANA;AA5BA;AALA;AAlDA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;;AADA;AAIA;AAJA;AACA;AAOA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AAjBA;AAHA;AAFA;AARA;AAFA;AA/BA;;;;;;;;ACHA;AACA;AACA;AACA;AADA;AAFA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AADA;AAQA;AARA;AACA;;AAJA;AAkBA;AAMA;AACA;AAFA;AANA;AAWA;AAKA;AACA;AAFA;AAfA;AACA;;AAlBA;AA6CA;AADA;AACA;;AA7CA;AAmDA;AAAA;AAKA;AACA;AAFA;AACA;AAIA;AACA;;AA7DA;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AATA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAMA;AANA;AACA;AASA;AAIA;AACA;AAFA;AAKA;AACA;AAFA;AAKA;AACA;AACA;AAHA;AACA;AAQA;AACA;AACA;AACA;AACA;AANA;AAjCA;AAJA;AAFA;AApFA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;;AAHA;AAMA;AACA;;AAPA;AACA;AAUA;AACA;AAIA;AACA;AAMA;AAdA;AAoBA;AACA;AAGA;AAxBA;AACA;AA6BA;AACA;AACA;AACA;AADA;AAzCA;;;;;;;;ACFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AANA;AACA;AASA;AACA;AAIA;AACA;AAMA;AACA;AAIA;AAnBA;AACA;AA4BA;AACA;AAGA;AAjCA;AACA;AAuCA;AACA;AACA;AACA;AADA;AAlDA;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AAEA;AACA;;AAPA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AACA;AAUA;AACA;;AArBA;AACA;AAwBA;AACA;AACA;AAFA;AACA;;;AA1BA;AAiCA;AACA;AACA;AACA;AACA;;;AArCA;AAyCA;AACA;AACA;AACA;AACA;;;AA7CA;AAiDA;AAjDA;AALA;;;;;;;;AChBA;;;AAGA;AACA;;;;;;;AAJA;AAYA;AACA;AACA;AAdA;;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAPA;AACA;AASA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AAlBA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AAMA;AACA;AACA;AACA;;;AAHA;AASA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAjBA;AAfA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAOA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AAdA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AASA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AAhBA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AASA;AACA;AADA;AAUA;AAVA;AAdA;;;;;;;;ACAA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAtBA;AACA;AAyBA;AACA;AADA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAFA;AACA;AAIA;AARA;AACA;AAUA;AACA;AACA;AAFA;AACA;;AA7CA;AAoDA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AACA;AAFA;AA1DA;;;;;;;;ACHA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AAYA;AACA;AADA;AACA;AAGA;AACA;AAEA;AADA;AACA;AAGA;AANA;AACA;AAQA;AACA;AACA;AAFA;AA7BA;;;;;;;;ACHA;AACA;AACA;AACA;AAAA;AACA;AADA;AAQA;AARA;AAHA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAPA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AACA;AAkBA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAFA;AApCA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AACA;AAwBA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAPA;AACA;AAUA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AAlBA;AACA;AAsBA;AACA;AACA;AAFA;AAtDA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AALA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AA9CA;;;;;;;;ACbA;AACA;;;;AAIA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;;AA3CA;AACA;AAmDA;AACA;AADA;AAKA;AACA;AACA;AA3DA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAJA;AAYA;AACA;AACA;AACA;AACA;AACA;AAFA;AAMA;AANA;AACA;AASA;AAdA;AACA;AAgBA;AACA;;AA7BA;AACA;;AADA;AACA;AAoCA;AACA;;AAtCA;AAyCA;AACA;AACA;;AA3CA;AACA;;AADA;AAiDA;AACA;AAFA;AACA;;AAjDA;AAwDA;AAAA;AACA;AACA;AACA;AAGA;AACA;AAFA;AAHA;AAQA;AAEA;AACA;AAFA;AATA;AACA;;AA3DA;;AA8EA;AACA;AAHA;AACA;AAMA;AACA;AACA;;;AArFA;AACA;;AADA;AACA;;;AADA;AACA;;AADA;AAmGA;AACA;AACA;AACA;AACA;AAvGA;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAdA;AAiBA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AADA;AAOA;AACA;;AA5BA;AA+BA;AACA;;AAhCA;AAmCA;AACA;;AApCA;AACA;AAwCA;AACA;;;AA1CA;AACA;AAgDA;AACA;AAIA;AACA;;AAvDA;AA4DA;AAAA;AACA;;AA7DA;AAiEA;AACA;AAQA;;AADA;AAIA;AADA;AAGA;AANA;AATA;AACA;AAmBA;AACA;AACA;AACA;;AAEA;AACA;AAIA;AACA;AAAA;AAGA;AACA;AAFA;AACA;AAIA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AATA;AACA;AAWA;AACA;AAAA;AAGA;AACA;AAFA;AAlCA;AACA;;AA2CA;AACA;AAGA;AACA;AAAA;AAEA;AACA;AAFA;AACA;AAIA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AATA;AACA;AAWA;AACA;AAAA;AAEA;AACA;AAFA;AAvEA;AACA;AA6EA;AACA;AACA;AAFA;AACA;;;;;AArKA;AA+KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAvLA;AAAA;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAHA;AAMA;AADA;AACA;;AANA;AAaA;AADA;AACA;AAGA;AACA;;;;;;AAjBA;AAwBA;;AAAA;AACA;AAAA;AADA;AAIA;AADA;AACA;AAGA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AAHA;AADA;AALA;AAaA;AAIA;AACA;AACA;AACA;AAHA;AADA;AAhBA;AACA;AAwBA;AACA;AADA;AACA;AAGA;AA9DA;;;;;;;;ACPA;AACA;AACA;AACA;AADA;AAOA;AAPA;AACA;AAYA;AACA;;AAEA;AACA;AADA;AACA;;AAJA;AAUA;AAAA;AACA;AACA;AACA;AADA;AAOA;AAPA;AACA;;AAbA;AA4BA;AAAA;AACA;AACA;AACA;AADA;AAOA;AAPA;AA9BA;AAfA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;AAEA;AAMA;;AAAA;AACA;AAAA;AADA;AAIA;AADA;AAKA;AACA;AACA;AAHA;AACA;AAMA;AACA;AAGA;AADA;AAIA;AACA;AAFA;AANA;AAWA;AAEA;AADA;AAIA;AACA;AAFA;AAfA;AACA;;AAxBA;AA+CA;AACA;AADA;AADA;AA9CA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AADA;AACA;;AAJA;AAUA;AAAA;AACA;;AAXA;AAcA;;AAAA;AACA;AAAA;AADA;AAIA;AADA;AACA;AAGA;AACA;AAGA;AADA;AAIA;AACA;AACA;AAHA;AANA;AAYA;AAEA;AADA;AAIA;AACA;AACA;AAHA;AAhBA;AACA;;AAtBA;AA+CA;AAAA;AACA;;AAhDA;AAmDA;;AAAA;AACA;AAAA;AADA;AAIA;AADA;AACA;AAGA;AACA;AAGA;AADA;AAIA;AACA;AACA;AAHA;AANA;AAYA;AAEA;AADA;AAIA;AACA;AACA;AAHA;AAhBA;AACA;;AA3DA;AAqFA;AACA;AADA;AADA;AApFA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;;AAJA;AAQA;AAAA;AACA;AAEA;AACA;AADA;AAMA;AANA;AACA;;AAZA;AAwBA;AAAA;AACA;;AAzBA;AAgCA;AAAA;AACA;;AAjCA;AAwCA;AAAA;AACA;;AAzCA;AAgDA;AAAA;AACA;AAKA;AACA;AAAA;AACA;AAKA;AACA;AAAA;AACA;AAKA;AACA;AAAA;AACA;;AAtEA;AA6EA;AAAA;AACA;AAKA;AACA;AAAA;AApFA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAPA;AAcA;AAAA;AAKA;AACA;AAFA;AAQA;AACA;AACA;AADA;AAGA;AAHA;AAKA;AAPA;AACA;;AA1BA;AA+CA;AACA;AAFA;AAQA;AACA;AACA;AADA;AAGA;AAHA;AAKA;AAPA;AArDA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;;AAHA;AAOA;AAAA;AAKA;AACA;AAFA;AACA;AAIA;AAEA;AADA;AAjBA;;;;;;;;ACFA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAHA;AAMA;AADA;AACA;;;AANA;AAaA;AAAA;;AAFA;AAUA;AADA;AAGA;;AAAA;AACA;AAAA;AADA;AAIA;AADA;AACA;AAGA;;AAKA;AACA;AAHA;AACA;AAKA;AAEA;AACA;AACA;AAHA;AACA;AAKA;AACA;AADA;AA9CA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;;AAEA;AACA;AADA;AACA;;AAJA;AAUA;AAAA;AAKA;AADA;AAIA;AACA;AACA;AAHA;AAMA;AADA;;AAKA;AAEA;AADA;AACA;AAGA;AAEA;AADA;AAGA;AACA;AADA;AAXA;AAgBA;AACA;AACA;AADA;AAFA;AACA;AAMA;AAIA;AACA;AACA;AADA;AAGA;AALA;AACA;;AAnDA;AA8DA;AAAA;AAKA;AADA;AAIA;AACA;AACA;AAHA;AAMA;AADA;;AAKA;AAEA;AADA;AACA;AAGA;AAEA;AADA;AAGA;AACA;AADA;AAXA;AAgBA;AACA;AACA;AADA;AAFA;AACA;AAMA;AAIA;AACA;AACA;AADA;AAGA;AALA;AACA;;AAvGA;AAiHA;AACA;AADA;AADA;AAhHA;;;;;;;;ACHA;;AAEA;AACA;;AAHA;AACA;;AADA;AAcA;AACA;AAFA;AAbA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AADA;AACA;;AARA;AAaA;AACA;AACA;AAFA;AADA;AACA;AAMA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAJA;AAHA;AALA;AACA;;AAJA;AACA;AAwBA;AACA;AAIA;AACA;AAEA;AACA;AAEA;AACA;AADA;AAGA;AACA;AAJA;AAbA;AAvBA;AACA;AA8CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AAHA;AAVA;AALA;AAhFA;;;;;;;;;ACJA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AADA;AAGA;AADA;AACA;AAGA;AACA;AACA;AAVA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;;;;AALA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AAEA;AADA;AAVA;AADA;;;;;;;;ACAA;AACA;AACA;;;AAGA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAZA;AACA;AAeA;AACA;AADA;AACA;AAGA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AACA;AAIA;AACA;AAEA;AADA;AACA;AAGA;AANA;AACA;;AAjCA;AA2CA;AACA;AACA;AAEA;AAJA;AADA;AACA;AAQA;AACA;AACA;AAFA;AAnDA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AACA;AAgBA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AAFA;AA7BA;;;;;;;;ACJA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AADA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AACA;AAsBA;AACA;AADA;AACA;AAGA;AACA;AADA;AACA;;AA/BA;AAqCA;AACA;AACA;AACA;AAHA;AADA;AAOA;AACA;AACA;AAFA;AA3CA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AACA;AAaA;AACA;;AAEA;AACA;AAEA;AANA;AACA;AAQA;AACA;AADA;AACA;AAGA;AACA;AACA;AAFA;AA7BA;;;;;;;;ACHA;AACA;AAEA;AACA;AADA;AAKA;AACA;AAGA;AATA;AAHA;;;;;;;;ACAA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AAJA;AAqBA;AACA;AAEA;AACA;AACA;AACA;AA3BA;AACA;AA8BA;AACA;AADA;AACA;AAGA;AACA;AADA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAFA;AACA;AAIA;AARA;AACA;;AA3CA;AAuDA;AACA;AACA;AAEA;AAJA;AADA;AACA;;AAvDA;AAiEA;AACA;AACA;AAEA;AAJA;AADA;AAQA;AACA;AACA;AAFA;AAxEA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAOA;AACA;AAGA;AACA;AACA;AACA;AACA;AANA;AACA;;AApBA;AAiCA;AACA;AAIA;AANA;AAYA;AAIA;AALA;;AAWA;AAFA;AApDA;AAJA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AANA;AAYA;AACA;AACA;AAHA;AACA;AAKA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AAMA;AAOA;AADA;AACA;AAGA;AAOA;AADA;AAtDA;AAFA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AALA;AASA;AADA;AACA;AAIA;AACA;AAGA;AACA;;AAIA;AALA;AACA;AAUA;AACA;AAGA;AACA;AACA;AACA;AAHA;AACA;AAcA;AACA;AAIA;AACA;AACA;AAFA;AACA;;;;;;;;;AArDA;AACA;AAkEA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAKA;AACA;AACA;AACA;AACA;AADA;AADA;AACA;AAKA;AACA;AADA;AACA;AAGA;AACA;;;;;AA1FA;AACA;AAgGA;AACA;AACA;AAJA;AACA;AAOA;AAvGA;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AADA;AAGA;AADA;AAZA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AACA;AAMA;AACA;AACA;AACA;AAQA;AACA;AAKA;AACA;AACA;AACA;;AAnCA;AAsCA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AALA;AA3CA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;;AAEA;AAFA;AACA;AAIA;AACA;AADA;AACA;AAGA;AACA;AADA;AAGA;AADA;AACA;AAGA;AACA;AADA;AACA;AAGA;AACA;AADA;AACA;;AAtCA;AA2CA;AACA;AACA;AAFA;AADA;AACA;AAMA;AAjDA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAJA;AACA;AAMA;AACA;AACA;AA1BA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AADA;AAGA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AARA;AAFA;AAlBA;AACA;AAqCA;AACA;AACA;AAhDA;;;;;;;;ACFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AAFA;AACA;;AAOA;AARA;AARA;AACA;AAqBA;AA1BA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AAUA;AACA;AACA;AADA;AAGA;AALA;AAQA;AADA;AAIA;AADA;AACA;AAGA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;;;;AAdA;AACA;AAmBA;AApBA;AAhDA;;;;;;;;ACHA;AACA;AACA;AACA;AAKA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAOA;AAVA;AApBA;;;;;;;;ACAA;AACA;AACA;;AAGA;AACA;AAIA;AACA;AAQA;AAnBA;;;;;;;;;;ACEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AANA;AACA;AAeA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AADA;AAGA;AAHA;AACA;;;;;;;;;;;;;;;;;;AAZA;AACA;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAHA;AAFA;AACA;;AAvCA;AAoDA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAHA;AACA;AAKA;AACA;AAOA;AACA;AAMA;AAWA;AACA;AACA;AADA;AAGA;AALA;AAQA;AADA;AAIA;AADA;AArGA;AAvBA;;;;;;;;ACFA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAtBA;AACA;;;AADA;AAPA;AAFA;;;;;;;;ACHA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AAGA;AACA;AAWA;AACA;AASA;AACA;AAHA;AACA;AAMA;AACA;AASA;AAFA;AACA;;;AAjDA;AACA;AAyDA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AAdA;AACA;AAgBA;AAKA;AADA;AACA;AAIA;AACA;;;AAnFA;AA2FA;AACA;AACA;AAHA;AA1FA;;;;;;;;ACHA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AANA;AAUA;AACA;AACA;AACA;AACA;AADA;AAHA;AAvBA;AADA;AANA;AACA;AAwCA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AADA;AAVA;AAFA;AADA;AARA;AA4BA;AA/BA;AACA;AAiCA;AACA;AAKA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AAFA;AAIA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AAXA;AACA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AA7CA;AALA;AACA;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AAJA;AADA;AAQA;AArBA;AAuBA;AAzBA;AADA;AACA;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AARA;AAFA;;;AA9LA;AAAA;;;;;;;;ACAA;;;;;;;;;;;;;;;;;AAiBA;AAGA;AACA;AAAA;;AAAA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAIA;AANA;AAQA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AADA;;AAGA;AAHA;AAFA;AAQA;AAVA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AADA;AAHA;AAFA;AAHA;AAcA;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;;AAXA;AAeA;;AAEA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AATA;AAWA;AACA;AACA;AACA;AADA;AADA;AADA;AAOA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;AA1CA;AAuDA;AACA;AACA;AAHA;;;;AAtDA;AA+DA;AADA;AAGA;AACA;AADA;AAGA;AAHA;AAKA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AArBA;AADA;AADA;AA2BA;;AAEA;AACA;AAHA;AAKA;AACA;AADA;AAGA;AAHA;AADA;AAhCA;AADA;AA3EA;AAsHA;AACA;AACA;AADA;AAIA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AArMA;AACA;AAuMA;AA3NA;;;;;;;;ACAA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AAIA;AACA;AAIA;AACA;;;AAjBA;AACA;AAwBA;AACA;AAIA;AACA;;;AA/BA;AACA;AAqCA;;;AAtCA;AAAA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AAGA;AACA;AAGA;AACA;AAGA;AACA;AAMA;AACA;AAGA;AAlCA;;;;;;;;ACAA;AACA;AACA;AACA;AAMA;AACA;AAMA;AACA;AAIA;AACA;AADA;AArBA;;;","sourceRoot":""}