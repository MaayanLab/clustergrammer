{"version":3,"file":"clustergrammer.min.js","sources":["webpack://Clustergrammer/clustergrammer.min.js"],"sourcesContent":["var Clustergrammer=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=133)}([function(t,e){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}t.exports={normal_name:function(t){return t.name.replace(/_/g,\" \").split(\"#\")[0]},is_supported_order:function(t){return\"ini\"===t||\"clust\"===t||\"rank_var\"===t||\"rank\"===t||\"class\"===t||\"alpha\"==t},has:function(t,e){return t&&hasOwnProperty.call(t,e)},property:function(t){return function(e){return null==e?void 0:e[t]}},pluck:function(t,e){return t.map(this.property(e))},is_undefined:function(t){return void 0===t},extend:function(t,e){for(var n in t=t||{},e)\"object\"===r(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t}}},function(t,e,r){var n=r(67),o=r(18),a=r(20);t.exports=function(t,e,r){var i,s;if(e=n(e,r),o(t))for(i=0,s=t.length;i<s;i++)e(t[i],i,t);else{var l=a(t);for(i=0,s=l.length;i<s;i++)e(t[l[i]],l[i],t)}return t}},function(t,e){t.exports=jquery},function(t,e,r){\"use strict\";function n(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}e.isNumber=function(t){return\"number\"==typeof t},e.isInteger=function(t){return!!isFinite(t)&&t==Math.round(t)},e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.format=function(t,r){if(\"function\"==typeof r)return r(t);if(t===1/0)return\"Infinity\";if(t===-1/0)return\"-Infinity\";if(isNaN(t))return\"NaN\";var n=\"auto\",o=void 0;switch(r&&(r.notation&&(n=r.notation),e.isNumber(r)?o=r:r.precision&&(o=r.precision)),n){case\"fixed\":return e.toFixed(t,o);case\"exponential\":return e.toExponential(t,o);case\"engineering\":return e.toEngineering(t,o);case\"auto\":return e.toPrecision(t,o,r&&r.exponential).replace(/((\\.\\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return\".\"!==t?t+e:e}));default:throw new Error('Unknown notation \"'+n+'\". Choose \"auto\", \"exponential\", or \"fixed\".')}},e.splitNumber=function(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\\d+\\.?\\d*)(e([+-]?\\d+))?$/);if(!e)throw new SyntaxError(\"Invalid number \"+t);var r=e[1],n=e[2],o=parseFloat(e[4]||\"0\"),a=n.indexOf(\".\");o+=-1!==a?a-1:n.length-1;var i=n.replace(\".\",\"\").replace(/^0*/,(function(t){return o-=t.length,\"\"})).replace(/0*$/,\"\").split(\"\").map((function(t){return parseInt(t)}));return 0===i.length&&(i.push(0),o++),{sign:r,coefficients:i,exponent:o}},e.toEngineering=function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var o=e.roundDigits(e.splitNumber(t),r),a=o.exponent,i=o.coefficients,s=a%3==0?a:a<0?a-3-a%3:a-a%3,l=a>=0?a:Math.abs(s);i.length-1<l&&(i=i.concat(n(l-(i.length-1))));for(var c=Math.abs(a-s),u=1;--c>=0;)u++;var d=i.slice(u).join(\"\"),f=d.match(/[1-9]/)?\".\"+d:\"\",_=i.slice(0,u).join(\"\")+f+\"e\"+(a>=0?\"+\":\"\")+s.toString();return o.sign+_},e.toFixed=function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var o=e.splitNumber(t),a=e.roundDigits(o,o.exponent+1+(r||0)),i=a.coefficients,s=a.exponent+1,l=s+(r||0);return i.length<l&&(i=i.concat(n(l-i.length))),s<0&&(i=n(1-s).concat(i),s=1),r&&i.splice(s,0,0===s?\"0.\":\".\"),a.sign+i.join(\"\")},e.toExponential=function(t,r){if(isNaN(t)||!isFinite(t))return String(t);var o=e.splitNumber(t),a=r?e.roundDigits(o,r):o,i=a.coefficients,s=a.exponent;i.length<r&&(i=i.concat(n(r-i.length)));var l=i.shift();return a.sign+l+(i.length>0?\".\"+i.join(\"\"):\"\")+\"e\"+(s>=0?\"+\":\"\")+s},e.toPrecision=function(t,r,o){if(isNaN(t)||!isFinite(t))return String(t);var a=o&&void 0!==o.lower?o.lower:.001,i=o&&void 0!==o.upper?o.upper:1e5,s=e.splitNumber(t),l=Math.abs(Math.pow(10,s.exponent));if(l<a||l>=i)return e.toExponential(t,r);var c=r?e.roundDigits(s,r):s,u=c.coefficients,d=c.exponent;u.length<r&&(u=u.concat(n(r-u.length))),u=u.concat(n(d-u.length+1+(u.length<r?r-u.length:0)));var f=d>0?d:0;return f<(u=n(-d).concat(u)).length-1&&u.splice(f+1,0,\".\"),c.sign+u.join(\"\")},e.roundDigits=function(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e&&n.splice(e,n.length-e)[0]>=5){var o=e-1;for(n[o]++;10===n[o];)n.pop(),0===o&&(n.unshift(0),r.exponent++,o++),n[--o]++}return r},e.digits=function(t){return t.toExponential().replace(/e.*$/,\"\").replace(/^0\\.?0*|\\./,\"\").length},e.DBL_EPSILON=Number.EPSILON||2220446049250313e-31,e.nearlyEqual=function(t,r,n){if(null==n)return t==r;if(t==r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var o=Math.abs(t-r);return o<e.DBL_EPSILON||o<=Math.max(Math.abs(t),Math.abs(r))*n}return!1}},function(t,e,r){\"use strict\";function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(44);e.clone=function t(r){var a=n(r);if(\"number\"===a||\"string\"===a||\"boolean\"===a||null==r)return r;if(\"function\"==typeof r.clone)return r.clone();if(Array.isArray(r))return r.map((function(e){return t(e)}));if(r instanceof Number)return new Number(r.valueOf());if(r instanceof String)return new String(r.valueOf());if(r instanceof Boolean)return new Boolean(r.valueOf());if(r instanceof Date)return new Date(r.valueOf());if(o(r))return r;if(r instanceof RegExp)throw new TypeError(\"Cannot clone \"+r);return e.map(r,t)},e.map=function(t,r){var n={};for(var o in t)e.hasOwnProperty(t,o)&&(n[o]=r(t[o]));return n},e.extend=function(t,r){for(var n in r)e.hasOwnProperty(r,n)&&(t[n]=r[n]);return t},e.deepExtend=function t(r,n){if(Array.isArray(n))throw new TypeError(\"Arrays are not supported by deepExtend\");for(var o in n)if(e.hasOwnProperty(n,o))if(n[o]&&n[o].constructor===Object)void 0===r[o]&&(r[o]={}),r[o].constructor===Object?t(r[o],n[o]):r[o]=n[o];else{if(Array.isArray(n[o]))throw new TypeError(\"Arrays are not supported by deepExtend\");r[o]=n[o]}return r},e.deepEqual=function(t,r){var o,a,i;if(Array.isArray(t)){if(!Array.isArray(r))return!1;if(t.length!=r.length)return!1;for(a=0,i=t.length;a<i;a++)if(!e.deepEqual(t[a],r[a]))return!1;return!0}if(t instanceof Object){if(Array.isArray(r)||!(r instanceof Object))return!1;for(o in t)if(!e.deepEqual(t[o],r[o]))return!1;for(o in r)if(!e.deepEqual(t[o],r[o]))return!1;return!0}return n(t)===n(r)&&t==r},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},\"x\",{get:function(){}}),!0}catch(t){}return!1},e.lazy=function(t,r,n){if(e.canDefineProperty()){var o,a=!0;Object.defineProperty(t,r,{get:function(){return a&&(o=n(),a=!1),o},set:function(t){o=t,a=!1},configurable:!0,enumerable:!0})}else t[r]=n()},e.traverse=function(t,e){var r=t;if(e)for(var n=e.split(\".\"),o=0;o<n.length;o++){var a=n[o];a in r||(r[a]={}),r=r[a]}return r},e.hasOwnProperty=function(t,e){return t&&Object.hasOwnProperty.call(t,e)},e.isFactory=function(t){return t&&\"function\"==typeof t.factory}},function(t,e){t.exports=function(t,e,r){var n=e.split(\"\\n\");n.length<3&&n.push(\"\"),d3.select(t.root+\" .demo_group\").style(\"opacity\",0).transition().duration(250).style(\"opacity\",1).transition().duration(250).delay(r).style(\"opacity\",0);for(var o=0;o<n.length;o++){var a=o+1,i=d3.select(t.root+\" .demo_group\").select(\"#text_\"+a).text(n[o])[0][0].getBBox(),s=1.3*Number(d3.select(\".demo_group\").select(\"text\").style(\"font-size\").replace(\"px\",\"\"));d3.select(t.root+\" .demo_group\").select(\".rect_\"+a).style(\"fill\",\"white\").attr(\"width\",i.width+20).attr(\"height\",i.height).attr(\"x\",-10).attr(\"y\",i.y+o*s).style(\"opacity\",.9)}}},function(t,e,r){(function(t){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}Object.defineProperty(e,\"__esModule\",{value:!0});var n=\"object\"==(\"undefined\"==typeof self?\"undefined\":r(self))&&self.self===self&&self||\"object\"==(void 0===t?\"undefined\":r(t))&&t.global===t&&t||Function(\"return this\")()||{},o=Array.prototype,a=Object.prototype,i=\"undefined\"!=typeof Symbol?Symbol.prototype:null,s=o.push,l=o.slice,c=a.toString,u=a.hasOwnProperty,d=\"undefined\"!=typeof ArrayBuffer,f=\"undefined\"!=typeof DataView,_=Array.isArray,p=Object.keys,h=Object.create,m=d&&ArrayBuffer.isView,v=isNaN,g=isFinite,y=!{toString:null}.propertyIsEnumerable(\"toString\"),w=Math.pow(2,53)-1;e.ArrayProto=o,e.MAX_ARRAY_INDEX=w,e.ObjProto=a,e.SymbolProto=i,e.VERSION=\"1.13.6\",e._isFinite=g,e._isNaN=v,e.hasEnumBug=y,e.hasOwnProperty=u,e.nativeCreate=h,e.nativeIsArray=_,e.nativeIsView=m,e.nativeKeys=p,e.nonEnumerableProps=[\"valueOf\",\"isPrototypeOf\",\"toString\",\"propertyIsEnumerable\",\"hasOwnProperty\",\"toLocaleString\"],e.push=s,e.root=n,e.slice=l,e.supportsArrayBuffer=d,e.supportsDataView=f,e.toString=c}).call(this,r(137))},function(t,e,r){var n=r(15),o=r(1);t.exports=function(t,e,r){var a=[];return e=n(e,r),o(t,(function(t,r,n){e(t,r,n)&&a.push(t)})),a}},function(t,e,r){\"use strict\";function n(t,e,r){if(!(this instanceof n))throw new SyntaxError(\"Constructor must be called with the new operator\");this.actual=t,this.expected=e,this.relation=r,this.message=\"Dimension mismatch (\"+(Array.isArray(t)?\"[\"+t.join(\", \")+\"]\":t)+\" \"+(this.relation||\"!=\")+\" \"+(Array.isArray(e)?\"[\"+e.join(\", \")+\"]\":e)+\")\",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name=\"DimensionError\",n.prototype.isDimensionError=!0,t.exports=n},function(t,e,r){\"use strict\";e.name=\"matrix\",e.factory=function(t,e,r,n){var o=n(\"matrix\",{\"\":function(){return a([])},string:function(t){return a([],t)},\"string, string\":function(t,e){return a([],t,e)},Array:function(t){return a(t)},Matrix:function(t){return a(t,t.storage())},\"Array | Matrix, string\":a,\"Array | Matrix, string, string\":a});return o.toTex={0:\"\\\\begin{bmatrix}\\\\end{bmatrix}\",1:\"\\\\left(${args[0]}\\\\right)\",2:\"\\\\left(${args[0]}\\\\right)\"},o;function a(e,r,n){return new(t.Matrix.storage(r||\"default\"))(e,n)}}},function(t,e){t.exports=function(){var t=function(){return\"n\"},e=function(){return[0,0]},r=function(){return\" \"},n=function(){var t=d3.select(document.createElement(\"div\"));return t.style({position:\"absolute\",opacity:0,pointerEvents:\"none\",boxSizing:\"border-box\"}),t.node()}(),o=null,a=null,i=null;function s(t){o=function(t){if(\"svg\"==(t=t.node()).tagName.toLowerCase())return t;return t.ownerSVGElement}(t),a=o.createSVGPoint(),document.body.appendChild(n)}s.show=function(){var o=Array.prototype.slice.call(arguments);o[o.length-1]instanceof SVGElement&&(i=o.pop());var a,u=r.apply(this,o),_=e.apply(this,o),p=t.apply(this,o),h=d3.select(n),m=0;for(h.html(u).style({opacity:1,\"pointer-events\":\"all\"}).style(\"z-index\",99);m--;)h.classed(c[m],!1);if(a=l.get(p).apply(this),h.classed(p,!0).style({top:a.top+_[0]+\"px\",left:a.left+_[1]+\"px\"}),!1===f(this)){var v=d3.select(this).attr(\"class\");v.indexOf(\"tile\")>=0&&setTimeout(d,5e3,this)}return s},s.hide=function(){return d3.select(n).style({opacity:0,\"pointer-events\":\"none\"}),s},s.attr=function(t){if(arguments.length<2&&\"string\"==typeof t)return d3.select(n).attr(t);var e=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(d3.select(n),e),s},s.style=function(t){if(arguments.length<2&&\"string\"==typeof t)return d3.select(n).style(t);var e=Array.prototype.slice.call(arguments);return d3.selection.prototype.style.apply(d3.select(n),e),s},s.direction=function(e){return arguments.length?(t=null==e?e:d3.functor(e),s):t},s.offset=function(t){return arguments.length?(e=null==t?t:d3.functor(t),s):e},s.html=function(t){return arguments.length?(r=null==t?t:d3.functor(t),s):r};var l=d3.map({n:function(){var t=u();return{top:t.n.y-n.offsetHeight,left:t.n.x-n.offsetWidth/2}},s:function(){var t=u();return{top:t.s.y,left:t.s.x-n.offsetWidth/2}},e:function(){var t=u();return{top:t.e.y-n.offsetHeight/2,left:t.e.x}},w:function(){var t=u();return{top:t.w.y-n.offsetHeight/2,left:t.w.x-n.offsetWidth}},nw:function(){var t=u();return{top:t.nw.y-n.offsetHeight,left:t.nw.x-n.offsetWidth}},ne:function(){var t=u();return{top:t.ne.y-n.offsetHeight,left:t.ne.x}},sw:function(){var t=u();return{top:t.sw.y,left:t.sw.x-n.offsetWidth}},se:function(){var t=u();return{top:t.se.y,left:t.e.x}},south_custom:function(){var t=u();return{top:t.s.y,left:t.s.x}}}),c=l.keys();function u(){var t=i||d3.event.target,e={},r=t.getScreenCTM(),n=t.getBBox(),o=n.width,s=n.height,l=n.x,c=n.y,u=document.documentElement.scrollTop||document.body.scrollTop,d=document.documentElement.scrollLeft||document.body.scrollLeft;return r.a=1,r.d=1,r.e=r.e+d,r.f=r.f+u,a.x=l,a.y=c,e.nw=a.matrixTransform(r),a.x=a.x+o,e.ne=a.matrixTransform(r),a.y=a.y+s,e.se=a.matrixTransform(r),a.x=a.x-o,e.sw=a.matrixTransform(r),a.y=a.y-s/2,e.w=a.matrixTransform(r),a.x=a.x+o,e.e=a.matrixTransform(r),a.x=a.x-o/2,a.y=a.y-s/2,e.n=a.matrixTransform(r),a.y=a.y+s,e.s=a.matrixTransform(r),e}function d(t){d3.select(t).classed(\"hovering\")&&d3.selectAll(\".d3-tip\").transition().duration(250).style(\"opacity\",0).style(\"display\",\"none\")}function f(t){return t&&\"[object Function]\"==={}.toString.call(t)}return s}},function(t,e){t.exports=function(){var t={zoom_x:1,zoom_y:1,trans_x:0,trans_y:0};return t}},function(t,e){t.exports=function(t,e){return\"translate(\"+((e.pos_x in t.viz.x_scale.domain()?t.viz.x_scale(e.pos_x):0)+.5*t.viz.border_width.x)+\",\"+.5*t.viz.border_width.y+\")\"}},function(t,e,r){var n=r(228),o=r(89),a=r(91),i=r(229),s=r(16),l=r(99);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=t.params,d=u.zoom_info,f=u.viz.ds_level,_=u.viz.ds_level;(null===u.viz.ds||(f=Math.floor(Math.log(d.zoom_y)/Math.log(u.viz.ds_zt)))>u.viz.ds_num_levels-1)&&(f=-1);var p,h=!1;-1==_?f>=0&&(h=!0):f<_&&(h=!0),!0===e||!0===h?(p=f,e=!0,u.viz.ds_level=p):p=_;var m,v,g={},y=5;if(g.min_x=Math.abs(d.trans_x)/d.zoom_x-(y+1)*u.viz.rect_width,g.min_y=Math.abs(d.trans_y)/d.zoom_y-(y+1)*u.viz.rect_height,g.max_x=Math.abs(d.trans_x)/d.zoom_x+u.viz.clust.dim.width/d.zoom_x+y*u.viz.rect_width,g.max_y=Math.abs(d.trans_y)/d.zoom_y+u.viz.clust.dim.height/d.zoom_y+y*u.viz.rect_height,n(u,g),!1===c?m=l(u.viz.viz_nodes.row,u.viz.viz_nodes.curr_row):(m=\"all\",d3.selectAll(u.root+\" .ds\"+String(p)+\"_row\").remove()),null!=u.viz.ds){var w=\".ds\"+String(u.viz.ds_level)+\"_row\";d3.selectAll(w).style(\"display\",\"block\")}if(p>=0&&(d3.selectAll(u.root+\" .row\").remove(),d3.selectAll(u.viz.root_tips+\"_tile_tip\").remove(),d3.selectAll(u.viz.root_tips+\"_row_tip\").remove()),p<0?(v=u.matrix.matrix,i(u)):(v=u.matrix.ds_matrix[p],d3.selectAll(u.root+\" .row_cat_group path\").remove()),!0===r&&d3.selectAll(u.root+\" .row_cat_group path\").remove(),!0===e&&(p>=0?d3.selectAll(u.root+\" .ds\"+String(p)+\"_row\").each((function(t){!1===s(u.viz.viz_nodes.row,t.name)&&d3.select(this).remove()})):d3.selectAll(u.root+\" .row\").each((function(t){!1===s(u.viz.viz_nodes.row,t.name)&&d3.select(this).remove()})),d3.selectAll(u.root+\" .row_label_group\").each((function(t){!1===s(u.viz.viz_nodes.row,t.name)&&d3.select(this).remove()})),p!=_&&(m=u.viz.viz_nodes.row,d3.selectAll(u.root+\" .ds\"+String(_)+\"_row\").remove())),(m.length>=1||\"all\"===m)&&o(u,v,m,p),-1===p&&(!1===r||e)){var x=[];d3.selectAll(u.root+\" .row_label_group\").each((function(t){x.push(t.name)}));var b=l(u.viz.viz_nodes.row,x),z=1;b.length>z&&a(t,b)}}},function(t,e,r){\"use strict\";e.symbols={Alpha:\"A\",alpha:\"\\\\alpha\",Beta:\"B\",beta:\"\\\\beta\",Gamma:\"\\\\Gamma\",gamma:\"\\\\gamma\",Delta:\"\\\\Delta\",delta:\"\\\\delta\",Epsilon:\"E\",epsilon:\"\\\\epsilon\",varepsilon:\"\\\\varepsilon\",Zeta:\"Z\",zeta:\"\\\\zeta\",Eta:\"H\",eta:\"\\\\eta\",Theta:\"\\\\Theta\",theta:\"\\\\theta\",vartheta:\"\\\\vartheta\",Iota:\"I\",iota:\"\\\\iota\",Kappa:\"K\",kappa:\"\\\\kappa\",varkappa:\"\\\\varkappa\",Lambda:\"\\\\Lambda\",lambda:\"\\\\lambda\",Mu:\"M\",mu:\"\\\\mu\",Nu:\"N\",nu:\"\\\\nu\",Xi:\"\\\\Xi\",xi:\"\\\\xi\",Omicron:\"O\",omicron:\"o\",Pi:\"\\\\Pi\",pi:\"\\\\pi\",varpi:\"\\\\varpi\",Rho:\"P\",rho:\"\\\\rho\",varrho:\"\\\\varrho\",Sigma:\"\\\\Sigma\",sigma:\"\\\\sigma\",varsigma:\"\\\\varsigma\",Tau:\"T\",tau:\"\\\\tau\",Upsilon:\"\\\\Upsilon\",upsilon:\"\\\\upsilon\",Phi:\"\\\\Phi\",phi:\"\\\\phi\",varphi:\"\\\\varphi\",Chi:\"X\",chi:\"\\\\chi\",Psi:\"\\\\Psi\",psi:\"\\\\psi\",Omega:\"\\\\Omega\",omega:\"\\\\omega\",true:\"\\\\mathrm{True}\",false:\"\\\\mathrm{False}\",i:\"i\",inf:\"\\\\infty\",Inf:\"\\\\infty\",infinity:\"\\\\infty\",Infinity:\"\\\\infty\",oo:\"\\\\infty\",lim:\"\\\\lim\",undefined:\"\\\\mathbf{?}\"},e.operators={transpose:\"^\\\\top\",factorial:\"!\",pow:\"^\",dotPow:\".^\\\\wedge\",unaryPlus:\"+\",unaryMinus:\"-\",bitNot:\"~\",not:\"\\\\neg\",multiply:\"\\\\cdot\",divide:\"\\\\frac\",dotMultiply:\".\\\\cdot\",dotDivide:\".:\",mod:\"\\\\mod\",add:\"+\",subtract:\"-\",to:\"\\\\rightarrow\",leftShift:\"<<\",rightArithShift:\">>\",rightLogShift:\">>>\",equal:\"=\",unequal:\"\\\\neq\",smaller:\"<\",larger:\">\",smallerEq:\"\\\\leq\",largerEq:\"\\\\geq\",bitAnd:\"\\\\&\",bitXor:\"\\\\underline{|}\",bitOr:\"|\",and:\"\\\\wedge\",xor:\"\\\\veebar\",or:\"\\\\vee\"},e.defaultTemplate=\"\\\\mathrm{${name}}\\\\left(${args}\\\\right)\";var n={deg:\"^\\\\circ\"};e.toSymbol=function(t,r){if(r=void 0!==r&&r)return n.hasOwnProperty(t)?n[t]:\"\\\\mathrm{\"+t+\"}\";if(e.symbols.hasOwnProperty(t))return e.symbols[t];if(-1!==t.indexOf(\"_\")){var o=t.indexOf(\"_\");return e.toSymbol(t.substring(0,o))+\"_{\"+e.toSymbol(t.substring(o+1))+\"}\"}return t}},function(t,e,r){var n=r(31),o=r(83),a=r(179);t.exports=function(t,e,r){return n.iteratee!==a?n.iteratee(t,e):o(t,e,r)}},function(t,e,r){var n=r(18),o=r(84),a=r(201);t.exports=function(t,e,r,i){return n(t)||(t=o(t)),(\"number\"!=typeof r||i)&&(r=0),a(t,e,r)>=0}},function(t,e,r){var n=r(0),o=r(58),a=r(13),i=r(11),s=r(103);t.exports=function(t,e,r,l){var c=t.params;if(d3.selectAll(c.viz.root_tips).style(\"display\",\"none\"),c.zoom_info=i(),a(t),!c.viz.run_trans){var u=c.viz.clust.dim.height/2,d=u/l;if(r>=u-d){var f=u-r,_=-u/l+f;r+=_}r<-(u-d)&&(r+=_=u/l-(f=u+r));var p,h=l,m=700,v=-(h-1)*u;d3.select(c.root+\" .clust_group\").transition().duration(m).attr(\"transform\",\"translate(\"+[0,0+v]+\") scale(1,\"+h+\")translate(\"+[e,r]+\")\"),d3.select(c.root+\" .row_label_zoom_container\").transition().duration(m).attr(\"transform\",\"translate(\"+[0,v]+\") scale(\"+h+\",\"+h+\")translate(\"+[0,r]+\")\"),d3.select(c.root+\" .row_cat_container\").transition().duration(m).attr(\"transform\",\"translate(\"+[0,v]+\") scale(1,\"+h+\")translate(\"+[0,r]+\")\"),d3.select(c.root+\" .row_dendro_container\").transition().duration(m).attr(\"transform\",\"translate(\"+[0,v]+\") scale(1,\"+h+\")translate(\"+[c.viz.uni_margin/2,r]+\")\"),[\"row\",\"col\"].forEach((function(t){p=d3.select(c.root+\" .\"+t+\"_dendro_crop_buttons\").style(\"opacity\"),d3.selectAll(c.root+\" .\"+t+\"_dendro_crop_buttons\").style(\"opacity\",0),setTimeout(w,700,t,p)})),d3.select(c.root+\" .col_zoom_container\").transition().duration(m).attr(\"transform\",\" scale(1,1)translate(\"+[e,0]+\")\"),d3.select(c.root+\" .col_cat_container\").transition().duration(m).attr(\"transform\",\" scale(1,1)translate(\"+[e,0]+\")\"),d3.select(c.root+\" .col_dendro_container\").transition().duration(m).attr(\"transform\",\" scale(1,1)translate(\"+[e,c.viz.uni_margin/2]+\")\");var g=c.viz.clust.margin.top+v+r*h,y=c.viz.clust.margin.left+e;c.zoom_behavior.scale(h).translate([y,g]),o(c),!1===d3.select(c.root+\" .row_label_zoom_container text\").empty()&&d3.select(c.root+\" .row_label_zoom_container\").each((function(){var t=d3.select(this).select(\"text\")[0][0].getBBox();d3.select(this).select(\"rect\").attr(\"x\",.5*t.x).attr(\"y\",0).attr(\"width\",.5*t.width).attr(\"height\",c.viz.y_scale.rangeBand()).style(\"fill\",\"yellow\")})),d3.select(c.root+\" .row_dendro_icons_group\").attr(\"transform\",\"translate(\"+[0,0+v]+\") scale(1,\"+h+\")translate(\"+[e,r]+\")\"),d3.select(c.root+\" .row_dendro_icons_group\").selectAll(\"path\").attr(\"transform\",(function(t){return\"translate(\"+c.viz.uni_margin+\",\"+t.pos_mid+\") scale(1, \"+1/h+\")\"})),d3.select(c.root+\" .col_dendro_icons_group\").attr(\"transform\",(function(){return\" scale(1,\"+h+\")\"})),d3.select(c.root+\" .col_dendro_icons_group\").selectAll(\"path\").attr(\"transform\",(function(t){return\"translate(\"+t.pos_mid+\",\"+c.viz.uni_margin+\") scale(1,1)\"})),n.has(c.network_data.col_nodes[0],\"value\")&&d3.selectAll(c.root+\" .col_bars\").attr(\"width\",(function(t){var e=0;return t.value>0&&(e=c.labels.bar_scale_col(t.value)/1),e})),n.has(c.network_data.row_nodes[0],\"value\")&&d3.selectAll(c.root+\" .row_bars\").transition().duration(m).attr(\"width\",(function(t){return c.labels.bar_scale_row(Math.abs(t.value))/h})).attr(\"x\",(function(t){return-c.labels.bar_scale_row(Math.abs(t.value))/h})),s(c)}function w(t,e){d3.selectAll(c.root+\" .\"+t+\"_dendro_crop_buttons\").transition().duration(m).style(\"opacity\",e)}}},function(t,e,r){var n=r(136)(r(19));t.exports=n},function(t,e,r){var n=r(138)(\"length\");t.exports=n},function(t,e,r){var n=r(68),o=r(6),a=r(28),i=r(139);t.exports=function(t){if(!n(t))return[];if(o.nativeKeys)return o.nativeKeys(t);var e=[];for(var r in t)a(t,r)&&e.push(r);return o.hasEnumBug&&i(t,e),e}},function(t,e,r){\"use strict\";e.array=r(22),e.boolean=r(154),e.function=r(155),e.number=r(3),e.object=r(4),e.string=r(74),e.types=r(75),e.emitter=r(73)},function(t,e,r){\"use strict\";var n=r(3),o=r(74),a=(r(4),r(75),r(8)),i=r(153);e.size=function(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e},e.validate=function(t,e){if(0==e.length){if(Array.isArray(t))throw new a(t.length,0)}else!function t(e,r,n){var o,i=e.length;if(i!=r[n])throw new a(i,r[n]);if(n<r.length-1){var s=n+1;for(o=0;o<i;o++){var l=e[o];if(!Array.isArray(l))throw new a(r.length-1,r.length,\"<\");t(e[o],r,s)}}else for(o=0;o<i;o++)if(Array.isArray(e[o]))throw new a(r.length+1,r.length,\">\")}(t,e,0)},e.validateIndex=function(t,e){if(!n.isNumber(t)||!n.isInteger(t))throw new TypeError(\"Index must be an integer (value: \"+t+\")\");if(t<0||\"number\"==typeof e&&t>=e)throw new i(t,e)},e.UNINITIALIZED={},e.resize=function(t,r,a){if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError(\"Array expected\");if(0===r.length)throw new Error(\"Resizing to scalar is not supported\");return r.forEach((function(t){if(!n.isNumber(t)||!n.isInteger(t)||t<0)throw new TypeError(\"Invalid size, must contain positive integers (size: \"+o.format(r)+\")\")})),function t(r,n,o,a){var i,s,l=r.length,c=n[o],u=Math.min(l,c);if(r.length=c,o<n.length-1){var d=o+1;for(i=0;i<u;i++)s=r[i],Array.isArray(s)||(s=[s],r[i]=s),t(s,n,d,a);for(i=u;i<c;i++)s=[],r[i]=s,t(s,n,d,a)}else{for(i=0;i<u;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];if(a!==e.UNINITIALIZED)for(i=u;i<c;i++)r[i]=a}}(t,r,0,void 0!==a?a:0),t},e.reshape=function(t,r){var n,o=e.flatten(t),i=function(t){return t.reduce((function(t,e){return t*e}))};if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError(\"Array expected\");if(0===r.length)throw new a(0,i(e.size(t)),\"!=\");try{n=function t(e,r){var n,o=[];if(0===r.length){if(0===e.length)throw new a(null,null,\"!=\");return e.shift()}for(n=0;n<r[0];n+=1)o.push(t(e,r.slice(1)));return o}(o,r)}catch(n){if(n instanceof a)throw new a(i(r),i(e.size(t)),\"!=\");throw n}if(o.length>0)throw new a(i(r),i(e.size(t)),\"!=\");return n},e.squeeze=function(t,r){for(var n=r||e.size(t);Array.isArray(t)&&1===t.length;)t=t[0],n.shift();for(var o=n.length;1===n[o-1];)o--;return o<n.length&&(t=function t(e,r,n){var o,a;if(n<r){var i=n+1;for(o=0,a=e.length;o<a;o++)e[o]=t(e[o],r,i)}else for(;Array.isArray(e);)e=e[0];return e}(t,o,0),n.length=o),t},e.unsqueeze=function(t,r,n,o){var a=o||e.size(t);if(n)for(var i=0;i<n;i++)t=[t],a.unshift(1);for(t=function t(e,r,n){var o,a;if(Array.isArray(e)){var i=n+1;for(o=0,a=e.length;o<a;o++)e[o]=t(e[o],r,i)}else for(var s=n;s<r;s++)e=[e];return e}(t,r,0);a.length<r;)a.push(1);return t},e.flatten=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach((function t(r){Array.isArray(r)?r.forEach(t):e.push(r)})),e},e.map=function(t,e){return Array.prototype.map.call(t,e)},e.forEach=function(t,e){Array.prototype.forEach.call(t,e)},e.filter=function(t,r){if(1!==e.size(t).length)throw new Error(\"Only one dimensional matrices supported\");return Array.prototype.filter.call(t,r)},e.filterRegExp=function(t,r){if(1!==e.size(t).length)throw new Error(\"Only one dimensional matrices supported\");return Array.prototype.filter.call(t,(function(t){return r.test(t)}))},e.join=function(t,e){return Array.prototype.join.call(t,e)},e.identify=function(t){if(!Array.isArray(t))throw new TypeError(\"Array input expected\");if(0===t.length)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e},e.generalize=function(t){if(!Array.isArray(t))throw new TypeError(\"Array input expected\");if(0===t.length)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e},e.isArray=Array.isArray},function(t,e,r){\"use strict\";var n=r(3).nearlyEqual,o=r(46);e.factory=function(t,e,r,a){var i=a(\"equalScalar\",{\"boolean, boolean\":function(t,e){return t===e},\"number, number\":function(t,r){return t===r||n(t,r,e.epsilon)},\"BigNumber, BigNumber\":function(t,r){return t.eq(r)||o(t,r,e.epsilon)},\"Fraction, Fraction\":function(t,e){return t.equals(e)},\"Complex, Complex\":function(t,e){return t.equals(e)},\"Unit, Unit\":function(t,e){if(!t.equalBase(e))throw new Error(\"Cannot compare units with different base\");return i(t.value,e.value)},\"string, string\":function(t,e){return t===e}});return i}},function(t,e){t.exports=function(t,e,r,n){var o=n[0];d3.select(e).classed(\"hovering\",!0),[\"row\",\"col\"].forEach((function(e){d3.selectAll(t.root+\" .\"+e+\"_label_group text\").style(\"font-weight\",(function(t){return(o[e+\"_name\"]||\"\").replace(/_/g,\" \")===t.name?\"bold\":\"normal\"}))})),dispatchEvent(new CustomEvent(\"TILE_MOUSEOVER\",{detail:{tile:o,rect:e.getBoundingClientRect()}}))}},function(t,e){t.exports=function(t,e,r){d3.select(e).classed(\"hovering\",!1),d3.selectAll(t.viz.root_tips+\"_tile_tip\").style(\"display\",\"none\"),[\"row\",\"col\"].forEach((function(e){d3.selectAll(t.root+\" .\"+e+\"_label_group text\").style(\"font-weight\",\"normal\")})),dispatchEvent(new CustomEvent(\"TILE_MOUSEOUT\",{detail:e.__data__}))}},function(t,e,r){var n=r(94),o=r(95),a=r(96),i=r(10),s=r(55),l=r(211),c=r(2);t.exports=function(t,e){var r,u,d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=t.params;\"both\"===e&&(e=\"row\"),r=\"row\"===e?\"col\":\"row\",\"clust\"===f.viz.inst_order[r]&&d3.select(f.root+\" .\"+e+\"_slider_group\").style(\"opacity\",1),f.viz.show_dendrogram&&(u=\"row\"===e?n(f):o(f),!1===d3.select(t.params.root+\" .\"+e+\"_dendro_crop_buttons\").empty()&&s(t,e));var _=f.viz.dendro_opacity;function p(t,r,n){if(d3.select(t).classed(\"hovering\")){var o=f.viz.root_tips+\"_\"+e+\"_dendro_tip\";d3.select(o+\" .cat_graph\").empty()&&null!==f.viz.cat_info[e]&&l(f,e,r,u[n],o,!0),d3.selectAll(f.viz.root_tips+\"_\"+e+\"_dendro_tip\").style(\"opacity\",1)}}var h,m=500;d3.selectAll(t.params.viz.root_tips+\"_\"+e+\"_dendro_tip\").remove(),d3.selectAll(f.root+\" .\"+e+\"_dendro_group\").empty()?h=!1:(h=!0,d3.selectAll(f.root+\" .\"+e+\"_dendro_group\").remove());var v=0,g=-5,y=i().attr(\"class\",(function(){var t=f.viz.root_tips.replace(\".\",\"\");return t+\" d3-tip \"+t+\"_\"+e+\"_dendro_tip\"})).direction(\"nw\").offset([v,g]).style(\"display\",\"none\").style(\"opacity\",0);y.html((function(){return'<div class=\"cluster_info_container\"></div>Click for cluster information <br>and additional options.'})),d&&(h=!1);var w,x,b,z,k,A,E,N=d3.select(f.root+\" .\"+e+\"_dendro_container\").selectAll(\"path\").data(u,(function(t){return t.name})).enter().append(\"path\").style(\"opacity\",0).attr(\"class\",e+\"_dendro_group\").style(\"fill\",\"black\");N.attr(\"d\",(function(t){return\"row\"===e?(w=0,x=t.pos_top,b=30,z=t.pos_mid,k=0,A=t.pos_bot):(w=t.pos_top,x=0,b=t.pos_mid,z=30,k=t.pos_bot,A=0),\"M\"+w+\",\"+x+\" L\"+b+\", \"+z+\" L\"+k+\",\"+A+\" Z\"})),N.on(\"mouseover\",(function(r,n){d3.select(this).classed(\"hovering\",!0),null!=t.params.dendro_callback&&t.params.dendro_callback(this),d3.select(f.viz.root_tips+\"_\"+e+\"_dendro_tip\").style(\"display\",\"block\"),a(f,this,r,e),y.show(r),d3.select(f.viz.root_tips+\"_\"+e+\"_dendro_tip\").style(\"opacity\",0),setTimeout(p,m,this,r,n)})).on(\"mouseout\",(function(){\"clust\"===f.viz.inst_order[r]&&d3.select(this).style(\"opacity\",_),d3.selectAll(f.root+\" .dendro_shadow\").remove(),d3.select(this).classed(\"hovering\",!1),y.hide(this)})).on(\"click\",(function(r,n){c(f.root+\" .dendro_info\").modal(\"toggle\");var o=r.all_names.join(\", \");d3.select(f.root+\" .dendro_info input\").attr(\"value\",o);var a=f.root+\" .dendro_info\";d3.selectAll(\".dendro_info .cluster_info_container .cat_graph\").remove(),null!==f.viz.cat_info[e]&&l(f,e,r,u[n],a),null!=t.params.dendro_click_callback&&t.params.dendro_click_callback(this)})).call(y),E=\"clust\"===f.viz.inst_order[r]?_:0,h?d3.select(f.root+\" .\"+e+\"_dendro_container\").selectAll(\"path\").transition().delay(1e3).duration(1e3).style(\"opacity\",E):d3.select(f.root+\" .\"+e+\"_dendro_container\").selectAll(\"path\").style(\"opacity\",E)}},function(t,e){t.exports=function(t,e,r,n){var o=d3.select(t.root+\" .viz_svg\").append(\"circle\").attr(\"cx\",r).attr(\"cy\",n).attr(\"r\",25).style(\"stroke\",\"black\").style(\"stroke-width\",\"3px\").style(\"fill\",\"#007f00\").style(\"opacity\",.5);\"double\"===e?o.transition().duration(200).style(\"opacity\",0).transition().duration(50).style(\"opacity\",.5).transition().duration(200).style(\"opacity\",0).remove():o.transition().duration(200).style(\"opacity\",0).transition().duration(250).remove()}},function(t,e,r){var n=r(6);t.exports=function(t,e){return null!=t&&n.hasOwnProperty.call(t,e)}},function(t,e,r){var n=r(6);t.exports=function(t){var e=\"[object \"+t+\"]\";return function(t){return n.toString.call(t)===e}}},function(t,e,r){\"use strict\";var n=r(4).clone;e.name=\"algorithm14\",e.factory=function(t,e,r,o){var a=t.DenseMatrix,i=function t(e,r,n,o,a,i,s){var l=[];if(r===n.length-1)for(var c=0;c<o;c++)l[c]=s?e(i,a[c]):e(a[c],i);else for(var u=0;u<o;u++)l[u]=t(e,r+1,n,n[r+1],a[u],i,s);return l};return function(t,e,r,s){var l,c=t._data,u=t._size,d=t._datatype,f=r;\"string\"==typeof d&&(l=d,e=o.convert(e,l),f=o.find(r,[l,l]));var _=u.length>0?i(f,0,u,u[0],c,e,s):[];return new a({data:_,size:n(u),datatype:l})}}},function(t,e,r){var n=r(6);function o(t){return t instanceof o?t:this instanceof o?void(this._wrapped=t):new o(t)}o.VERSION=n.VERSION,o.prototype.value=function(){return this._wrapped},o.prototype.valueOf=o.prototype.toJSON=o.prototype.value,o.prototype.toString=function(){return String(this._wrapped)},t.exports=o},function(t,e,r){function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(18),a=r(84),i=r(15),s=r(1);t.exports=function(t,e,r){var l,c,u=-1/0,d=-1/0;if(null==e||\"number\"==typeof e&&\"object\"!=n(t[0])&&null!=t)for(var f=0,_=(t=o(t)?t:a(t)).length;f<_;f++)null!=(l=t[f])&&l>u&&(u=l);else e=i(e,r),s(t,(function(t,r,n){((c=e(t,r,n))>d||c===-1/0&&u===-1/0)&&(u=t,d=c)}));return u}},function(t,e,r){var n=r(189),o=r(2);t.exports=function(t){var e=3/t.viz.rect_height;t.viz.ds_zt=2;var r=Math.floor(Math.log(e)/Math.log(2));if(t.viz.rect_height<2&&r>0){var a;t.viz.ds_opacity_scale=d3.scale.linear().domain([1,100]).range([1,2]).clamp(!0),t.viz.ds_num_levels=r,t.viz.ds=[],t.matrix.ds_matrix=[];for(var i=t.viz.inst_order.row,s=o.extend(!0,{},t.matrix.matrix),l=0;l<r;l++){t.viz.ds_level=0,(a={}).height=3,a.num_levels=r;var c=Math.pow(2,l);a.zt=c,a.num_rows=Math.round(t.viz.clust.dim.height/(a.height/c)),a.x_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.width]),a.x_scale.domain(t.matrix.orders[i+\"_row\"]),a.y_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.height]),a.y_scale.domain(d3.range(a.num_rows+1)),a.rect_height=a.y_scale.rangeBand()-t.viz.border_width.y,t.viz.ds.push(a);var u=n(t,s,l);t.matrix.ds_matrix.push(u)}t.viz.viz_nodes.row=d3.range(t.matrix.ds_matrix[0].length).map(String)}else t.viz.ds=null,t.viz.ds_level=-1,t.viz.ds_num_levels=0}},function(t,e){t.exports=function(t){var e=t.viz.x_scale.rangeBand()-t.viz.border_width.x;return\"M0,0 L0, \"+(t.viz.y_scale.rangeBand()-t.viz.border_width.y)+\" L\"+e+\",0 Z\"}},function(t,e){t.exports=function(t){var e=t.viz.x_scale.rangeBand()-t.viz.border_width.x;return\"M0, \"+(t.viz.y_scale.rangeBand()-t.viz.border_width.y)+\"   L\"+e+\", \"+(t.viz.y_scale.rangeBand()-t.viz.border_width.y)+\" L\"+e+\",0 Z\"}},function(t,e,r){var n=r(26);t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500,o=t.params;\"row\"===e&&\"clust\"===o.viz.inst_order.col&&setTimeout(n,r,t,\"row\",!0),\"col\"===e&&\"clust\"===o.viz.inst_order.row&&setTimeout(n,r,t,\"col\",!0),\"clust\"!=o.viz.inst_order.row&&!1===o.viz.dendro_filter.col&&(d3.selectAll(o.root+\" .col_dendro_group\").style(\"opacity\",0).on(\"mouseover\",null).on(\"mouseout\",null),d3.select(o.root+\" .col_slider_group\").style(\"opacity\",0),d3.selectAll(o.root+\" .col_dendro_crop_buttons\").style(\"opacity\",0).on(\"mouseover\",null).on(\"mouseout\",null)),\"clust\"!=o.viz.inst_order.col&&!1===o.viz.dendro_filter.row&&(d3.selectAll(o.root+\" .row_dendro_group\").style(\"opacity\",0).on(\"mouseover\",null).on(\"mouseout\",null).on(\"click\",null),d3.select(o.root+\" .row_slider_group\").style(\"opacity\",0),d3.selectAll(o.root+\" .row_dendro_crop_buttons\").style(\"opacity\",0).on(\"mouseover\",null).on(\"mouseout\",null))}},function(t,e,r){\"use strict\";t.exports=function t(e,r,n){return e&&\"function\"==typeof e.map?e.map((function(e){return t(e,r,n)})):r(e)}},function(t,e){t.exports=function(t){var e={},r=d3.select(t.root+\" .clust_group\").attr(\"transform\");return null!=r&&r.indexOf(\"scale\")>0?(e.zoom_x=parseFloat(r.split(\"scale\")[1].replace(\"(\",\"\").replace(\")\",\"\").split(\",\")[0]),e.zoom_y=parseFloat(r.split(\"scale\")[1].replace(\"(\",\"\").replace(\")\",\"\").split(\",\")[1])):(e.zoom_x=1,e.zoom_y=1),e}},function(t,e,r){var n=r(106),o=r(10),a=r(107),i=r(108),s=r(109),l=r(1),c=r(2);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.params;d3.select(r.root+\" .row_cat_outer_container\").empty()?d3.select(r.root+\" .row_container\").append(\"g\").attr(\"class\",\"row_cat_outer_container\").attr(\"transform\",\"translate(\"+r.viz.norm_labels.width.row+\",0)\").append(\"g\").attr(\"class\",\"row_cat_container\"):d3.select(r.root+\" .row_container\").select(\"row_cat_outer_container\").attr(\"transform\",\"translate(\"+r.viz.norm_labels.width.row+\",0)\"),d3.select(r.root+\" .row_cat_container\").select(\".white_bars\").empty()?d3.select(r.root+\" .row_cat_container\").append(\"rect\").attr(\"class\",\"white_bars\").attr(\"fill\",r.viz.background_color).attr(\"width\",r.viz.cat_room.row+\"px\").attr(\"height\",(function(){return r.viz.clust.dim.height})):d3.select(r.root+\" .row_cat_container\").select(\".white_bars\").attr(\"fill\",r.viz.background_color).attr(\"width\",r.viz.cat_room.row+\"px\").attr(\"height\",(function(){return r.viz.clust.dim.height})),d3.selectAll(r.viz.root_tips+\"_row_cat_tip\").remove();var u,d,f=o().attr(\"class\",(function(){var t=r.viz.root_tips.replace(\".\",\"\");return t+\" d3-tip \"+t+\"_row_cat_tip\"})).direction(\"e\").offset([5,0]).style(\"display\",\"none\").html((function(t){return n(r,t,this,\"row\")}));d3.select(r.root+\" .row_cat_container\").selectAll(\"g\").data(r.network_data.row_nodes,(function(t){return t.name})).enter().append(\"g\").attr(\"class\",\"row_cat_group\").attr(\"transform\",(function(t){var e=(r.network_data.row_nodes_names||[]).indexOf(t.name);return\"translate(0, \"+r.viz.y_scale(e)+\")\"})).attr(\"opacity\",(function(t){return t.name?\"initial\":0})),d3.select(r.root+\" .row_cat_container\").selectAll(\".row_cat_group\").call(f),d3.selectAll(r.root+\" .row_cat_group rect\").remove(),r.viz.show_categories.row&&d3.selectAll(r.root+\" .row_cat_group\").each((function(){d=this,l(r.viz.all_cats.row,(function(t){var n=parseInt(t.split(\"-\")[1],10),o=\"row_cat_rect_\"+String(n);(u=d3.select(d).select(\".\"+o).empty()?d3.select(d).append(\"rect\").attr(\"class\",o).attr(\"cat\",t):d3.select(d).select(\".\"+o)).attr(\"width\",r.viz.cat_room.symbol_width).attr(\"height\",r.viz.y_scale.rangeBand()).style(\"fill\",(function(e){var n=e[t];return r.viz.cat_colors.row[t][n]})).attr(\"x\",(function(){return r.viz.cat_room.symbol_width+r.viz.uni_margin/2+\"px\"})).attr(\"transform\",(function(){var t=r.viz.cat_room.symbol_width+r.viz.cat_room.separation;return\"translate(\"+n*t+\",0)\"})).on(\"click\",(function(t){if(d3.select(this).classed(\"cat_strings\")){var e=s(r,t,this,\"row\");c(r.root+\" .dendro_info\").modal(\"toggle\");var n=e.join(\", \");d3.select(r.root+\" .dendro_info input\").attr(\"value\",n)}})).on(\"mouseover\",f.show).on(\"mouseout\",(function(){f.hide(this),a(r),d3.select(this).classed(\"hovering\",!1),d3.selectAll(\".d3-tip\").style(\"display\",\"none\")})),i(r.viz,\"row\",u,t,e)}))}))}},function(t,e){t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;e.indexOf(\"slider\")<0?d3.select(t.root+\" .\"+e).style(\"background\",\"#007f00\").style(\"box-shadow\",\"0px 0px 10px 5px #007f00\").transition().duration(1).delay(r).style(\"background\",\"#FFFFFF\").style(\"box-shadow\",\"none\"):d3.select(t.root+\" .\"+e).style(\"box-shadow\",\"0px 0px 10px 5px #007f00\").transition().duration(1).delay(r).style(\"box-shadow\",\"none\")}},function(t,e,r){var n=r(1),o=r(0);t.exports=function(t){var e={},r={};n(t,(function(t){Object.keys(t||{}).forEach((function(e){\"nodes\"!=e&&(o.has(r,e)||(r[e]=[]),r[e].push(t[e]),r[e]=Array.from(new Set([r[e]])))}))})),Object.keys(r).forEach((function(t){var o=r[t],a=o.length,i=\"categorical\";n(o,(function(t){\"number\"==typeof t&&(i=\"numerical\")})),a>1&&(e[t]=i)}));var a={};return a.possible_filters=e,a.filter_data=r,a}},function(t,e){t.exports=function(t,e){var r=t[e].sort((function(t,e){return e-t}))[0];return r=String(r)}},function(t,e,r){var n=r(0),o=r(72).create();o.import(r(151)),o.import(r(169));var a=r(7);t.exports=function(t,e){var r=t.network_data.links,i=n.pluck(e.row_nodes,\"name\")||[],s=n.pluck(e.col_nodes,\"name\")||[],l=o.matrix(o.zeros([e.row_nodes.length,e.col_nodes.length]));l=l.toArray();var c=a(r,(function(t){var e=t.name.split(\"_\")[0],r=t.name.split(\"_\")[1],n=i.indexOf(e),o=s.indexOf(r);if(n>-1&o>-1)return t.source=n,t.target=o,l[n][o]=t.value,t})),u={};return u.row_nodes=e.row_nodes,u.row_nodes_names=i,u.col_nodes=e.col_nodes,u.col_nodes_names=s,u.links=c,u.all_links=r,u.mat=l,u.views=t.network_data.views,n.has(t.network_data,\"cat_colors\")&&(u.cat_colors=t.network_data.cat_colors),u}},function(t,e){t.exports=function(t){return t&&t.constructor.prototype.isBigNumber||!1}},function(t,e,r){\"use strict\";var n=r(21).string.isString;e.name=\"Matrix\",e.path=\"type\",e.factory=function(t,e,r,o){function a(){if(!(this instanceof a))throw new SyntaxError(\"Constructor must be called with the new operator\")}return a.prototype.type=\"Matrix\",a.prototype.isMatrix=!0,a.storage=function(t){if(!n(t))throw new TypeError(\"format must be a string value\");var e=a._storage[t];if(!e)throw new SyntaxError(\"Unsupported matrix storage format: \"+t);return e},a._storage={},a.prototype.storage=function(){throw new Error(\"Cannot invoke storage on a Matrix interface\")},a.prototype.datatype=function(){throw new Error(\"Cannot invoke datatype on a Matrix interface\")},a.prototype.create=function(t,e){throw new Error(\"Cannot invoke create on a Matrix interface\")},a.prototype.subset=function(t,e,r){throw new Error(\"Cannot invoke subset on a Matrix interface\")},a.prototype.get=function(t){throw new Error(\"Cannot invoke get on a Matrix interface\")},a.prototype.set=function(t,e,r){throw new Error(\"Cannot invoke set on a Matrix interface\")},a.prototype.resize=function(t,e){throw new Error(\"Cannot invoke resize on a Matrix interface\")},a.prototype.reshape=function(t,e){throw new Error(\"Cannot invoke reshape on a Matrix interface\")},a.prototype.clone=function(){throw new Error(\"Cannot invoke clone on a Matrix interface\")},a.prototype.size=function(){throw new Error(\"Cannot invoke size on a Matrix interface\")},a.prototype.map=function(t,e){throw new Error(\"Cannot invoke map on a Matrix interface\")},a.prototype.forEach=function(t){throw new Error(\"Cannot invoke forEach on a Matrix interface\")},a.prototype.toArray=function(){throw new Error(\"Cannot invoke toArray on a Matrix interface\")},a.prototype.valueOf=function(){throw new Error(\"Cannot invoke valueOf on a Matrix interface\")},a.prototype.format=function(t){throw new Error(\"Cannot invoke format on a Matrix interface\")},a.prototype.toString=function(){throw new Error(\"Cannot invoke toString on a Matrix interface\")},a}},function(t,e,r){\"use strict\";t.exports=function(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var o=t.constructor.max(t.abs(),e.abs());return n.lte(o.times(r))}return!1}},function(t,e,r){\"use strict\";var n=r(21),o=r(8);n.string.isString;e.name=\"algorithm13\",e.factory=function(t,e,r,n){var a=t.DenseMatrix,i=function t(e,r,n,o,a,i){var s=[];if(r===n.length-1)for(var l=0;l<o;l++)s[l]=e(a[l],i[l]);else for(var c=0;c<o;c++)s[c]=t(e,r+1,n,n[r+1],a[c],i[c]);return s};return function(t,e,r){var s,l=t._data,c=t._size,u=t._datatype,d=e._data,f=e._size,_=e._datatype,p=[];if(c.length!==f.length)throw new o(c.length,f.length);for(var h=0;h<c.length;h++){if(c[h]!==f[h])throw new RangeError(\"Dimension mismatch. Matrix A (\"+c+\") must match Matrix B (\"+f+\")\");p[h]=c[h]}var m=r;\"string\"==typeof u&&u===_&&(s=u,e=n.convert(e,s),m=n.find(r,[s,s]));var v=p.length>0?i(m,0,p,p[0],l,d):[];return new a({data:v,size:p,datatype:s})}}},function(t,e,r){var n=r(6),o=r(29),a=n.nativeIsArray||o(\"Array\");t.exports=a},function(t,e,r){var n=r(182),o=r(183),a=r(50),i=r(184),s=r(51),l=r(52),c=r(86),u=r(186),d=r(190),f=r(54),_=r(0),p=r(41),h=r(87);t.exports=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];function r(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={};r.root=t.root,r.root_tips=t.root.replace(\"#\",\".\")+\"_d3-tip\",r.viz_wrapper=t.root+\" .viz_wrapper\",r.do_zoom=t.do_zoom,r.background_color=t.background_color,r.super_border_color=t.super_border_color,r.outer_margins=t.outer_margins,r.is_expand=t.ini_expand,r.grey_border_width=t.grey_border_width,r.show_dendrogram=t.show_dendrogram,r.tile_click_hlight=t.tile_click_hlight,r.inst_order=t.inst_order,r.expand_button=t.expand_button,r.sim_mat=t.sim_mat,r.dendro_filter=t.dendro_filter,r.cat_filter=t.cat_filter,r.cat_value_colors=t.cat_value_colors,r.cat_bar_width=180,r.cat_bar_height=20,r.tree_menu_width=400,r.tree_menu_height=237,r.tree_menu_x_offset=20,r.filter_menu_width=500,r.filter_menu_height=237,r.filter_menu_x_offset=20,r.update_button_width=100,r.viz_svg=r.viz_wrapper+\" .viz_svg\",r.zoom_element=r.viz_wrapper+\" .viz_svg\",r.uni_duration=1e3,r.bottom_space=10,r.run_trans=!1,r.duration=1e3,r.resize=t.resize,_.has(t,\"size\")?r.fixed_size=t.size:r.fixed_size=!1,r.border_fraction=65,r.uni_margin=5,r.super_labels={},r.super_labels.margin={},r.super_labels.dim={},r.super_labels.margin.left=r.grey_border_width,r.super_labels.margin.top=r.grey_border_width,r.super_labels.dim.width=0,t.labels.super_labels&&(r.super_labels.dim.width=15*t.labels.super_label_scale),r.triangle_opacity=.6,r.norm_labels={},r.norm_labels.width={},r.dendro_room={},r.show_dendrogram?r.dendro_room.symbol_width=10:r.dendro_room.symbol_width=0,r.cat_colors=t.cat_colors,r=h(t,r,e),_.has(t,\"group_level\")||(r.show_dendrogram&&(t.group_level={}),_.has(t,\"group_level\")||(t.group_level={}),t.group_level.row=5,t.group_level.col=5),r.dendro_opacity=.35,r.spillover_col_slant=r.norm_labels.width.col;var n=p(t.network_data.views);return r.possible_filters=n.possible_filters,r.filter_data=n.filter_data,r.viz_nodes={},r.viz_nodes.row=t.network_data.row_nodes_names,r.viz_nodes.col=t.network_data.col_nodes_names,r.viz_nodes.curr_row=t.network_data.row_nodes_names,r.viz_nodes.curr_col=t.network_data.col_nodes_names,r.x_offset=0,r}return t.labels=n(t),t.viz=r(t,e),o(t),(t=a(t)).viz=i(t.viz),t.viz=s(t.viz),t.viz=l(t.viz),t.sim_mat&&(t.viz.clust.dim.width<=t.viz.clust.dim.height?t.viz.clust.dim.height=t.viz.clust.dim.width:t.viz.clust.dim.width=t.viz.clust.dim.height),t=c(t),t=u(t),t=d(t),t=f(t)}},function(t,e){t.exports=function(t){return t.viz.svg_dim={},t.viz.svg_dim.width=Number(d3.select(t.viz.viz_wrapper).style(\"width\").replace(\"px\",\"\")),t.viz.svg_dim.height=Number(d3.select(t.viz.viz_wrapper).style(\"height\").replace(\"px\",\"\")),t}},function(t,e,r){var n=r(185);t.exports=function(t){t.clust={},t.clust.margin={},t.clust.margin.left=t.norm_labels.margin.left+t.norm_labels.width.row+t.cat_room.row+t.uni_margin,t.clust.margin.top=t.norm_labels.margin.top+t.norm_labels.width.col+t.cat_room.col+t.uni_margin;var e=t.svg_dim.width-t.clust.margin.left-t.spillover_col_slant,r=d3.scale.ordinal().rangeBands([0,e]).domain(n(t.num_col_nodes)).rangeBand()/2;r>t.norm_labels.width.col&&(e*=t.norm_labels.width.col/r);return t.clust.dim={},t.clust.dim.width=e,t}},function(t,e){t.exports=function(t){var e=t.svg_dim.height-t.clust.margin.top-t.dendro_room.col-t.bottom_space;return t.clust.dim.height=e,t}},function(t,e){t.exports=function(t){var e=t.clust.dim.width/t.num_col_nodes,r=t.clust.dim.height/t.num_row_nodes;return t.zoom_ratio={},t.zoom_ratio.x=e/r,t.zoom_ratio.y=1,t.zoom_ratio.x<1&&(t.zoom_ratio.y=1/t.zoom_ratio.x,t.zoom_ratio.x=1),t}},function(t,e){t.exports=function(t){return t.labels.default_fs_row=1.01*t.viz.y_scale.rangeBand(),t.labels.default_fs_col=.87*t.viz.x_scale.rangeBand(),t.labels.default_fs_row>t.labels.max_allow_fs&&(t.labels.default_fs_row=t.labels.max_allow_fs),t.labels.default_fs_col>t.labels.max_allow_fs&&(t.labels.default_fs_col=t.labels.max_allow_fs),t}},function(t,e,r){var n=r(94),o=r(95),a=r(10),i=r(96),s=r(210),l=r(97);t.exports=function(t,e){var r,c,u=t.params,d=.6*u.viz.dendro_opacity;u.viz.show_dendrogram&&(\"row\"===e?(r=n(u),c=\"col\"):(r=o(u),c=\"row\"));var f,_,p,h,m,v,g,y=a().attr(\"class\",(function(){var t=u.viz.root_tips.replace(\".\",\"\");return t+\" d3-tip \"+t+\"_\"+e+\"_dendro_crop_tip\"})).direction(\"nw\").style(\"display\",\"none\").offset([5,-5]);d3.selectAll(u.viz.root_tips+\"_\"+e+\"_dendro_crop_tip\").remove(),d3.selectAll(u.root+\" .\"+e+\"_dendro_crop_buttons\").remove();var w,x,b,z=e+\"_dendro_crop_buttons\";function k(t){d3.select(t).classed(\"hovering\")&&d3.selectAll(u.viz.root_tips+\"_\"+e+\"_dendro_crop_tip\").style(\"opacity\",1).style(\"display\",\"block\")}!1===d3.select(t.params.root+\" .\"+e+\"_dendro_icons_group\").classed(\"ran_filter\")?(f=d3.select(u.root+\" .\"+e+\"_dendro_icons_group\").selectAll(\"path\").data(r,(function(t){return t.name})).enter().append(\"path\").classed(z,!0).attr(\"d\",(function(t){w=10,x=10;var r=t.pos_bot-t.pos_top;\"row\"===e?(r<45&&(w=.25*r),_=x,p=-w,h=0,m=0,v=x,g=w,b=w):(r<45&&(x=.25*r),_=-x,p=w,h=0,m=0,v=x,g=w,b=x);return d3.select(this)[0][0].__data__.tri_dim=b,\"M\"+_+\",\"+p+\" L\"+h+\", \"+m+\" L\"+v+\",\"+g+\" Z\"})),y.html((function(){return\"Click to crop cluster\"}))):(f=d3.select(u.root+\" .\"+e+\"_dendro_icons_group\").selectAll(\"path\").data(r,(function(t){return t.name})).enter().append(\"path\").classed(z,!0).attr(\"d\",(function(t){w=10,x=12;var r=t.pos_bot-t.pos_top;\"row\"===e?(r<45&&(w=.25*r),_=0,p=-w,h=x,m=0,v=0,g=w):(r<45&&(x=.25*r),_=-x,p=0,h=0,m=w,v=x,g=0);return d3.select(this)[0][0].__data__.tri_dim=10,\"M\"+_+\",\"+p+\" L\"+h+\", \"+m+\" L\"+v+\",\"+g+\" Z\"})),y.html((function(){return\"Click to undo crop\"}))),f.style(\"cursor\",\"pointer\").style(\"opacity\",(function(){return d})).attr(\"transform\",(function(t){var r,n;return\"row\"===e?(r=u.viz.uni_margin,n=t.pos_mid):(r=t.pos_mid,n=u.viz.uni_margin),\"translate(\"+r+\",\"+n+\")\"})).on(\"mouseover\",(function(t){d3.select(this).classed(\"hovering\",!0),y.show(t),i(u,this,t,e),d3.selectAll(u.viz.root_tips+\"_\"+e+\"_dendro_crop_tip\").style(\"opacity\",0).style(\"display\",\"block\"),setTimeout(k,500,this)})).on(\"mouseout\",(function(){d3.select(this).classed(\"hovering\",!1),d3.selectAll(u.root+\" .dendro_shadow\").remove(),d3.select(this).style(\"opacity\",d),y.hide(this)})).on(\"click\",(function(r){d3.select(this).style(\"opacity\",.9).transition().duration(1e3).style(\"opacity\",0),d3.selectAll(u.root+\" .dendro_shadow\").remove(),!1===t.params.dendro_filter.row&&!1===t.params.dendro_filter.col&&!1===t.params.cat_filter.row&&!1===t.params.cat_filter.col?(d3.select(t.params.root+\" .\"+e+\"_dendro_icons_group\").attr(\"transform\",\"translate(0,0), scale(1,1)\").classed(\"ran_filter\",!0),d3.select(t.params.root+\" .\"+c+\"_dendro_icons_group\").attr(\"transform\",\"translate(0,0), scale(1,1)\"),d3.select(t.params.root+\" .\"+e+\"_slider_group\").style(\"display\",\"none\"),d3.select(t.params.root+\" .\"+c+\"_dendro_icons_container\").style(\"display\",\"none\"),d3.select(t.params.root+\" .crop_button\").style(\"opacity\",.2)):(d3.select(t.params.root+\" .\"+e+\"_dendro_icons_group\").attr(\"transform\",\"translate(0,0), scale(1,1)\").classed(\"ran_filter\",!1),d3.select(t.params.root+\" .\"+c+\"_dendro_icons_group\").attr(\"transform\",\"translate(0,0), scale(1,1)\"),\"clust\"===u.viz.inst_order[c]&&d3.select(t.params.root+\" .\"+e+\"_slider_group\").style(\"display\",\"block\"),d3.select(t.params.root+\" .\"+c+\"_dendro_icons_container\").style(\"display\",\"block\"),d3.select(t.params.root+\" .crop_button\").style(\"opacity\",1)),s(t,r,e)})).call(y),\"clust\"!=u.viz.inst_order[c]&&d3.select(u.root+\" .\"+e+\"_dendro_icons_group\").selectAll(\"path\").style(\"display\",\"none\"),l(u,u.zoom_info,e)}},function(t,e,r){var n=r(0),o=r(226),a=r(227),i=r(92),s=r(233),l=r(100);t.exports=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,c=t.params,u=c.network_data.col_nodes,d=c.viz.x_scale.rangeBand()/2+c.viz.border_width.x;d3.select(c.root+\" .col_container\").empty()?((e=d3.select(c.viz.viz_svg).append(\"g\").attr(\"class\",\"col_container\").attr(\"transform\",\"translate(\"+c.viz.clust.margin.left+\",\"+c.viz.norm_labels.margin.top+\")\")).append(\"rect\").attr(\"fill\",c.viz.background_color).attr(\"width\",30*c.viz.clust.dim.width+\"px\").attr(\"height\",c.viz.label_background.col).attr(\"class\",\"white_bars\"),e.append(\"g\").attr(\"class\",\"col_label_outer_container\").attr(\"transform\",\"translate(0,\"+c.viz.norm_labels.width.col+\")\").append(\"g\").attr(\"class\",\"col_zoom_container\")):((e=d3.select(c.root+\" .col_container\").attr(\"transform\",\"translate(\"+c.viz.clust.margin.left+\",\"+c.viz.norm_labels.margin.top+\")\")).select(\".white_bars\").attr(\"fill\",c.viz.background_color).attr(\"width\",30*c.viz.clust.dim.width+\"px\").attr(\"height\",c.viz.label_background.col),e.select(c.root+\" .col_label_outer_container\"));var f=d3.select(c.root+\" .col_zoom_container\").selectAll(\".col_label_text\").data(u,(function(t){return t.name})).enter().append(\"g\").attr(\"class\",\"col_label_text\").attr(\"transform\",(function(t){var e=t.col_index;return\"translate(\"+c.viz.x_scale(e)+\", 0) rotate(-90)\"})),_=f.append(\"g\").attr(\"class\",\"col_label_group\").attr(\"transform\",\"translate(\"+c.viz.x_scale.rangeBand()/2+\",\"+d+\") rotate(45)\").on(\"mouseover\",(function(){d3.select(this).select(\"text\").classed(\"active\",!0)})).on(\"mouseout\",(function(){d3.select(this).select(\"text\").classed(\"active\",!1)}));n.has(c.network_data.col_nodes[0],\"value\")&&_.append(\"rect\").attr(\"class\",\"col_bars\").attr(\"width\",(function(t){var e=0;return t.value>0&&(e=c.labels.bar_scale_col(t.value)),e})).attr(\"height\",.66*c.viz.x_scale.rangeBand()).style(\"fill\",(function(t){return t.value>0?c.matrix.bar_colors[0]:c.matrix.bar_colors[1]})).attr(\"opacity\",.6),_.append(\"text\").attr(\"x\",0).attr(\"y\",.64*c.viz.x_scale.rangeBand()).attr(\"dx\",c.viz.border_width.x).attr(\"text-anchor\",\"start\").attr(\"full_name\",(function(t){return t.name})).style(\"font-size\",c.labels.default_fs_col+\"px\").style(\"cursor\",\"default\").text((function(t){return n.normal_name(t)})).style(\"opacity\",0).transition().delay(r).duration(r).style(\"opacity\",1),s(c),_.append(\"path\").style(\"stroke-width\",0).attr(\"d\",(function(){return l(c)})).attr(\"fill\",\"#eee\").style(\"opacity\",0).transition().delay(r).duration(r).style(\"opacity\",c.viz.triangle_opacity),d3.selectAll(c.root+\" .col_label_text\").on(\"click\",(function(t){\"function\"==typeof c.click_label?(c.click_label(t.name,\"col\"),o(c,this,t.ini)):c.tile_click_hlight&&o(c,this,t.ini)})).on(\"dblclick\",(function(e){var r=this.__data__.name;if(c.sim_mat){a(t,this,r);var n=d3.selectAll(c.root+\" .row_label_group\").filter((function(t){return t.name==r}))[0][0];i(t,n,r)}else a(t,this,r);c.tile_click_hlight&&o(c,this,e.ini)}))}},function(t,e){t.exports=function(t,e,r){var n;t.cat_names[r][e]===e?n=\"Category \"+(parseInt(e.split(\"-\")[1],10)+1):n=t.cat_names[r][e];return n}},function(t,e,r){var n=r(0),o=r(59),a=r(60);t.exports=function(t){d3.selectAll(t.root+\" .row_label_group\").select(\"text\").text((function(t){return n.normal_name(t)})),d3.selectAll(t.root+\" .col_label_text\").select(\"text\").text((function(t){return n.normal_name(t)})),a(t),d3.selectAll(t.root+\" .row_label_group\").each((function(){o(t,this,\"row\")})),d3.selectAll(t.root+\" .col_label_group\").each((function(){o(t,this,\"col\")}))}},function(t,e){t.exports=function(t,e,r){if(\"none\"!=d3.select(e).style(\"display\")){var n,o,a,i,s,l,c,u,d,f=t.viz.norm_labels.width[r];n=\"row\"===r?t.viz.zoom_ratio.y?t.zoom_behavior.scale()/t.viz.zoom_ratio.y:t.zoom_behavior.scale():t.viz.zoom_ratio.x>1?t.zoom_behavior.scale()/t.viz.zoom_ratio.x:t.zoom_behavior.scale(),d3.select(e).select(\"text\").each((function(t){d=t.name.length}));var _=d3.select(e).select(\"text\").node().getBBox().width;if((o=m(_,n))>f)for(u=1;u<d;u++)o>f&&(d3.select(e).select(\"text\").text(p),_=d3.select(e).select(\"text\").node().getBBox().width,o=m(_,n));else if(o<.75*f)for(u=1;u<d;u++)o<.75*f&&(d3.select(e).select(\"text\").text(h),_=d3.select(e).select(\"text\").node().getBBox().width,o=m(_,n))}function p(){return s=d3.select(this).text(),i=s.length,c=i-3,a=s.substring(0,c)+\"..\"}function h(t){return s=d3.select(this).text(),i=\"..\"===s.slice(-2)?s.length-2:s.length,l=t.name,c=i+2,(a=l.substring(0,c)+\"..\").length>l.length&&(a=l),a}function m(t,e){return o=e<1?t:t*e}}},function(t,e,r){var n=r(236);t.exports=function(t){var e,r=t.labels.default_fs_row,o=n(t);o.row>3&&(o.row>t.labels.max_allow_fs?((e=t.viz.zoom_ratio.y?t.zoom_behavior.scale()/t.viz.zoom_ratio.y:t.zoom_behavior.scale())<1&&(e=1),r=t.labels.max_allow_fs/e,d3.selectAll(t.root+\" .row_label_group\").select(\"text\").style(\"font-size\",r+\"px\").attr(\"y\",.5*t.viz.rect_height+.35*r)):d3.selectAll(t.root+\" .row_label_group\").select(\"text\").style(\"font-size\",t.labels.default_fs_row+\"px\").attr(\"y\",.5*t.viz.rect_height+.35*t.labels.default_fs_row)),o.col>3&&(o.col>t.labels.max_allow_fs?((e=t.viz.zoom_ratio.x>1?t.zoom_behavior.scale()/t.viz.zoom_ratio.x:t.zoom_behavior.scale())<1&&(e=1),(r=t.labels.max_allow_fs/e)>.7*t.viz.rect_width&&(r=.7*t.viz.rect_width),d3.selectAll(t.root+\" .col_label_text\").select(\"text\").style(\"font-size\",r+\"px\")):d3.selectAll(t.root+\" .col_label_text\").select(\"text\").style(\"font-size\",t.labels.default_fs_col+\"px\"))}},function(t,e,r){var n=r(57),o=r(10),a=r(0);t.exports=function(t){var e=t.params,r=e.viz;d3.select(e.root+\" .row_cat_label_container\").empty()&&(d3.select(t.params.viz.viz_svg).append(\"g\").classed(\"row_cat_label_container\",!0),d3.select(t.params.viz.viz_svg+\" .row_cat_label_container\").append(\"g\").classed(\"row_cat_label_bar_container\",!0));var i=r.clust.margin.left+r.clust.dim.width+r.uni_margin,s=r.norm_labels.margin.top+r.norm_labels.width.col+2.5*r.uni_margin,l=1.15*r.cat_room.symbol_width;d3.select(e.root+\" .row_cat_label_container\").attr(\"transform\",(function(){return i=r.norm_labels.margin.left+r.norm_labels.width.row+r.cat_room.symbol_width+2.75*r.uni_margin,s=r.clust.margin.top-r.uni_margin,\"translate(\"+i+\",\"+s+\") rotate(-90)\"})),d3.selectAll(e.root+\" .row_cat_label_container text\").remove(),d3.selectAll(e.root+\" .row_cat_selection_bar\").remove(),d3.selectAll(t.params.viz.root_tips+\"_row_cat_super\").remove();var c=o().attr(\"class\",(function(){var t=e.viz.root_tips.replace(\".\",\"\");return t+\" d3-tip \"+t+\"_row_cat_super\"})).direction(\"south_custom\").offset([50,-75]).style(\"display\",\"none\").style(\"opacity\",0).html((function(t){var o,a=e.network_data.row_nodes[0][t];a.indexOf(\"<p>\")>-1?o=a.split(\": \")[0]+\"<p>\"+a.split(\"<p>\")[1]:o=n(r,t,\"row\");return o})),u=1.25*r.cat_room.symbol_width,d=.9*u;if(d3.select(e.root+\" .row_cat_label_container\").selectAll().data(r.all_cats.row).enter().append(\"text\").style(\"width\",\"100px\").style(\"height\",d+\"px\").classed(\"row_cat_super\",!0).style(\"font-size\",l+\"px\").style(\"opacity\",.65).style(\"cursor\",\"default\").attr(\"transform\",(function(t){return\"translate(0,\"+1.25*r.cat_room.symbol_width*parseInt(t.split(\"-\")[1],10)+\")\"})).text((function(t){return n(r,t,\"row\")})),d3.select(e.root+\" .row_cat_label_container\").selectAll().data(r.all_cats.row).enter().append(\"rect\").classed(\"row_cat_super\",!0).classed(\"row_cat_selection_bar\",!0).style(\"height\",d+\"px\").style(\"fill\",\"green\").style(\"width\",\"120px\").style(\"opacity\",0).attr(\"transform\",(function(t){return\"translate(0,\"+u*(parseInt(t.split(\"-\")[1],10)-.75)+\")\"})).on(\"mouseover\",(function(t){d3.selectAll(e.viz.root_tips+\"_row_cat_super\").style(\"display\",\"block\").style(\"opacity\",1),c.show(t)})).on(\"mouseout\",(function(){c.hide(this),d3.selectAll(\".d3-tip\").style(\"display\",\"none\"),d3.selectAll(e.viz.root_tips+\"_row_cat_super\").style(\"display\",\"none\").style(\"opacity\",0)})),!1===d3.select(e.root+\" .row_cat_selection_bar\").empty()&&d3.selectAll(e.root+\" .row_cat_selection_bar\").call(c),a.has(e.network_data,\"row_cat_bars\")){d3.select(e.root+\" .enr_title\").remove();var f=d3.select(e.root+\" .viz_svg\").append(\"g\").classed(\"enr_title\",!0).attr(\"transform\",(function(){var t=d3.select(e.root+\" .row_cat_label_container\").attr(\"transform\").split(\"(\")[1].split(\")\")[0],r=Number(t.split(\",\")[0])-10;return\"translate(\"+String(r)+\", 0)\"}));f.append(\"rect\").attr(\"width\",e.viz.cat_room.row).attr(\"height\",25).attr(\"fill\",\"white\");var _=e.network_data.enrichrgram_lib.substring(0,40);f.append(\"text\").attr(\"transform\",\"translate(0, 17)\").text(_.replace(/_/g,\" \")).style(\"font-size\",\"15px\").attr(\"font-family\",'\"Helvetica Neue\", Helvetica, Arial, sans-serif'),d3.selectAll(e.root+\" .enrichr_bars\").remove();var p=e.viz.clust.margin.top-35,h=e.network_data.row_cat_bars[0],m=d3.scale.linear().domain([0,h]).range([0,p]);d3.select(e.root+\" .row_cat_label_bar_container\").selectAll().data(e.network_data.row_cat_bars).enter().append(\"rect\").classed(\"enrichr_bars\",!0).attr(\"height\",d+\"px\").attr(\"fill\",\"red\").attr(\"width\",(function(t){return m(t)+\"px\"})).attr(\"opacity\",.4).attr(\"transform\",(function(t,e){return\"translate(0, \"+u*(e-.75)+\")\"}))}}},function(t,e,r){var n=r(17);t.exports=function(t){var e=t.params;d3.selectAll(e.viz.zoom_element).on(\"dblclick.zoom\",null),d3.select(e.viz.zoom_element).on(\"dblclick\",(function(){n(t,0,0,1)}))}},function(t,e,r){var n=r(0),o=r(64),a=r(62),i=r(115),s=r(116),l=r(117),c=r(118),u=r(246),d=r(119),f=r(247),_=r(120),p=r(121),h=r(122),m=r(123),v=r(124),g=r(248),y=r(249),w=r(125),x=r(58),b=r(26),z=r(36),k=r(13),A=r(85),E=r(126),N=r(61),M=r(101),S=r(113),O=r(250),B=r(251),T=r(252),C=r(11),F=r(253),I=r(1);t.exports=function(t){var e=t.params,r=A(e);d3.select(e.root+\" .play_button\"),d3.select(e.root+\" .sidebar_wrapper\").style(\"height\",r.height+\"px\"),d3.select(e.viz.viz_wrapper).style(\"margin-top\",r.top+\"px\").style(\"width\",r.width+\"px\").style(\"height\",r.height+\"px\"),(e=g(e)).zoom_info=C(),i(e);var j=d3.select(e.viz.viz_svg);I(e.network_data.links,(function(t){t.x=e.viz.x_scale(t.target),t.y=e.viz.y_scale(t.source)})),j.on(\".zoom\",null),e.zoom_behavior.scaleExtent([1,e.viz.square_zoom*e.viz.zoom_ratio.x]).on(\"zoom\",(function(){o(t)})),e.viz.do_zoom&&j.call(e.zoom_behavior),a(t),j.attr(\"width\",e.viz.svg_dim.width).attr(\"height\",e.viz.svg_dim.height),j.select(\".super_background\").style(\"width\",e.viz.svg_dim.width).style(\"height\",e.viz.svg_dim.height),j.select(\".grey_background\").attr(\"width\",e.viz.clust.dim.width).attr(\"height\",e.viz.clust.dim.height),setTimeout(E,100,e);var P=e.network_data.row_nodes,R=n.pluck(P,\"name\")||[];y(e,j),j.selectAll(\".highlighting_rect\").attr(\"width\",.8*e.viz.x_scale.rangeBand()).attr(\"height\",.8*e.viz.y_scale.rangeBand()),f(e),d(e,j),_(e,j),j.selectAll(\".row_label_group\").each((function(){var t=d3.select(this).select(\"text\")[0][0].getBBox();d3.select(this).select(\"rect\").attr(\"x\",t.x).attr(\"y\",0).attr(\"width\",t.width).attr(\"height\",e.viz.rect_height).style(\"fill\",\"yellow\").style(\"opacity\",(function(t){var e=0;return 1===t.target&&(e=1),e}))})),j.selectAll(\".row_label_group\").select(\"text\").attr(\"y\",.5*e.viz.rect_height+.35*e.labels.default_fs_row),n.has(e.network_data.row_nodes[0],\"value\")&&w(t,j),j.selectAll(\".row_cat_group\").attr(\"transform\",(function(t){var r=R.indexOf(t.name);return\"translate(0, \"+e.viz.y_scale(r)+\")\"})),j.selectAll(\".row_cat_group\").select(\"path\").attr(\"d\",(function(){return\"M \"+(e.viz.cat_room.symbol_width-1)+\",0 L 1,\"+e.viz.rect_height/2+\" L \"+(e.viz.cat_room.symbol_width-1)+\",\"+e.viz.rect_height+\" Z\"}));e.viz.show_dendrogram?(b(t,\"row\",!0),b(t,\"col\",!0),s(e,j),z(t,\"row\",0),z(t,\"col\",0)):s(e,j),p(e,j),h(e,j),m(e,j),v(e,j),l(e,j),c(e.viz,j),F(e),u(e,j),e.zoom_behavior.scale(1).translate([e.viz.clust.margin.left,e.viz.clust.margin.top]),x(e),d3.select(e.root+\" .clust_container\").attr(\"transform\",\"translate(\"+e.viz.clust.margin.left+\",\"+e.viz.clust.margin.top+\")\"),-1===t.params.viz.ds_level&&k(t),N(t),d3.select(e.viz.viz_svg).style(\"opacity\",1),M(t),d3.select(t.params.root+\" .row_slider_group\").style(\"opacity\",0),d3.select(t.params.root+\" .col_slider_group\").style(\"opacity\",0),setTimeout(S,500,t,\"row\"),setTimeout(S,500,t,\"col\"),setTimeout(O,500,t),setTimeout(T,500,t),setTimeout(B,500,t)}},function(t,e,r){var n=r(240),o=r(244),a=r(245);t.exports=function(t){var e=t.params,r={};if(r.zoom_x=d3.event.scale,r.zoom_y=d3.event.scale,r.trans_x=e.zoom_behavior.translate()[0]-e.viz.clust.margin.left,r.trans_y=e.zoom_behavior.translate()[1]-e.viz.clust.margin.top,d3.selectAll(e.viz.root_tips).style(\"display\",\"none\"),e.zoom_info=o(e,r),e.zoom_info=a(e,r),!1===e.is_slider_drag&&!1===e.is_cropping){var i=e.zoom_info.trans_x+e.viz.clust.margin.left,s=e.zoom_info.trans_y+e.viz.clust.margin.top;e.zoom_behavior.translate([i,s]),t.params=e,n(t)}dispatchEvent(new CustomEvent(\"ON_VIZ_RESIZE\"))}},function(t,e,r){var n=r(70),o=r(264),a=r(266),i=r(104),s=r(105),l=r(39),c=r(110),u=r(111),d=r(275),f=r(62),_=r(276),p=r(61),h=r(66),m=r(64),v=r(278),g=r(87),y=r(2);t.exports=function(t,e){d3.select(t.params.viz.viz_svg).classed(\"running_update\",!0),d3.selectAll(t.params.root+\" .ds\"+String(t.params.viz.ds_level)+\"_row\").remove(),null!=t.params.matrix_update_callback&&t.params.matrix_update_callback();var r=t.params.matrix.distance_metric,w=t.params.matrix.linkage_type,x=t.params.matrix.filter_state,b=t.params.matrix.normalization_state,z=t.params.group_level,k=t.params.crop_filter_nodes,A=y.extend(!0,{},t.config),E=null;if(null!=t.params.new_row_cats){h(t.params.new_row_cats,e.row_nodes),E=t.params.new_row_cats,t.params.new_row_cats=E;t.params.viz=g(t.params,t.params.viz,!0)}A.network_data=e,A.inst_order=t.params.viz.inst_order,A.input_domain=t.params.matrix.opacity_scale.domain()[1],_(A,t.params),A.ini_view=null,A.current_col_cat=t.params.current_col_cat,A.cat_colors=t.params.viz.cat_colors;var N=n(A),M=o(t.params,N);function S(){d3.selectAll(\".dendro_shadow\").remove()}function O(){d3.select(t.params.viz.viz_svg).classed(\"running_update\",!1)}t.params=N,t.params.zoom_behavior=d3.behavior.zoom().scaleExtent([1,t.params.viz.square_zoom*t.params.viz.zoom_ratio.x]).on(\"zoom\",(function(){m(t)})),t.params.matrix.distance_metric=r,t.params.matrix.linkage_type=w,t.params.matrix.filter_state=x,t.params.matrix.normalization_state=b,t.params.group_level=z,t.params.crop_filter_nodes=k,0===t.params.viz.ds_num_levels?a(t,e,M):v(t),d3.select(t.params.viz.viz_svg).style(\"opacity\",.7),l(t),p(t),t.params.viz.show_categories.col&&s(t),c(t),u(t),i(t),d3.select(t.params.viz.viz_svg).call(t.params.zoom_behavior),f(t),t.params.viz.run_trans=!0,setTimeout(d,2500,t.params),setTimeout(S,50),setTimeout(S,100),setTimeout(S,500),setTimeout(S,1e3),setTimeout(S,1500),setTimeout((function(){d3.select(t.params.viz.viz_svg).transition().duration(250).style(\"opacity\",1),setTimeout(O,1e3)}),M.enter)}},function(t,e,r){var n=r(277),o=r(0),a=r(1),i=r(16);t.exports=function(t,e){var r,s,l,c,u,d,f,_,p=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=0,m=0;a(e,(function(e){c=e.name,!0===p&&(c.indexOf(\" \")?c=c.split(\" \")[0]:c.indexOf(\"_\")&&(c=c.split(\"_\")[0])),h=0,n(e),a(t,(function(t){if(r=t.cat_title,s=t.cats,u=\"false\",m=-1,_=0,a(s,(function(t){d=t.cat_name,l=t.members,i(l,c)&&(u=d,m=_),_+=1})),o.has(t,\"pval\")){var n=t.pval.toExponential();f=r+\": \"+u+\"<p> Pval \"+String(n)+\"</p>\"}else f=-1===r.indexOf(\"cat-\")?r+\": \"+u:u;e[\"cat-\"+String(h)]=f,e[\"cat_\"+String(h)+\"_index\"]=m,h+=1}))}))}},function(t,e){t.exports=function(t,e,r){if(void 0===e)return t;switch(null==r?3:r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,o){return t.call(e,r,n,o)};case 4:return function(r,n,o,a){return t.call(e,r,n,o,a)}}return function(){return t.apply(e,arguments)}}},function(t,e){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}t.exports=function(t){var e=r(t);return\"function\"===e||\"object\"===e&&!!t}},function(t,e,r){function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(29),a=r(6),i=o(\"Function\"),s=a.root.document&&a.root.document.childNodes;\"object\"!=(\"undefined\"==typeof Int8Array?\"undefined\":n(Int8Array))&&\"function\"!=typeof s&&(i=function(t){return\"function\"==typeof t||!1});var l=i;t.exports=l},function(t,e,r){var n=r(71),o=r(181),a=r(41),i=r(49),s=r(11),l=r(2);t.exports=function(t){var e=l.extend(!0,{},t),r=e;if(r.inst_nodes={},r.inst_nodes.row_nodes=r.network_data.row_nodes,r.inst_nodes.col_nodes=r.network_data.col_nodes,null!==r.ini_view){var c=r.ini_view,u=a(r.network_data.views);r.viz={},r.viz.possible_filters=u.possible_filters,r.viz.filter_data=u.filter_data,c=o(r,c),r.network_data=n(e,r,c),r.requested_view=c}return(r=i(r)).zoom_info=s(),r}},function(t,e,r){var n=r(43),o=r(180),a=r(0);t.exports=function(t,e,r){var i=t.network_data.views,s=!1;a.has(i[0],\"enr_score_type\")&&(s=!0);var l=o(e,i,r);s&&0==l.length&&(l=o(e,i,r={N_row_sum:\"all\",N_col_sum:\"10\"}));var c,u=l[0];if(void 0!==u){var d=u.nodes;c=n(t,d)}else c=t.network_data;return c}},function(t,e,r){t.exports=r(143)},function(t,e,r){var n=r(147);e.mixin=function(t){var e=new n;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},function(t,e,r){\"use strict\";function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(3).format,a=r(152).format,i=r(44);e.isString=function(t){return\"string\"==typeof t},e.endsWith=function(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e},e.format=function(t,r){if(\"number\"==typeof t)return o(t,r);if(i(t))return a(t,r);if(function(t){return t&&\"object\"===n(t)&&\"number\"==typeof t.s&&\"number\"==typeof t.n&&\"number\"==typeof t.d||!1}(t))return r&&\"decimal\"===r.fraction?t.toString():t.s*t.n+\"/\"+t.d;if(Array.isArray(t))return function t(r,n){if(Array.isArray(r)){for(var o=\"[\",a=r.length,i=0;i<a;i++)0!=i&&(o+=\", \"),o+=t(r[i],n);return o+=\"]\"}return e.format(r,n)}(t,r);if(e.isString(t))return'\"'+t+'\"';if(\"function\"==typeof t)return t.syntax?String(t.syntax):\"function\";if(t&&\"object\"===n(t)){if(\"function\"==typeof t.format)return t.format(r);if(t&&t.toString()!=={}.toString())return t.toString();var s=[];for(var l in t)t.hasOwnProperty(l)&&s.push('\"'+l+'\": '+e.format(t[l],r));return\"{\"+s.join(\", \")+\"}\"}return String(t)},e.stringify=function(t){for(var e=String(t),r=\"\",n=0;n<e.length;){var o=e.charAt(n);\"\\\\\"===o?(r+=o,n++,\"\"!==(o=e.charAt(n))&&-1!=='\"\\\\/bfnrtu'.indexOf(o)||(r+=\"\\\\\"),r+=o):r+='\"'===o?'\\\\\"':o,n++}return'\"'+r+'\"'},e.escape=function(t){var e=String(t);return e=e.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}},function(t,e,r){\"use strict\";function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}e.type=function(t){var e=n(t);return\"object\"===e?null===t?\"null\":Array.isArray(t)?\"Array\":t instanceof Date?\"Date\":t instanceof RegExp?\"RegExp\":t instanceof Boolean?\"boolean\":t instanceof Number?\"number\":t instanceof String?\"string\":\"Object\":\"function\"===e?\"Function\":e}},function(t,e,r){\"use strict\";var n=r(21),o=r(8),a=(r(77).getSafeProperty,r(77).setSafeProperty,n.string),i=n.array,s=n.object,l=n.number,c=Array.isArray,u=l.isNumber,d=l.isInteger,f=a.isString,_=i.validateIndex;e.name=\"DenseMatrix\",e.path=\"type\",e.factory=function(t,e,l,p){var h=l(r(45));function m(e,r){if(!(this instanceof m))throw new SyntaxError(\"Constructor must be called with the new operator\");if(r&&!f(r))throw new Error(\"Invalid datatype: \"+r);if(t.isMatrix(e))\"DenseMatrix\"===e.type?(this._data=s.clone(e._data),this._size=s.clone(e._size),this._datatype=r||e._datatype):(this._data=e.toArray(),this._size=e.size(),this._datatype=r||e._datatype);else if(e&&c(e.data)&&c(e.size))this._data=e.data,this._size=e.size,this._datatype=r||e.datatype;else if(c(e))this._data=function t(e){for(var r=0,n=e.length;r<n;r++){var o=e[r];c(o)?e[r]=t(o):o&&!0===o.isMatrix&&(e[r]=t(o.valueOf()))}return e}(e),this._size=i.size(this._data),i.validate(this._data,this._size),this._datatype=r;else{if(e)throw new TypeError(\"Unsupported type of data (\"+n.types.type(e)+\")\");this._data=[],this._size=[0],this._datatype=r}}function v(e,r){if(!t.isIndex(r))throw new TypeError(\"Invalid index\");if(r.isScalar())return e.get(r.min());var n=r.size();if(n.length!=e._size.length)throw new o(n.length,e._size.length);for(var a=r.min(),i=r.max(),s=0,l=e._size.length;s<l;s++)_(a[s],e._size[s]),_(i[s],e._size[s]);return new m(function t(e,r,n,o){var a=o===n-1,i=r.dimension(o);return a?i.map((function(t){return _(t,e.length),e[t]})).valueOf():i.map((function(a){_(a,e.length);var i=e[a];return t(i,r,n,o+1)})).valueOf()}(e._data,r,n.length,0),e._datatype)}function g(e,r,n,a){if(!r||!0!==r.isIndex)throw new TypeError(\"Invalid index\");var l,c=r.size(),u=r.isScalar();if(t.isMatrix(n)?(l=n.size(),n=n.valueOf()):l=i.size(n),u){if(0!==l.length)throw new TypeError(\"Scalar expected\");e.set(r.min(),n,a)}else{if(c.length<e._size.length)throw new o(c.length,e._size.length,\"<\");if(l.length<c.length){for(var d=0,f=0;1===c[d]&&1===l[d];)d++;for(;1===c[d];)f++,d++;n=i.unsqueeze(n,c.length,f,l)}if(!s.deepEqual(c,l))throw new o(c,l,\">\");w(e,r.max().map((function(t){return t+1})),a);var p=c.length;!function t(e,r,n,o,a){var i=a===o-1,s=r.dimension(a);i?s.forEach((function(t,r){_(t),e[t]=n[r[0]]})):s.forEach((function(i,s){_(i),t(e[i],r,n[s[0]],o,a+1)}))}(e._data,r,n,p,0)}return e}m.prototype=new h,m.prototype.type=\"DenseMatrix\",m.prototype.isDenseMatrix=!0,m.prototype.storage=function(){return\"dense\"},m.prototype.datatype=function(){return this._datatype},m.prototype.create=function(t,e){return new m(t,e)},m.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return v(this,t);case 2:case 3:return g(this,t,e,r);default:throw new SyntaxError(\"Wrong number of arguments\")}},m.prototype.get=function(t){if(!c(t))throw new TypeError(\"Array expected\");if(t.length!=this._size.length)throw new o(t.length,this._size.length);for(var e=0;e<t.length;e++)_(t[e],this._size[e]);for(var r=this._data,n=0,a=t.length;n<a;n++){var i=t[n];_(i,r.length),r=r[i]}return r},m.prototype.set=function(t,e,r){if(!c(t))throw new TypeError(\"Array expected\");if(t.length<this._size.length)throw new o(t.length,this._size.length,\"<\");var n,a,i;w(this,t.map((function(t){return t+1})),r);var s=this._data;for(n=0,a=t.length-1;n<a;n++)i=t[n],_(i,s.length),s=s[i];return i=t[t.length-1],_(i,s.length),s[i]=e,this},m.prototype.resize=function(t,e,r){if(!c(t))throw new TypeError(\"Array expected\");var n=r?this.clone():this;return y(n,t,e)};var y=function(t,e,r){if(0===e.length){for(var n=t._data;c(n);)n=n[0];return n}return t._size=e.slice(0),t._data=i.resize(t._data,t._size,r),t};function w(t,e,r){for(var n=t._size.slice(0),o=!1;n.length<e.length;)n.push(0),o=!0;for(var a=0,i=e.length;a<i;a++)e[a]>n[a]&&(n[a]=e[a],o=!0);o&&y(t,n,r)}return m.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=i.reshape(r._data,t),r._size=t.slice(0),r},m.prototype.clone=function(){return new m({data:s.clone(this._data),size:s.clone(this._size),datatype:this._datatype})},m.prototype.size=function(){return this._size.slice(0)},m.prototype.map=function(t){var e=this;return new m({data:function r(n,o){return c(n)?n.map((function(t,e){return r(t,o.concat(e))})):t(n,o,e)}(this._data,[]),size:s.clone(this._size),datatype:this._datatype})},m.prototype.forEach=function(t){var e=this;!function r(n,o){c(n)?n.forEach((function(t,e){r(t,o.concat(e))})):t(n,o,e)}(this._data,[])},m.prototype.toArray=function(){return s.clone(this._data)},m.prototype.valueOf=function(){return this._data},m.prototype.format=function(t){return a.format(this._data,t)},m.prototype.toString=function(){return a.format(this._data)},m.prototype.toJSON=function(){return{mathjs:\"DenseMatrix\",data:this._data,size:this._size,datatype:this._datatype}},m.prototype.diagonal=function(e){if(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!u(e)||!d(e))throw new TypeError(\"The parameter k must be an integer number\")}else e=0;for(var r=e>0?e:0,n=e<0?-e:0,o=this._size[0],a=this._size[1],i=Math.min(o-n,a-r),s=[],l=0;l<i;l++)s[l]=this._data[l+n][l+r];return new m({data:s,size:[i],datatype:this._datatype})},m.diagonal=function(e,r,n,o,a){if(!c(e))throw new TypeError(\"Array expected, size parameter\");if(2!==e.length)throw new Error(\"Only two dimensions matrix are supported\");if(e=e.map((function(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!u(e)||!d(e)||e<1)throw new Error(\"Size values must be positive integers\");return e})),n){if(t.isBigNumber(n)&&(n=n.toNumber()),!u(n)||!d(n))throw new TypeError(\"The parameter k must be an integer number\")}else n=0;o&&f(a)&&(o=p.convert(o,a));var s,l=n>0?n:0,_=n<0?-n:0,h=e[0],v=e[1],g=Math.min(h-_,v-l);if(c(r)){if(r.length!==g)throw new Error(\"Invalid value array length\");s=function(t){return r[t]}}else if(t.isMatrix(r)){var y=r.size();if(1!==y.length||y[0]!==g)throw new Error(\"Invalid matrix length\");s=function(t){return r.get([t])}}else s=function(){return r};o||(o=t.isBigNumber(s(0))?new t.BigNumber(0):0);var w=[];if(e.length>0){w=i.resize(w,e,o);for(var x=0;x<g;x++)w[x+_][x+l]=s(x)}return new m({data:w,size:[h,v]})},m.fromJSON=function(t){return new m(t)},m.prototype.swapRows=function(t,e){if(!(u(t)&&d(t)&&u(e)&&d(e)))throw new Error(\"Row index must be positive integers\");if(2!==this._size.length)throw new Error(\"Only two dimensional matrix is supported\");return _(t,this._size[0]),_(e,this._size[0]),m._swapRows(t,e,this._data),this},m._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n},t.Matrix._storage.dense=m,t.Matrix._storage.default=m,m},e.lazy=!1},function(t,e,r){\"use strict\";function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(4).hasOwnProperty;function a(t,e){return!(!t||\"object\"!==n(t))&&(!!o(l,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function i(t,e){return!(!t||\"function\"!=typeof t[e])&&(!(o(t,e)&&t.__proto__&&e in t.__proto__)&&(!!o(c,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function s(t){return\"object\"===n(t)&&t&&t.constructor===Object}var l={length:!0,name:!0},c={toString:!0,valueOf:!0,toLocaleString:!0};e.getSafeProperty=function(t,e){if(s(t)&&a(t,e))return t[e];if(\"function\"==typeof t[e]&&i(t,e))throw new Error('Cannot access method \"'+e+'\" as a property');throw new Error('No access to property \"'+e+'\"')},e.setSafeProperty=function(t,e,r){if(s(t)&&a(t,e))return t[e]=r;throw new Error('No access to property \"'+e+'\"')},e.isSafeProperty=a,e.validateSafeMethod=function(t,e){if(!i(t,e))throw new Error('No access to method \"'+e+'\"')},e.isSafeMethod=i,e.isPlainObject=s},function(t,e,r){\"use strict\";e.factory=function(t,e,r,n){var o=n(\"add\",{\"number, number\":function(t,e){return t+e},\"Complex, Complex\":function(t,e){return t.add(e)},\"BigNumber, BigNumber\":function(t,e){return t.plus(e)},\"Fraction, Fraction\":function(t,e){return t.add(e)},\"Unit, Unit\":function(t,e){if(null==t.value)throw new Error(\"Parameter x contains a unit with undefined value\");if(null==e.value)throw new Error(\"Parameter y contains a unit with undefined value\");if(!t.equalBase(e))throw new Error(\"Units do not match\");var r=t.clone();return r.value=o(r.value,e.value),r.fixPrefix=!1,r}});return o}},function(t,e,r){\"use strict\";var n=r(3).nearlyEqual,o=r(46);e.name=\"smaller\",e.factory=function(t,e,a,i){var s=a(r(9)),l=a(r(80)),c=a(r(81)),u=a(r(82)),d=a(r(47)),f=a(r(30)),_=r(14),p=i(\"smaller\",{\"boolean, boolean\":function(t,e){return t<e},\"number, number\":function(t,r){return t<r&&!n(t,r,e.epsilon)},\"BigNumber, BigNumber\":function(t,r){return t.lt(r)&&!o(t,r,e.epsilon)},\"Fraction, Fraction\":function(t,e){return-1===t.compare(e)},\"Complex, Complex\":function(t,e){throw new TypeError(\"No ordering relation is defined for complex numbers\")},\"Unit, Unit\":function(t,e){if(!t.equalBase(e))throw new Error(\"Cannot compare units with different base\");return p(t.value,e.value)},\"string, string\":function(t,e){return t<e},\"Matrix, Matrix\":function(t,e){var r;switch(t.storage()){case\"sparse\":switch(e.storage()){case\"sparse\":r=c(t,e,p);break;default:r=l(e,t,p,!0)}break;default:switch(e.storage()){case\"sparse\":r=l(t,e,p,!1);break;default:r=d(t,e,p)}}return r},\"Array, Array\":function(t,e){return p(s(t),s(e)).valueOf()},\"Array, Matrix\":function(t,e){return p(s(t),e)},\"Matrix, Array\":function(t,e){return p(t,s(e))},\"Matrix, any\":function(t,e){var r;switch(t.storage()){case\"sparse\":r=u(t,e,p,!1);break;default:r=f(t,e,p,!1)}return r},\"any, Matrix\":function(t,e){var r;switch(e.storage()){case\"sparse\":r=u(e,t,p,!0);break;default:r=f(e,t,p,!0)}return r},\"Array, any\":function(t,e){return f(s(t),e,p,!1).valueOf()},\"any, Array\":function(t,e){return f(s(e),t,p,!0).valueOf()}});return p.toTex={2:\"\\\\left(${args[0]}\"+_.operators.smaller+\"${args[1]}\\\\right)\"},p}},function(t,e,r){\"use strict\";var n=r(8);e.name=\"algorithm03\",e.factory=function(t,e,r,o){var a=t.DenseMatrix;return function(t,e,r,i){var s=t._data,l=t._size,c=t._datatype,u=e._values,d=e._index,f=e._ptr,_=e._size,p=e._datatype;if(l.length!==_.length)throw new n(l.length,_.length);if(l[0]!==_[0]||l[1]!==_[1])throw new RangeError(\"Dimension mismatch. Matrix A (\"+l+\") must match Matrix B (\"+_+\")\");if(!u)throw new Error(\"Cannot perform operation on Dense Matrix and Pattern Sparse Matrix\");var h,m=l[0],v=l[1],g=0,y=r;\"string\"==typeof c&&c===p&&(h=c,g=o.convert(0,h),y=o.find(r,[h,h]));for(var w=[],x=0;x<m;x++)w[x]=[];for(var b=[],z=[],k=0;k<v;k++){for(var A=k+1,E=f[k],N=f[k+1],M=E;M<N;M++){var S=d[M];b[S]=i?y(u[M],s[S][k]):y(s[S][k],u[M]),z[S]=A}for(var O=0;O<m;O++)z[O]===A?w[O][k]=b[O]:w[O][k]=i?y(g,s[O][k]):y(s[O][k],g)}return new a({data:w,size:[m,v],datatype:h})}}},function(t,e,r){\"use strict\";var n=r(8);e.name=\"algorithm07\",e.factory=function(t,e,r,o){var a=t.DenseMatrix,i=function(t,e,r,n,o){for(var a=t._values,i=t._index,s=t._ptr,l=s[e],c=s[e+1];l<c;l++){var u=i[l];r[u]=o,n[u]=a[l]}};return function(t,e,r){var s=t._size,l=t._datatype,c=e._size,u=e._datatype;if(s.length!==c.length)throw new n(s.length,c.length);if(s[0]!==c[0]||s[1]!==c[1])throw new RangeError(\"Dimension mismatch. Matrix A (\"+s+\") must match Matrix B (\"+c+\")\");var d,f,_,p=s[0],h=s[1],m=0,v=r;\"string\"==typeof l&&l===u&&(d=l,m=o.convert(0,d),v=o.find(r,[d,d]));var g=[];for(f=0;f<p;f++)g[f]=[];var y=new a({data:g,size:[p,h],datatype:d}),w=[],x=[],b=[],z=[];for(_=0;_<h;_++){var k=_+1;for(i(t,_,b,w,k),i(e,_,z,x,k),f=0;f<p;f++){var A=b[f]===k?w[f]:m,E=z[f]===k?x[f]:m;g[f][_]=v(A,E)}}return y}}},function(t,e,r){\"use strict\";e.name=\"algorithm12\",e.factory=function(t,e,r,n){var o=t.DenseMatrix;return function(t,e,r,a){var i=t._values,s=t._index,l=t._ptr,c=t._size,u=t._datatype;if(!i)throw new Error(\"Cannot perform operation on Pattern Sparse Matrix and Scalar value\");var d,f=c[0],_=c[1],p=r;\"string\"==typeof u&&(d=u,e=n.convert(e,d),p=n.find(r,[d,d]));for(var h=[],m=new o({data:h,size:[f,_],datatype:d}),v=[],g=[],y=0;y<_;y++){for(var w=y+1,x=l[y],b=l[y+1],z=x;z<b;z++){var k=s[z];v[k]=i[z],g[k]=w}for(var A=0;A<f;A++)0===y&&(h[A]=[]),g[A]===w?h[A][y]=a?p(e,v[A]):p(v[A],e):h[A][y]=a?p(e,0):p(0,e)}return m}}},function(t,e,r){var n=r(170),o=r(69),a=r(68),i=r(48),s=r(171),l=r(175),c=r(67);t.exports=function(t,e,r){return null==t?n:o(t)?c(t,e,r):a(t)&&!i(t)?s(t):l(t)}},function(t,e,r){var n=r(20);t.exports=function(t){for(var e=n(t),r=e.length,o=Array(r),a=0;a<r;a++)o[a]=t[e[a]];return o}},function(t,e){t.exports=function(t){var e,r={},n=t.buffer_width,o=d3.select(t.root).style(\"width\").replace(\"px\",\"\"),a=d3.select(t.root).style(\"height\").replace(\"px\",\"\");return!1===t.viz.is_expand?(e=t.viz.outer_margins,r.width=o-t.sidebar_width-n):(e=t.viz.outer_margins,r.width=o-n),r.top=e.top,r.left=e.left,t.viz.resize?r.height=a:(t.viz.is_expand?r.width=t.viz.fixed_size.width:r.width=t.viz.fixed_size.width-t.sidebar_width,r.height=t.viz.fixed_size.height),r}},function(t,e,r){var n=r(32);t.exports=function(t){var e=Math.abs(n(t.network_data.col_nodes,(function(t){return Math.abs(t.value)})).value);return t.labels.bar_scale_col=d3.scale.linear().domain([0,e]).range([0,.75*t.viz.norm_labels.width.col]),e=Math.abs(n(t.network_data.row_nodes,(function(t){return Math.abs(t.value)})).value),t.labels.bar_scale_row=d3.scale.linear().domain([0,e]).range([0,t.viz.norm_labels.width.row]),t}},function(t,e,r){var n=r(191),o=r(0),a=r(192),i=r(193),s=r(1),l=r(194);t.exports=function(t,e){var r,c,u,d=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=\": \";e.show_categories={},e.all_cats={},e.cat_names={},e.cat_info={};var _={row:null,col:null};e.cat_colors={},e.cat_colors.value_opacity=_;var p=0;return[\"row\",\"col\"].forEach((function(n){e.show_categories[n]=!1,e.all_cats[n]=[];var _=Object.keys(t.network_data[n+\"_nodes\"][0]||{});(_=_.sort()).forEach((function(t){t.indexOf(\"cat-\")>=0&&(e.show_categories[n]=!0,e.all_cats[n].push(t))})),e.cat_info[n]=null,e.show_categories[n]&&(e.cat_colors[n]={},e.cat_info[n]={},e.cat_names[n]={},s(e.all_cats[n],(function(s){var d=t.network_data[n+\"_nodes\"][0];\"string\"==typeof d[s]&&d[s].indexOf(f)>0?(r=d[s].split(f)[0],e.cat_names[n][s]=r):e.cat_names[n][s]=s;var _=o.pluck(t.network_data[n+\"_nodes\"],s)||[],h=[];_.forEach((function(t){var e;e=t.indexOf(\": \")>0?t.split(\": \")[1]:t,h.push(e)}));var m=Array.from(new Set(_)).sort();if(\"cat_strings\"===(c=i(m)).type){var v=l(h);c.cat_hist=v}else c.cat_hist=null;e.cat_info[n][s]=c,e.cat_colors[n][s]={},m.forEach((function(t,r){u=a.get_random_color(r+p),e.cat_colors[n][s][t]=u,\"string\"==typeof t&&(t.indexOf(\"Not \")>=0||t.indexOf(\": false\")>0)&&(e.cat_colors[n][s][t]=\"#eee\"),p+=1}))}))),o.has(t.network_data,\"cat_colors\")&&!0===d&&(e.cat_colors[n]=t.network_data.cat_colors[n]),t.sim_mat&&(e.cat_colors.col=e.cat_colors.row)})),e.cat_colors=e.cat_colors,e.cat_colors.opacity=.6,e.cat_colors.active_opacity=.9,e=n(t,e)}},function(t,e){t.exports=function(t,e,r){}},function(t,e,r){var n=r(199),o=r(10),a=r(1),i=r(16);t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"all\",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=t.viz.y_scale,c=!0,u=\"row\";if(s>=0&&(l=t.viz.ds[s].y_scale,c=!1,u=\"ds\"+String(s)+\"_row\"),c)var d=o().attr(\"class\",(function(){var e=t.viz.root_tips.replace(\".\",\"\");return e+\" d3-tip \"+e+\"_tile_tip\"})).style(\"display\",\"none\").direction(\"nw\").offset([0,0]).html((function(e){var r,n=String(e.value.toFixed(3));if(t.keep_orig){var o=String(e.value_orig.toFixed(3));r=\"<p>\"+e.row_name+\" and \"+e.col_name+\"</p><p> normalized value: \"+n+\"</p><div> original value: \"+o+\"</div>\"}else r=\"<p>\"+e.row_name+\" and \"+e.col_name+\"</p><div> value: \"+n+\"</div>\";return r}));else d=null;var f=[];\"all\"===r?f=e:a(e,(function(t){i(r,t.name)&&f.push(t)})),d3.select(t.root+\" .clust_group\").selectAll(\".row\").data(f,(function(t){return t.name})).enter().append(\"g\").classed(u,!0).attr(\"transform\",(function(t){return\"translate(0,\"+l(t.row_index)+\")\"})).each((function(e){n(t,e,d,this,s)})),-1===t.viz.ds_level&&null!=d&&d3.selectAll(t.root+\" .row\").call(d)}},function(t,e,r){var n=r(91);t.exports=function(t,e){var r,o=t.params;r=d3.select(o.viz.viz_svg+\" .row_container\").empty()?d3.select(o.viz.viz_svg).append(\"g\").classed(\"row_container\",!0).attr(\"transform\",\"translate(\"+o.viz.norm_labels.margin.left+\",\"+o.viz.clust.margin.top+\")\"):d3.select(o.viz.viz_svg).select(\".row_container\").attr(\"transform\",\"translate(\"+o.viz.norm_labels.margin.left+\",\"+o.viz.clust.margin.top+\")\"),d3.select(o.root+\" .row_white_background\").empty()&&r.append(\"rect\").classed(\"row_white_background\",!0).classed(\"white_bars\",!0).attr(\"fill\",o.viz.background_color).attr(\"width\",o.viz.label_background.row).attr(\"height\",30*o.viz.clust.dim.height+\"px\"),d3.select(o.root+\" .row_label_container\").empty()?r.append(\"g\").classed(\"row_label_container\",!0).attr(\"transform\",\"translate(\"+o.viz.norm_labels.width.row+\",0)\").append(\"g\").classed(\"row_label_zoom_container\",!0):r.select(o.root+\" .row_label_container\").attr(\"transform\",\"translate(\"+o.viz.norm_labels.width.row+\",0)\"),-1===o.viz.ds_level&&n(t,\"all\",e)}},function(t,e,r){var n=r(0),o=r(208),a=r(92),i=r(225),s=r(1),l=r(16);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"all\",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=t.params,u=[];\"all\"===e?u=c.network_data.row_nodes:s(c.network_data.row_nodes,(function(t){l(e,t.name)&&u.push(t)}));var d=d3.select(c.root+\" .row_label_zoom_container\").selectAll(\"g\").data(u,(function(t){return t.name})).enter().append(\"g\").classed(\"row_label_group\",!0),f=c.network_data.row_nodes_names||[];d.attr(\"transform\",(function(t){var e=f.indexOf(t.name);return\"translate(0,\"+c.viz.y_scale(e)+\")\"})),d.on(\"dblclick\",(function(e){var r=this.__data__.name;a(t,this,r),c.tile_click_hlight&&o(this,e.ini)})),i(c),d.insert(\"rect\").style(\"opacity\",0),d.append(\"text\").attr(\"y\",.5*c.viz.rect_height+.35*c.labels.default_fs_row).attr(\"text-anchor\",\"end\").style(\"font-size\",c.labels.default_fs_row+\"px\").text((function(t){return n.normal_name(t)})).attr(\"pointer-events\",\"none\").style(\"opacity\",0).style(\"cursor\",\"default\").transition().delay(r).duration(r).style(\"opacity\",1),d.each((function(){var t=d3.select(this).select(\"text\")[0][0].getBBox();d3.select(this).select(\"rect\").attr(\"x\",t.x).attr(\"y\",0).attr(\"width\",t.width).attr(\"height\",c.viz.y_scale.rangeBand()).style(\"fill\",(function(){return\"yellow\"})).style(\"opacity\",(function(t){var e=0;return 1===t.target&&(e=1),e}))})),n.has(c.network_data.row_nodes[0],\"value\")&&d.append(\"rect\").classed(\"row_bars\",!0).attr(\"width\",(function(t){return c.labels.bar_scale_row(Math.abs(t.value))})).attr(\"x\",(function(t){return-c.labels.bar_scale_row(Math.abs(t.value))})).attr(\"height\",c.viz.y_scale.rangeBand()).attr(\"fill\",(function(t){return t.value>0?c.matrix.bar_colors[0]:c.matrix.bar_colors[1]})).attr(\"opacity\",.4)}},function(t,e,r){var n=r(93),o=r(36),a=r(11),i=r(38),s=r(33),l=r(2);t.exports=function(t,e,r){var c=t.params,u=i(c);if(1===u.zoom_y&&1===u.zoom_x){c.viz.inst_order.row=\"custom\",o(t,\"col\"),d3.selectAll(c.root+\" .toggle_col_order .btn\").classed(\"active\",!1),c.viz.run_trans=!0;var d=l.extend(!0,{},c.matrix.matrix),f=c.network_data.row_nodes,_=c.network_data.col_nodes,p=[];f.forEach((function(t){p.push(t.name)})),r=p.indexOf(r),p=[],_.forEach((function(t,e){p.push(d[r].row_data[e].value)}));var h,m=d3.range(p.length).sort((function(t,e){return p[e]-p[t]}));c.viz.x_scale.domain(m),c.matrix.orders.custom_row=m,h=c.network_data.links.length>c.matrix.def_large_matrix?d3.select(c.root+\" .viz_svg\"):d3.select(c.root+\" .viz_svg\").transition().duration(2500);var v=c.network_data.col_nodes_names||[];h.select(\".col_zoom_container\").selectAll(\".col_label_text\").attr(\"transform\",(function(t){var e=v.indexOf(t.name);return\"translate(\"+c.viz.x_scale(e)+\")rotate(-90)\"})),h.selectAll(\".col_cat_group\").attr(\"transform\",(function(t){var e=v.indexOf(t.name);return\"translate(\"+c.viz.x_scale(e)+\",0)\"})),-1===c.viz.ds_level&&(h.selectAll(\".tile\").attr(\"transform\",(function(t){return\"translate(\"+c.viz.x_scale(t.pos_x)+\",0)\"})),h.selectAll(\".tile_up\").attr(\"transform\",(function(t){return\"translate(\"+c.viz.x_scale(t.pos_x)+\",0)\"})),h.selectAll(\".tile_dn\").attr(\"transform\",(function(t){return\"translate(\"+c.viz.x_scale(t.pos_x)+\",0)\"}))),d3.selectAll(c.root+\" .row_label_group\").select(\"rect\").style(\"opacity\",0),d3.select(e).select(\"rect\").style(\"opacity\",1),n(c),c.network_data.links.forEach((function(t){t.x=c.viz.x_scale(t.target),t.y=c.viz.y_scale(t.source)})),c.zoom_info=a(),setTimeout((function(){c.viz.run_trans=!1}),2500),c.viz.ds_num_levels>0&&c.viz.ds_level>=0&&s(c)}}},function(t,e){t.exports=function(t){var e=6*t.viz.border_width.x,r=6*t.viz.border_width.y;d3.select(t.root+\" .top_hlight\").attr(\"width\",t.viz.x_scale.rangeBand()).attr(\"height\",r).transition().duration(2500).attr(\"transform\",(function(){return\"translate(\"+t.viz.x_scale(t.matrix.click_hlight_x)+\",0)\"})),d3.select(t.root+\" .left_hlight\").attr(\"width\",e).attr(\"height\",t.viz.y_scale.rangeBand()-.99*r).transition().duration(2500).attr(\"transform\",(function(){return\"translate(\"+t.viz.x_scale(t.matrix.click_hlight_x)+\",\"+.99*r+\")\"})),d3.select(t.root+\" .right_hlight\").attr(\"width\",e).attr(\"height\",t.viz.y_scale.rangeBand()-.99*r).transition().duration(2500).attr(\"transform\",(function(){return\"translate(\"+(t.viz.x_scale(t.matrix.click_hlight_x)+t.viz.x_scale.rangeBand()-e)+\",\"+.99*r+\")\"})),d3.select(t.root+\" .bottom_hlight\").attr(\"width\",(function(){return t.viz.x_scale.rangeBand()-1.98*e})).attr(\"height\",r).transition().duration(2500).attr(\"transform\",(function(){return\"translate(\"+(t.viz.x_scale(t.matrix.click_hlight_x)+.99*e)+\",\"+(t.viz.y_scale.rangeBand()-r)+\")\"}))}},function(t,e,r){var n=r(1),o=r(0);t.exports=function(t){var e={},r=t.group_level.row,a=t.network_data.row_nodes||[],i=t.network_data.row_nodes_names||[];n(a,(function(n){var a=n.group[r],s=i.indexOf(n.name),l=t.viz.y_scale(s),c=l+t.viz.y_scale.rangeBand();o.has(e,a)||(e[a]={},e[a].name_top=n.name,e[a].name_bot=n.name,e[a].pos_top=l,e[a].pos_bot=c,e[a].pos_mid=(l+c)/2,e[a].name=a,e[a].all_names=[],e[a].inst_rc=\"row\"),e[a].all_names.push(n.name),l<e[a].pos_top&&(e[a].name_top=n.name,e[a].pos_top=l,e[a].pos_mid=(l+e[a].pos_bot)/2),c>e[a].pos_bot&&(e[a].name_bot=n.name,e[a].pos_bot=c,e[a].pos_mid=(e[a].pos_top+c)/2)}));var s=[];return n(e,(function(t){s.push(t)})),s}},function(t,e,r){var n=r(1),o=r(0);t.exports=function(t){var e={},r=t.group_level.col,a=t.network_data.col_nodes||[],i=t.network_data.col_nodes_names||[];n(a,(function(n){var a=n.group[r],s=i.indexOf(n.name),l=t.viz.x_scale(s),c=l+t.viz.x_scale.rangeBand();o.has(e,a)||(e[a]={},e[a].name_top=n.name,e[a].name_bot=n.name,e[a].pos_top=l,e[a].pos_bot=c,e[a].pos_mid=(l+c)/2,e[a].name=a,e[a].all_names=[],e[a].inst_rc=\"col\"),e[a].all_names.push(n.name),l<e[a].pos_top&&(e[a].name_top=n.name,e[a].pos_top=l,e[a].pos_mid=(l+e[a].pos_bot)/2),c>e[a].pos_bot&&(e[a].name_bot=n.name,e[a].pos_bot=c,e[a].pos_mid=(e[a].pos_top+c)/2)}));var s=[];return n(e,(function(t){s.push(t)})),s}},function(t,e,r){var n=r(209);t.exports=function(t,e,r,o){d3.selectAll(t.root+\" .\"+o+\"_dendro_crop_buttons\")[0].length>1?setTimeout((function(){d3.select(e).classed(\"hovering\")&&!1===t.is_slider_drag&&(d3.select(e).style(\"opacity\",.7),!1===d3.select(t.viz.viz_svg).classed(\"running_update\")&&(\"row\"===o?\"clust\"===t.viz.inst_order.col&&n(t,e,o,r):\"col\"===o?\"clust\"===t.viz.inst_order.row&&n(t,e,o,r):\"both\"===o&&(\"clust\"===t.viz.inst_order.col&&n(t,e,\"row\",r),\"clust\"===t.viz.inst_order.row&&n(t,e,\"col\",r))))}),500):d3.selectAll(t.root+\" .dendro_shadow\").remove()}},function(t,e){t.exports=function(t,e,r){function n(t,e){var r;e*t<10?r=1:r=t/(10/e);return r}\"row\"===r?d3.select(t.root+\" .row_dendro_icons_group\").selectAll(\"path\").attr(\"transform\",(function(r){return\"translate(\"+t.viz.uni_margin+\",\"+r.pos_mid+\") scale(1, \"+1/n(e.zoom_y,d3.select(this).data()[0].tri_dim)+\")\"})):d3.select(t.root+\" .col_dendro_icons_group\").selectAll(\"path\").attr(\"transform\",(function(r){return\"translate(\"+r.pos_mid+\",\"+t.viz.uni_margin+\") scale(\"+1/n(e.zoom_x,d3.select(this).data()[0].tri_dim)+\", 1)\"}))}},function(t,e,r){\"use strict\";var n=r(4).extend,o=r(22);e.name=\"multiply\",e.factory=function(t,e,a,i){var s=r(14),l=a(r(9)),c=a(r(78)),u=a(r(217)),d=a(r(23)),f=a(r(218)),_=a(r(30)),p=t.DenseMatrix,h=t.SparseMatrix,m=i(\"multiply\",n({\"Array, Array\":function(e,r){v(o.size(e),o.size(r));var n=m(l(e),l(r));return t.isMatrix(n)?n.valueOf():n},\"Matrix, Matrix\":function(t,e){var r=t.size(),n=e.size();return v(r,n),1===r.length?1===n.length?g(t,e,r[0]):y(t,e):1===n.length?x(t,e):b(t,e)},\"Matrix, Array\":function(t,e){return m(t,l(e))},\"Array, Matrix\":function(t,e){return m(l(t,e.storage()),e)},\"Matrix, any\":function(t,e){var r;switch(t.storage()){case\"sparse\":r=f(t,e,u,!1);break;case\"dense\":r=_(t,e,u,!1)}return r},\"any, Matrix\":function(t,e){var r;switch(e.storage()){case\"sparse\":r=f(e,t,u,!0);break;case\"dense\":r=_(e,t,u,!0)}return r},\"Array, any\":function(t,e){return _(l(t),e,u,!1).valueOf()},\"any, Array\":function(t,e){return _(l(e),t,u,!0).valueOf()},\"any, any\":u,\"Array | Matrix | any, Array | Matrix | any, ...any\":function(t,e,r){for(var n=m(t,e),o=0;o<r.length;o++)n=m(n,r[o]);return n}},u.signatures)),v=function(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError(\"Dimension mismatch in multiplication. Vectors must have the same length\");break;case 2:if(t[0]!==e[0])throw new RangeError(\"Dimension mismatch in multiplication. Vector length (\"+t[0]+\") must match Matrix rows (\"+e[0]+\")\");break;default:throw new Error(\"Can only multiply a 1 or 2 dimensional matrix (Matrix B has \"+e.length+\" dimensions)\")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError(\"Dimension mismatch in multiplication. Matrix columns (\"+t[1]+\") must match Vector length (\"+e[0]+\")\");break;case 2:if(t[1]!==e[0])throw new RangeError(\"Dimension mismatch in multiplication. Matrix A columns (\"+t[1]+\") must match Matrix B rows (\"+e[0]+\")\");break;default:throw new Error(\"Can only multiply a 1 or 2 dimensional matrix (Matrix B has \"+e.length+\" dimensions)\")}break;default:throw new Error(\"Can only multiply a 1 or 2 dimensional matrix (Matrix A has \"+t.length+\" dimensions)\")}},g=function(t,e,r){if(0===r)throw new Error(\"Cannot multiply two empty vectors\");var n,o=t._data,a=t._datatype,s=e._data,l=e._datatype,d=c,f=u;a&&l&&a===l&&\"string\"==typeof a&&(n=a,d=i.find(c,[n,n]),f=i.find(u,[n,n]));for(var _=f(o[0],s[0]),p=1;p<r;p++)_=d(_,f(o[p],s[p]));return _},y=function(t,e){switch(e.storage()){case\"dense\":return w(t,e)}throw new Error(\"Not implemented\")},w=function(t,e){var r,n=t._data,o=t._size,a=t._datatype,s=e._data,l=e._size,d=e._datatype,f=o[0],_=l[1],h=c,m=u;a&&d&&a===d&&\"string\"==typeof a&&(r=a,h=i.find(c,[r,r]),m=i.find(u,[r,r]));for(var v=[],g=0;g<_;g++){for(var y=m(n[0],s[0][g]),w=1;w<f;w++)y=h(y,m(n[w],s[w][g]));v[g]=y}return new p({data:v,size:[_],datatype:r})},x=function(t,e){switch(t.storage()){case\"dense\":return z(t,e);case\"sparse\":return E(t,e)}},b=function(t,e){switch(t.storage()){case\"dense\":switch(e.storage()){case\"dense\":return k(t,e);case\"sparse\":return A(t,e)}break;case\"sparse\":switch(e.storage()){case\"dense\":return N(t,e);case\"sparse\":return M(t,e)}}},z=function(t,e){var r,n=t._data,o=t._size,a=t._datatype,s=e._data,l=e._datatype,d=o[0],f=o[1],_=c,h=u;a&&l&&a===l&&\"string\"==typeof a&&(r=a,_=i.find(c,[r,r]),h=i.find(u,[r,r]));for(var m=[],v=0;v<d;v++){for(var g=n[v],y=h(g[0],s[0]),w=1;w<f;w++)y=_(y,h(g[w],s[w]));m[v]=y}return new p({data:m,size:[d],datatype:r})},k=function(t,e){var r,n=t._data,o=t._size,a=t._datatype,s=e._data,l=e._size,d=e._datatype,f=o[0],_=o[1],h=l[1],m=c,v=u;a&&d&&a===d&&\"string\"==typeof a&&(r=a,m=i.find(c,[r,r]),v=i.find(u,[r,r]));for(var g=[],y=0;y<f;y++){var w=n[y];g[y]=[];for(var x=0;x<h;x++){for(var b=v(w[0],s[0][x]),z=1;z<_;z++)b=m(b,v(w[z],s[z][x]));g[y][x]=b}}return new p({data:g,size:[f,h],datatype:r})},A=function(t,e){var r=t._data,n=t._size,o=t._datatype,a=e._values,s=e._index,l=e._ptr,f=e._size,_=e._datatype;if(!a)throw new Error(\"Cannot multiply Dense Matrix times Pattern only Matrix\");var p,m=n[0],v=f[1],g=c,y=u,w=d,x=0;o&&_&&o===_&&\"string\"==typeof o&&(p=o,g=i.find(c,[p,p]),y=i.find(u,[p,p]),w=i.find(d,[p,p]),x=i.convert(0,p));for(var b=[],z=[],k=[],A=new h({values:b,index:z,ptr:k,size:[m,v],datatype:p}),E=0;E<v;E++){k[E]=z.length;var N=l[E],M=l[E+1];if(M>N)for(var S=0,O=0;O<m;O++){for(var B,T=O+1,C=N;C<M;C++){var F=s[C];S!==T?(B=y(r[O][F],a[C]),S=T):B=g(B,y(r[O][F],a[C]))}S!==T||w(B,x)||(z.push(O),b.push(B))}}return k[v]=z.length,A},E=function(t,e){var r=t._values,n=t._index,o=t._ptr,a=t._datatype;if(!r)throw new Error(\"Cannot multiply Pattern only Matrix times Dense Matrix\");var s,l=e._data,f=e._datatype,_=t._size[0],p=e._size[0],m=[],v=[],g=[],y=c,w=u,x=d,b=0;a&&f&&a===f&&\"string\"==typeof a&&(s=a,y=i.find(c,[s,s]),w=i.find(u,[s,s]),x=i.find(d,[s,s]),b=i.convert(0,s));var z=[],k=[];g[0]=0;for(var A=0;A<p;A++){var E=l[A];if(!x(E,b))for(var N=o[A],M=o[A+1],S=N;S<M;S++){var O=n[S];k[O]?z[O]=y(z[O],w(E,r[S])):(k[O]=!0,v.push(O),z[O]=w(E,r[S]))}}for(var B=v.length,T=0;T<B;T++){var C=v[T];m[T]=z[C]}return g[1]=v.length,new h({values:m,index:v,ptr:g,size:[_,1],datatype:s})},N=function(t,e){var r=t._values,n=t._index,o=t._ptr,a=t._datatype;if(!r)throw new Error(\"Cannot multiply Pattern only Matrix times Dense Matrix\");var s,l=e._data,f=e._datatype,_=t._size[0],p=e._size[0],m=e._size[1],v=c,g=u,y=d,w=0;a&&f&&a===f&&\"string\"==typeof a&&(s=a,v=i.find(c,[s,s]),g=i.find(u,[s,s]),y=i.find(d,[s,s]),w=i.convert(0,s));for(var x=[],b=[],z=[],k=new h({values:x,index:b,ptr:z,size:[_,m],datatype:s}),A=[],E=[],N=0;N<m;N++){z[N]=b.length;for(var M=N+1,S=0;S<p;S++){var O=l[S][N];if(!y(O,w))for(var B=o[S],T=o[S+1],C=B;C<T;C++){var F=n[C];E[F]!==M?(E[F]=M,b.push(F),A[F]=g(O,r[C])):A[F]=v(A[F],g(O,r[C]))}}for(var I=z[N],j=b.length,P=I;P<j;P++){var R=b[P];x[P]=A[R]}}return z[m]=b.length,k},M=function(t,e){var r,n=t._values,o=t._index,a=t._ptr,s=t._datatype,l=e._values,d=e._index,f=e._ptr,_=e._datatype,p=t._size[0],m=e._size[1],v=n&&l,g=c,y=u;s&&_&&s===_&&\"string\"==typeof s&&(r=s,g=i.find(c,[r,r]),y=i.find(u,[r,r]));for(var w,x,b,z,k,A,E,N,M=v?[]:void 0,S=[],O=[],B=new h({values:M,index:S,ptr:O,size:[p,m],datatype:r}),T=v?[]:void 0,C=[],F=0;F<m;F++){O[F]=S.length;var I=F+1;for(k=f[F],A=f[F+1],z=k;z<A;z++)if(N=d[z],v)for(x=a[N],b=a[N+1],w=x;w<b;w++)C[E=o[w]]!==I?(C[E]=I,S.push(E),T[E]=y(l[z],n[w])):T[E]=g(T[E],y(l[z],n[w]));else for(x=a[N],b=a[N+1],w=x;w<b;w++)C[E=o[w]]!==I&&(C[E]=I,S.push(E));if(v)for(var j=O[F],P=S.length,R=j;R<P;R++){var D=S[R];M[R]=T[D]}}return O[m]=S.length,B};return m.toTex={2:\"\\\\left(${args[0]}\"+s.operators.multiply+\"${args[1]}\\\\right)\"},m}},function(t,e,r){var n=r(230),o=r(231),a=r(7),i=r(16),s=n((function(t,e){return e=o(e,!0,!0),a(t,(function(t){return!i(e,t)}))}));t.exports=s},function(t,e){t.exports=function(t){var e=.36*t.viz.x_scale.rangeBand(),r=-t.viz.border_width.x,n=t.viz.x_scale.rangeBand()-e;return\"M \"+r+\",0 L \"+-(t.viz.x_scale.rangeBand()-e+t.viz.border_width.x)+\",0 L \"+-t.viz.border_width.x+\",\"+n+\" Z\"}},function(t,e,r){var n=r(102);t.exports=function(t){var e=t.params;[\"row\",\"col\"].forEach((function(r){e.viz.show_categories[r]&&d3.selectAll(e.root+\" .\"+r+\"_cat_super\").on(\"dblclick\",(function(){e.sim_mat&&(r=\"both\"),d3.selectAll(e.root+\" .toggle_\"+r+\"_order .btn\").classed(\"active\",!1);var o=this.__data__.replace(\"-\",\"_\")+\"_index\";e.viz.sim_mat?(n(t,o,\"row\"),n(t,o,\"col\")):n(t,o,r)}))}))}},function(t,e,r){var n=r(36),o=r(13),a=r(11),i=r(33),s=r(17),l=r(38);t.exports=function(t,e,r){var c,u,d=t.params,f=l(d),_=0;1==f.zoom_y&&1==f.zoom_x||(s(t,0,0,1),_=1200),\"row\"===r?c=\"col\":\"col\"===r&&(c=\"row\"),d.viz.run_trans=!0,\"row\"===c?d.viz.inst_order.row=e:\"col\"===c&&(d.viz.inst_order.col=e),d.viz.show_dendrogram&&n(t,r),\"row\"===c?d.viz.x_scale.domain(d.matrix.orders[d.viz.inst_order.row+\"_row\"]):\"col\"==c&&d.viz.y_scale.domain(d.matrix.orders[d.viz.inst_order.col+\"_col\"]),u=d3.selectAll(d.root+\" .tile\")[0].length<d.matrix.def_large_matrix?d3.select(d.root+\" .viz_svg\").transition().duration(2500).delay(_):d3.select(d.root+\" .viz_svg\");var p=d.network_data.row_nodes_names||[],h=d.network_data.col_nodes_names||[];if(-1===d.viz.ds_level&&(u.selectAll(\".row\").attr(\"transform\",(function(t){var e=p.indexOf(t.name);return\"translate(0,\"+d.viz.y_scale(e)+\")\"})).selectAll(\".tile\").attr(\"transform\",(function(t){return\"translate(\"+d.viz.x_scale(t.pos_x)+\" , 0)\"})),u.selectAll(\".tile_up\").attr(\"transform\",(function(t){return\"translate(\"+d.viz.x_scale(t.pos_x)+\" , 0)\"})),u.selectAll(\".tile_dn\").attr(\"transform\",(function(t){return\"translate(\"+d.viz.x_scale(t.pos_x)+\" , 0)\"}))),u.select(\".row_label_zoom_container\").selectAll(\".row_label_group\").attr(\"transform\",(function(t){var e=p.indexOf(t.name);return\"translate(0,\"+d.viz.y_scale(e)+\")\"})),u.select(\".col_zoom_container\").selectAll(\".col_label_text\").attr(\"transform\",(function(t){var e=h.indexOf(t.name);return\"translate(\"+d.viz.x_scale(e)+\") rotate(-90)\"})),u.selectAll(\".row_cat_group\").attr(\"transform\",(function(t){var e=p.indexOf(t.name);return\"translate(0,\"+d.viz.y_scale(e)+\")\"})),u.selectAll(\".col_cat_group\").attr(\"transform\",(function(t){var e=h.indexOf(t.name);return\"translate(\"+d.viz.x_scale(e)+\",0)\"})),d.network_data.links.forEach((function(t){t.x=d.viz.x_scale(t.target),t.y=d.viz.y_scale(t.source)})),d.zoom_info=a(),d.viz.ds_num_levels>0&&d.viz.ds_level>=0){i(d);o(t,!0,!0,!0)}setTimeout((function(){d.viz.run_trans=!1}),2500)}},function(t,e){t.exports=function(t){t.zoom_info.zoom_x*t.viz.border_width.x>1?d3.selectAll(t.root+\" .vert_lines\").select(\"line\").style(\"display\",\"block\").style(\"opacity\",0).transition().style(\"opacity\",1):d3.selectAll(t.root+\" .vert_lines\").select(\"line\").style(\"display\",\"none\"),t.zoom_info.zoom_y*t.viz.border_width.y>1?d3.selectAll(t.root+\" .horz_lines\").select(\"line\").style(\"display\",\"block\").style(\"opacity\",0).transition().style(\"opacity\",1):d3.selectAll(t.root+\" .horz_lines\").select(\"line\").style(\"display\",\"none\")}},function(t,e){t.exports=function(t){}},function(t,e,r){var n=r(106),o=r(10),a=r(107),i=r(108),s=r(109),l=r(1),c=r(2);t.exports=function(t){var e=t.params;d3.select(e.root+\" .col_cat_outer_container\").empty()?d3.select(e.root+\" .col_container\").append(\"g\").attr(\"class\",\"col_cat_outer_container\").attr(\"transform\",(function(){return\"translate(0,\"+(e.viz.norm_labels.width.col+2)+\")\"})).append(\"g\").attr(\"class\",\"col_cat_container\"):d3.select(e.root+\" .col_container\").select(\"col_cat_outer_container\").attr(\"transform\",(function(){return\"translate(0,\"+(e.viz.norm_labels.width.col+2)+\")\"})),d3.selectAll(e.viz.root_tips+\"_col_cat_tip\").remove();var r=o().attr(\"class\",(function(){var t=e.viz.root_tips.replace(\".\",\"\");return t+\" d3-tip \"+t+\"_col_cat_tip\"})).direction(\"s\").offset([5,0]).style(\"display\",\"none\").html((function(t){return n(e,t,this,\"col\")}));d3.select(e.root+\" .col_cat_container\").selectAll(\"g\").data(e.network_data.col_nodes,(function(t){return t.name})).enter().append(\"g\").attr(\"class\",\"col_cat_group\").attr(\"transform\",(function(t){var r=(e.network_data.col_nodes_names||[]).indexOf(t.name);return\"translate(\"+e.viz.x_scale(r)+\",0)\"})),d3.select(e.root+\" .col_cat_container\").selectAll(\".col_cat_group\").call(r),d3.selectAll(e.root+\" .col_cat_group\").each((function(){var t,n=this;l(e.viz.all_cats.col,(function(o){var l=parseInt(o.split(\"-\")[1],10),u=\"col_cat_rect_\"+String(l);(t=d3.select(n).select(\".\"+u).empty()?d3.select(n).append(\"rect\").attr(\"class\",u).attr(\"cat\",o).attr(\"transform\",(function(){var t=e.viz.cat_room.symbol_width+e.viz.cat_room.separation;return\"translate(0,\"+l*t+\")\"})).on(\"click\",(function(t){if(d3.select(this).classed(\"cat_strings\")){var r=s(e,t,this,\"col\");c(e.root+\" .dendro_info\").modal(\"toggle\");var n=r.join(\", \");d3.select(e.root+\" .dendro_info input\").attr(\"value\",n)}})):d3.select(n).select(\".\"+u)).attr(\"width\",e.viz.x_scale.rangeBand()).attr(\"height\",e.viz.cat_room.symbol_width).style(\"fill\",(function(t){var r=t[o];return e.viz.cat_colors.col[o][r]})).on(\"mouseover\",r.show).on(\"mouseout\",(function(){r.hide(this),a(e),d3.select(this).classed(\"hovering\",!1),d3.selectAll(\".d3-tip\").style(\"display\",\"none\")})),i(e.viz,\"col\",t,o)}))}))}},function(t,e,r){var n=r(57);t.exports=function(t,e,r,o){d3.selectAll(t.viz.root_tips+\"_col_cat_tip\").style(\"display\",\"block\"),d3.selectAll(t.viz.root_tips+\"_row_cat_tip\").style(\"display\",\"block\");var a=d3.select(r).attr(\"cat\"),i=n(t.viz,a,o),s=e[a];\"string\"==typeof s&&s.indexOf(\": \")>=0&&(s=s.split(\": \")[1]);var l=\"<div>\"+i+\": \"+s+\"</div> <div> <br>Click for Category Menu </div>\";return d3.select(r).classed(\"hovering\",!0),setTimeout((function(){var e=!1;if(d3.select(r).classed(\"hovering\")){var n=[o];t.viz.sim_mat&&(n=[\"row\",\"col\"]),n.forEach((function(r){\"string\"==typeof s&&s.indexOf(\"Not \")<0&&\"false\"!=s&&(e=!0),e&&d3.selectAll(t.root+\" .\"+r+\"_cat_group\").selectAll(\"rect\").style(\"opacity\",(function(e){var r=d3.select(this).style(\"opacity\");if(d3.select(this).classed(\"cat_strings\")&&!1===d3.select(this).classed(\"filtered_cat\")){var n,o=d3.select(this).attr(\"cat\");n=e[o].indexOf(\": \")>=0?e[o].split(\": \")[1]:e[o],r=o===a&&n===s?t.viz.cat_colors.active_opacity:t.viz.cat_colors.opacity/4}return r}))}))}}),500),l}},function(t,e){t.exports=function(t){[\"row\",\"col\"].forEach((function(e){d3.selectAll(t.root+\" .\"+e+\"_cat_group\").selectAll(\"rect\").style(\"opacity\",(function(){var e=d3.select(this).style(\"opacity\");return d3.select(this).classed(\"cat_strings\")&&!1===d3.select(this).classed(\"filtered_cat\")&&(e=t.viz.cat_colors.opacity),e}))}))}},function(t,e){t.exports=function(t,e,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=\": \",i=t.cat_info[e][n].type;function s(t){return\"string\"==typeof t&&t.indexOf(a)>-1&&(t=t.split(a)[1]),parseFloat(t)}\"cat_strings\"===i?o?r.classed(\"cat_strings\",!0).style(\"opacity\",0).transition().duration(1e3).style(\"opacity\",t.cat_colors.opacity):r.classed(\"cat_strings\",!0).style(\"opacity\",t.cat_colors.opacity):r.classed(\"cat_values\",!0).style(\"opacity\",(function(r){var o=s(r[n]);return t.cat_info[e][n].cat_scale(Math.abs(o))})).style(\"fill\",(function(e){return s(e[n])>0?t.cat_value_colors[0]:t.cat_value_colors[1]}))}},function(t,e,r){var n=r(0),o=r(1);t.exports=function(t,e,r,a){var i=d3.select(r).attr(\"cat\"),s=e[i],l=t.network_data[a+\"_nodes\"],c=o(l,(function(t){return t[i]==s}));return n.pluck(c,\"name\")}},function(t,e,r){var n=r(26);t.exports=function(t){var e=t.params,r=e.viz.dendro_room.row+e.viz.uni_margin,o=e.viz.clust.margin.left+e.viz.clust.dim.width,a=e.viz.clust.margin.top;d3.select(e.root+\" .row_dendro_outer_container\").empty()?(d3.select(e.root+\" .viz_svg\").append(\"g\").attr(\"class\",\"row_dendro_outer_container\").attr(\"transform\",\"translate(\"+o+\",\"+a+\")\"),d3.select(e.root+\" .row_dendro_outer_container\").append(\"rect\").classed(\"row_dendro_spillover\",!0).attr(\"fill\",e.viz.background_color).attr(\"width\",r+\"px\").attr(\"height\",e.viz.svg_dim.height),d3.select(e.root+\" .row_dendro_outer_container\").append(\"g\").attr(\"class\",\"row_dendro_container\").attr(\"transform\",\"translate(\"+e.viz.uni_margin/2+\",0)\")):(d3.select(e.root+\" .viz_svg\").select(\"row_dendro_outer_container\").attr(\"transform\",\"translate(\"+o+\",\"+a+\")\"),d3.select(e.root+\" .row_dendro_outer_container\").select(\".row_dendro_spillover\").attr(\"width\",r+\"px\").attr(\"height\",e.viz.svg_dim.height)),t.config.show_dendrogram&&n(t,\"row\",!1),\"clust\"!=e.viz.inst_order.col&&d3.selectAll(e.root+\" .row_dendro_group\").remove()}},function(t,e,r){var n=r(26);t.exports=function(t){var e=t.params,r=e.viz.clust.margin.left,o=e.viz.clust.margin.top+e.viz.clust.dim.height,a=e.viz.dendro_room.col+e.viz.uni_margin;d3.select(e.root+\" .col_dendro_outer_container\").empty()?(d3.select(e.root+\" .viz_svg\").append(\"g\").attr(\"class\",\"col_dendro_outer_container\").attr(\"transform\",\"translate(\"+r+\",\"+o+\")\"),d3.select(e.root+\" .col_dendro_outer_container\").append(\"rect\").classed(\"col_dendro_spillover\",!0).attr(\"fill\",e.viz.background_color).attr(\"width\",e.viz.svg_dim.width).attr(\"height\",a+\"px\"),d3.select(e.root+\" .col_dendro_outer_container\").append(\"g\").attr(\"class\",\"col_dendro_container\").attr(\"transform\",\"translate(0,\"+e.viz.uni_margin/2+\")\"),d3.select(e.root+\" .col_dendro_outer_container\").append(\"rect\").classed(\"col_dendro_spillover_top\",!0).attr(\"fill\",e.viz.background_color).attr(\"width\",e.viz.svg_dim.width).attr(\"height\",e.viz.svg_dim.height).attr(\"transform\",\"translate(0,\"+e.viz.dendro_room.col+\")\")):(d3.select(e.root+\" .viz_svg\").select(\"col_dendro_outer_container\").attr(\"transform\",\"translate(\"+r+\",\"+o+\")\"),d3.select(e.root+\" .col_dendro_outer_container\").select(\".col_dendro_spillover\").attr(\"width\",e.viz.svg_dim.width).attr(\"height\",a+\"px\")),t.config.show_dendrogram&&n(t,\"col\",!1),\"clust\"!=e.viz.inst_order.row&&d3.selectAll(e.root+\" .col_dendro_group\").remove()}},function(t,e,r){var n=r(26);t.exports=function(t,e,r){var o=t.params;\"row\"===e?o.group_level.row=r:\"col\"===e&&(o.group_level.col=r);n(t,e,!0)}},function(t,e){t.exports=function(t){var e,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"row\",o=t.params.viz;if(\"row\"===n){var a=o.svg_dim.width-3*o.uni_margin;(e=o.clust.margin.left+o.clust.dim.width+5.25*o.dendro_room.row+2)>a&&(e=a),r=o.clust.margin.top+3*o.uni_margin+30}else e=2*o.uni_margin,r=o.clust.margin.top+o.clust.dim.height+o.dendro_room.col-2*o.uni_margin;d3.select(t.params.root+\" .\"+n+\"_slider_group\").attr(\"transform\",(function(){return\"row\"===n?\"translate(\"+(e+=.8*o.dendro_room.row)+\",\"+r+\")\":\"translate(\"+e+\",\"+r+\"), rotate(-90)\"})).style(\"opacity\",1)}},function(t,e){t.exports=function(t){var e=Number(d3.select(t.root+\" .viz_svg\").attr(\"is_zoom\")),r=Number(d3.select(t.root+\" .viz_svg\").attr(\"stopped_zoom\")),n=!1;return 0===e&&0!=r&&(n=!0),n}},function(t,e){t.exports=function(t){var e=-0*(t.viz.clust.dim.height/2);d3.select(t.root+\" .clust_group\").attr(\"transform\",\"translate(\"+[0,0+e]+\") scale(1,1)translate(\"+[0,0]+\")\"),d3.select(t.root+\" .row_label_zoom_container\").attr(\"transform\",\"translate(\"+[0,e]+\") scale(1,1)translate(\"+[0,0]+\")\"),d3.select(t.root+\" .row_cat_container\").attr(\"transform\",\"translate(\"+[0,e]+\") scale(1,1)translate(\"+[0,0]+\")\"),d3.select(t.root+\" .row_dendro_container\").attr(\"transform\",\"translate(\"+[0,e]+\") scale(1,1)translate(\"+[t.viz.uni_margin/2,0]+\")\"),d3.select(t.root+\" .col_zoom_container\").attr(\"transform\",\" scale(1,1)translate(\"+[0,0]+\")\"),d3.select(t.root+\" .col_cat_container\").attr(\"transform\",\" scale(1,1)translate(\"+[0,0]+\")\"),d3.select(t.root+\" .col_dendro_container\").attr(\"transform\",\" scale(1,1)translate(\"+[0,t.viz.uni_margin/2]+\")\"),d3.select(t.root+\" .row_dendro_icons_group\").attr(\"transform\",(function(){return\"translate(0,0) scale(1)\"})),d3.select(t.root+\" .row_dendro_icons_group\").selectAll(\"path\").attr(\"transform\",(function(t){return\"translate(7,\"+t.pos_mid+\") scale(1, 1)\"}))}},function(t,e){t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={};!1===r?n.run_transition=!1:n=r;var o,a,i,s=t.viz.duration,l=t.network_data.col_nodes,c=t.network_data.col_nodes_names||[];n.run_transition?(o=e.transition().delay(n.update).duration(s),e.selectAll(\".col_cat_group\").data(l,(function(t){return t.name})).transition().delay(n.update).duration(s).attr(\"transform\",(function(e){var r=c.indexOf(e.name);return\"translate(\"+t.viz.x_scale(r)+\",0)\"})),e.selectAll(\".col_dendro_group\").data(l,(function(t){return t.name})).transition().delay(n.update).duration(s).attr(\"transform\",(function(e){var r=c.indexOf(e.name);return\"translate(\"+t.viz.x_scale(r)+\",0)\"}))):(o=e,e.selectAll(\".col_cat_group\").data(l,(function(t){return t.name})).attr(\"transform\",(function(e){var r=c.indexOf(e.name);return\"translate(\"+t.viz.x_scale(r)+\",0)\"})),d3.select(t.root).selectAll(\".col_dendro_group\").data(l,(function(t){return t.name})).attr(\"transform\",(function(e){var r=c.indexOf(e.name);return\"translate(\"+t.viz.x_scale(r)+\",0)\"}))),[\"row\",\"col\"].forEach((function(e){var r=t.viz.all_cats[e].length;for(a=0;a<r;a++)i=\".\"+e+\"_cat_rect_\"+String(a),\"row\"===e?o.selectAll(i).attr(\"height\",t.viz.y_scale.rangeBand()):o.selectAll(i).attr(\"width\",t.viz.x_scale.rangeBand())}));var u=t.viz.clust.margin.left+t.viz.clust.dim.width,d=t.viz.clust.margin.top,f=t.viz.dendro_room.row+t.viz.uni_margin;d3.select(t.root+\" .viz_svg\").select(\"row_dendro_outer_container\").attr(\"transform\",\"translate(\"+u+\",\"+d+\")\"),d3.select(t.root+\" .row_dendro_outer_container\").select(\".row_dendro_spillover\").attr(\"width\",f+\"px\").attr(\"height\",t.viz.svg_dim.height),u=t.viz.clust.margin.left,d=t.viz.clust.margin.top+t.viz.clust.dim.height;var _=t.viz.dendro_room.col+t.viz.uni_margin;d3.select(t.root+\" .col_dendro_outer_container\").select(\".col_dendro_spillover\").attr(\"width\",t.viz.svg_dim.width).attr(\"height\",_+\"px\"),d3.select(t.root+\" .col_dendro_outer_container\").select(\".col_dendro_spillover_top\").attr(\"width\",t.viz.svg_dim.width).attr(\"height\",t.viz.svg_dim.height).attr(\"transform\",\"translate(0,\"+t.viz.dendro_room.col+\")\"),u=t.viz.clust.margin.left,d=0,d3.select(t.root+\" .col_dendro_icons_container\").attr(\"transform\",\"translate(\"+u+\",\"+d+\")\")}},function(t,e){t.exports=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},a=t.viz.duration;!1===n?o.run_transition=!1:o=n,(r=o.run_transition?e.transition().delay(o.update).duration(a):e).select(\".super_col_bkg\").attr(\"height\",t.viz.super_labels.dim.width+\"px\").attr(\"transform\",\"translate(\"+t.viz.clust.margin.left+\",\"+t.viz.grey_border_width+\")\"),r.select(\".super_col\").attr(\"transform\",(function(){return\"translate(\"+(t.viz.clust.dim.width/2+t.viz.norm_labels.width.row)+\",\"+t.viz.super_labels.dim.width+\")\"})),r.select(\".super_row_bkg\").attr(\"width\",t.viz.super_labels.dim.width+\"px\").attr(\"transform\",\"translate(\"+t.viz.grey_border_width+\",0)\"),r.select(\".super_row\").attr(\"transform\",(function(){return\"translate(\"+t.viz.super_labels.dim.width+\",\"+(t.viz.clust.dim.height/2+t.viz.norm_labels.width.col)+\")\"}))}},function(t,e){t.exports=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},a=t.duration;!1===n?o.run_transition=!1:o=n,(r=o.run_transition?e.transition().delay(o.update).duration(a):e).select(t.root+\" .right_slant_triangle\").attr(\"transform\",\"translate(\"+t.clust.dim.width+\",\"+t.norm_labels.width.col+\")\"),r.select(t.root+\" .left_slant_triangle\").attr(\"transform\",\"translate(-1,\"+t.norm_labels.width.col+\")\");var i=t.clust.margin.top+t.uni_margin/5;r.select(t.root+\" .top_left_white\").attr(\"width\",t.clust.margin.left).attr(\"height\",i);var s=t.clust.margin.left+t.clust.dim.width+t.uni_margin+t.dendro_room.row,l=t.norm_labels.margin.top+t.norm_labels.width.col;r.select(t.root+\" .right_spillover_container\").attr(\"transform\",(function(){return\"translate(\"+s+\", 0)\"})),l=t.norm_labels.margin.top+t.norm_labels.width.col,r.select(t.root+\" .right_spillover_container rect\").attr(\"transform\",(function(){return\"translate( 0,\"+l+\")\"})),r.select(t.root+\" .right_spillover\").attr(\"height\",t.svg_dim.height+\"px\");var c=t.clust.margin.left+t.clust.dim.width,u=l,d=t.dendro_room.row+t.uni_margin,f=t.cat_room.col+t.uni_margin;d3.select(t.root+\" .dendro_row_spillover\").attr(\"width\",d).attr(\"height\",f).attr(\"transform\",(function(){return\"translate(\"+c+\",\"+u+\")\"})),c=0,u=t.clust.margin.top+t.clust.dim.height,d=t.clust.margin.left,f=10*t.clust.dim.height,r.select(\".dendro_col_spillover\").attr(\"width\",d).attr(\"height\",f).attr(\"transform\",(function(){return\"translate(\"+c+\",\"+u+\")\"})),c=t.clust.margin.left+t.clust.dim.width,u=t.clust.margin.top+t.clust.dim.height,d=t.cat_room.col+t.clust.dim.width,f=t.cat_room.row+t.uni_margin,r.select(\".dendro_corner_spillover\").attr(\"width\",d).attr(\"height\",f).attr(\"transform\",(function(){return\"translate(\"+c+\",\"+u+\")\"})),c=t.clust.margin.left+t.clust.dim.width+t.uni_margin,u=t.norm_labels.margin.top+t.norm_labels.width.col+2.5*t.uni_margin;var _=2.75,p=1.2;t.show_categories.col&&d3.selectAll(t.root+\" .col_cat_super\").attr(\"transform\",(function(e){var r=parseInt(e.split(\"-\")[1],10),n=u+p*t.cat_room.symbol_width*r;return\"translate(\"+c+\",\"+n+\")\"})),t.show_categories.row&&d3.select(t.root+\" .row_cat_label_container\").attr(\"transform\",(function(){return c=t.norm_labels.margin.left+t.norm_labels.width.row+t.cat_room.symbol_width+_*t.uni_margin,u=t.clust.margin.top-t.uni_margin,\"translate(\"+c+\",\"+u+\") rotate(-90)\"})),u=t.show_dendrogram?t.clust.margin.top+t.clust.dim.height+t.dendro_room.col-2*t.uni_margin:t.clust.margin.top+t.clust.dim.height,d3.select(t.root+\" .bottom_spillover_container\").attr(\"transform\",(function(){return\"translate(0,\"+u+\")\"})),r.select(t.root+\" .bottom_spillover\").attr(\"width\",t.svg_dim.width).attr(\"height\",2*t.svg_dim.height);var h=t.cat_room.col+1.5*t.uni_margin;d3.select(t.viz_svg+\" .top_right_white\").attr(\"fill\",t.background_color).attr(\"width\",2*t.clust.dim.width).attr(\"height\",h).attr(\"transform\",(function(){return\"translate(\"+(t.clust.margin.left+t.clust.dim.width)+\", \"+(t.norm_labels.width.col+t.norm_labels.margin.top-t.uni_margin)+\")\"}))}},function(t,e){t.exports=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},a=t.viz.duration,i=t.network_data.row_nodes,s=t.network_data.row_nodes_names||[];!1===n?o.run_transition=!1:o=n,o.run_transition?(e.selectAll(\".row_label_group\").data(i,(function(t){return t.name})).transition().delay(o.update).duration(a).attr(\"transform\",(function(e){var r=s.indexOf(e.name);return\"translate(0,\"+t.viz.y_scale(r)+\")\"})).attr(\"y\",.5*t.viz.rect_height+.35*t.labels.default_fs_row),r=e.transition().delay(o.update).duration(a)):(e.selectAll(\".row_label_group\").data(i,(function(t){return t.name})).attr(\"transform\",(function(e){var r=s.indexOf(e.name);return\"translate(0,\"+t.viz.y_scale(r)+\")\"})).attr(\"y\",.5*t.viz.rect_height+.35*t.labels.default_fs_row),r=e),r.select(t.root+\" .row_container\").attr(\"transform\",\"translate(\"+t.viz.norm_labels.margin.left+\",\"+t.viz.clust.margin.top+\")\"),r.select(t.root+\" .row_container\").select(\".white_bars\").attr(\"width\",t.viz.label_background.row).attr(\"height\",30*t.viz.clust.dim.height+\"px\"),r.select(t.root+\" .row_container\").select(\".row_label_container\").attr(\"transform\",\"translate(\"+t.viz.norm_labels.width.row+\",0)\")}},function(t,e){t.exports=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},a=t.viz.duration;!1===n?o.run_transition=!1:o=n,(r=o.run_transition?e.transition().delay(o.update).duration(a):e).select(\".row_cat_outer_container\").attr(\"transform\",\"translate(\"+t.viz.norm_labels.width.row+\",0)\").select(\"white_bars\").attr(\"width\",t.viz.cat_room.row+\"px\").attr(\"height\",(function(){return t.viz.clust.dim.height}));var i=t.viz.clust.margin.left+t.viz.clust.dim.width,s=t.viz.clust.margin.top;r.select(\".row_dendro_outer_container\").attr(\"transform\",\"translate(\"+i+\",\"+s+\")\"),i=t.viz.clust.margin.left,s=t.viz.clust.margin.top+t.viz.clust.dim.height,r.select(\" .col_dendro_outer_container\").attr(\"transform\",(function(){return\"translate(\"+i+\",\"+s+\")\"}))}},function(t,e){t.exports=function(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={},a=t.viz.duration,i=t.network_data.col_nodes,s=t.network_data.col_nodes_names||[];!1===n?o.run_transition=!1:o=n,o.run_transition?(r=e.transition().delay(o.update).duration(a),e.selectAll(\".col_label_text\").data(i,(function(t){return t.name})).transition().delay(o.update).duration(a).attr(\"transform\",(function(e){var r=s.indexOf(e.name);return\"translate(\"+t.viz.x_scale(r)+\", 0) rotate(-90)\"}))):(r=e,e.selectAll(\".col_label_text\").data(i,(function(t){return t.name})).attr(\"transform\",(function(e){var r=s.indexOf(e.name);return\"translate(\"+t.viz.x_scale(r)+\", 0) rotate(-90)\"})));var l=t.viz.x_scale.rangeBand()/2+t.viz.border_width.x;r.select(t.root+\" .col_container\").attr(\"transform\",\"translate(\"+t.viz.clust.margin.left+\",\"+t.viz.norm_labels.margin.top+\")\"),r.select(t.root+\" .col_container\").select(\".white_bars\").attr(\"width\",30*t.viz.clust.dim.width+\"px\").attr(\"height\",t.viz.label_background.col),r.select(t.root+\" .col_container\").select(\".col_label_outer_container\").attr(\"transform\",\"translate(0,\"+t.viz.norm_labels.width.col+\")\"),r.selectAll(\".col_label_group\").attr(\"transform\",\"translate(\"+t.viz.x_scale.rangeBand()/2+\",\"+l+\") rotate(45)\"),r.selectAll(\".col_label_group\").select(\"text\").attr(\"y\",.6*t.viz.x_scale.rangeBand()).attr(\"dx\",2*t.viz.border_width.x)}},function(t,e,r){var n=r(0);t.exports=function(t,e){e.selectAll(\".col_label_group\").select(\"text\").style(\"font-size\",t.labels.default_fs_col+\"px\").text((function(t){return n.normal_name(t)})),e.selectAll(\".col_label_group\").each((function(){d3.select(this).select(\"text\")[0][0].getBBox()}))}},function(t,e,r){var n=r(100);t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.selectAll(\".col_label_group\").select(\"path\"),a={},i=t.viz.duration;!1===r?a.run_transition=!1:a=r,(a.run_transition?o.transition().delay(a.update).duration(i):o).attr(\"d\",(function(){return n(t)})).attr(\"fill\",\"#eee\")}},function(t,e,r){var n=r(0);t.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={};!1===r?o.run_transition=!1:o=r,n.has(t.network_data.col_nodes[0],\"value\")&&e.selectAll(\".col_bars\").data(t.network_data.col_nodes,(function(t){return t.name})).attr(\"width\",(function(e){var r=0;return e.value>0&&(r=t.labels.bar_scale_col(e.value)),r})).attr(\"height\",.66*t.viz.rect_width)}},function(t,e,r){var n=r(86);t.exports=function(t,e){var r=t.params;r=n(r),e.selectAll(\".row_bars\").attr(\"width\",(function(t){return r.labels.bar_scale_row(Math.abs(t.value))})).attr(\"x\",(function(t){return-r.labels.bar_scale_row(Math.abs(t.value))})).attr(\"height\",r.viz.y_scale.rangeBand())}},function(t,e){t.exports=function(t){var e=d3.select(t.root+\" .clust_container\").attr(\"transform\"),r=Number(e.split(\"(\")[1].split(\",\")[0]),n=Number(e.split(\",\")[1].replace(\")\",\"\")),o=r+t.viz.clust.dim.width/2,a=n+t.viz.clust.dim.height/2;d3.select(t.root+\" .play_button\").attr(\"transform\",(function(){return\"translate(\"+o+\",\"+a+\")\"}))}},function(t,e,r){var n=r(71),o=r(263),a=r(65);t.exports=function(t,e){o(t.params);var r=n(t.config,t.params,e);d3.select(t.params.root+\" .crop_button\").style(\"color\",\"#337ab7\").classed(\"fa-crop\",!0).classed(\"fa-undo\",!1).classed(\"active_cropping\",!1),[\"row\",\"col\"].forEach((function(e){d3.select(t.params.root+\" .\"+e+\"_dendro_icons_group\").classed(\"ran_filter\",!1),d3.select(t.params.root+\" .\"+e+\"_dendro_icons_container\").style(\"display\",\"block\")})),a(t,r)}},function(t,e,r){var n=r(0),o=r(52),a=r(50),i=r(51),s=r(115),l=r(116),c=r(117),u=r(118),d=r(119),f=r(120),_=r(121),p=r(122),h=r(123),m=r(124),v=r(125),g=r(54),y=r(53),w=r(11);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===r&&((r={}).enter=0,r.update=0,r.run_transition=!1);var x=t.params,b=t.params.network_data.row_nodes;x.zoom_info=w();var z=x.network_data.row_nodes_names||[];s(x),(x=a(x)).viz=i(x.viz),x.viz=o(x.viz),x.sim_mat&&(x.viz.clust.dim.width<=x.viz.clust.dim.height?x.viz.clust.dim.height=x.viz.clust.dim.width:x.viz.clust.dim.width=x.viz.clust.dim.height),x.viz=y(x.viz),x.viz.x_scale.rangeBands([0,x.viz.clust.dim.width]),x.viz.y_scale.rangeBands([0,x.viz.clust.dim.height]),x.viz.square_zoom=x.viz.norm_labels.width.col/(x.viz.x_scale.rangeBand()/2),x.zoom_behavior.scaleExtent([1,x.viz.square_zoom*x.viz.zoom_ratio.x]),x.viz.border_width.x=x.viz.x_scale.rangeBand()/x.viz.border_fraction,x.viz.border_width.y=x.viz.y_scale.rangeBand()/x.viz.border_fraction,x=g(x);var k=d3.select(x.viz.viz_wrapper).select(\"svg\");k.select(x.root+\" .grey_background\").transition().delay(r.update).duration(e).attr(\"width\",x.viz.clust.dim.width).attr(\"height\",x.viz.clust.dim.height),d(x,k,r),k.selectAll(\".row_label_group\").select(\"text\").style(\"font-size\",x.labels.default_fs_row+\"px\").text((function(t){return n.normal_name(t)})),k.selectAll(\".row_label_group\").each((function(){var t=d3.select(this).select(\"text\")[0][0].getBBox();d3.select(this).select(\"rect\").attr(\"x\",t.x).attr(\"y\",0).attr(\"width\",t.width).attr(\"height\",x.viz.y_scale.rangeBand()).style(\"fill\",\"yellow\").style(\"opacity\",(function(t){var e=0;return 1===t.target&&(e=1),e}))})),f(x,k,r),r.run_transition?(k.selectAll(\".row_label_group\").select(\"text\").transition().delay(r.update).duration(e).attr(\"y\",.5*x.viz.rect_height+.35*x.labels.default_fs_row),k.selectAll(\".row_cat_group\").data(b,(function(t){return t.name})).transition().delay(r.update).duration(e).attr(\"transform\",(function(t){var e=z.indexOf(t.name);return\"translate(0, \"+x.viz.y_scale(e)+\")\"})),k.selectAll(\".row_cat_group\").select(\"path\").transition().delay(r.update).duration(e).attr(\"d\",(function(){return\"M \"+(x.viz.cat_room.symbol_width-1)+\",0 L 1,\"+x.viz.y_scale.rangeBand()/2+\" L \"+(x.viz.cat_room.symbol_width-1)+\",\"+x.viz.y_scale.rangeBand()+\" Z\"})),k.selectAll(\".row_dendro_group\").data(b,(function(t){return t.name})).transition().delay(r.update).duration(e).attr(\"transform\",(function(t){var e=z.indexOf(t.name);return\"translate(0, \"+x.viz.y_scale(e)+\")\"}))):(k.selectAll(\".row_label_group\").select(\"text\").attr(\"y\",.5*x.viz.rect_height+.35*x.labels.default_fs_row),k.selectAll(\".row_cat_group\").data(b,(function(t){return t.name})).attr(\"transform\",(function(t){var e=z.indexOf(t.name);return\"translate(0, \"+x.viz.y_scale(e)+\")\"})),k.selectAll(\".row_cat_group\").select(\"path\").attr(\"d\",(function(){return\"M \"+(x.viz.cat_room.symbol_width-1)+\",0 L 1,\"+x.viz.y_scale.rangeBand()/2+\" L \"+(x.viz.cat_room.symbol_width-1)+\",\"+x.viz.y_scale.rangeBand()+\" Z\"})),k.selectAll(\".row_dendro_group\").data(b,(function(t){return t.name})).attr(\"transform\",(function(t){var e=z.indexOf(t.name);return\"translate(0, \"+x.viz.y_scale(e)+\")\"}))),n.has(x.network_data.row_nodes[0],\"value\")&&v(t,k),_(x,k,r),p(x,k),h(x,k,r),m(x,k,r),l(x,k,r),c(x,k,r),u(x.viz,k,r),x.zoom_behavior.scale(1).translate([x.viz.clust.margin.left,x.viz.clust.margin.top])}},function(t,e){t.exports=function(t){d3.select(t.root+\" .clust_container\").attr(\"transform\",\"translate(\"+t.viz.clust.margin.left+\",\"+t.viz.clust.margin.top+\")\"),d3.select(t.root+\" .col_label_outer_container\").attr(\"transform\",\"translate(0,\"+t.viz.norm_labels.width.col+\")\"),d3.select(t.root+\" .col_cat_outer_container\").attr(\"transform\",(function(){return\"translate(0,\"+(t.viz.norm_labels.width.col+2)+\")\"}))}},function(t,e,r){var n=r(2);t.exports=function(t,e){!1===e?d3.select(t.root+\" .play_button\").transition().duration(500).style(\"opacity\",0):(d3.select(t.root+\" .play_button\").transition().duration(500).style(\"opacity\",1),n.unblockUI())}},function(t,e,r){var n=r(297),o=r(1);t.exports=function(t){var e,r=t.matrix,a={};[\"row\",\"col\"].forEach((function(n){var o;o=\"row\"===n?\"col\":\"row\",e=t.inst_order[n],a[o]=r.orders[e+\"_\"+n]}));for(var i,s=\"\\t\",l=t.network_data.row_nodes,c=t.network_data.col_nodes,u=0;u<a.col.length;u++){var d=c[a.col[u]],f=n(t,d,\"col\");u<a.col.length-1?s=s+f+\"\\t\":s+=f}return s+=\"\\n\",o(a.row,(function(e){i=r.matrix[e].row_data;var o=l[e],c=n(t,o,\"row\");s=s+c+\"\\t\";for(var u=0;u<a.col.length;u++){var d=a.col[u];u<a.col.length-1?s=s+String(i[d].value)+\"\\t\":s+=String(i[d].value)}s+=\"\\n\"})),s}},function(t,e){t.exports=d3},function(t,e,r){var n=r(134),o=r(70),a=r(196),i=r(63),s=r(254),l=r(284),c=r(287),u=r(288),d=r(289),f=r(290),_=r(17),p=r(292),h=r(295),m=r(298),v=r(64),g=r(10),y=r(102),w=r(131),x=r(132);x.slider=r(300),t.exports=function(t){var e=n(t),r={};function b(t){i(t)}return r.params=o(e),r.config=e,r.params.zoom_behavior=x.behavior.zoom().scaleExtent([1,r.params.viz.square_zoom*r.params.viz.zoom_ratio.x]).on(\"zoom\",(function(){v(r)})),r.params.zoom_behavior.translate([r.params.viz.clust.margin.left,r.params.viz.clust.margin.top]),a(r),r.update_view=p,r.resize_viz=function(){x.select(r.params.viz.viz_svg).style(\"opacity\",.5);var t=500;!0===this.params.viz.run_trans&&(t=2500),setTimeout(b,t,this)},r.play_demo=s,r.ini_demo=l,r.filter_viz_using_nodes=c,r.filter_viz_using_names=u,r.update_cats=function(t){d(this,t)},r.reset_cats=f,r.zoom=function(t,e,r){_(this,t,e,r)},r.save_matrix=h,r.brush_crop_matrix=m,r.d3_tip_custom=function(){return g},r.reorder=function(t,e){\"sum\"===e&&(e=\"rank\"),\"var\"===e&&(e=\"rankvar\"),y(this,e,t)},r.export_matrix_string=function(){return w(this.params)},r.update_view=function(t,e){p(this,t,e)},r}},function(t,e,r){var n=r(0),o=r(135),a=r(41),i=r(42),s=r(140),l=r(141),c=r(142);t.exports=function(t){var e=s(),r=n.extend(e,t);r.network_data=t.network_data;[\"row\",\"col\"].forEach((function(t){var e=r.network_data[t+\"_nodes\"]||[],n=c(e);e.forEach((function(e,o){e[t+\"_index\"]=o,n&&(r.super_labels=!0,r.super[t]=e.name.split(\": \")[0],e.name=e.name.split(\": \")[1]),e.name=String(e.name),e.name=e.name.replace(/_/g,\" \")}))})),r.network_data.row_nodes_names=n.pluck(r.network_data.row_nodes,\"name\"),r.network_data.col_nodes_names=n.pluck(r.network_data.col_nodes,\"name\"),r.sim_mat=l(r);var u=a(r.network_data.views),d={};Object.keys(u.possible_filters||{}).forEach((function(t){var e=i(u.filter_data,t);d[t]=e})),n.has(r.network_data,\"views\")&&r.network_data.views.forEach((function(t){Object.keys(u.possible_filters||{}).forEach((function(e){n.has(t,e)||(t[e]=d[e])}));var e=t.nodes;[\"row\",\"col\"].forEach((function(t){var r=c(e[t+\"_nodes\"]);e[t+\"_nodes\"].forEach((function(e,n){e[t+\"_index\"]=n,r&&(e.name=e.name.split(\": \")[1]),e.name=String(e.name),e.name=e.name.replace(/_/g,\" \")}))}))}));var f=r.network_data.col_nodes,_=r.network_data.row_nodes;if(n.has(r.network_data,\"mat\")){for(var p=[],h=r.network_data.mat,m={},v=0;v<h.length;v++)for(var g=0;g<h[0].length;g++)(m={}).source=v,m.target=g,m.value=h[v][g],p.push(m);r.network_data.links=p}if(r.network_data.links.forEach((function(t){t.name=_[t.source].name+\"_\"+f[t.target].name,t.row_name=_[t.source].name,t.col_name=f[t.target].name})),r.transpose){r.network_data=o(r.network_data);var y=t.col_label,w=t.row_label;t.row_label=y,t.col_label=w}n.is_undefined(t.row_label)||n.is_undefined(t.col_label)||(r.super_labels=!0,r.super={},r.super.row=t.row_label,r.super.col=t.col_label),r.inst_order={},!n.is_undefined(t.order)&&n.is_supported_order(t.order)?(r.inst_order.row=t.order,r.inst_order.col=t.order):(r.inst_order.row=\"clust\",r.inst_order.col=\"clust\"),!n.is_undefined(t.row_order)&&n.is_supported_order(t.row_order)&&(r.inst_order.col=t.row_order),!n.is_undefined(t.col_order)&&n.is_supported_order(t.col_order)&&(r.inst_order.row=t.col_order);var x=n.has(r.network_data.row_nodes[0],\"group\"),b=n.has(r.network_data.col_nodes[0],\"group\");return r.show_dendrogram=x||b,n.has(r.network_data.links[0],\"value_orig\")?r.keep_orig=!0:r.keep_orig=!1,r}},function(t,e,r){var n=r(0);t.exports=function(t){var e,r,o={};for(o.row_nodes=t.col_nodes,o.col_nodes=t.row_nodes,o.links=[],r=0;r<t.links.length;r++)(e={}).source=t.links[r].target,e.target=t.links[r].source,e.value=t.links[r].value,n.has(t.links[r],\"highlight\")&&(e.highlight=t.links[r].highlight),n.has(t.links[r],\"value_up\")&&(e.value_up=t.links[r].value_up),n.has(t.links[r],\"value_dn\")&&(e.value_dn=t.links[r].value_dn),n.has(t.links[r],\"info\")&&(e.info=t.links[r].info),o.links.push(e);return o}},function(t,e,r){var n=r(6);t.exports=function(t){return function(e){var r=t(e);return\"number\"==typeof r&&r>=0&&r<=n.MAX_ARRAY_INDEX}}},function(t,e){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var n;n=function(){return this}();try{n=n||new Function(\"return this\")()}catch(t){\"object\"===(\"undefined\"==typeof window?\"undefined\":r(window))&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,r){var n=r(6),o=r(69),a=r(28);t.exports=function(t,e){e=function(t){for(var e={},r=t.length,n=0;n<r;++n)e[t[n]]=!0;return{contains:function(t){return!0===e[t]},push:function(r){return e[r]=!0,t.push(r)}}}(e);var r=n.nonEnumerableProps.length,i=t.constructor,s=o(i)&&i.prototype||n.ObjProto,l=\"constructor\";for(a(t,l)&&!e.contains(l)&&e.push(l);r--;)(l=n.nonEnumerableProps[r])in t&&t[l]!==s[l]&&!e.contains(l)&&e.push(l)}},function(t,e){t.exports=function(){return{row_label_scale:1,col_label_scale:1,super_labels:!1,super:{},show_label_tooltips:!0,show_tile_tooltips:!0,transpose:!1,tile_colors:[\"#FF0000\",\"#1C86EE\"],bar_colors:[\"#FF0000\",\"#1C86EE\"],cat_value_colors:[\"#2F4F4F\",\"#9370DB\"],outline_colors:[\"orange\",\"black\"],highlight_color:\"#FFFF00\",tile_title:!1,input_domain:0,opacity_scale:\"linear\",do_zoom:!0,is_zoom:0,is_slider_drag:!1,is_cropping:!1,background_color:\"#FFFFFF\",clust_group_background_color:\"#E4E5E7\",super_border_color:\"#F5F5F5\",outer_margins:{top:0,bottom:0,left:0,right:0},ini_expand:!1,grey_border_width:2,tile_click_hlight:!1,super_label_scale:1,make_tile_tooltip:function(t){return t.info},ini_view:null,requested_view:null,use_sidebar:!0,title:null,about:null,sidebar_width:160,sidebar_icons:!0,row_search_placeholder:\"Row\",buffer_width:10,show_sim_mat:!1,cat_colors:null,resize:!0,clamp_opacity:.85,expand_button:!0,max_allow_fs:20,dendro_filter:{row:!1,col:!1},cat_filter:{row:!1,col:!1},crop_filter_nodes:{row:!1,col:!1},row_tip_callback:null,col_tip_callback:null,tile_tip_callback:null,matrix_update_callback:null,cat_update_callback:null,dendro_callback:null,dendro_click_callback:null,new_row_cats:null,make_modals:!0,show_viz_border:!1}}},function(t,e,r){var n=r(1);t.exports=function(t){var e=!1;if(t.network_data.row_nodes_names.length==t.network_data.col_nodes_names.length){var r=t.network_data.row_nodes_names,o=t.network_data.col_nodes_names;e=!0,n(r,(function(t){var n=r.indexOf(t);t!==o[n]&&(e=!1)}))}return e&&(t.expand_button=!1),e}},function(t,e,r){var n=r(1);t.exports=function(t){var e=!0;return n(t,(function(t){String(t.name).indexOf(\": \")<0&&(e=!1)})),e}},function(t,e,r){var n=r(4).isFactory,o=r(144),a=r(73),i=r(148),s=r(150);e.create=function(t){if(\"function\"!=typeof Object.create)throw new Error(\"ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.\");var e=[],r=[],l=a.mixin({});l.type={},l.expression={transform:{},mathWithTransform:{}},l.typed=o.create(l.type);var c={epsilon:1e-12,matrix:\"Matrix\",number:\"number\",precision:64,predictable:!1,randomSeed:null};function u(t){if(!n(t))throw new Error(\"Factory object with properties `type`, `name`, and `factory` expected\");var o,a=e.indexOf(t);return-1===a?(o=!0===t.math?t.factory(l.type,c,u,l.typed,l):t.factory(l.type,c,u,l.typed),e.push(t),r.push(o)):o=r[a],o}return l.import=u(i),l.config=u(s),l.expression.mathWithTransform.config=l.config,t&&l.config(t),l}},function(t,e,r){function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(145),a=r(3).digits,i=r(44),s=r(146),l=function(){return l=o.create,o};e.create=function(t){t.isNumber=function(t){return\"number\"==typeof t},t.isComplex=function(e){return t.Complex&&e instanceof t.Complex||!1},t.isBigNumber=i,t.isFraction=function(e){return t.Fraction&&e instanceof t.Fraction||!1},t.isUnit=function(t){return t&&t.constructor.prototype.isUnit||!1},t.isString=function(t){return\"string\"==typeof t},t.isArray=Array.isArray,t.isMatrix=s,t.isDenseMatrix=function(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix||!1},t.isSparseMatrix=function(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix||!1},t.isRange=function(t){return t&&t.constructor.prototype.isRange||!1},t.isIndex=function(t){return t&&t.constructor.prototype.isIndex||!1},t.isBoolean=function(t){return\"boolean\"==typeof t},t.isResultSet=function(t){return t&&t.constructor.prototype.isResultSet||!1},t.isHelp=function(t){return t&&t.constructor.prototype.isHelp||!1},t.isFunction=function(t){return\"function\"==typeof t},t.isDate=function(t){return t instanceof Date},t.isRegExp=function(t){return t instanceof RegExp},t.isObject=function(t){return\"object\"===n(t)},t.isNull=function(t){return null===t},t.isUndefined=function(t){return void 0===t},t.isAccessorNode=function(t){return t&&t.isAccessorNode&&t.constructor.prototype.isNode||!1},t.isArrayNode=function(t){return t&&t.isArrayNode&&t.constructor.prototype.isNode||!1},t.isAssignmentNode=function(t){return t&&t.isAssignmentNode&&t.constructor.prototype.isNode||!1},t.isBlockNode=function(t){return t&&t.isBlockNode&&t.constructor.prototype.isNode||!1},t.isConditionalNode=function(t){return t&&t.isConditionalNode&&t.constructor.prototype.isNode||!1},t.isConstantNode=function(t){return t&&t.isConstantNode&&t.constructor.prototype.isNode||!1},t.isFunctionAssignmentNode=function(t){return t&&t.isFunctionAssignmentNode&&t.constructor.prototype.isNode||!1},t.isFunctionNode=function(t){return t&&t.isFunctionNode&&t.constructor.prototype.isNode||!1},t.isIndexNode=function(t){return t&&t.isIndexNode&&t.constructor.prototype.isNode||!1},t.isNode=function(t){return t&&t.isNode&&t.constructor.prototype.isNode||!1},t.isObjectNode=function(t){return t&&t.isObjectNode&&t.constructor.prototype.isNode||!1},t.isOperatorNode=function(t){return t&&t.isOperatorNode&&t.constructor.prototype.isNode||!1},t.isParenthesisNode=function(t){return t&&t.isParenthesisNode&&t.constructor.prototype.isNode||!1},t.isRangeNode=function(t){return t&&t.isRangeNode&&t.constructor.prototype.isNode||!1},t.isSymbolNode=function(t){return t&&t.isSymbolNode&&t.constructor.prototype.isNode||!1},t.isChain=function(t){return t&&t.constructor.prototype.isChain||!1};var e=l();return e.types=[{name:\"number\",test:t.isNumber},{name:\"Complex\",test:t.isComplex},{name:\"BigNumber\",test:t.isBigNumber},{name:\"Fraction\",test:t.isFraction},{name:\"Unit\",test:t.isUnit},{name:\"string\",test:t.isString},{name:\"Array\",test:t.isArray},{name:\"Matrix\",test:t.isMatrix},{name:\"DenseMatrix\",test:t.isDenseMatrix},{name:\"SparseMatrix\",test:t.isSparseMatrix},{name:\"Range\",test:t.isRange},{name:\"Index\",test:t.isIndex},{name:\"boolean\",test:t.isBoolean},{name:\"ResultSet\",test:t.isResultSet},{name:\"Help\",test:t.isHelp},{name:\"function\",test:t.isFunction},{name:\"Date\",test:t.isDate},{name:\"RegExp\",test:t.isRegExp},{name:\"Object\",test:t.isObject},{name:\"null\",test:t.isNull},{name:\"undefined\",test:t.isUndefined},{name:\"OperatorNode\",test:t.isOperatorNode},{name:\"ConstantNode\",test:t.isConstantNode},{name:\"SymbolNode\",test:t.isSymbolNode},{name:\"ParenthesisNode\",test:t.isParenthesisNode},{name:\"FunctionNode\",test:t.isFunctionNode},{name:\"FunctionAssignmentNode\",test:t.isFunctionAssignmentNode},{name:\"ArrayNode\",test:t.isArrayNode},{name:\"AssignmentNode\",test:t.isAssignmentNode},{name:\"BlockNode\",test:t.isBlockNode},{name:\"ConditionalNode\",test:t.isConditionalNode},{name:\"IndexNode\",test:t.isIndexNode},{name:\"RangeNode\",test:t.isRangeNode},{name:\"Node\",test:t.isNode}],e.conversions=[{from:\"number\",to:\"BigNumber\",convert:function(e){if(a(e)>15)throw new TypeError(\"Cannot implicitly convert a number with >15 significant digits to BigNumber (value: \"+e+\"). Use function bignumber(x) to convert to BigNumber.\");return new t.BigNumber(e)}},{from:\"number\",to:\"Complex\",convert:function(e){return new t.Complex(e,0)}},{from:\"number\",to:\"string\",convert:function(t){return t+\"\"}},{from:\"BigNumber\",to:\"Complex\",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:\"Fraction\",to:\"BigNumber\",convert:function(t){throw new TypeError(\"Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.\")}},{from:\"Fraction\",to:\"Complex\",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:\"number\",to:\"Fraction\",convert:function(e){if(new t.Fraction(e).valueOf()!==e)throw new TypeError(\"Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: \"+e+\"). Use function fraction(x) to convert to Fraction.\");return new t.Fraction(e)}},{from:\"string\",to:\"number\",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert \"'+t+'\" to a number');return e}},{from:\"string\",to:\"BigNumber\",convert:function(e){try{return new t.BigNumber(e)}catch(t){throw new Error('Cannot convert \"'+e+'\" to BigNumber')}}},{from:\"string\",to:\"Fraction\",convert:function(e){try{return new t.Fraction(e)}catch(t){throw new Error('Cannot convert \"'+e+'\" to Fraction')}}},{from:\"string\",to:\"Complex\",convert:function(e){try{return new t.Complex(e)}catch(t){throw new Error('Cannot convert \"'+e+'\" to Complex')}}},{from:\"boolean\",to:\"number\",convert:function(t){return+t}},{from:\"boolean\",to:\"BigNumber\",convert:function(e){return new t.BigNumber(+e)}},{from:\"boolean\",to:\"Fraction\",convert:function(e){return new t.Fraction(+e)}},{from:\"boolean\",to:\"string\",convert:function(t){return+t}},{from:\"null\",to:\"number\",convert:function(){return 0}},{from:\"null\",to:\"string\",convert:function(){return\"null\"}},{from:\"null\",to:\"BigNumber\",convert:function(){return new t.BigNumber(0)}},{from:\"null\",to:\"Fraction\",convert:function(){return new t.Fraction(0)}},{from:\"Array\",to:\"Matrix\",convert:function(e){return new t.DenseMatrix(e)}},{from:\"Matrix\",to:\"Array\",convert:function(t){return t.valueOf()}}],e}},function(t,e,r){\"use strict\";var n,o,a;function i(t){return(i=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}o=[],void 0===(a=\"function\"==typeof(n=function(){return function t(){function e(t){for(var e,r=0;r<v.types.length;r++){var n=v.types[r];if(n.name===t){e=n.test;break}}if(!e){var o;for(r=0;r<v.types.length;r++)if((n=v.types[r]).name.toLowerCase()==t.toLowerCase()){o=n.name;break}throw new Error('Unknown type \"'+t+'\"'+(o?'. Did you mean \"'+o+'\"?':\"\"))}return e}function r(t){for(var e=\"\",r=0;r<t.length;r++){var n=t[r];if(n.signatures&&\"\"!=n.name)if(\"\"==e)e=n.name;else if(e!=n.name){var o=new Error(\"Function names do not match (expected: \"+e+\", actual: \"+n.name+\")\");throw o.data={actual:n.name,expected:e},o}}return e}function n(t,e,r,n,o){var a,i=u(n),s=o?o.split(\",\"):null,l=t||\"unnamed\",c=s&&d(s,\"any\"),f={fn:t,index:r,actual:n,expected:s};a=s?e>r&&!c?\"Unexpected type of argument in function \"+l+\" (expected: \"+s.join(\" or \")+\", actual: \"+i+\", index: \"+r+\")\":\"Too few arguments in function \"+l+\" (expected: \"+s.join(\" or \")+\", index: \"+r+\")\":\"Too many arguments in function \"+l+\" (expected: \"+r+\", actual: \"+e+\")\";var _=new TypeError(a);return _.data=f,_}function o(t){this.name=t||\"refs\",this.categories={}}function a(t,e){if(\"string\"==typeof t){var r=t.trim(),n=\"...\"===r.substr(0,3);if(n&&(r=r.substr(3)),\"\"===r)this.types=[\"any\"];else{this.types=r.split(\"|\");for(var o=0;o<this.types.length;o++)this.types[o]=this.types[o].trim()}}else{if(!Array.isArray(t)){if(t instanceof a)return t.clone();throw new Error(\"String or Array expected\")}this.types=t}this.conversions=[],this.varArgs=n||e||!1,this.anyType=-1!==this.types.indexOf(\"any\")}function s(t,e){var r;if(\"string\"==typeof t)r=\"\"!==t?t.split(\",\"):[];else{if(!Array.isArray(t))throw new Error(\"string or Array expected\");r=t}this.params=new Array(r.length),this.anyType=!1,this.varArgs=!1;for(var n=0;n<r.length;n++){var o=new a(r[n]);if(this.params[n]=o,o.anyType&&(this.anyType=!0),n===r.length-1)this.varArgs=o.varArgs;else if(o.varArgs)throw new SyntaxError('Unexpected variable arguments operator \"...\"')}this.fn=e}function l(t,e,r,n){this.path=t||[],this.param=t[t.length-1]||null,this.signature=e||null,this.childs=r||[],this.fallThrough=n||!1}function c(t,e){var r=new o,i=function(t){var e,r,n={},o=[];for(var a in t)if(t.hasOwnProperty(a)){if((e=new s(a,t[a])).ignore())continue;var i=e.expand();for(r=0;r<i.length;r++){var l=i[r],c=l.toString(),u=n[c];if(u){var f=s.compare(l,u);if(f<0)n[c]=l;else if(0===f)throw new Error('Signature \"'+c+'\" is defined twice')}else n[c]=l}}for(c in n)n.hasOwnProperty(c)&&o.push(n[c]);for(o.sort((function(t,e){return s.compare(t,e)})),r=0;r<o.length;r++)if((e=o[r]).varArgs)for(var _=e.params.length-1,p=e.params[_],h=0;h<p.types.length;){if(p.conversions[h])for(var m=p.types[h],v=0;v<o.length;v++){var g=o[v],y=g.params[_];if(g!==e&&y&&d(y.types,m)&&!y.conversions[_]){p.types.splice(h,1),p.conversions.splice(h,1),h--;break}}h++}return o}(e);if(0==i.length)throw new Error(\"No signatures provided\");var c=function t(e,r,n){var o,i,s,c=r.length,u=[];for(o=0;o<e.length;o++)(i=e[o]).params.length!==c||s||(s=i),null!=i.params[c]&&u.push(i);u.sort((function(t,e){return a.compare(t.params[c],e.params[c])}));var f=[];for(o=0;o<u.length;o++){var _=(i=u[o]).params[c],p=f.filter((function(t){return t.param.overlapping(_)}))[0];if(p){if(p.param.varArgs)throw new Error('Conflicting types \"'+p.param+'\" and \"'+_+'\"');p.signatures.push(i)}else f.push({param:_,signatures:[i]})}var h=[];for(o=0;o<n.length;o++)n[o].paramsStartWith(r)&&h.push(n[o]);var m=!1;for(o=0;o<h.length;o++)if(!d(e,h[o])){m=!0;break}var v=new Array(f.length);for(o=0;o<f.length;o++){var g=f[o];v[o]=t(g.signatures,r.concat(g.param),h)}return new l(r,s,v,m)}(i,[],function(t){for(var e=[],r=0;r<t.length;r++)t[r].anyType&&e.push(t[r]);return e}(i)),u=[],f=(t||\"\").replace(/[^a-zA-Z0-9_$]/g,\"_\"),_=function(t){for(var e=[],r=0;r<t;r++)e[r]=\"arg\"+r;return e}(function(t){for(var e=0,r=0;r<t.length;r++){var n=t[r].params.length;n>e&&(e=n)}return e}(i));u.push(\"function \"+f+\"(\"+_.join(\", \")+\") {\"),u.push('  \"use strict\";'),u.push(\"  var name = \"+JSON.stringify(t||\"\")+\";\"),u.push(c.toCode(r,\"  \",!1)),u.push(\"}\");var p=[r.toCode(),\"return \"+u.join(\"\\n\")].join(\"\\n\"),h=new Function(r.name,\"createError\",p)(r,n);return h.signatures=function(t){for(var e={},r=0;r<t.length;r++){var n=t[r];n.fn&&!n.hasConversions()&&(e[n.params.join(\",\")]=n.fn)}return e}(i),h}function u(t){for(var e,r=0;r<v.types.length;r++){var n=v.types[r];if(\"Object\"===n.name)e=n;else if(n.test(t))return n.name}return e&&e.test(t)?e.name:\"unknown\"}function d(t,e){return-1!==t.indexOf(e)}function f(t){return t[t.length-1]}o.prototype.add=function(t,e){var r=e||\"fn\";this.categories[r]||(this.categories[r]=[]);var n=this.categories[r].indexOf(t);return-1==n&&(n=this.categories[r].length,this.categories[r].push(t)),r+n},o.prototype.toCode=function(){var t=[],e=this.name+\".categories\",r=this.categories;for(var n in r)if(r.hasOwnProperty(n))for(var o=r[n],a=0;a<o.length;a++)t.push(\"var \"+n+a+\" = \"+e+\"['\"+n+\"'][\"+a+\"];\");return t.join(\"\\n\")},a.compare=function(t,e){if(t.anyType)return 1;if(e.anyType)return-1;if(d(t.types,\"Object\"))return 1;if(d(e.types,\"Object\"))return-1;if(t.hasConversions()){if(e.hasConversions()){var r,n,o;for(r=0;r<t.conversions.length;r++)if(void 0!==t.conversions[r]){n=t.conversions[r];break}for(r=0;r<e.conversions.length;r++)if(void 0!==e.conversions[r]){o=e.conversions[r];break}return v.conversions.indexOf(n)-v.conversions.indexOf(o)}return 1}if(e.hasConversions())return-1;var a,i;for(r=0;r<v.types.length;r++)if(v.types[r].name===t.types[0]){a=r;break}for(r=0;r<v.types.length;r++)if(v.types[r].name===e.types[0]){i=r;break}return a-i},a.prototype.overlapping=function(t){for(var e=0;e<this.types.length;e++)if(d(t.types,this.types[e]))return!0;return!1},a.prototype.matches=function(t){return this.anyType||t.anyType||this.overlapping(t)},a.prototype.clone=function(){var t=new a(this.types.slice(),this.varArgs);return t.conversions=this.conversions.slice(),t},a.prototype.hasConversions=function(){return this.conversions.length>0},a.prototype.contains=function(t){for(var e=0;e<this.types.length;e++)if(t[this.types[e]])return!0;return!1},a.prototype.toString=function(t){for(var e=[],r={},n=0;n<this.types.length;n++){var o=this.conversions[n],a=t&&o?o.to:this.types[n];a in r||(r[a]=!0,e.push(a))}return(this.varArgs?\"...\":\"\")+e.join(\"|\")},s.prototype.clone=function(){return new s(this.params.slice(),this.fn)},s.prototype.expand=function(){var t=[];return function e(r,n){if(n.length<r.params.length){var o,i,l,c=r.params[n.length];if(c.varArgs){for(i=c.clone(),o=0;o<v.conversions.length;o++)if(l=v.conversions[o],!d(c.types,l.from)&&d(c.types,l.to)){var u=i.types.length;i.types[u]=l.from,i.conversions[u]=l}e(r,n.concat(i))}else{for(o=0;o<c.types.length;o++)e(r,n.concat(new a(c.types[o])));for(o=0;o<v.conversions.length;o++)l=v.conversions[o],!d(c.types,l.from)&&d(c.types,l.to)&&((i=new a(l.from)).conversions[0]=l,e(r,n.concat(i)))}}else t.push(new s(n,r.fn))}(this,[]),t},s.compare=function(t,e){if(t.params.length>e.params.length)return 1;if(t.params.length<e.params.length)return-1;var r,n=t.params.length,o=0,i=0;for(r=0;r<n;r++)t.params[r].hasConversions()&&o++,e.params[r].hasConversions()&&i++;if(o>i)return 1;if(o<i)return-1;for(r=0;r<t.params.length;r++){var s=a.compare(t.params[r],e.params[r]);if(0!==s)return s}return 0},s.prototype.hasConversions=function(){for(var t=0;t<this.params.length;t++)if(this.params[t].hasConversions())return!0;return!1},s.prototype.ignore=function(){for(var t={},e=0;e<v.ignore.length;e++)t[v.ignore[e]]=!0;for(e=0;e<this.params.length;e++)if(this.params[e].contains(t))return!0;return!1},s.prototype.paramsStartWith=function(t){if(0===t.length)return!0;for(var e=f(this.params),r=f(t),n=0;n<t.length;n++){var o=this.params[n]||(e.varArgs?e:null),a=t[n]||(r.varArgs?r:null);if(!o||!a||!o.matches(a))return!1}return!0},s.prototype.toCode=function(t,e){for(var r=new Array(this.params.length),n=0;n<this.params.length;n++){var o=this.params[n],a=o.conversions[0];o.varArgs?r[n]=\"varArgs\":r[n]=a?t.add(a.convert,\"convert\")+\"(arg\"+n+\")\":\"arg\"+n}var i=this.fn?t.add(this.fn,\"signature\"):void 0;return i?e+\"return \"+i+\"(\"+r.join(\", \")+\"); // signature: \"+this.params.join(\", \"):[].join(\"\\n\")},s.prototype.toString=function(){return this.params.join(\", \")},l.prototype.toCode=function(t,r){var n=[];if(this.param){var o=this.path.length-1,a=this.param.conversions[0],i=\"// type: \"+(a?a.from+\" (convert to \"+a.to+\")\":this.param);if(this.param.varArgs)if(this.param.anyType)n.push(r+\"if (arguments.length > \"+o+\") {\"),n.push(r+\"  var varArgs = [];\"),n.push(r+\"  for (var i = \"+o+\"; i < arguments.length; i++) {\"),n.push(r+\"    varArgs.push(arguments[i]);\"),n.push(r+\"  }\"),n.push(this.signature.toCode(t,r+\"  \")),n.push(r+\"}\");else{for(var s=function(r,n){for(var o=[],a=0;a<r.length;a++)o[a]=t.add(e(r[a]),\"test\")+\"(\"+n+\")\";return o.join(\" || \")}.bind(this),l=this.param.types,c=[],u=0;u<l.length;u++)void 0===this.param.conversions[u]&&c.push(l[u]);for(n.push(r+\"if (\"+s(l,\"arg\"+o)+\") { \"+i),n.push(r+\"  var varArgs = [arg\"+o+\"];\"),n.push(r+\"  for (var i = \"+(o+1)+\"; i < arguments.length; i++) {\"),n.push(r+\"    if (\"+s(c,\"arguments[i]\")+\") {\"),n.push(r+\"      varArgs.push(arguments[i]);\"),u=0;u<l.length;u++){var d=this.param.conversions[u];if(d){var f=t.add(e(l[u]),\"test\"),_=t.add(d.convert,\"convert\");n.push(r+\"    }\"),n.push(r+\"    else if (\"+f+\"(arguments[i])) {\"),n.push(r+\"      varArgs.push(\"+_+\"(arguments[i]));\")}}n.push(r+\"    } else {\"),n.push(r+\"      throw createError(name, arguments.length, i, arguments[i], '\"+c.join(\",\")+\"');\"),n.push(r+\"    }\"),n.push(r+\"  }\"),n.push(this.signature.toCode(t,r+\"  \")),n.push(r+\"}\")}else if(this.param.anyType)n.push(r+\"// type: any\"),n.push(this._innerCode(t,r));else{var p=this.param.types[0];f=\"any\"!==p?t.add(e(p),\"test\"):null,n.push(r+\"if (\"+f+\"(arg\"+o+\")) { \"+i),n.push(this._innerCode(t,r+\"  \")),n.push(r+\"}\")}}else n.push(this._innerCode(t,r));return n.join(\"\\n\")},l.prototype._innerCode=function(t,e){var r,n=[];for(this.signature&&(n.push(e+\"if (arguments.length === \"+this.path.length+\") {\"),n.push(this.signature.toCode(t,e+\"  \")),n.push(e+\"}\")),r=0;r<this.childs.length;r++)n.push(this.childs[r].toCode(t,e));if(!this.fallThrough||this.param&&this.param.anyType){var o=this._exceptions(t,e);o&&n.push(o)}return n.join(\"\\n\")},l.prototype._exceptions=function(t,e){var r=this.path.length;if(0===this.childs.length)return[e+\"if (arguments.length > \"+r+\") {\",e+\"  throw createError(name, arguments.length, \"+r+\", arguments[\"+r+\"]);\",e+\"}\"].join(\"\\n\");for(var n={},o=[],a=0;a<this.childs.length;a++){var i=this.childs[a];if(i.param)for(var s=0;s<i.param.types.length;s++){var l=i.param.types[s];l in n||i.param.conversions[s]||(n[l]=!0,o.push(l))}}return e+\"throw createError(name, arguments.length, \"+r+\", arguments[\"+r+\"], '\"+o.join(\",\")+\"');\"};var _=[{name:\"number\",test:function(t){return\"number\"==typeof t}},{name:\"string\",test:function(t){return\"string\"==typeof t}},{name:\"boolean\",test:function(t){return\"boolean\"==typeof t}},{name:\"Function\",test:function(t){return\"function\"==typeof t}},{name:\"Array\",test:Array.isArray},{name:\"Date\",test:function(t){return t instanceof Date}},{name:\"RegExp\",test:function(t){return t instanceof RegExp}},{name:\"Object\",test:function(t){return\"object\"===i(t)}},{name:\"null\",test:function(t){return null===t}},{name:\"undefined\",test:function(t){return void 0===t}}],p={},h=[],m=[],v={config:p,types:_,conversions:h,ignore:m};return(v=c(\"typed\",{Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return c(r(e),t)},\"string, Object\":c,\"...Function\":function(t){for(var e,n=r(t),o={},a=0;a<t.length;a++){var s=t[a];if(\"object\"!==i(s.signatures))throw(e=new TypeError(\"Function is no typed-function (index: \"+a+\")\")).data={index:a},e;for(var l in s.signatures)if(s.signatures.hasOwnProperty(l))if(o.hasOwnProperty(l)){if(s.signatures[l]!==o[l])throw(e=new Error('Signature \"'+l+'\" is defined twice')).data={signature:l},e}else o[l]=s.signatures[l]}return c(n,o)}})).config=p,v.types=_,v.conversions=h,v.ignore=m,v.create=t,v.find=function(t,e){if(!t.signatures)throw new TypeError(\"Function is no typed-function\");var r;if(\"string\"==typeof e){r=e.split(\",\");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(e))throw new TypeError(\"String array or a comma separated string expected\");r=e}var o=r.join(\",\"),a=t.signatures[o];if(a)return a;throw new TypeError(\"Signature not found (signature: \"+(t.name||\"unnamed\")+\"(\"+r.join(\", \")+\"))\")},v.convert=function(t,e){var r=u(t);if(e===r)return t;for(var n=0;n<v.conversions.length;n++){var o=v.conversions[n];if(o.from===r&&o.to===e)return o.convert(t)}throw new Error(\"Cannot convert from \"+r+\" to \"+e)},v.addType=function(t){if(!t||\"string\"!=typeof t.name||\"function\"!=typeof t.test)throw new TypeError(\"Object with properties {name: string, test: function} expected\");v.types.push(t)},v.addConversion=function(t){if(!t||\"string\"!=typeof t.from||\"string\"!=typeof t.to||\"function\"!=typeof t.convert)throw new TypeError(\"Object with properties {from: string, to: string, convert: function} expected\");v.conversions.push(t)},v}()})?n.apply(e,o):n)||(t.exports=a)},function(t,e,r){\"use strict\";t.exports=function(t){return t&&t.constructor.prototype.isMatrix||!1}},function(t,e){function r(){}r.prototype={on:function(t,e,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var n=this;function o(){n.off(t,o),e.apply(r,arguments)}return o._=e,this.on(t,o,r)},emit:function(t){for(var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,o=r.length;n<o;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],o=[];if(n&&e)for(var a=0,i=n.length;a<i;a++)n[a].fn!==e&&n[a].fn._!==e&&o.push(n[a]);return o.length?r[t]=o:delete r[t],this}},t.exports=r},function(t,e,r){\"use strict\";function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}var o=r(4).lazy,a=r(4).isFactory,i=r(4).traverse,s=r(149);e.math=!0,e.name=\"import\",e.factory=function(t,e,r,l,c){function u(t,e,r){if(r.wrap&&\"function\"==typeof e&&(e=function(t){var e=function(){for(var e=[],r=0,n=arguments.length;r<n;r++){var o=arguments[r];e[r]=o&&o.valueOf()}return t.apply(c,e)};t.transform&&(e.transform=t.transform);return e}(e)),p(c[t])&&p(e))return e=r.override?l(t,e.signatures):l(c[t],e),c[t]=e,d(t,e),void c.emit(\"import\",t,(function(){return e}));if(void 0===c[t]||r.override)return c[t]=e,d(t,e),void c.emit(\"import\",t,(function(){return e}));if(!r.silent)throw new Error('Cannot import \"'+t+'\": already exists')}function d(t,e){e&&\"function\"==typeof e.transform?(c.expression.transform[t]=e.transform,h(t)&&(c.expression.mathWithTransform[t]=e.transform)):(delete c.expression.transform[t],h(t)&&(c.expression.mathWithTransform[t]=e))}function f(t,e){if(\"string\"==typeof t.name){var n=t.name,a=n in c.expression.transform,s=t.path?i(c,t.path):c,u=s.hasOwnProperty(n)?s[n]:void 0,d=function(){var o=r(t);if(o&&\"function\"==typeof o.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path=\"expression.transform\"');if(p(u)&&p(o))return e.override||(o=l(u,o)),o;if(void 0===u||e.override)return o;if(!e.silent)throw new Error('Cannot import \"'+n+'\": already exists')};!1!==t.lazy?(o(s,n,d),a||(\"expression.transform\"===t.path||m(t))&&o(c.expression.mathWithTransform,n,d)):(s[n]=d(),a||(\"expression.transform\"===t.path||m(t))&&(c.expression.mathWithTransform[n]=d())),c.emit(\"import\",n,d,t.path)}else r(t)}function _(e){return\"function\"==typeof e||\"number\"==typeof e||\"string\"==typeof e||\"boolean\"==typeof e||null===e||e&&t.isUnit(e)||e&&t.isComplex(e)||e&&t.isBigNumber(e)||e&&t.isFraction(e)||e&&t.isMatrix(e)||e&&Array.isArray(e)}function p(t){return\"function\"==typeof t&&\"object\"===n(t.signatures)}function h(t){return!v.hasOwnProperty(t)}function m(t){return void 0===t.path&&!v.hasOwnProperty(t.name)}var v={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function t(e,r){var o=arguments.length;if(1!==o&&2!==o)throw new s(\"import\",o,1,2);if(r||(r={}),a(e))f(e,r);else if(Array.isArray(e))e.forEach((function(e){t(e,r)}));else if(\"object\"===n(e)){for(var i in e)if(e.hasOwnProperty(i)){var l=e[i];_(l)?u(i,l,r):a(e)?f(e,r):t(l,r)}}else if(!r.silent)throw new TypeError(\"Factory, Object, or Array expected\")}},e.lazy=!0},function(t,e,r){\"use strict\";function n(t,e,r,o){if(!(this instanceof n))throw new SyntaxError(\"Constructor must be called with the new operator\");this.fn=t,this.count=e,this.min=r,this.max=o,this.message=\"Wrong number of arguments in function \"+t+\" (\"+e+\" provided, \"+r+(null!=o?\"-\"+o:\"\")+\" expected)\",this.stack=(new Error).stack}n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name=\"ArgumentsError\",n.prototype.isArgumentsError=!0,t.exports=n},function(t,e,r){\"use strict\";var n=r(4);function o(t,e,r){if(void 0!==t[e]&&(o=r,a=t[e],-1===o.indexOf(a))){var n=function(t,e){return t.map((function(t){return t.toLowerCase()})).indexOf(e.toLowerCase())}(r,t[e]);-1!==n?(console.warn('Warning: Wrong casing for configuration option \"'+e+'\", should be \"'+r[n]+'\" instead of \"'+t[e]+'\".'),t[e]=r[n]):console.warn('Warning: Unknown value \"'+t[e]+'\" for configuration option \"'+e+'\". Available options: '+r.map(JSON.stringify).join(\", \")+\".\")}var o,a}e.name=\"config\",e.math=!0,e.factory=function(t,e,r,a,i){var s=[\"Matrix\",\"Array\"],l=[\"number\",\"BigNumber\",\"Fraction\"];function c(t){if(t){var r=n.map(e,n.clone);o(t,\"matrix\",s),o(t,\"number\",l),n.deepExtend(e,t);var a=n.map(e,n.clone),c=n.map(t,n.clone);return i.emit(\"config\",a,r,c),a}return n.map(e,n.clone)}return c.MATRIX=s,c.NUMBER=l,c}},function(t,e,r){t.exports=[r(45),r(76),r(156),r(157),r(162),r(164),r(165),r(166),r(167),r(9),r(168)]},function(t,e){e.format=function(t,r){if(\"function\"==typeof r)return r(t);if(!t.isFinite())return t.isNaN()?\"NaN\":t.gt(0)?\"Infinity\":\"-Infinity\";var n=\"auto\",o=void 0;switch(void 0!==r&&(r.notation&&(n=r.notation),\"number\"==typeof r?o=r:r.precision&&(o=r.precision)),n){case\"fixed\":return e.toFixed(t,o);case\"exponential\":return e.toExponential(t,o);case\"auto\":var a=.001,i=1e5;r&&r.exponential&&(void 0!==r.exponential.lower&&(a=r.exponential.lower),void 0!==r.exponential.upper&&(i=r.exponential.upper));t.constructor.toExpNeg,t.constructor.toExpPos;if(t.constructor.config({toExpNeg:Math.round(Math.log(a)/Math.LN10),toExpPos:Math.round(Math.log(i)/Math.LN10)}),t.isZero())return\"0\";var s=t.abs();return(s.gte(a)&&s.lt(i)?t.toSignificantDigits(o).toFixed():e.toExponential(t,o)).replace(/((\\.\\d*?)(0+))($|e)/,(function(){var t=arguments[2],e=arguments[4];return\".\"!==t?t+e:e}));default:throw new Error('Unknown notation \"'+n+'\". Choose \"auto\", \"exponential\", or \"fixed\".')}},e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},e.toFixed=function(t,e){return t.toFixed(e||0)}},function(t,e,r){\"use strict\";function n(t,e,r){if(!(this instanceof n))throw new SyntaxError(\"Constructor must be called with the new operator\");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),void 0!==this.min&&this.index<this.min?this.message=\"Index out of range (\"+this.index+\" < \"+this.min+\")\":void 0!==this.max&&this.index>=this.max?this.message=\"Index out of range (\"+this.index+\" > \"+(this.max-1)+\")\":this.message=\"Index out of range (\"+this.index+\")\",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name=\"IndexError\",n.prototype.isIndexError=!0,t.exports=n},function(t,e,r){\"use strict\";e.isBoolean=function(t){return\"boolean\"==typeof t}},function(t,e){function r(t){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}e.memoize=function(t,e){return function n(){\"object\"!==r(n.cache)&&(n.cache={});for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var i=e?e(o):JSON.stringify(o);return i in n.cache?n.cache[i]:n.cache[i]=t.apply(t,o)}},e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce((function(t,e){var r=(e.match(/,/g)||[]).length+1;return Math.max(t,r)}),-1)},e.callWithRightArgumentCount=function(t,e,r){return Object.keys(t.signatures||{}).reduce((function(t,e){var r=(e.match(/,/g)||[]).length+1;return Math.max(t,r)}),-1)}},function(t,e,r){\"use strict\";var n=r(21),o=r(8),a=n.array,i=n.object,s=n.string,l=n.number,c=Array.isArray,u=l.isNumber,d=l.isInteger,f=s.isString,_=a.validateIndex;e.name=\"SparseMatrix\",e.path=\"type\",e.factory=function(t,e,p,h){var m=p(r(45)),v=p(r(23));function g(e,r){if(!(this instanceof g))throw new SyntaxError(\"Constructor must be called with the new operator\");if(r&&!f(r))throw new Error(\"Invalid datatype: \"+r);if(t.isMatrix(e))y(this,e,r);else if(e&&c(e.index)&&c(e.ptr)&&c(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=r||e.datatype;else if(c(e))w(this,e,r);else{if(e)throw new TypeError(\"Unsupported type of data (\"+n.types.type(e)+\")\");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=r}}var y=function(t,e,r){\"SparseMatrix\"===e.type?(t._values=e._values?i.clone(e._values):void 0,t._index=i.clone(e._index),t._ptr=i.clone(e._ptr),t._size=i.clone(e._size),t._datatype=r||e._datatype):w(t,e.valueOf(),r||e._datatype)},w=function(t,e,r){t._values=[],t._index=[],t._ptr=[],t._datatype=r;var n=e.length,o=0,a=v,i=0;if(f(r)&&(a=h.find(v,[r,r])||v,i=h.convert(0,r)),n>0){var s=0;do{t._ptr.push(t._index.length);for(var l=0;l<n;l++){var u=e[l];if(c(u)){if(0===s&&o<u.length&&(o=u.length),s<u.length){var d=u[s];a(d,i)||(t._values.push(d),t._index.push(l))}}else 0===s&&o<1&&(o=1),a(u,i)||(t._values.push(u),t._index.push(l))}s++}while(s<o)}t._ptr.push(t._index.length),t._size=[n,o]};g.prototype=new m,g.prototype.type=\"SparseMatrix\",g.prototype.isSparseMatrix=!0,g.prototype.storage=function(){return\"sparse\"},g.prototype.datatype=function(){return this._datatype},g.prototype.create=function(t,e){return new g(t,e)},g.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},g.prototype.subset=function(t,e,r){if(!this._values)throw new Error(\"Cannot invoke subset on a Pattern only matrix\");switch(arguments.length){case 1:return x(this,t);case 2:case 3:return b(this,t,e,r);default:throw new SyntaxError(\"Wrong number of arguments\")}};var x=function(e,r){if(!t.isIndex(r))throw new TypeError(\"Invalid index\");if(r.isScalar())return e.get(r.min());var n,a,i,s,l=r.size();if(l.length!=e._size.length)throw new o(l.length,e._size.length);var c=r.min(),u=r.max();for(n=0,a=e._size.length;n<a;n++)_(c[n],e._size[n]),_(u[n],e._size[n]);var d=e._values,f=e._index,p=e._ptr,h=r.dimension(0),m=r.dimension(1),v=[],y=[];h.forEach((function(t,e){y[t]=e[0],v[t]=!0}));var w=d?[]:void 0,x=[],b=[];return m.forEach((function(t){for(b.push(x.length),i=p[t],s=p[t+1];i<s;i++)n=f[i],!0===v[n]&&(x.push(y[n]),w&&w.push(d[i]))})),b.push(x.length),new g({values:w,index:x,ptr:b,size:l,datatype:e._datatype})},b=function(e,r,n,s){if(!r||!0!==r.isIndex)throw new TypeError(\"Invalid index\");var l,c=r.size(),u=r.isScalar();if(t.isMatrix(n)?(l=n.size(),n=n.toArray()):l=a.size(n),u){if(0!==l.length)throw new TypeError(\"Scalar expected\");e.set(r.min(),n,s)}else{if(1!==c.length&&2!==c.length)throw new o(c.length,e._size.length,\"<\");if(l.length<c.length){for(var d=0,f=0;1===c[d]&&1===l[d];)d++;for(;1===c[d];)f++,d++;n=a.unsqueeze(n,c.length,f,l)}if(!i.deepEqual(c,l))throw new o(c,l,\">\");for(var _=r.min()[0],p=r.min()[1],h=l[0],m=l[1],v=0;v<h;v++)for(var g=0;g<m;g++){var y=n[v][g];e.set([v+_,g+p],y,s)}}return e};g.prototype.get=function(t){if(!c(t))throw new TypeError(\"Array expected\");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error(\"Cannot invoke get on a Pattern only matrix\");var e=t[0],r=t[1];_(e,this._size[0]),_(r,this._size[1]);var n=z(e,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===e?this._values[n]:0},g.prototype.set=function(t,e,r){if(!c(t))throw new TypeError(\"Array expected\");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error(\"Cannot invoke set on a Pattern only matrix\");var n=t[0],a=t[1],i=this._size[0],s=this._size[1],l=v,u=0;f(this._datatype)&&(l=h.find(v,[this._datatype,this._datatype])||v,u=h.convert(0,this._datatype)),(n>i-1||a>s-1)&&(E(this,Math.max(n+1,i),Math.max(a+1,s),r),i=this._size[0],s=this._size[1]),_(n,i),_(a,s);var d=z(n,this._ptr[a],this._ptr[a+1],this._index);return d<this._ptr[a+1]&&this._index[d]===n?l(e,u)?k(d,a,this._values,this._index,this._ptr):this._values[d]=e:A(d,n,a,e,this._values,this._index,this._ptr),this};var z=function(t,e,r,n){if(r-e==0)return r;for(var o=e;o<r;o++)if(n[o]===t)return o;return e},k=function(t,e,r,n,o){r.splice(t,1),n.splice(t,1);for(var a=e+1;a<o.length;a++)o[a]--},A=function(t,e,r,n,o,a,i){o.splice(t,0,n),a.splice(t,0,e);for(var s=r+1;s<i.length;s++)i[s]++};g.prototype.resize=function(t,e,r){if(!c(t))throw new TypeError(\"Array expected\");if(2!==t.length)throw new Error(\"Only two dimensions matrix are supported\");t.forEach((function(e){if(!l.isNumber(e)||!l.isInteger(e)||e<0)throw new TypeError(\"Invalid size, must contain positive integers (size: \"+s.format(t)+\")\")}));var n=r?this.clone():this;return E(n,t[0],t[1],e)};var E=function(t,e,r,n){var o=n||0,a=v,i=0;f(t._datatype)&&(a=h.find(v,[t._datatype,t._datatype])||v,i=h.convert(0,t._datatype),o=h.convert(o,t._datatype));var s,l,c,u=!a(o,i),d=t._size[0],_=t._size[1];if(r>_){for(l=_;l<r;l++)if(t._ptr[l]=t._values.length,u)for(s=0;s<d;s++)t._values.push(o),t._index.push(s);t._ptr[r]=t._values.length}else r<_&&(t._ptr.splice(r+1,_-r),t._values.splice(t._ptr[r],t._values.length),t._index.splice(t._ptr[r],t._index.length));if(_=r,e>d){if(u){var p=0;for(l=0;l<_;l++){t._ptr[l]=t._ptr[l]+p,c=t._ptr[l+1]+p;var m=0;for(s=d;s<e;s++,m++)t._values.splice(c+m,0,o),t._index.splice(c+m,0,s),p++}t._ptr[_]=t._values.length}}else if(e<d){var g=0;for(l=0;l<_;l++){t._ptr[l]=t._ptr[l]-g;var y=t._ptr[l],w=t._ptr[l+1]-g;for(c=y;c<w;c++)(s=t._index[c])>e-1&&(t._values.splice(c,1),t._index.splice(c,1),g++)}t._ptr[l]=t._values.length}return t._size[0]=e,t._size[1]=r,t};g.prototype.reshape=function(t,e){if(!c(t))throw new TypeError(\"Array expected\");if(2!==t.length)throw new Error(\"Sparse matrices can only be reshaped in two dimensions\");if(t.forEach((function(e){if(!l.isNumber(e)||!l.isInteger(e)||e<0)throw new TypeError(\"Invalid size, must contain positive integers (size: \"+s.format(t)+\")\")})),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error(\"Reshaping sparse matrix will result in the wrong number of elements\");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],o=0;o<r._ptr.length;o++)for(var a=0;a<r._ptr[o+1]-r._ptr[o];a++)n.push(o);var i=r._values.slice(),u=r._index.slice();for(o=0;o<r._index.length;o++){var d=u[o],f=n[o],_=d*r._size[1]+f;n[o]=_%t[1],u[o]=Math.floor(_/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(o=0;o<r._ptr.length;o++)r._ptr[o]=0;for(var p=0;p<i.length;p++){o=u[p],a=n[p];var h=i[p],m=z(o,r._ptr[a],r._ptr[a+1],r._index);A(m,o,a,h,r._values,r._index,r._ptr)}return r},g.prototype.clone=function(){return new g({values:this._values?i.clone(this._values):void 0,index:i.clone(this._index),ptr:i.clone(this._ptr),size:i.clone(this._size),datatype:this._datatype})},g.prototype.size=function(){return this._size.slice(0)},g.prototype.map=function(t,e){if(!this._values)throw new Error(\"Cannot invoke map on a Pattern only matrix\");var r=this,n=this._size[0],o=this._size[1];return N(this,0,n-1,0,o-1,(function(e,n,o){return t(e,[n,o],r)}),e)};var N=function(t,e,r,n,o,a,i){var s=[],l=[],c=[],u=v,d=0;f(t._datatype)&&(u=h.find(v,[t._datatype,t._datatype])||v,d=h.convert(0,t._datatype));for(var _=function(t,e,r){t=a(t,e,r),u(t,d)||(s.push(t),l.push(e))},p=n;p<=o;p++){c.push(s.length);for(var m=t._ptr[p],y=t._ptr[p+1],w=e,x=m;x<y;x++){var b=t._index[x];if(b>=e&&b<=r){if(!i)for(var z=w;z<b;z++)_(0,z-e,p-n);_(t._values[x],b-e,p-n)}w=b+1}if(!i)for(var k=w;k<=r;k++)_(0,k-e,p-n)}return c.push(s.length),new g({values:s,index:l,ptr:c,size:[r-e+1,o-n+1]})};g.prototype.forEach=function(t,e){if(!this._values)throw new Error(\"Cannot invoke forEach on a Pattern only matrix\");for(var r=this._size[0],n=this._size[1],o=0;o<n;o++){for(var a=this._ptr[o],i=this._ptr[o+1],s=0,l=a;l<i;l++){var c=this._index[l];if(!e)for(var u=s;u<c;u++)t(0,[u,o],this);t(this._values[l],[c,o],this),s=c+1}if(!e)for(var d=s;d<r;d++)t(0,[d,o],this)}},g.prototype.toArray=function(){return M(this._values,this._index,this._ptr,this._size,!0)},g.prototype.valueOf=function(){return M(this._values,this._index,this._ptr,this._size,!1)};var M=function(t,e,r,n,o){var a,s,l=n[0],c=n[1],u=[];for(a=0;a<l;a++)for(u[a]=[],s=0;s<c;s++)u[a][s]=0;for(s=0;s<c;s++)for(var d=r[s],f=r[s+1],_=d;_<f;_++)u[a=e[_]][s]=t?o?i.clone(t[_]):t[_]:1;return u};return g.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],n=this.density(),o=\"Sparse Matrix [\"+s.format(e,t)+\" x \"+s.format(r,t)+\"] density: \"+s.format(n,t)+\"\\n\",a=0;a<r;a++)for(var i=this._ptr[a],l=this._ptr[a+1],c=i;c<l;c++){var u=this._index[c];o+=\"\\n    (\"+s.format(u,t)+\", \"+s.format(a,t)+\") ==> \"+(this._values?s.format(this._values[c],t):\"X\")}return o},g.prototype.toString=function(){return s.format(this.toArray())},g.prototype.toJSON=function(){return{mathjs:\"SparseMatrix\",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},g.prototype.diagonal=function(e){if(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!u(e)||!d(e))throw new TypeError(\"The parameter k must be an integer number\")}else e=0;var r=e>0?e:0,n=e<0?-e:0,o=this._size[0],a=this._size[1],i=Math.min(o-n,a-r),s=[],l=[],c=[];c[0]=0;for(var f=r;f<a&&s.length<i;f++)for(var _=this._ptr[f],p=this._ptr[f+1],h=_;h<p;h++){var m=this._index[h];if(m===f-r+n){s.push(this._values[h]),l[s.length-1]=m-n;break}}return c.push(s.length),new g({values:s,index:l,ptr:c,size:[i,1]})},g.fromJSON=function(t){return new g(t)},g.diagonal=function(e,r,n,o,a){if(!c(e))throw new TypeError(\"Array expected, size parameter\");if(2!==e.length)throw new Error(\"Only two dimensions matrix are supported\");if(e=e.map((function(e){if(t.isBigNumber(e)&&(e=e.toNumber()),!u(e)||!d(e)||e<1)throw new Error(\"Size values must be positive integers\");return e})),n){if(t.isBigNumber(n)&&(n=n.toNumber()),!u(n)||!d(n))throw new TypeError(\"The parameter k must be an integer number\")}else n=0;var i=v,s=0;f(a)&&(i=h.find(v,[a,a])||v,s=h.convert(0,a));var l,_=n>0?n:0,p=n<0?-n:0,m=e[0],y=e[1],w=Math.min(m-p,y-_);if(c(r)){if(r.length!==w)throw new Error(\"Invalid value array length\");l=function(t){return r[t]}}else if(t.isMatrix(r)){var x=r.size();if(1!==x.length||x[0]!==w)throw new Error(\"Invalid matrix length\");l=function(t){return r.get([t])}}else l=function(){return r};for(var b=[],z=[],k=[],A=0;A<y;A++){k.push(b.length);var E=A-_;if(E>=0&&E<w){var N=l(E);i(N,s)||(z.push(E+p),b.push(N))}}return k.push(b.length),new g({values:b,index:z,ptr:k,size:[m,y]})},g.prototype.swapRows=function(t,e){if(!(u(t)&&d(t)&&u(e)&&d(e)))throw new Error(\"Row index must be positive integers\");if(2!==this._size.length)throw new Error(\"Only two dimensional matrix is supported\");return _(t,this._size[0]),_(e,this._size[0]),g._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},g._forEachRow=function(t,e,r,n,o){for(var a=n[t],i=n[t+1],s=a;s<i;s++)o(r[s],e[s])},g._swapRows=function(t,e,r,n,o,a){for(var i=0;i<r;i++){var s=a[i],l=a[i+1],c=z(t,s,l,o),u=z(e,s,l,o);if(c<l&&u<l&&o[c]===t&&o[u]===e){if(n){var d=n[c];n[c]=n[u],n[u]=d}}else if(c<l&&o[c]===t&&(u>=l||o[u]!==e)){var f=n?n[c]:void 0;o.splice(u,0,e),n&&n.splice(u,0,f),o.splice(u<=c?c+1:c,1),n&&n.splice(u<=c?c+1:c,1)}else if(u<l&&o[u]===e&&(c>=l||o[c]!==t)){var _=n?n[u]:void 0;o.splice(c,0,t),n&&n.splice(c,0,_),o.splice(c<=u?u+1:u,1),n&&n.splice(c<=u?u+1:u,1)}}},t.Matrix._storage.sparse=g,g},e.lazy=!1},function(t,e,r){\"use strict\";e.name=\"Spa\",e.path=\"type\",e.factory=function(t,e,n){var o=n(r(158)),a=n(r(23));function i(){if(!(this instanceof i))throw new SyntaxError(\"Constructor must be called with the new operator\");this._values=[],this._heap=new t.FibonacciHeap}return i.prototype.type=\"Spa\",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var r=this._heap.insert(t,e);this._values[t]=r}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,e){var r=this._values[t];r?r.value=o(r.value,e):(r=this._heap.insert(t,e),this._values[t]=r)},i.prototype.forEach=function(t,e,r){var n=this._heap,o=this._values,i=[],s=n.extractMinimum();for(s&&i.push(s);s&&s.key<=e;)s.key>=t&&(a(s.value,0)||r(s.key,s.value,this)),(s=n.extractMinimum())&&i.push(s);for(var l=0;l<i.length;l++){var c=i[l];o[(s=n.insert(c.key,c.value)).key]=s}},i.prototype.swap=function(t,e){var r=this._values[t],n=this._values[e];if(!r&&n)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(r&&!n)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(r&&n){var o=r.value;r.value=n.value,n.value=o}},i}},function(t,e,r){\"use strict\";var n=r(4).extend;e.name=\"add\",e.factory=function(t,e,o,a){var i=o(r(9)),s=o(r(78)),l=r(14),c=o(r(159)),u=o(r(160)),d=o(r(161)),f=o(r(47)),_=o(r(30)),p=a(\"add\",n({\"Matrix, Matrix\":function(t,e){var r;switch(t.storage()){case\"sparse\":switch(e.storage()){case\"sparse\":r=u(t,e,s);break;default:r=c(e,t,s,!0)}break;default:switch(e.storage()){case\"sparse\":r=c(t,e,s,!1);break;default:r=f(t,e,s)}}return r},\"Array, Array\":function(t,e){return p(i(t),i(e)).valueOf()},\"Array, Matrix\":function(t,e){return p(i(t),e)},\"Matrix, Array\":function(t,e){return p(t,i(e))},\"Matrix, any\":function(t,e){var r;switch(t.storage()){case\"sparse\":r=d(t,e,s,!1);break;default:r=_(t,e,s,!1)}return r},\"any, Matrix\":function(t,e){var r;switch(e.storage()){case\"sparse\":r=d(e,t,s,!0);break;default:r=_(e,t,s,!0)}return r},\"Array, any\":function(t,e){return _(i(t),e,s,!1).valueOf()},\"any, Array\":function(t,e){return _(i(e),t,s,!0).valueOf()},\"any, any\":s,\"Array | Matrix | any, Array | Matrix | any, ...any\":function(t,e,r){for(var n=p(t,e),o=0;o<r.length;o++)n=p(n,r[o]);return n}},s.signatures));return p.toTex={2:\"\\\\left(${args[0]}\"+l.operators.add+\"${args[1]}\\\\right)\"},p}},function(t,e,r){\"use strict\";var n=r(8);e.name=\"algorithm01\",e.factory=function(t,e,r,o){var a=t.DenseMatrix;return function(t,e,r,i){var s=t._data,l=t._size,c=t._datatype,u=e._values,d=e._index,f=e._ptr,_=e._size,p=e._datatype;if(l.length!==_.length)throw new n(l.length,_.length);if(l[0]!==_[0]||l[1]!==_[1])throw new RangeError(\"Dimension mismatch. Matrix A (\"+l+\") must match Matrix B (\"+_+\")\");if(!u)throw new Error(\"Cannot perform operation on Dense Matrix and Pattern Sparse Matrix\");var h,m,v=l[0],g=l[1],y=\"string\"==typeof c&&c===p?c:void 0,w=y?o.find(r,[y,y]):r,x=[];for(h=0;h<v;h++)x[h]=[];var b=[],z=[];for(m=0;m<g;m++){for(var k=m+1,A=f[m],E=f[m+1],N=A;N<E;N++)b[h=d[N]]=i?w(u[N],s[h][m]):w(s[h][m],u[N]),z[h]=k;for(h=0;h<v;h++)z[h]===k?x[h][m]=b[h]:x[h][m]=s[h][m]}return new a({data:x,size:[v,g],datatype:y})}}},function(t,e,r){\"use strict\";var n=r(8);e.name=\"algorithm04\",e.factory=function(t,e,o,a){var i=o(r(23)),s=t.SparseMatrix;return function(t,e,r){var o=t._values,l=t._index,c=t._ptr,u=t._size,d=t._datatype,f=e._values,_=e._index,p=e._ptr,h=e._size,m=e._datatype;if(u.length!==h.length)throw new n(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError(\"Dimension mismatch. Matrix A (\"+u+\") must match Matrix B (\"+h+\")\");var v,g=u[0],y=u[1],w=i,x=0,b=r;\"string\"==typeof d&&d===m&&(v=d,w=a.find(i,[v,v]),x=a.convert(0,v),b=a.find(r,[v,v]));var z,k,A,E,N,M=o&&f?[]:void 0,S=[],O=[],B=new s({values:M,index:S,ptr:O,size:[g,y],datatype:v}),T=o&&f?[]:void 0,C=o&&f?[]:void 0,F=[],I=[];for(k=0;k<y;k++){O[k]=S.length;var j=k+1;for(E=c[k],N=c[k+1],A=E;A<N;A++)z=l[A],S.push(z),F[z]=j,T&&(T[z]=o[A]);for(E=p[k],N=p[k+1],A=E;A<N;A++)if(F[z=_[A]]===j){if(T){var P=b(T[z],f[A]);w(P,x)?F[z]=null:T[z]=P}}else S.push(z),I[z]=j,C&&(C[z]=f[A]);if(T&&C)for(A=O[k];A<S.length;)F[z=S[A]]===j?(M[A]=T[z],A++):I[z]===j?(M[A]=C[z],A++):S.splice(A,1)}return O[y]=S.length,B}}},function(t,e,r){\"use strict\";e.name=\"algorithm10\",e.factory=function(t,e,r,n){var o=t.DenseMatrix;return function(t,e,r,a){var i=t._values,s=t._index,l=t._ptr,c=t._size,u=t._datatype;if(!i)throw new Error(\"Cannot perform operation on Pattern Sparse Matrix and Scalar value\");var d,f=c[0],_=c[1],p=r;\"string\"==typeof u&&(d=u,e=n.convert(e,d),p=n.find(r,[d,d]));for(var h=[],m=new o({data:h,size:[f,_],datatype:d}),v=[],g=[],y=0;y<_;y++){for(var w=y+1,x=l[y],b=l[y+1],z=x;z<b;z++){var k=s[z];v[k]=i[z],g[k]=w}for(var A=0;A<f;A++)0===y&&(h[A]=[]),g[A]===w?h[A][y]=a?p(e,v[A]):p(v[A],e):h[A][y]=e}return m}}},function(t,e,r){\"use strict\";e.name=\"FibonacciHeap\",e.path=\"type\",e.factory=function(t,e,n,o){var a=n(r(79)),i=n(r(163)),s=1/Math.log((1+Math.sqrt(5))/2);function l(){if(!(this instanceof l))throw new SyntaxError(\"Constructor must be called with the new operator\");this._minimum=null,this._size=0}l.prototype.type=\"FibonacciHeap\",l.prototype.isFibonacciHeap=!0,l.prototype.insert=function(t,e){var r={key:t,value:e,degree:0};if(this._minimum){var n=this._minimum;r.left=n,r.right=n.right,n.right=r,r.right.left=r,a(t,n.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},l.prototype.size=function(){return this._size},l.prototype.clear=function(){this._minimum=null,this._size=0},l.prototype.isEmpty=function(){return 0===this._size},l.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var e=this._minimum,r=t.degree,n=t.child;r>0;){var o=n.right;n.left.right=n.right,n.right.left=n.left,n.left=e,n.right=e.right,e.right=n,n.right.left=n,n.parent=null,n=o,r--}return t.left.right=t.right,t.right.left=t.left,t==t.right?e=null:(e=t.right,e=f(e,this._size)),this._size--,this._minimum=e,t},l.prototype.remove=function(t){this._minimum=c(this._minimum,t,-1),this.extractMinimum()};var c=function(t,e,r){e.key=r;var n=e.parent;return n&&a(e.key,n.key)&&(u(t,e,n),d(t,n)),a(e.key,t.key)&&(t=e),t},u=function(t,e,r){e.left.right=e.right,e.right.left=e.left,r.degree--,r.child==e&&(r.child=e.right),0===r.degree&&(r.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1},d=function t(e,r){var n=r.parent;n&&(r.mark?(u(e,r,n),t(n)):r.mark=!0)},f=function(t,e){var r,n,o,l=Math.floor(Math.log(e)*s)+1,c=new Array(l),u=0,d=t;if(d)for(u++,d=d.right;d!==t;)u++,d=d.right;for(;u>0;){for(var f=d.degree,_=d.right;r=c[f];){if(i(d.key,r.key)){var p=r;r=d,d=p}o=d,(n=r).left.right=n.right,n.right.left=n.left,n.parent=o,o.child?(n.left=o.child,n.right=o.child.right,o.child.right=n,n.right.left=n):(o.child=n,n.right=n,n.left=n),o.degree++,n.mark=!1,c[f]=null,f++}c[f]=d,d=_,u--}t=null;for(var h=0;h<l;h++)(r=c[h])&&(t?(r.left.right=r.right,r.right.left=r.left,r.left=t,r.right=t.right,t.right=r,r.right.left=r,a(r.key,t.key)&&(t=r)):t=r);return t};return l}},function(t,e,r){\"use strict\";var n=r(3).nearlyEqual,o=r(46);e.name=\"larger\",e.factory=function(t,e,a,i){var s=a(r(9)),l=a(r(80)),c=a(r(81)),u=a(r(82)),d=a(r(47)),f=a(r(30)),_=r(14),p=i(\"larger\",{\"boolean, boolean\":function(t,e){return t>e},\"number, number\":function(t,r){return t>r&&!n(t,r,e.epsilon)},\"BigNumber, BigNumber\":function(t,r){return t.gt(r)&&!o(t,r,e.epsilon)},\"Fraction, Fraction\":function(t,e){return 1===t.compare(e)},\"Complex, Complex\":function(){throw new TypeError(\"No ordering relation is defined for complex numbers\")},\"Unit, Unit\":function(t,e){if(!t.equalBase(e))throw new Error(\"Cannot compare units with different base\");return p(t.value,e.value)},\"string, string\":function(t,e){return t>e},\"Matrix, Matrix\":function(t,e){var r;switch(t.storage()){case\"sparse\":switch(e.storage()){case\"sparse\":r=c(t,e,p);break;default:r=l(e,t,p,!0)}break;default:switch(e.storage()){case\"sparse\":r=l(t,e,p,!1);break;default:r=d(t,e,p)}}return r},\"Array, Array\":function(t,e){return p(s(t),s(e)).valueOf()},\"Array, Matrix\":function(t,e){return p(s(t),e)},\"Matrix, Array\":function(t,e){return p(t,s(e))},\"Matrix, any\":function(t,e){var r;switch(t.storage()){case\"sparse\":r=u(t,e,p,!1);break;default:r=f(t,e,p,!1)}return r},\"any, Matrix\":function(t,e){var r;switch(e.storage()){case\"sparse\":r=u(e,t,p,!0);break;default:r=f(e,t,p,!0)}return r},\"Array, any\":function(t,e){return f(s(t),e,p,!1).valueOf()},\"any, Array\":function(t,e){return f(s(e),t,p,!0).valueOf()}});return p.toTex={2:\"\\\\left(${args[0]}\"+_.operators.larger+\"${args[1]}\\\\right)\"},p}},function(t,e,r){\"use strict\";var n=r(21),o=n.string,a=n.object,i=Array.isArray,s=o.isString;e.name=\"ImmutableDenseMatrix\",e.path=\"type\",e.factory=function(t,e,o){var l=o(r(76)),c=o(r(79));function u(e,r){if(!(this instanceof u))throw new SyntaxError(\"Constructor must be called with the new operator\");if(r&&!s(r))throw new Error(\"Invalid datatype: \"+r);if(t.isMatrix(e)||i(e)){var o=new l(e,r);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(e&&i(e.data)&&i(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else{if(e)throw new TypeError(\"Unsupported type of data (\"+n.types.type(e)+\")\");this._data=[],this._size=[0],this._datatype=r,this._min=null,this._max=null}}return u.prototype=new l,u.prototype.type=\"ImmutableDenseMatrix\",u.prototype.isImmutableDenseMatrix=!0,u.prototype.subset=function(e){switch(arguments.length){case 1:var r=l.prototype.subset.call(this,e);return t.isMatrix(r)?new u({data:r._data,size:r._size,datatype:r._datatype}):r;case 2:case 3:throw new Error(\"Cannot invoke set subset on an Immutable Matrix instance\");default:throw new SyntaxError(\"Wrong number of arguments\")}},u.prototype.set=function(){throw new Error(\"Cannot invoke set on an Immutable Matrix instance\")},u.prototype.resize=function(){throw new Error(\"Cannot invoke resize on an Immutable Matrix instance\")},u.prototype.reshape=function(){throw new Error(\"Cannot invoke reshape on an Immutable Matrix instance\")},u.prototype.clone=function(){return new u({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype})},u.prototype.toJSON=function(){return{mathjs:\"ImmutableDenseMatrix\",data:this._data,size:this._size,datatype:this._datatype}},u.fromJSON=function(t){return new u(t)},u.prototype.swapRows=function(){throw new Error(\"Cannot invoke swapRows on an Immutable Matrix instance\")},u.prototype.min=function(){if(null===this._min){var t=null;this.forEach((function(e){(null===t||c(e,t))&&(t=e)})),this._min=null!==t?t:void 0}return this._min},u.prototype.max=function(){if(null===this._max){var t=null;this.forEach((function(e){(null===t||c(t,e))&&(t=e)})),this._max=null!==t?t:void 0}return this._max},u}},function(t,e,r){\"use strict\";var n=r(4).clone,o=r(3).isInteger;e.name=\"Index\",e.path=\"type\",e.factory=function(t){function e(n){if(!(this instanceof e))throw new SyntaxError(\"Constructor must be called with the new operator\");this._dimensions=[],this._isScalar=!0;for(var o=0,a=arguments.length;o<a;o++){var i=arguments[o];if(t.isRange(i))this._dimensions.push(i),this._isScalar=!1;else if(Array.isArray(i)||t.isMatrix(i)){var s=r(i.valueOf());this._dimensions.push(s);var l=s.size();1===l.length&&1===l[0]||(this._isScalar=!1)}else if(\"number\"==typeof i)this._dimensions.push(r([i]));else{if(\"string\"!=typeof i)throw new TypeError(\"Dimension must be an Array, Matrix, number, string, or Range\");this._dimensions.push(i)}}}function r(e){for(var r=0,n=e.length;r<n;r++)if(\"number\"!=typeof e[r]||!o(e[r]))throw new TypeError(\"Index parameters must be positive integer numbers\");return new t.ImmutableDenseMatrix(e)}return e.prototype.type=\"Index\",e.prototype.isIndex=!0,e.prototype.clone=function(){var t=new e;return t._dimensions=n(this._dimensions),t._isScalar=this._isScalar,t},e.create=function(t){var r=new e;return e.apply(r,t),r},e.prototype.size=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t[e]=\"string\"==typeof n?1:n.size()[0]}return t},e.prototype.max=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t[e]=\"string\"==typeof n?n:n.max()}return t},e.prototype.min=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t[e]=\"string\"==typeof n?n:n.min()}return t},e.prototype.forEach=function(t){for(var e=0,r=this._dimensions.length;e<r;e++)t(this._dimensions[e],e,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&\"string\"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t.push(\"string\"==typeof n?n:n.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];\"string\"==typeof n?t.push(JSON.stringify(n)):t.push(n.toString())}return\"[\"+t.join(\", \")+\"]\"},e.prototype.toJSON=function(){return{mathjs:\"Index\",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}},function(t,e,r){\"use strict\";var n=r(3);e.name=\"Range\",e.path=\"type\",e.factory=function(t,e,r,o){function a(e,r,n){if(!(this instanceof a))throw new SyntaxError(\"Constructor must be called with the new operator\");if(null!=e)if(t.isBigNumber(e))e=e.toNumber();else if(\"number\"!=typeof e)throw new TypeError(\"Parameter start must be a number\");if(null!=r)if(t.isBigNumber(r))r=r.toNumber();else if(\"number\"!=typeof r)throw new TypeError(\"Parameter end must be a number\");if(null!=n)if(t.isBigNumber(n))n=n.toNumber();else if(\"number\"!=typeof n)throw new TypeError(\"Parameter step must be a number\");this.start=null!=e?parseFloat(e):0,this.end=null!=r?parseFloat(r):0,this.step=null!=n?parseFloat(n):1}return a.prototype.type=\"Range\",a.prototype.isRange=!0,a.parse=function(t){if(\"string\"!=typeof t)return null;var e=t.split(\":\").map((function(t){return parseFloat(t)}));if(e.some((function(t){return isNaN(t)})))return null;switch(e.length){case 2:return new a(e[0],e[1]);case 3:return new a(e[0],e[2],e[1]);default:return null}},a.prototype.clone=function(){return new a(this.start,this.end,this.step)},a.prototype.size=function(){var t=0,e=this.start,r=this.step,o=this.end-e;return n.sign(r)==n.sign(o)?t=Math.ceil(o/r):0==o&&(t=0),isNaN(t)&&(t=0),[t]},a.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},a.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},a.prototype.forEach=function(t){var e=this.start,r=this.step,n=this.end,o=0;if(r>0)for(;e<n;)t(e,[o],this),e+=r,o++;else if(r<0)for(;e>n;)t(e,[o],this),e+=r,o++},a.prototype.map=function(t){var e=[];return this.forEach((function(r,n,o){e[n[0]]=t(r,n,o)})),e},a.prototype.toArray=function(){var t=[];return this.forEach((function(e,r){t[r[0]]=e})),t},a.prototype.valueOf=function(){return this.toArray()},a.prototype.format=function(t){var e=n.format(this.start,t);return 1!=this.step&&(e+=\":\"+n.format(this.step,t)),e+=\":\"+n.format(this.end,t)},a.prototype.toString=function(){return this.format()},a.prototype.toJSON=function(){return{mathjs:\"Range\",start:this.start,end:this.end,step:this.step}},a.fromJSON=function(t){return new a(t.start,t.end,t.step)},a}},function(t,e,r){\"use strict\";e.name=\"index\",e.factory=function(t,e,r,n){return n(\"index\",{\"...number | string | BigNumber | Range | Array | Matrix\":function(e){var r=e.map((function(e){return t.isBigNumber(e)?e.toNumber():Array.isArray(e)||t.isMatrix(e)?e.map((function(e){return t.isBigNumber(e)?e.toNumber():e})):e})),n=new t.Index;return t.Index.apply(n,r),n}})}},function(t,e,r){\"use strict\";e.name=\"sparse\",e.factory=function(t,e,r,n){var o=t.SparseMatrix,a=n(\"sparse\",{\"\":function(){return new o([])},string:function(t){return new o([],t)},\"Array | Matrix\":function(t){return new o(t)},\"Array | Matrix, string\":function(t,e){return new o(t,e)}});return a.toTex={0:\"\\\\begin{bsparse}\\\\end{bsparse}\",1:\"\\\\left(${args[0]}\\\\right)\"},a}},function(t,e,r){\"use strict\";var n=r(3).isInteger,o=r(22).resize;e.name=\"zeros\",e.factory=function(t,e,a,i){var s=a(r(9)),l=i(\"zeros\",{\"\":function(){return\"Array\"===e.matrix?c([]):c([],\"default\")},\"...number | BigNumber | string\":function(t){if(\"string\"==typeof t[t.length-1]){var r=t.pop();return c(t,r)}return\"Array\"===e.matrix?c(t):c(t,\"default\")},Array:c,Matrix:function(t){var e=t.storage();return c(t.valueOf(),e)},\"Array | Matrix, string\":function(t,e){return c(t.valueOf(),e)}});return l.toTex=void 0,l;function c(e,r){var a=function(e){var r=!1;return e.forEach((function(e,n,o){t.isBigNumber(e)&&(r=!0,o[n]=e.toNumber())})),r}(e)?new t.BigNumber(0):0;if(function(t){t.forEach((function(t){if(\"number\"!=typeof t||!n(t)||t<0)throw new Error(\"Parameters in function zeros must be positive integers\")}))}(e),r){var i=s(r);return e.length>0?i.resize(e,a):i}var l=[];return e.length>0?o(l,e,a):l}}},function(t,e){t.exports=function(t){return t}},function(t,e,r){var n=r(172),o=r(174);t.exports=function(t){return t=n({},t),function(e){return o(e,t)}}},function(t,e,r){var n=r(173)(r(20));t.exports=n},function(t,e){t.exports=function(t,e){return function(r){var n=arguments.length;if(e&&(r=Object(r)),n<2||null==r)return r;for(var o=1;o<n;o++)for(var a=arguments[o],i=t(a),s=i.length,l=0;l<s;l++){var c=i[l];e&&void 0!==r[c]||(r[c]=a[c])}return r}}},function(t,e,r){var n=r(20);t.exports=function(t,e){var r=n(e),o=r.length;if(null==t)return!o;for(var a=Object(t),i=0;i<o;i++){var s=r[i];if(e[s]!==a[s]||!(s in a))return!1}return!0}},function(t,e,r){var n=r(176),o=r(177);t.exports=function(t){return t=o(t),function(e){return n(e,t)}}},function(t,e){t.exports=function(t,e){for(var r=e.length,n=0;n<r;n++){if(null==t)return;t=t[e[n]]}return r?t:void 0}},function(t,e,r){var n=r(31);r(178),t.exports=function(t){return n.toPath(t)}},function(t,e,r){var n=r(31),o=r(48);function a(t){return o(t)?t:[t]}n.toPath=a,t.exports=a},function(t,e,r){var n=r(31),o=r(83);function a(t,e){return o(t,e,1/0)}n.iteratee=a,t.exports=a},function(t,e,r){var n=r(0),o=r(42),a=r(7),i=r(1);t.exports=function(t,e,r){var s,l;Object.keys(r||{}).forEach((function(t){s=r[t],/[^a-z_]/i.test(s)&&(s=parseInt(s,10)),l=!1,i(e,(function(e){n.has(e,t)&&(l=!0)})),l&&(e=a(e,(function(e){return e[t]==s})))}));var c,u,d=[],f=!1;return i(e,(function(e){c=!0,Object.keys(t.viz.possible_filters||{}).forEach((function(r){u=o(t.viz.filter_data,r),e[r]!=u&&(c=!1)})),c?!1===f&&(f=!0,d.push(e)):d.push(e)})),d}},function(t,e){t.exports=function(t,e){var r=Object.keys(e||{})[0];return Object.keys(t.viz.possible_filters||{}).forEach((function(n){if(n!=r&&!d3.select(t.root+\" .slider_\"+n).empty()){var o=d3.select(t.root+\" .slider_\"+n).attr(\"current_state\");e[n]=o}})),e}},function(t,e,r){var n=r(32);t.exports=function(t){var e={};return e.super_label_scale=t.super_label_scale,e.super_labels=t.super_labels,e.super_label_fs=13.8,e.super_labels&&(e.super={},e.super.row=t.super.row,e.super.col=t.super.col),e.show_label_tooltips=t.show_label_tooltips,e.row_max_char=n(t.network_data.row_nodes,(function(t){return t.name.length})).name.length,e.col_max_char=n(t.network_data.col_nodes,(function(t){return t.name.length})).name.length,e.max_allow_fs=t.max_allow_fs,e}},function(t,e,r){var n=r(85);t.exports=function(t){d3.select(t.root+\" .viz_wrapper\").empty()&&d3.select(t.root).append(\"div\").classed(\"viz_wrapper\",!0);var e=n(Object.assign(t,{sidebar_width:0}));d3.select(t.viz.viz_wrapper).style(\"float\",\"left\").style(\"width\",e.width+\"px\").style(\"height\",e.height+\"px\")}},function(t,e){t.exports=function(t){return t.norm_labels.margin={},t.norm_labels.margin.left=t.super_labels.margin.left+t.super_labels.dim.width,t.norm_labels.margin.top=t.super_labels.margin.top+t.super_labels.dim.width,t.label_background={},t.label_background.row=t.norm_labels.width.row+t.cat_room.row+t.uni_margin,t.label_background.col=t.norm_labels.width.col+t.cat_room.col+t.uni_margin,t}},function(t,e){t.exports=function(t,e,r){null==e&&(e=t||0,t=0),r||(r=e<t?-1:1);for(var n=Math.max(Math.ceil((e-t)/r),0),o=Array(n),a=0;a<n;a++,t+=r)o[a]=t;return o}},function(t,e,r){var n=r(187),o=r(33);t.exports=function(t){var e;return t.matrix=n(t),t.viz.x_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.width]),t.viz.y_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.height]),[\"row\",\"col\"].forEach((function(r){\"custom\"===(e=t.viz.inst_order[r])&&(e=\"clust\"),\"row\"===r?t.viz.x_scale.domain(t.matrix.orders[e+\"_\"+r]):t.viz.y_scale.domain(t.matrix.orders[e+\"_\"+r])})),t.viz.border_width={},t.viz.border_width.x=t.viz.x_scale.rangeBand()/t.viz.border_fraction,t.viz.border_width.y=t.viz.y_scale.rangeBand()/t.viz.border_fraction,t.viz.rect_width=t.viz.x_scale.rangeBand()-t.viz.border_width.x,t.viz.rect_height=t.viz.y_scale.rangeBand()-t.viz.border_width.y,o(t),t}},function(t,e,r){var n=r(0),o=r(188),a=r(32);t.exports=function(t){var e={},r=t.network_data;e.tile_colors=t.tile_colors,e.bar_colors=t.bar_colors,e.outline_colors=t.outline_colors,e.hlight_color=t.highlight_color,e.tile_title=t.tile_title,e.show_tile_tooltips=t.show_tile_tooltips,e.make_tile_tooltip=t.make_tile_tooltip,e.distance_metric=\"cosine\",e.linkage_type=\"average\",e.filter_state=\"no-filter\",e.normalization_state=\"no-normalization\",e.click_hlight_x=-666,e.click_hlight_y=-666,e.click_hlight_row=-666,e.click_hlight_col=-666,e.def_large_matrix=2e4,e.opacity_function=t.opacity_scale,e.orders={},[\"row\",\"col\"].forEach((function(o){var a,i=r[(a=\"row\"===o?\"col\":\"row\")+\"_nodes\"]||[],s=i.length,l=n.pluck(i,\"name\").sort().map((function(t){return r[a+\"_nodes_names\"].indexOf(t)}));e.orders[\"alpha_\"+o]=l;var c=[\"clust\",\"rank\"];n.has(i[0],\"rankvar\")&&c.push(\"rankvar\"),t.viz.all_cats[a].length>0&&t.viz.all_cats[a].forEach((function(t){t=t.replace(\"-\",\"_\"),c.push(t+\"_index\")})),c.forEach((function(t){var r=d3.range(s).sort((function(e,r){return i[r][t]-i[e][t]}));e.orders[t+\"_\"+o]=r}))})),n.has(r,\"all_links\")?e.max_link=a(r.all_links,(function(t){return Math.abs(t.value)})).value:e.max_link=a(r.links,(function(t){return Math.abs(t.value)})).value,e.abs_max_val=Math.abs(e.max_link)*t.clamp_opacity,0===t.input_domain?\"linear\"===e.opacity_function?e.opacity_scale=d3.scale.linear().domain([0,e.abs_max_val]).clamp(!0).range([0,1]):\"log\"===e.opacity_function&&(e.opacity_scale=d3.scale.log().domain([.001,e.abs_max_val]).clamp(!0).range([0,1])):\"linear\"===e.opacity_function?e.opacity_scale=d3.scale.linear().domain([0,t.input_domain]).clamp(!0).range([0,1]):\"log\"===e.opacity_function&&(e.opacity_scale=d3.scale.log().domain([.001,t.input_domain]).clamp(!0).range([0,1]));var i=n.has(r.links[0],\"value_up\"),s=n.has(r.links[0],\"value_dn\");return e.tile_type=i||s?\"updn\":\"simple\",n.has(r.links[0],\"highlight\")?e.highlight=1:e.highlight=0,e.matrix=o(r),e.wait_tooltip=0,e}},function(t,e,r){var n=r(0);t.exports=function(t){var e,r,o=[];return r=!!n.has(t.links[0],\"value_orig\"),t.row_nodes.forEach((function(a,i){o[i]={},o[i].name=t.row_nodes[i].name,o[i].row_index=i,o[i].row_data=d3.range(t.col_nodes.length).map((function(o){return e=n.has(t.links[0],\"value_up\")||n.has(t.links[0],\"value_dn\")?{pos_x:o,pos_y:i,value:0,value_up:0,value_dn:0,highlight:0}:{pos_x:o,pos_y:i,value:0,highlight:0},r&&(e.value_orig=0),e}))})),t.links.forEach((function(t){o[t.source].row_data[t.target].value=t.value,o[t.source].row_data[t.target].row_name=t.row_name,o[t.source].row_data[t.target].col_name=t.col_name,(n.has(t,\"value_up\")||n.has(t,\"value_dn\"))&&(o[t.source].row_data[t.target].value_up=t.value_up,o[t.source].row_data[t.target].value_dn=t.value_dn),r&&(o[t.source].row_data[t.target].value_orig=t.value_orig),t.highlight&&(o[t.source].row_data[t.target].highlight=t.highlight),t.info&&(o[t.source].row_data[t.target].info=t.info)})),o}},function(t,e,r){var n=r(1),o=r(0);t.exports=function(t,e,r){var a,i,s,l=t.viz.ds[r].num_rows,c=t.network_data.row_nodes.length/l,u=t.viz.ds_opacity_scale(c),d=t.viz.clust.dim.height/l,f=[],_=l+1;for(i=0;i<_;i++)(a={}).row_index=i,a.name=String(i),a.all_names=[],f.push(a);n(e,(function(e){var r=t.viz.y_scale(e.row_index),n=Math.round(r/d),a=e.row_data;if(f[n].all_names.push(e.name),o.has(f[n],\"row_data\"))for(s=0;s<a.length;s++)f[n].row_data[s].value=f[n].row_data[s].value+a[s].value;else{var i=[];for(s=0;s<a.length;s++)i[s]=a[s];f[n].row_data=i}})),f.forEach((function(t){var e=t.row_data,r=t.all_names.length;n(e,(function(t){t.value=t.value/r*u}))}));var p=[];return f.forEach((function(t){p=p.concat(t.all_names)})),f}},function(t,e,r){var n=r(53);t.exports=function(t){t.viz.zoom_scale_font={},t.viz.zoom_scale_font.row=1,t.viz.zoom_scale_font.col=1;var e=t.viz.x_scale.rangeBand()/2;return t.viz.square_zoom=t.viz.norm_labels.width.col/e*.75,t.viz=n(t.viz),t}},function(t,e){t.exports=function(t,e){var r,n=d3.scale.linear().domain([5,15]).range([85,120]).clamp(\"true\");return e.cat_room={},e.cat_room.symbol_width=12,e.cat_room.separation=3,[\"row\",\"col\"].forEach((function(o){e.norm_labels.width[o]=n(t.labels[o+\"_max_char\"])*t[o+\"_label_scale\"],e[\"num_\"+o+\"_nodes\"]=t.network_data[o+\"_nodes\"].length,e.dendro_room[o]=\"row\"===o?e.dendro_room.symbol_width:e.dendro_room.symbol_width+3*e.uni_margin;var a,i=e.all_cats[o].length;e.show_categories[o]?(r=(i-1)*e.cat_room.separation,a=\"row\"===o?i+1:i,e.cat_room[o]=a*e.cat_room.symbol_width+r):e.cat_room[o]=\"row\"==o?e.cat_room.symbol_width:0})),e}},function(t,e){var r;function n(){return r.length}r=[\"#393b79\",\"#aec7e8\",\"#ff7f0e\",\"#ffbb78\",\"#98df8a\",\"#bcbd22\",\"#404040\",\"#ff9896\",\"#c5b0d5\",\"#8c564b\",\"#1f77b4\",\"#5254a3\",\"#FFDB58\",\"#c49c94\",\"#e377c2\",\"#7f7f7f\",\"#2ca02c\",\"#9467bd\",\"#dbdb8d\",\"#17becf\",\"#637939\",\"#6b6ecf\",\"#9c9ede\",\"#d62728\",\"#8ca252\",\"#8c6d31\",\"#bd9e39\",\"#e7cb94\",\"#843c39\",\"#ad494a\",\"#d6616b\",\"#7b4173\",\"#a55194\",\"#ce6dbd\",\"#de9ed6\"],t.exports={get_default_color:function(){return\"#EEE\"},get_random_color:function(t){return r[t%n()]},get_num_colors:n}},function(t,e,r){var n=r(32);t.exports=function(t){var e=t[0],r=!1,o=!1,a=\"cat_strings\",i=NaN,s=[],l=null;if(\"string\"==typeof e&&e.indexOf(\": \")>-1&&(r=!0,e=e.split(\": \")[1]),0==isNaN(e)&&(o=!0),o&&(a=\"cat_values\",t.forEach((function(t){r&&(t=t.split(\": \")[1]),!0===isNaN(t)?a=\"cat_strings\":(t=parseFloat(t),s.push(t))}))),\"cat_values\"===a){var c=n(s,(function(t){return Math.abs(t)}));i=Math.abs(c),l=d3.scale.linear().domain([0,i]).range([0,1])}var u={};return u.type=a,u.max_abs_val=i,u.cat_scale=l,u}},function(t,e,r){var n=r(195),o=r(28),a=n((function(t,e,r){o(t,r)?t[r]++:t[r]=1}));t.exports=a},function(t,e,r){var n=r(15),o=r(1);t.exports=function(t,e){return function(r,a,i){var s=e?[[],[]]:{};return a=n(a,i),o(r,(function(e,n){var o=a(e,n,r);t(s,e,o)})),s}}},function(t,e,r){var n=r(197),o=r(90),a=r(56),i=r(234),s=r(235),l=r(104),c=r(62),u=r(105),d=r(39),f=r(59),_=r(110),p=r(111),h=r(237),m=r(239);t.exports=function(t){var e=t.params;d3.select(e.viz.viz_wrapper+\" svg\").remove();var r=d3.select(e.viz.viz_wrapper).append(\"svg\").attr(\"class\",\"viz_svg\").attr(\"id\",\"svg_\"+e.root.replace(\"#\",\"\")).attr(\"width\",e.viz.svg_dim.width).attr(\"height\",e.viz.svg_dim.height).attr(\"is_zoom\",0).attr(\"stopped_zoom\",1);function v(){var t=e.viz.super_border_color;return(e.viz.is_expand||0==e.show_viz_border)&&(t=\"white\"),t}r.append(\"rect\").attr(\"class\",\"super_background\").style(\"width\",e.viz.svg_dim.width).style(\"height\",e.viz.svg_dim.height).style(\"fill\",\"white\"),n(e,r),o(t),_(t),p(t),m(t),a(t),-1===e.viz.ds_level&&[\"row\",\"col\"].forEach((function(t){Number(d3.select(\".\"+t+\"_label_group\").select(\"text\").style(\"font-size\").replace(\"px\",\"\"))>8&&d3.selectAll(e.root+\" .\"+t+\"_label_group\").each((function(){f(e,this,t)}))})),d(t),e.viz.show_categories.col&&u(t),s(t),e.labels.super_labels&&i(e),t.config.show_dendrogram&&h(t),d3.select(e.viz.viz_svg).append(\"rect\").classed(\"left_border\",!0).classed(\"borders\",!0).attr(\"fill\",v).attr(\"width\",e.viz.grey_border_width).attr(\"height\",e.viz.svg_dim.height).attr(\"transform\",\"translate(0,0)\"),d3.select(e.viz.viz_svg).append(\"rect\").classed(\"right_border\",!0).classed(\"borders\",!0).attr(\"fill\",v).attr(\"width\",e.viz.grey_border_width).attr(\"height\",e.viz.svg_dim.height).attr(\"transform\",(function(){return\"translate(\"+(e.viz.svg_dim.width-e.viz.grey_border_width)+\",0)\"})),d3.select(e.viz.viz_svg).append(\"rect\").classed(\"top_border\",!0).classed(\"borders\",!0).attr(\"fill\",v).attr(\"width\",e.viz.svg_dim.width).attr(\"height\",e.viz.grey_border_width).attr(\"transform\",(function(){return\"translate(0,0)\"})),d3.select(e.viz.viz_svg).append(\"rect\").classed(\"bottom_border\",!0).classed(\"borders\",!0).attr(\"fill\",v).attr(\"width\",e.viz.svg_dim.width).attr(\"height\",e.viz.grey_border_width).attr(\"transform\",(function(){return\"translate(0,\"+(e.viz.svg_dim.height-e.viz.grey_border_width)+\")\"})),l(t),c(t),e.viz.do_zoom&&d3.select(e.viz.zoom_element).call(e.zoom_behavior),d3.select(e.viz.zoom_element).on(\"dblclick.zoom\",null)}},function(t,e,r){var n=r(0),o=r(88),a=r(198),i=r(89);t.exports=function(t,e){var r,s=t.network_data,l=[];(r=e.append(\"g\").attr(\"class\",\"clust_container\").attr(\"transform\",\"translate(\"+t.viz.clust.margin.left+\",\"+t.viz.clust.margin.top+\")\").append(\"g\").attr(\"class\",\"clust_group\").classed(\"clust_group\",!0)).append(\"rect\").classed(\"background\",!0).classed(\"grey_background\",!0).style(\"fill\",t.clust_group_background_color).attr(\"width\",t.viz.clust.dim.width).attr(\"height\",t.viz.clust.dim.height),null===t.viz.ds?i(t,t.matrix.matrix,\"all\",t.viz.ds_level):i(t,t.matrix.ds_matrix[0],\"all\",t.viz.ds_level),\"function\"==typeof t.click_tile?d3.selectAll(t.root+\" .tile\").on(\"click\",(function(e){var r={};r.row=t.network_data.row_nodes[e.pos_y].name,r.col=t.network_data.col_nodes[e.pos_x].name,r.value=e.value,n.has(e,\"value_up\")&&(r.value_up=e.value_up),n.has(e,\"value_dn\")&&(r.value_dn=e.value_dn),n.has(e,\"info\")&&(r.info=e.info),t.click_tile(r),a(t,this)})):t.tile_click_hlight&&d3.selectAll(t.root+\" .tile\").on(\"click\",(function(){a(t,this)}));var c={};return c.enter=0,o(t,c,0),{get_clust_group:function(){return r},get_matrix:function(){return l},get_nodes:function(t){return\"row\"===t?s.row_nodes:s.col_nodes}}}},function(t,e){t.exports=function(t,e){d3.select(e).each((function(r){var n=r.pos_x,o=r.pos_y;if(d3.selectAll(t.root+\" .click_hlight\").remove(),n!=t.matrix.click_hlight_x||o!=t.matrix.click_hlight_y){t.matrix.click_hlight_x=n,t.matrix.click_hlight_y=o;var a=6*t.viz.border_width.x,i=6*t.viz.border_width.y;d3.select(e.parentNode).append(\"rect\").classed(\"click_hlight\",!0).classed(\"top_hlight\",!0).attr(\"width\",t.viz.x_scale.rangeBand()).attr(\"height\",i).attr(\"fill\",t.matrix.hlight_color).attr(\"transform\",(function(){return\"translate(\"+t.viz.x_scale(n)+\",0)\"})).attr(\"opacity\",.85),d3.select(e.parentNode).append(\"rect\").classed(\"click_hlight\",!0).classed(\"left_hlight\",!0).attr(\"width\",a).attr(\"height\",t.viz.y_scale.rangeBand()-.99*i).attr(\"fill\",t.matrix.hlight_color).attr(\"transform\",(function(){return\"translate(\"+t.viz.x_scale(n)+\",\"+.99*i+\")\"})).attr(\"opacity\",.85),d3.select(e.parentNode).append(\"rect\").classed(\"click_hlight\",!0).classed(\"right_hlight\",!0).attr(\"width\",a).attr(\"height\",t.viz.y_scale.rangeBand()-.99*i).attr(\"fill\",t.matrix.hlight_color).attr(\"transform\",(function(){return\"translate(\"+(t.viz.x_scale(n)+t.viz.x_scale.rangeBand()-a)+\",\"+.99*i+\")\"})).attr(\"opacity\",.85),d3.select(e.parentNode).append(\"rect\").classed(\"click_hlight\",!0).classed(\"bottom_hlight\",!0).attr(\"width\",(function(){return t.viz.x_scale.rangeBand()-1.98*a})).attr(\"height\",i).attr(\"fill\",t.matrix.hlight_color).attr(\"transform\",(function(){return\"translate(\"+(t.viz.x_scale(n)+.99*a)+\",\"+(t.viz.y_scale.rangeBand()-i)+\")\"})).attr(\"opacity\",.85)}else t.matrix.click_hlight_x=-666,t.matrix.click_hlight_y=-666}))}},function(t,e,r){var n=r(34),o=r(35),a=r(24),i=r(25),s=r(12),l=r(7),c=r(0),u=r(200);t.exports=function(t,e,r,d){var f,_=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,p=e.row_data,h=!0,m=t.viz.rect_height;_>=0&&(m=t.viz.ds[_].rect_height),f=!1===!!c.has(t.network_data.links[0],\"value_orig\")?l(p,(function(t){return 0!==t.value})):p;var v=d3.select(d).selectAll(\"rect\").data(f,(function(t){return t.col_name})).enter().append(\"rect\").attr(\"class\",\"tile row_tile\").attr(\"width\",t.viz.rect_width).attr(\"height\",m).style(\"fill\",(function(e){return\"NaN\"===e.value_orig?\"#000000\":e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]})).style(\"fill-opacity\",(function(e){return\"NaN\"===e.value_orig?.175:t.matrix.opacity_scale(Math.abs(e.value))})).attr(\"transform\",(function(e){return s(t,e)}));if(h){var g,y=null,w=null;v.on(\"mouseover\",(function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];a(t,this,r,n),y=n})).on(\"mouseout\",(function(){i(t,this,r),y=null})).on(\"mousedown\",(function(){var t=d3.event,e=t.clientX,r=t.clientY;g=e,w=r})).on(\"mouseup\",(function(){var t=d3.event,e=t.clientX,r=t.clientY;e<=g+2&&e>=g-2&&r<=w+2&&r>=w-2&&u(y)}))}if(\"updn\"==t.matrix.tile_type){var x=l(p,(function(t){return 0!=t.value_up||0!=t.value_dn}));d3.select(d).selectAll(\".tile_up\").data(x,(function(t){return t.col_name})).enter().append(\"path\").attr(\"class\",\"tile_up\").attr(\"d\",(function(){return n(t)})).attr(\"transform\",(function(e){s(t,e)})).style(\"fill\",(function(){return t.matrix.tile_colors[0]})).style(\"fill-opacity\",(function(e){var r=0;return Math.abs(e.value_dn)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_up))),r})).on(\"mouseover\",(function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];a(t,this,r,n)})).on(\"mouseout\",(function(){i(t,this,r)})),d3.select(d).selectAll(\".tile_dn\").data(x,(function(t){return t.col_name})).enter().append(\"path\").attr(\"class\",\"tile_dn\").attr(\"d\",(function(){return o(t)})).attr(\"transform\",(function(e){s(t,e)})).style(\"fill\",(function(){return t.matrix.tile_colors[1]})).style(\"fill-opacity\",(function(e){var r=0;return Math.abs(e.value_up)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_dn))),r})).on(\"mouseover\",(function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];a(t,this,r,n)})).on(\"mouseout\",(function(){i(t,this,r)})),v.each((function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()}))}t.matrix.tile_title&&v.append(\"title\").text((function(t){return\"value: \"+t.value}))}},function(t,e){t.exports=function(t){dispatchEvent(new CustomEvent(\"TILE_CLICK\",{detail:{tile:t[0]}}))}},function(t,e,r){var n=r(202),o=r(203),a=r(205)(1,o,n);t.exports=a},function(t,e,r){var n=r(15),o=r(19);t.exports=function(t,e,r,a){for(var i=(r=n(r,a,1))(e),s=0,l=o(t);s<l;){var c=Math.floor((s+l)/2);r(t[c])<i?s=c+1:l=c}return s}},function(t,e,r){var n=r(204)(1);t.exports=n},function(t,e,r){var n=r(15),o=r(19);t.exports=function(t){return function(e,r,a){r=n(r,a);for(var i=o(e),s=t>0?0:i-1;s>=0&&s<i;s+=t)if(r(e[s],s,e))return s;return-1}}},function(t,e,r){var n=r(19),o=r(6),a=r(206);t.exports=function(t,e,r){return function(i,s,l){var c=0,u=n(i);if(\"number\"==typeof l)t>0?c=l>=0?l:Math.max(l+u,c):u=l>=0?Math.min(l+1,u):l+u+1;else if(r&&l&&u)return i[l=r(i,s)]===s?l:-1;if(s!=s)return(l=e(o.slice.call(i,c,u),a))>=0?l+c:-1;for(l=t>0?c:u-1;l>=0&&l<u;l+=t)if(i[l]===s)return l;return-1}}},function(t,e,r){var n=r(6),o=r(207);t.exports=function(t){return o(t)&&n._isNaN(t)}},function(t,e,r){var n=r(29)(\"Number\");t.exports=n},function(t,e){t.exports=function(t,e,r){if(r!=t.click_hlight_row){var n=6*t.viz.border_width.x;d3.selectAll(t.root+\" .click_hlight\").remove(),d3.select(e).append(\"rect\").classed(\"click_hlight\",!0).classed(\"row_top_hlight\",!0).attr(\"width\",t.viz.svg_dim.width).attr(\"height\",n).attr(\"fill\",t.matrix.hlight_color).attr(\"opacity\",.85),d3.select(e).append(\"rect\").classed(\"click_hlight\",!0).classed(\"row_bottom_hlight\",!0).attr(\"width\",t.viz.svg_dim.width).attr(\"height\",n).attr(\"fill\",t.matrix.hlight_color).attr(\"opacity\",.85).attr(\"transform\",(function(){return\"translate(0,\"+(t.viz.y_scale.rangeBand()-n)+\")\"}))}else d3.selectAll(t.root+\" .click_hlight\").remove(),t.click_hlight_row=-666}},function(t,e){t.exports=function(t,e,r,n){var o;d3.selectAll(t.root+\" .dendro_shadow\").remove(),\"row\"==r?(d3.select(t.root+\" .clust_group\").append(\"rect\").attr(\"width\",t.viz.clust.dim.width+\"px\").attr(\"height\",n.pos_top+\"px\").attr(\"fill\",\"black\").classed(\"dendro_shadow\",!0).attr(\"opacity\",.2),o=t.viz.clust.dim.height-n.pos_bot,d3.select(t.root+\" .clust_group\").append(\"rect\").attr(\"width\",t.viz.clust.dim.width+\"px\").attr(\"height\",o+\"px\").attr(\"transform\",\"translate(0,\"+n.pos_bot+\")\").attr(\"fill\",\"black\").classed(\"dendro_shadow\",!0).attr(\"opacity\",.2)):\"col\"===r&&(d3.select(t.root+\" .clust_group\").append(\"rect\").attr(\"width\",n.pos_top+\"px\").attr(\"height\",t.viz.clust.dim.height+\"px\").attr(\"fill\",\"black\").classed(\"dendro_shadow\",!0).attr(\"opacity\",.2),o=t.viz.clust.dim.width-n.pos_bot,d3.select(t.root+\" .clust_group\").append(\"rect\").attr(\"width\",o+\"px\").attr(\"height\",t.viz.clust.dim.height+\"px\").attr(\"transform\",\"translate(\"+n.pos_bot+\",0)\").attr(\"fill\",\"black\").classed(\"dendro_shadow\",!0).attr(\"opacity\",.2))}},function(t,e){t.exports=function(t,e,r){var n={};if(!1===t.params.dendro_filter.row&&!1===t.params.dendro_filter.col&&!1===t.params.cat_filter.row&&!1===t.params.cat_filter.col){d3.select(t.params.root+\" .\"+r+\"_slider_group\").style(\"opacity\",.35).style(\"pointer-events\",\"none\"),n[r]=e.all_names;var o=t.params.network_data[r+\"_nodes_names\"],a=t.params.network_data.row_nodes,i=t.params.network_data.col_nodes;t.filter_viz_using_names(n),t.params.inst_nodes.row_nodes=a,t.params.inst_nodes.col_nodes=i,d3.selectAll(t.params.root+\" .dendro_shadow\").transition().duration(1e3).style(\"opacity\",0).remove(),t.params.dendro_filter[r]=o}else n[r]=t.params.dendro_filter[r],t.filter_viz_using_names(n),t.params.dendro_filter[r]=!1}},function(t,e,r){var n=r(212),o=r(1),a=r(223),i=r(224);t.exports=function(t,e,r,s,l){var c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];\"both\"===e&&(e=\"row\");var u=n(t,r,e);if(u.length>0){var d=d3.select(l+\" .cluster_info_container\"),f=370,_=27,p=177,h=23,m=4,v=5,g=150,y=!1;null!=u[0].bar_data[0][v]&&(f+=100,p=p+g-47,y=!0);var w=s.all_names.length,x=m;if(y){x=v;var b=u[0].bar_data;w=0,o(b,(function(t){w+=t[v]}))}var z=3,k=25,A=20;u.slice(0,z).forEach((function(t){var e=t.bar_data.length;e>k&&(e=k),A+=_*(e+1)})),c&&d.append(\"text\").text(\"Cluster Information\");var E=d.append(\"div\").style(\"margin-top\",\"5px\").classed(\"cat_graph\",!0).append(\"svg\").style(\"height\",A+\"px\").style(\"width\",f+\"px\");d.style(\"margin-bottom\",\"5px\"),E.append(\"rect\").classed(\"cat_background\",!0).attr(\"height\",A+\"px\").attr(\"width\",f+\"px\").attr(\"fill\",\"white\").attr(\"opacity\",1),u=u.slice(0,z);var N=d3.scale.linear().domain([0,1e5]).range([20,30]),M=_;if(u.forEach((function(e){var r=e.bar_data[0][x],n=N(r),o=E.append(\"g\").classed(\"cat_graph_group\",!0).attr(\"transform\",\"translate(10, \"+M+\")\"),s=o.append(\"g\").classed(\"cat_bar_container\",!0).attr(\"transform\",\"translate(0, 10)\").selectAll(\"g\").data(e.bar_data).enter().append(\"g\").attr(\"transform\",(function(t,e){return\"translate(0,\"+e*h+\")\"}));a(t,e,o,_,x,k,s),i(t,o,s,m,y,n,x,w),M+=_*(e.bar_data.length+1)})),c){var S=d3.select(l),O=S.style(\"top\").split(\".px\")[0],B=S.style(\"left\").split(\".px\")[0],T=0,C=0;\"row\"===e?(T=0,C=p):(T=A+32,C=30),S.style(\"top\",(function(){return String(parseInt(O,10)-T)+\"px\"})).style(\"left\",(function(){return String(parseInt(B,10)-C)+\"px\"}))}}}},function(t,e,r){var n=r(213),o=r(1),a=r(0);t.exports=function(t,e,r){\"both\"===r&&(r=\"row\");var i,s=e.all_names,l=[],c=t.network_data[r+\"_nodes\"],u=null,d=!1;o(c,(function(t){i=t.name,s.indexOf(i)>=0&&l.push(t)}));var f=[];if(null!==t.viz.cat_info[r]){for(var _,p,h,m=t.viz.cat_info[r],v=Object.keys(m||{}),g=[],y=[],w=0;w<v.length;w++)h=\"cat-\"+String(w),\"cat_strings\"===t.viz.cat_info[r][h].type?(_=t.viz.cat_names[r][h],y.push(_),g.push(h)):\"number in clust\"===t.viz.cat_names[r][h]&&(u=h,d=!0);var x,b,z={},k={},A=4;if(d&&(A=5),b=_===h,y.length>0){var E,N=s.length;o(g,(function(e){if(p=e.split(\"-\")[1],_=y[p],b)if(e.indexOf(\"-\")>=0){var i=parseInt(e.split(\"-\")[1],10)+1;_=\"Category \"+String(i)}else _=\"Category\";var s,c;z[_]={},o(l,(function(t){(E=t[e]).indexOf(\": \")>=0&&(E=E.split(\": \")[1]),E in z[_]?(z[_][E].num_nodes=z[_][E].num_nodes+1,null!=u&&(z[_][E].num_nodes_ds=z[_][E].num_nodes_ds+parseInt(t[u].split(\": \")[1],10))):(z[_][E]={},z[_][E].num_nodes=1,null!=u&&(z[_][E].num_nodes_ds=parseInt(t[u].split(\": \")[1],10)))})),(k={}).type_name=_,k.num_in_clust=N,x=[];var d=z[_];for(var h in d){var m=t.viz.cat_info[r][e].cat_hist[h]/t.network_data[r+\"_nodes\"].length;c=b?h:_+\": \"+h;var v=d[h].num_nodes,g=n(v,N,m);if(a.has(d[h],\"num_nodes_ds\"))var w=d[h].num_nodes_ds;else w=null;s=t.viz.cat_colors[r][e][c],x.push([e,c,d[h],s,v,w,g])}x.sort((function(t,e){return e[A]-t[A]})),k.bar_data=x,f.push(k)}))}}return f}},function(t,e,r){var n=r(214),o=r(72).create();o.import(r(215)),t.exports=function(t,e,r){var a,i=o.factorial;function s(t,e,r){return r=i(e)/(i(t)*i(e-t))*(Math.pow(r,t)*Math.pow(1-r,e-t))}return a=function(t,e,r){for(var n=0,o=t;o<e+1;o++)n+=s(o,e,r);return n}(t,e,r),isNaN(a)&&(a=function(t,e,r){for(var o=(t-e*r)/Math.sqrt(e*r*(1-r)),i=n.z,s=n.p,l=-1,c=!1,u=0;u<i.length;u++){o<i[u]&&!1===c&&(l=u,c=!0)}return-1===l&&(l=i.length-1),a=s[l]}(t,e,r)),a}},function(t,e){t.exports={p:[.5,.4800611941616275,.460172162722971,.4403823076297575,.42074029056089696,.4012936743170763,.3820885778110473,.3631693488243809,.3445782583896758,.32635522028791997,.3085375387259869,.29115968678834636,.27425311775007355,.2578461108058647,.24196365222307303,.2266273523768682,.2118553985833967,.19766254312269238,.18406012534675947,.17105612630848183,.15865525393145707,.1468590563758959,.13566606094638267,.12507193563715024,.11506967022170828,.10564977366685535,.09680048458561036,.08850799143740196,.08075665923377107,.0735292596096483,.06680720126885807,.06057075800205901,.054799291699557974,.049471468033648075,.044565462758543006,.040059156863817086,.03593031911292579,.03215677479561371,.028716559816001783,.02558805952163861,.022750131948179195,.020182215405704383,.017864420562816542,.0157776073910905,.013903447513498595,.012224472655044696,.010724110021675795,.009386705534838566,.008197535924596114,.007142810735271415,.006209665325776132,.005386145954066684,.004661188023718747,.004024588542758303,.0034669738030406647,.002979763235054555,.002555130330427929,.0021859614549132405,.0018658133003840339,.0015888696473648667,.0013498980316300933,.0011442068310226977,.0009676032132183563,.0008163523128285604,.0006871379379158471,.0005770250423907659,.00048342414238377663,.0004040578018640207,.0003369292656768799,.00028029327681617744,.00023262907903552502,.00019261557563563279,.00015910859015753364,.00013112015442048433,.00010779973347738823,8841728520080377e-20,7234804392511979e-20,59058912418922374e-21,48096344017602614e-21,39075596597787456e-21,3167124183311986e-20,2560881647404149e-20,20657506912546683e-21,16623763729652213e-21,1334574901590631e-20,10688525774934402e-21,8539905470991794e-21,6806876599334031e-21,5412543907703841e-21,4293514469971858e-21,33976731247300535e-22,26822957796388472e-22,2112454702502842e-21,16596751443714555e-22,13008074539172771e-22,10170832425687032e-22,7.933281519755892e-7,6.173073720091925e-7,4.791832765903185e-7,3.710674079633327e-7,2.8665157187919333e-7,2.2090503226954194e-7,1.6982674071475937e-7,1.3024322953320117e-7,9.96442631693347e-8,7.6049605164887e-8,5.790134039964557e-8,4.397711594005869e-8,3.332044848542845e-8,2.518491005446105e-8,1.898956246588768e-8,1.4283479893922661e-8,1.0717590258310852e-8,8.022391850663474e-9,5.99037140106353e-9,4.462172453901611e-9,3.3157459783261365e-9,2.4578650618080152e-9,1.8175078630994235e-9,1.3407124440918662e-9,9.865876450376946e-10,7.242291705137605e-10,5.303423262948808e-10,3.8741473466756636e-10,2.823158037043268e-10,2.0522634252189396e-10,1.4882282217622966e-10,1.0765746385121517e-10,7768847581709776e-26,5592507575942645e-26,4016000583859088e-26,2876854173604311e-26,2055788909399508e-26,14654650977302715e-27,10420976987965154e-27,7392257778017794e-27,5230957544144525e-27,3692499427235561e-27,2600126965638173e-27,1826431061976961e-27,1279812543885835e-27,8945889558769844e-28,623784446333152e-27,43388950271780343e-29,3010627981117422e-28,20838581586720548e-29,14388386381575764e-29,9910342749547509e-29,6809224890620016e-29,46670115887190274e-30,31908916729108844e-30,21762912097085575e-30,14806537490047908e-30,10048965656526223e-30,6803311540773901e-30,4594627435778562e-30,3095358771958668e-30,20801863521393674e-31,1394517146659261e-30,9325575771681205e-31,622096057427174e-30,4139701816273122e-31,2747959392398221e-31,18196213635266084e-32,12019351542735647e-32,7919726314642476e-32,52055697448902465e-33,3413148326458146e-32,2232393197288031e-32,1456514112590909e-32,947953482220325e-32,6154425590850395e-33,3985804962848151e-33,25749715380118873e-34,16594208699647519e-34,10667637375474856e-34,6840807685935497e-34,4375964799309017e-34,27923343749396233e-35,17774117841455144e-35,11285884059538324e-35,7.148417011269684e-20,4.516591491435403e-20,2.846677408460209e-20,1.7897488120140146e-20,1.1224633591327901e-20,7022284240441541e-36,438238629906646e-35,27281535713460872e-37,16941535024881097e-37,10494515075362604e-37,6484814453077208e-37,39972212057261192e-38,24577864834723153e-38,1507493168810159e-37,9223413524939353e-38,5629282311376514e-38,34271987941135974e-39,20813752194932085e-39,12609160670206559e-39],z:[0,.05,.1,.15000000000000002,.2,.25,.30000000000000004,.35000000000000003,.4,.45,.5,.55,.6000000000000001,.65,.7000000000000001,.75,.8,.8500000000000001,.9,.9500000000000001,1,1.05,1.1,1.1500000000000001,1.2000000000000002,1.25,1.3,1.35,1.4000000000000001,1.4500000000000002,1.5,1.55,1.6,1.6500000000000001,1.7000000000000002,1.75,1.8,1.85,1.9000000000000001,1.9500000000000002,2,2.0500000000000003,2.1,2.15,2.2,2.25,2.3000000000000003,2.35,2.4000000000000004,2.45,2.5,2.5500000000000003,2.6,2.6500000000000004,2.7,2.75,2.8000000000000003,2.85,2.9000000000000004,2.95,3,3.0500000000000003,3.1,3.1500000000000004,3.2,3.25,3.3000000000000003,3.35,3.4000000000000004,3.45,3.5,3.5500000000000003,3.6,3.6500000000000004,3.7,3.75,3.8000000000000003,3.85,3.9000000000000004,3.95,4,4.05,4.1000000000000005,4.15,4.2,4.25,4.3,4.3500000000000005,4.4,4.45,4.5,4.55,4.6000000000000005,4.65,4.7,4.75,4.800000000000001,4.8500000000000005,4.9,4.95,5,5.050000000000001,5.1000000000000005,5.15,5.2,5.25,5.300000000000001,5.3500000000000005,5.4,5.45,5.5,5.550000000000001,5.6000000000000005,5.65,5.7,5.75,5.800000000000001,5.8500000000000005,5.9,5.95,6,6.050000000000001,6.1000000000000005,6.15,6.2,6.25,6.300000000000001,6.3500000000000005,6.4,6.45,6.5,6.550000000000001,6.6000000000000005,6.65,6.7,6.75,6.800000000000001,6.8500000000000005,6.9,6.95,7,7.050000000000001,7.1000000000000005,7.15,7.2,7.25,7.300000000000001,7.3500000000000005,7.4,7.45,7.5,7.550000000000001,7.6000000000000005,7.65,7.7,7.75,7.800000000000001,7.8500000000000005,7.9,7.95,8,8.05,8.1,8.15,8.200000000000001,8.25,8.3,8.35,8.4,8.450000000000001,8.5,8.55,8.6,8.65,8.700000000000001,8.75,8.8,8.85,8.9,8.950000000000001,9,9.05,9.1,9.15,9.200000000000001,9.25,9.3,9.35,9.4,9.450000000000001,9.5,9.55,9.600000000000001,9.65,9.700000000000001,9.75,9.8,9.850000000000001,9.9,9.950000000000001]}},function(t,e,r){\"use strict\";var n=r(37);e.name=\"factorial\",e.factory=function(t,e,o,a){var i=o(r(216)),s=r(14),l=a(\"factorial\",{number:function(t){if(t<0)throw new Error(\"Value must be non-negative\");return i(t+1)},BigNumber:function(t){if(t.isNegative())throw new Error(\"Value must be non-negative\");return i(t.plus(1))},\"Array | Matrix\":function(t){return n(t,l)}});return l.toTex={1:\"\\\\left(${args[0]}\\\\right)\"+s.operators.factorial},l}},function(t,e,r){\"use strict\";var n=r(37),o=r(3).isInteger;var a=4.7421875,i=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];e.name=\"gamma\",e.factory=function(t,e,s,l){var c=s(r(98)),u=s(r(219)),d=l(\"gamma\",{number:function(t){var e,r;if(o(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var n=t-2,s=t-1;n>1;)s*=n,n--;return 0==s&&(s=1),s}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*d(1-t));if(t>=171.35)return 1/0;if(t>85){var l=t*t,c=l*t,u=c*t,f=u*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*l)-139/(51840*c)-571/(2488320*u)+163879/(209018880*f)+5246819/(75246796800*f*t))}--t,r=i[0];for(var _=1;_<i.length;++_)r+=i[_]/(t+_);return e=t+a+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*r},Complex:function(e){var r,n;if(0==e.im)return d(e.re);e=new t.Complex(e.re-1,e.im),n=new t.Complex(i[0],0);for(var o=1;o<i.length;++o){var s=e.re+o,l=s*s+e.im*e.im;0!=l?(n.re+=i[o]*s/l,n.im+=-i[o]*e.im/l):n.re=i[o]<0?-1/0:1/0}r=new t.Complex(e.re+a+.5,e.im);var f=Math.sqrt(2*Math.PI);e.re+=.5;var _=u(r,e);0==_.im?_.re*=f:(0==_.re||(_.re*=f),_.im*=f);var p=Math.exp(-r.re);return r.re=p*Math.cos(-r.im),r.im=p*Math.sin(-r.im),c(c(_,r),n)},BigNumber:function(r){if(r.isInteger())return r.isNegative()||r.isZero()?new t.BigNumber(1/0):function(r){if(r.isZero())return new t.BigNumber(1);var n=e.precision+(0|Math.log(r.toNumber())),o=new(t.BigNumber.clone({precision:n}))(r),a=r.toNumber()-1;for(;a>1;)o=o.times(a),a--;return new t.BigNumber(o.toPrecision(t.BigNumber.precision))}(r.minus(1));if(!r.isFinite())return new t.BigNumber(r.isNegative()?NaN:1/0);throw new Error(\"Integer BigNumber expected\")},\"Array | Matrix\":function(t){return n(t,d)}});return d.toTex={1:\"\\\\Gamma\\\\left(${args[0]}\\\\right)\"},d}},function(t,e,r){\"use strict\";e.factory=function(t,e,r,n){var o=n(\"multiplyScalar\",{\"number, number\":function(t,e){return t*e},\"Complex, Complex\":function(t,e){return t.mul(e)},\"BigNumber, BigNumber\":function(t,e){return t.times(e)},\"Fraction, Fraction\":function(t,e){return t.mul(e)},\"number | Fraction | BigNumber | Complex, Unit\":function(t,e){var r=e.clone();return r.value=null===r.value?r._normalize(t):o(r.value,t),r},\"Unit, number | Fraction | BigNumber | Complex\":function(t,e){var r=t.clone();return r.value=null===r.value?r._normalize(e):o(r.value,e),r},\"Unit, Unit\":function(t,e){return t.multiply(e)}});return o}},function(t,e,r){\"use strict\";e.name=\"algorithm11\",e.factory=function(t,e,n,o){var a=n(r(23)),i=t.SparseMatrix;return function(t,e,r,n){var s=t._values,l=t._index,c=t._ptr,u=t._size,d=t._datatype;if(!s)throw new Error(\"Cannot perform operation on Pattern Sparse Matrix and Scalar value\");var f,_=u[0],p=u[1],h=a,m=0,v=r;\"string\"==typeof d&&(f=d,h=o.find(a,[f,f]),m=o.convert(0,f),e=o.convert(e,f),v=o.find(r,[f,f]));for(var g=[],y=[],w=[],x=new i({values:g,index:y,ptr:w,size:[_,p],datatype:f}),b=0;b<p;b++){w[b]=y.length;for(var z=c[b],k=c[b+1],A=z;A<k;A++){var E=l[A],N=n?v(e,s[A]):v(s[A],e);h(N,m)||(y.push(E),g.push(N))}}return w[p]=y.length,x}}},function(t,e,r){\"use strict\";var n=r(3).isInteger,o=r(22).size;e.name=\"pow\",e.factory=function(t,e,a,i){var s=r(14),l=a(r(220)),c=a(r(98)),u=a(r(9)),d=a(r(221)),f=a(r(222)),_=i(\"pow\",{\"number, number\":p,\"Complex, Complex\":function(t,e){return t.pow(e)},\"BigNumber, BigNumber\":function(r,n){return n.isInteger()||r>=0||e.predictable?r.pow(n):new t.Complex(r.toNumber(),0).pow(n.toNumber(),0)},\"Fraction, Fraction\":function(t,r){if(1!==r.d){if(e.predictable)throw new Error(\"Function pow does not support non-integer exponents for fractions.\");return p(t.valueOf(),r.valueOf())}return t.pow(r)},\"Array, number\":h,\"Array, BigNumber\":function(t,e){return h(t,e.toNumber())},\"Matrix, number\":m,\"Matrix, BigNumber\":function(t,e){return m(t,e.toNumber())},\"Unit, number\":function(t,e){return t.pow(e)}});function p(r,o){if(e.predictable&&!n(o)&&r<0)try{var a=d(o),i=f(a);if((o===i||Math.abs((o-i)/o)<1e-14)&&a.d%2==1)return(a.n%2==0?1:-1)*Math.pow(-r,o)}catch(t){}return r*r<1&&o===1/0||r*r>1&&o===-1/0?0:e.predictable&&(r<-1&&o===1/0||r>-1&&r<0&&o===-1/0)?NaN:n(o)||r>=0||e.predictable?Math.pow(r,o):new t.Complex(r,0).pow(o,0)}function h(t,e){if(!n(e)||e<0)throw new TypeError(\"For A^b, b must be a positive integer (value is \"+e+\")\");var r=o(t);if(2!=r.length)throw new Error(\"For A^b, A must be 2 dimensional (A has \"+r.length+\" dimensions)\");if(r[0]!=r[1])throw new Error(\"For A^b, A must be square (size is \"+r[0]+\"x\"+r[1]+\")\");for(var a=l(r[0]).valueOf(),i=t;e>=1;)1==(1&e)&&(a=c(i,a)),e>>=1,i=c(i,i);return a}function m(t,e){return u(h(t.valueOf(),e))}return _.toTex={2:\"\\\\left(${args[0]}\\\\right)\"+s.operators.pow+\"{${args[1]}}\"},_}},function(t,e,r){\"use strict\";var n=r(22),o=r(3).isInteger;e.name=\"eye\",e.factory=function(t,e,a,i){var s=a(r(9)),l=i(\"eye\",{\"\":function(){return\"Matrix\"===e.matrix?s([]):[]},string:function(t){return s(t)},\"number | BigNumber\":function(t){return u(t,t,\"Matrix\"===e.matrix?\"default\":void 0)},\"number | BigNumber, string\":function(t,e){return u(t,t,e)},\"number | BigNumber, number | BigNumber\":function(t,r){return u(t,r,\"Matrix\"===e.matrix?\"default\":void 0)},\"number | BigNumber, number | BigNumber, string\":function(t,e,r){return u(t,e,r)},Array:function(t){return c(t)},\"Array, string\":function(t,e){return c(t,e)},Matrix:function(t){return c(t.valueOf(),t.storage())},\"Matrix, string\":function(t,e){return c(t.valueOf(),e)}});return l.toTex=void 0,l;function c(t,e){switch(t.length){case 0:return e?s(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error(\"Vector containing two values expected\")}}function u(e,r,a){var i=t.isBigNumber(e)||t.isBigNumber(r)?t.BigNumber:null;if(t.isBigNumber(e)&&(e=e.toNumber()),t.isBigNumber(r)&&(r=r.toNumber()),!o(e)||e<1)throw new Error(\"Parameters in function eye must be positive integers\");if(!o(r)||r<1)throw new Error(\"Parameters in function eye must be positive integers\");var s=i?new t.BigNumber(1):1,l=i?new i(0):0,c=[e,r];if(a)return t.Matrix.storage(a).diagonal(c,s,0,l);for(var u=n.resize([],c,l),d=e<r?e:r,f=0;f<d;f++)u[f][f]=s;return u}}},function(t,e,r){\"use strict\";var n=r(37);e.name=\"fraction\",e.factory=function(t,e,r,o){var a=o(\"fraction\",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+\" cannot be represented as a fraction\");return new t.Fraction(e)},string:function(e){return new t.Fraction(e)},\"number, number\":function(e,r){return new t.Fraction(e,r)},BigNumber:function(e){return new t.Fraction(e.toString())},Fraction:function(t){return t},Object:function(e){return new t.Fraction(e)},\"Array | Matrix\":function(t){return n(t,a)}});return a}},function(t,e,r){\"use strict\";var n=r(37);e.name=\"number\",e.factory=function(t,e,r,o){var a=o(\"number\",{\"\":function(){return 0},number:function(t){return t},string:function(t){var e=Number(t);if(isNaN(e))throw new SyntaxError('String \"'+t+'\" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error(\"Second argument with valueless unit expected\")},\"Unit, string | Unit\":function(t,e){return t.toNumber(e)},\"Array | Matrix\":function(t){return n(t,a)}});return a.toTex={0:\"0\",1:\"\\\\left(${args[0]}\\\\right)\",2:\"\\\\left(\\\\left(${args[0]}\\\\right)${args[1]}\\\\right)\"},a}},function(t,e){t.exports=function(t,e,r,n,o,a,i){var s=t.viz.cat_bar_width,l=t.viz.cat_bar_height,c=e.bar_data[0][o];e.bar_data=e.bar_data.slice(0,a);var u=e.type_name;u.length>=25&&(u=u.slice(0,25)+\"..\"),r.append(\"text\").classed(\"cat_graph_title\",!0).text(u).style(\"font-family\",'\"Helvetica Neue\", Helvetica, Arial, sans-serif').style(\"font-weight\",800);r.append(\"line\").attr(\"x1\",0).attr(\"x2\",s).attr(\"y1\",4).attr(\"y2\",4).attr(\"stroke\",\"blue\").attr(\"stroke-width\",1).attr(\"opacity\",1);var d=d3.scale.linear().domain([0,c]).range([0,s]);i.append(\"rect\").attr(\"height\",l+\"px\").attr(\"width\",(function(t){return d(t[o])+\"px\"})).attr(\"fill\",(function(t){return t[3]})).attr(\"opacity\",t.viz.cat_colors.opacity).attr(\"stroke\",\"grey\").attr(\"stroke-width\",\"0.5px\"),i.append(\"text\").classed(\"bar_labels\",!0).text((function(t){var e=t[1];return e.indexOf(\": \")>0&&(e=e.split(\": \")[1]),e.indexOf(\"<p>\")>0&&(e=e.split(\"<p>\")[0]),e.length>=25&&(e=e.slice(0,25)+\"..\"),e})).attr(\"transform\",(function(){return\"translate(5, \"+.75*l+\")\"})).attr(\"font-family\",'\"Helvetica Neue\", Helvetica, Arial, sans-serif').attr(\"font-weight\",400).attr(\"text-anchor\",\"right\")}},function(t,e){t.exports=function(t,e,r,n,o,a,i,s){var l=t.viz.cat_bar_width,c=t.viz.cat_bar_height;e.append(\"text\").text(\"Count\").attr(\"transform\",(function(){return\"translate(\"+(l+a)+\", 0)\"})),e.append(\"text\").text(\"Pct\").attr(\"transform\",(function(){return\"translate(\"+(l+a+60)+\", 0)\"})),e.append(\"text\").text(\"P-val\").attr(\"transform\",(function(){return\"translate(\"+(l+a+115)+\", 0)\"})),o&&e.append(\"text\").text(\"Clusters\").attr(\"transform\",(function(){return\"translate(\"+(l+150)+\", 0)\"}));r.append(\"text\").classed(\"count_labels\",!0).text((function(t){var e=t[i];return e=e.toLocaleString(),String(e)})).attr(\"transform\",(function(){return\"translate(\"+(l+a+35)+\", \"+.75*c+\")\"})).attr(\"font-family\",'\"Helvetica Neue\", Helvetica, Arial, sans-serif').attr(\"font-weight\",400).attr(\"text-anchor\",\"end\"),r.append(\"text\").classed(\"count_labels\",!0).text((function(t){var e=t[i]/s*100;return e=(e=Math.round(10*e)/10).toLocaleString(),String(e)})).attr(\"transform\",(function(){return\"translate(\"+(l+a+35+47)+\", \"+.75*c+\")\"})).attr(\"font-family\",'\"Helvetica Neue\", Helvetica, Arial, sans-serif').attr(\"font-weight\",400).attr(\"text-anchor\",\"end\"),r.append(\"text\").classed(\"count_labels\",!0).text((function(t){var e=t[6];return e=e<.001?(e=parseFloat(e.toPrecision(3))).toExponential():parseFloat(e.toPrecision(2))})).attr(\"transform\",(function(){return\"translate(\"+(l+a+35+112)+\", \"+.75*c+\")\"})).attr(\"font-family\",'\"Helvetica Neue\", Helvetica, Arial, sans-serif').attr(\"font-weight\",400).attr(\"text-anchor\",\"end\"),o&&r.append(\"text\").classed(\"count_labels\",!0).text((function(t){return String(t[n].toLocaleString())})).attr(\"transform\",(function(){return\"translate(\"+(l+35+150+20)+\", \"+.75*c+\")\"})).attr(\"font-family\",'\"Helvetica Neue\", Helvetica, Arial, sans-serif').attr(\"font-weight\",400).attr(\"text-anchor\",\"end\")}},function(t,e){t.exports=function(t){t.labels.show_label_tooltips?d3.select(t.root+\" .row_label_zoom_container\").selectAll(\"g\").on(\"mouseover\",(function(t){dispatchEvent(new CustomEvent(\"ROW_MOUSEOVER\",{detail:{row:t,rect:this.getBoundingClientRect()}}))})).on(\"mouseout\",(function(t){dispatchEvent(new CustomEvent(\"ROW_MOUSEOUT\",{detail:{row:t}}))})):d3.select(t.root+\" .row_label_zoom_container\").selectAll(\"g\").on(\"mouseover\",(function(){d3.select(this).select(\"text\").classed(\"active\",!0)})).on(\"mouseout\",(function(){d3.select(this).select(\"text\").classed(\"active\",!1)}))}},function(t,e){t.exports=function(t,e,r){if(r!=t.click_hlight_col){t.click_hlight_col=r;var n=6*t.viz.border_width.x;d3.selectAll(t.root+\" .click_hlight\").remove(),d3.select(e).append(\"rect\").classed(\"click_hlight\",!0).classed(\"col_top_hlight\",!0).attr(\"width\",t.viz.clust.dim.height).attr(\"height\",n).attr(\"fill\",t.matrix.hlight_color).attr(\"opacity\",.85).attr(\"transform\",(function(){return\"translate(\"+-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin)+\",0)\"})),d3.select(e).append(\"rect\").classed(\"click_hlight\",!0).classed(\"col_bottom_hlight\",!0).attr(\"width\",t.viz.clust.dim.height).attr(\"height\",n).attr(\"fill\",t.matrix.hlight_color).attr(\"opacity\",.85).attr(\"transform\",(function(){var e=t.viz.x_scale.rangeBand()-n;return\"translate(\"+-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin)+\",\"+e+\")\"}))}else d3.selectAll(t.root+\" .click_hlight\").remove(),t.click_hlight_col=-666}},function(t,e,r){var n=r(93),o=r(36),a=r(13),i=r(11),s=r(38),l=r(33),c=r(2);t.exports=function(t,e,r){var u=t.params,d=s(u);if(1===d.zoom_y&&1===d.zoom_x){u.viz.inst_order.col=\"custom\",o(t,\"col\"),d3.selectAll(u.root+\" .toggle_row_order .btn\").classed(\"active\",!1),u.viz.run_trans=!0;var f=c.extend(!0,{},u.matrix.matrix),_=u.network_data.row_nodes,p=u.network_data.col_nodes,h=[];p.forEach((function(t){h.push(t.name)}));var m=h.indexOf(r);h=[],_.forEach((function(t,e){h.push(f[e].row_data[m].value)}));var v,g=d3.range(h.length).sort((function(t,e){return h[e]-h[t]}));u.viz.y_scale.domain(g),u.matrix.orders.custom_col=g;var y=u.network_data.row_nodes_names||[];if((v=u.network_data.links.length>u.matrix.def_large_matrix?d3.select(u.root+\" .viz_svg\"):d3.select(u.root+\" .viz_svg\").transition().duration(2500)).selectAll(\".row_cat_group\").attr(\"transform\",(function(t){var e=y.indexOf(t.name);return\"translate(0,\"+u.viz.y_scale(e)+\")\"})),v.select(\".row_label_zoom_container\").selectAll(\".row_label_group\").attr(\"transform\",(function(t){var e=y.indexOf(t.name);return\"translate(0,\"+u.viz.y_scale(e)+\")\"})),-1===u.viz.ds_level&&v.selectAll(\".row\").attr(\"transform\",(function(t){var e=y.indexOf(t.name);return\"translate(0,\"+u.viz.y_scale(e)+\")\"})),d3.selectAll(u.root+\" .col_label_text\").select(\".highlight_rect\").style(\"opacity\",0),d3.select(e).select(\".highlight_rect\").style(\"opacity\",1),u.network_data.links.forEach((function(t){t.x=u.viz.x_scale(t.target),t.y=u.viz.y_scale(t.source)})),n(u),u.zoom_info=i(),setTimeout((function(){u.viz.run_trans=!1}),2500),u.viz.ds_num_levels>0&&u.viz.ds_level>=0){l(u);a(t,!0,!0,!0)}}}},function(t,e){t.exports=function(t,e){var r,n=[],o=[],a=t.viz.y_scale,i=t.viz.ds_level,s=t.network_data.row_nodes_names,l=\".row\";i>=0&&(a=t.viz.ds[i].y_scale,s=d3.range(t.matrix.ds_matrix[i].length).map(String),l=\".ds\"+String(i)+\"_row\");for(var c=0;c<s.length;c++)(r=a(c))<e.max_y&&r>e.min_y&&n.push(s[c]);d3.selectAll(t.root+\" \"+l).each((function(t){o.push(t.name)})),t.viz.viz_nodes.row=n,t.viz.viz_nodes.curr_row=o}},function(t,e){t.exports=function(t){!0===d3.select(t.root+\" .row_cat_group path\").empty()&&d3.selectAll(t.root+\" .row_cat_group\").append(\"path\").attr(\"d\",(function(){return\"M \"+(t.viz.cat_room.symbol_width-1)+\",0 L 1,\"+t.viz.y_scale.rangeBand()/2+\" L \"+(t.viz.cat_room.symbol_width-1)+\",\"+t.viz.y_scale.rangeBand()+\" Z\"})).attr(\"fill\",\"#eee\").style(\"opacity\",t.viz.triangle_opacity)}},function(t,e){t.exports=function(t,e){return e=null==e?t.length-1:+e,function(){for(var r=Math.max(arguments.length-e,0),n=Array(r),o=0;o<r;o++)n[o]=arguments[o+e];switch(e){case 0:return t.call(this,n);case 1:return t.call(this,arguments[0],n);case 2:return t.call(this,arguments[0],arguments[1],n)}var a=Array(e+1);for(o=0;o<e;o++)a[o]=arguments[o];return a[e]=n,t.apply(this,a)}}},function(t,e,r){var n=r(19),o=r(18),a=r(48),i=r(232);t.exports=function t(e,r,s,l){if(l=l||[],r||0===r){if(r<=0)return l.concat(e)}else r=1/0;for(var c=l.length,u=0,d=n(e);u<d;u++){var f=e[u];if(o(f)&&(a(f)||i(f)))if(r>1)t(f,r-1,s,l),c=l.length;else for(var _=0,p=f.length;_<p;)l[c++]=f[_++];else s||(l[c++]=f)}return l}},function(t,e,r){var n=r(29),o=r(28),a=n(\"Arguments\");!function(){a(arguments)||(a=function(t){return o(t,\"callee\")})}();var i=a;t.exports=i},function(t,e){t.exports=function(t){t.labels.show_label_tooltips&&d3.select(t.root+\" .col_zoom_container\").selectAll(\".col_label_group\").on(\"mouseover\",(function(t){dispatchEvent(new CustomEvent(\"COL_MOUSEOVER\",{detail:{col:t,text:this.childNodes[0].getBoundingClientRect(),triangle:this.childNodes[1].getBoundingClientRect()}}))})).on(\"mouseout\",(function(t){dispatchEvent(new CustomEvent(\"COL_MOUSEOUT\",{detail:{col:t}}))}))}},function(t,e){t.exports=function(t){d3.select(t.viz.viz_svg).append(\"rect\").attr(\"fill\",t.viz.background_color).attr(\"height\",t.viz.super_labels.dim.width+\"px\").attr(\"width\",\"3000px\").classed(\"super_col_bkg\",!0).classed(\"white_bars\",!0).attr(\"transform\",\"translate(\"+t.viz.clust.margin.left+\",\"+t.viz.super_labels.margin.top+\")\"),d3.select(t.viz.viz_svg).append(\"text\").attr(\"class\",\"super_col\").text(t.labels.super.col).attr(\"text-anchor\",\"center\").attr(\"transform\",(function(){var e=d3.select(this)[0][0].getBBox().width;return\"translate(\"+(t.viz.clust.dim.width/2+t.viz.norm_labels.width.row-e/2)+\",\"+t.viz.super_labels.dim.width+\")\"})).style(\"font-size\",(function(){return t.labels.super_label_fs*t.labels.super_label_scale+\"px\"})).style(\"font-weight\",300),d3.select(t.viz.viz_svg).append(\"rect\").attr(\"fill\",t.viz.background_color).attr(\"width\",t.viz.super_labels.dim.width+\"px\").attr(\"height\",\"3000px\").classed(\"super_row_bkg\",!0).classed(\"white_bars\",!0).attr(\"transform\",\"translate(\"+t.viz.super_labels.margin.left+\",0)\"),d3.select(t.viz.viz_svg).append(\"g\").classed(\"super_row\",!0).attr(\"transform\",(function(){return\"translate(\"+t.viz.super_labels.dim.width+\",\"+(t.viz.clust.dim.height/2+t.viz.norm_labels.width.col)+\")\"})),d3.select(t.root+\" .super_row\").append(\"text\").text(t.labels.super.row).attr(\"text-anchor\",\"center\").attr(\"transform\",(function(){return\"translate(0,\"+(d3.select(this)[0][0].getBBox().width/2+t.viz.norm_labels.width.col)+\"), rotate(-90)\"})).style(\"font-size\",(function(){return t.labels.super_label_fs*t.labels.super_label_scale+\"px\"})).style(\"font-weight\",300)}},function(t,e,r){var n=r(57),o=r(101),a=r(61),i=r(55);t.exports=function(t){var e=t.params.viz;d3.select(e.root+\" .col_container\").append(\"path\").style(\"stroke-width\",\"0\").attr(\"d\",\"M 0,0 L 1000,-1000, L 1000,0 Z\").attr(\"fill\",e.background_color).attr(\"class\",\"right_slant_triangle\").attr(\"transform\",\"translate(\"+e.clust.dim.width+\",\"+e.norm_labels.width.col+\")\"),d3.select(e.root+\" .col_container\").append(\"path\").style(\"stroke-width\",\"0\").attr(\"d\",\"M 0,0 L 500,-500, L 0,-500 Z\").attr(\"fill\",e.background_color).attr(\"class\",\"left_slant_triangle\").attr(\"transform\",\"translate(-1,\"+e.norm_labels.width.col+\")\");var r=e.clust.margin.top+e.uni_margin/5;d3.select(e.viz_svg).append(\"rect\").attr(\"fill\",e.background_color).attr(\"width\",e.clust.margin.left).attr(\"height\",r-1).attr(\"class\",\"top_left_white\");var s=e.cat_room.col+1.5*e.uni_margin;d3.select(e.viz_svg).append(\"rect\").attr(\"fill\",e.background_color).attr(\"width\",2*e.clust.dim.width).attr(\"height\",s).attr(\"class\",\"top_right_white\").attr(\"transform\",(function(){return\"translate(\"+(e.clust.margin.left+e.clust.dim.width)+\", \"+(e.norm_labels.width.col+e.norm_labels.margin.top-e.uni_margin)+\")\"})),u=e.clust.margin.left+e.clust.dim.width+e.uni_margin,d=e.norm_labels.margin.top+e.norm_labels.width.col+2.5*e.uni_margin;var l=1.15*e.cat_room.symbol_width;e.show_categories.col&&d3.select(e.viz_svg).selectAll().data(e.all_cats.col).enter().append(\"text\").classed(\"col_cat_super\",!0).style(\"font-size\",l+\"px\").style(\"opacity\",.65).style(\"cursor\",\"default\").attr(\"transform\",(function(t){var r=parseInt(t.split(\"-\")[1],10),n=d+1.25*e.cat_room.symbol_width*r;return\"translate(\"+u+\",\"+n+\")\"})).text((function(t){return n(e,t,\"col\")})),a(t),d=e.show_dendrogram?e.clust.margin.top+e.clust.dim.height+e.dendro_room.col-2*e.uni_margin:e.clust.margin.top+e.clust.dim.height;var c=d3.select(e.viz_svg).append(\"g\").classed(\"bottom_spillover_container\",!0).attr(\"transform\",(function(){return\"translate(0,\"+d+\")\"}));c.append(\"rect\").attr(\"class\",\"bottom_spillover\").attr(\"fill\",e.background_color).attr(\"width\",e.svg_dim.width).attr(\"height\",2*e.svg_dim.height),u=e.clust.margin.left,d=0,c.append(\"g\").classed(\"col_dendro_icons_container\",!0).attr(\"transform\",\"translate(\"+u+\",\"+d+\")\").append(\"g\").classed(\"col_dendro_icons_group\",!0),t.config.show_dendrogram&&i(t,\"col\");var u=e.clust.margin.left+e.clust.dim.width,d=e.clust.margin.top+e.clust.dim.height,f=e.cat_room.col+e.clust.dim.width,_=e.cat_room.row+10*e.uni_margin;d3.select(e.viz_svg).append(\"rect\").attr(\"fill\",e.background_color).attr(\"width\",f).attr(\"height\",_).attr(\"transform\",(function(){return\"translate(\"+u+\",\"+d+\")\"})).classed(\"white_bars\",!0).classed(\"dendro_corner_spillover\",!0),u=0,d=e.clust.margin.top+e.clust.dim.height,f=e.clust.margin.left,_=10*e.clust.dim.height,d3.select(e.viz_svg).append(\"rect\").attr(\"fill\",e.background_color).attr(\"width\",f).attr(\"height\",_).attr(\"transform\",(function(){return\"translate(\"+u+\",\"+d+\")\"})).classed(\"white_bars\",!0).classed(\"dendro_col_spillover\",!0),o(t)}},function(t,e){t.exports=function(t){var e={};return t.viz.zoom_ratio.x>1?(e.row=t.labels.default_fs_row*t.zoom_behavior.scale(),e.col=t.labels.default_fs_col*t.zoom_behavior.scale()):(e.row=t.labels.default_fs_row*t.zoom_behavior.scale()/t.viz.zoom_ratio.y,e.col=t.labels.default_fs_col*t.zoom_behavior.scale()),e}},function(t,e,r){var n=r(238);t.exports=function(t){n(t,\"row\"),n(t,\"col\")}},function(t,e,r){var n=r(112),o=r(113);t.exports=function(t,e){var r=d3.behavior.drag().on(\"drag\",(function(){t.params.is_slider_drag=!0;var r=d3.event.y;r<0&&(r=0);r>100&&(r=100);this.nextSibling&&this.parentNode.appendChild(this);var o=10-(r=d3.round(r,-1))/10;d3.select(this).attr(\"transform\",\"translate(0, \"+r+\")\"),n(t,e,o)})).on(\"dragend\",(function(){t.params.is_slider_drag=!1})),a=d3.select(t.params.root+\" .viz_svg\").append(\"g\").classed(e+\"_slider_group\",!0);o(t,e);a.append(\"rect\").classed(e+\"_slider_background\",!0).attr(\"height\",\"120px\").attr(\"width\",\"30px\").attr(\"fill\",t.params.viz.background_color).attr(\"transform\",(function(){return\"translate(-10, -5)\"})).style(\"opacity\",0),a.append(\"line\").style(\"stroke-width\",100/7+\"px\").style(\"stroke\",\"black\").style(\"stroke-linecap\",\"round\").style(\"opacity\",0).attr(\"y1\",0).attr(\"y2\",(function(){return 98})).on(\"click\",i);a.append(\"path\").style(\"fill\",\"black\").attr(\"transform\",\"translate(-2.5, 0)\").attr(\"d\",(function(){return\"M0,0 L0, 100 L10,0 Z\"})).style(\"opacity\",.35).on(\"click\",i);function i(){var r=d3.mouse(this),o=d3.round(r[1],-1);d3.select(t.params.root+\" .\"+e+\"_group_circle\").attr(\"transform\",\"translate(0, \"+o+\")\"),n(t,e,10-o/10)}a.append(\"circle\").classed(e+\"_group_circle\",!0).attr(\"r\",8).attr(\"transform\",(function(){return\"translate(0, 50)\"})).style(\"fill\",\"blue\").style(\"opacity\",.35).on(\"mouseover\",(function(){d3.select(this).style(\"opacity\",.6)})).on(\"mouseout\",(function(){d3.select(this).style(\"opacity\",.35)})).call(r)}},function(t,e,r){var n=r(55);t.exports=function(t){var e=t.params.viz,r=e.clust.margin.left+e.clust.dim.width+e.uni_margin+e.dendro_room.row,o=d3.select(e.viz_svg).append(\"g\").classed(\"right_spillover_container\",!0).attr(\"transform\",(function(){return\"translate(\"+r+\", 0)\"})),a=e.norm_labels.margin.top+e.norm_labels.width.col;o.append(\"rect\").attr(\"fill\",e.background_color).attr(\"width\",10*e.clust.dim.width).attr(\"height\",e.svg_dim.height+\"px\").attr(\"class\",\"white_bars\").attr(\"class\",\"right_spillover\").attr(\"transform\",(function(){return\"translate( 0,\"+a+\")\"}));var i=0,s=e.clust.margin.top;o.append(\"g\").classed(\"row_dendro_icons_container\",!0).attr(\"transform\",\"translate(\"+i+\",\"+s+\")\").append(\"g\").classed(\"row_dendro_icons_group\",!0),t.config.show_dendrogram&&n(t,\"row\"),i=e.clust.margin.left+e.clust.dim.width,s=a;var l=e.dendro_room.row+e.uni_margin,c=e.cat_room.col+e.uni_margin;d3.select(e.viz_svg).append(\"rect\").attr(\"fill\",e.background_color).attr(\"width\",l).attr(\"height\",c).attr(\"transform\",(function(){return\"translate(\"+i+\",\"+s+\")\"})).classed(\"white_bars\",!0).classed(\"dendro_row_spillover\",!0)}},function(t,e,r){var n=r(60),o=r(13),a=r(241),i=r(97),s=r(38),l=r(242),c=r(114);t.exports=function(t){var e=t.params,r=e.zoom_info,u=s(e);d3.select(e.root+\" .clust_group\").attr(\"transform\",\"translate(\"+[r.trans_x,r.trans_y]+\") scale(\"+r.zoom_x+\",\"+r.zoom_y+\")\"),d3.select(e.root+\" .row_label_zoom_container\").attr(\"transform\",\"translate(\"+[0,r.trans_y]+\") scale(\"+r.zoom_y+\")\"),d3.select(e.root+\" .col_zoom_container\").attr(\"transform\",\"translate(\"+[r.trans_x,0]+\") scale(\"+r.zoom_x+\")\"),d3.select(e.root+\" .row_cat_container\").attr(\"transform\",\"translate(\"+[0,r.trans_y]+\") scale( 1,\"+r.zoom_y+\")\"),d3.select(e.root+\" .row_dendro_container\").attr(\"transform\",\"translate(\"+[e.viz.uni_margin/2,r.trans_y]+\") scale( 1,\"+r.zoom_y+\")\"),d3.select(e.root+\" .row_dendro_icons_group\").attr(\"transform\",(function(){return\"translate(\"+[0,r.trans_y]+\") \"+(\"scale(1, \"+r.zoom_y+\")\")})),d3.select(e.root+\" .col_dendro_icons_group\").attr(\"transform\",(function(){return\"translate(\"+[r.trans_x,0]+\")\"+(\"scale(\"+r.zoom_x+\", 1)\")})),i(e,r,\"row\"),i(e,r,\"col\"),d3.select(e.root+\" .col_cat_container\").attr(\"transform\",\"translate(\"+[r.trans_x,0]+\") scale(\"+r.zoom_x+\",1)\"),d3.select(e.root+\" .col_dendro_container\").attr(\"transform\",\"translate(\"+[r.trans_x,e.viz.uni_margin/2]+\") scale(\"+r.zoom_x+\",1)\"),a(e,r),d3.select(e.root+\" .viz_svg\").attr(\"is_zoom\",(function(){var t=Number(d3.select(e.root+\" .viz_svg\").attr(\"is_zoom\"));return d3.select(e.root+\" .viz_svg\").attr(\"stopped_zoom\",1),t+1}));if(n(e),r.zoom_y<=u.zoom_y){var d=!1;r.zoom_y<u.zoom_y&&(d=!0);o(t,!1,d)}setTimeout((function(){d3.select(e.root+\" .viz_svg\").attr(\"is_zoom\",(function(){return Number(d3.select(e.root+\" .viz_svg\").attr(\"is_zoom\"))-1}))}),50),setTimeout((function(t){var e=t.params;!0===c(e)&&setTimeout(l,50,t)}),100,t)}},function(t,e,r){var n=r(0);t.exports=function(t){var e=t.zoom_info;n.has(t.network_data.row_nodes[0],\"value\")&&d3.selectAll(t.root+\" .row_bars\").attr(\"width\",(function(r){return t.labels.bar_scale_row(Math.abs(r.value))/e.zoom_y})).attr(\"x\",(function(r){return-t.labels.bar_scale_row(Math.abs(r.value))/e.zoom_y})),n.has(t.network_data.col_nodes[0],\"value\")&&d3.selectAll(t.root+\" .col_bars\").attr(\"width\",(function(r){var n=0;return r.value>0&&(n=t.labels.bar_scale_col(r.value)/e.zoom_x),n}))}},function(t,e,r){var n=r(60),o=r(59),a=r(243),i=r(103),s=r(13),l=r(114);t.exports=function(t){var e=t.params;if(!0===l(e)){[\"row\",\"col\"].forEach((function(t){d3.selectAll(e.root+\" .\"+t+\"_label_group\").select(\"text\").style(\"opacity\",1),d3.selectAll(e.root+\" .\"+t+\"_cat_group\").select(\"path\").style(\"display\",\"block\")})),s(t,!0),d3.selectAll(e.viz.root_tips).style(\"display\",\"block\"),d3.selectAll(e.root+\" .row_label_group\").select(\"text\").style(\"display\",\"none\"),d3.selectAll(e.root+\" .row_label_group\").select(\"text\").style(\"display\",\"block\"),d3.select(e.root+\" .viz_svg\").attr(\"stopped_zoom\",0),d3.selectAll(e.root+\" .row_label_group\").select(\"text\").style(\"display\",\"block\"),d3.selectAll(e.root+\" .col_label_group\").select(\"text\").style(\"display\",\"block\"),i(e),t.params.viz.x_offset=0;[\"row\",\"col\"].forEach((function(t){a(e,t)<150&&d3.selectAll(e.root+\" .\"+t+\"_label_group\").each((function(){o(e,this,t)}))})),r(),n(e),setTimeout(r,100)}function r(){[\"row\",\"col\"].forEach((function(t){d3.selectAll(e.root+\" .\"+t+\"_label_group\").filter((function(){return\"none\"!=d3.select(this).style(\"display\")})).select(\"text\").style(\"font-size\",(function(){return Number(d3.select(this).style(\"font-size\").replace(\"px\",\"\"))}))}))}}},function(t,e){t.exports=function(t,e){var r;return\"row\"===e?(r=1e4,-1===t.viz.ds_level&&(r=d3.selectAll(t.root+\" .row\")[0].length)):\"col\"===e&&(r=d3.selectAll(t.root+\" .\"+e+\"_label_text\").filter((function(){return\"none\"!=d3.select(this).style(\"display\")}))[0].length),r}},function(t,e){t.exports=function(t,e){var r=t.viz;return r.zoom_ratio.y>1&&(e.zoom_y<r.zoom_ratio.y?(e.trans_y=0,e.zoom_y=1):e.zoom_y=e.zoom_y/r.zoom_ratio.y),e.pan_room_y=(e.zoom_y-1)*r.clust.dim.height,e.trans_y>=0?e.trans_y=0:e.trans_y<=-e.pan_room_y&&(e.trans_y=-e.pan_room_y),e}},function(t,e){t.exports=function(t,e){var r=t.viz;return r.zoom_ratio.x>1&&(e.zoom_x<r.zoom_ratio.x?e.zoom_x=1:e.zoom_x=e.zoom_x/r.zoom_ratio.x),e.pan_room_x=(e.zoom_x-1)*r.clust.dim.width,e.trans_x>0?e.trans_x=0:e.trans_x<=-e.pan_room_x&&(e.trans_x=-e.pan_room_x),e}},function(t,e){t.exports=function(t,e){e.select(\".left_border\").attr(\"width\",t.viz.grey_border_width).attr(\"height\",t.viz.svg_dim.height).attr(\"transform\",\"translate(0,0)\"),e.select(\".right_border\").attr(\"width\",t.viz.grey_border_width).attr(\"height\",t.viz.svg_dim.height).attr(\"transform\",(function(){return\"translate(\"+(t.viz.svg_dim.width-t.viz.grey_border_width)+\",0)\"})),e.select(\".top_border\").attr(\"width\",t.viz.svg_dim.width).attr(\"height\",t.viz.grey_border_width).attr(\"transform\",(function(){return\"translate(0,0)\"})),e.select(\".bottom_border\").attr(\"width\",t.viz.svg_dim.width).attr(\"height\",t.viz.grey_border_width).attr(\"transform\",(function(){return\"translate(0,\"+(t.viz.svg_dim.height-t.viz.grey_border_width)+\")\"}))}},function(t,e){t.exports=function(t){var e=6*t.viz.border_width.x,r=6*t.viz.border_width.y;d3.select(t.root+\" .top_hlight\").attr(\"width\",t.viz.rect_width).attr(\"height\",r).attr(\"transform\",(function(){return\"translate(\"+t.viz.x_scale(t.matrix.click_hlight_x)+\",0)\"})),d3.select(t.root+\" .left_hlight\").attr(\"width\",e).attr(\"height\",t.viz.rect_width-.99*r).attr(\"transform\",(function(){return\"translate(\"+t.viz.x_scale(t.matrix.click_hlight_x)+\",\"+.99*r+\")\"})),d3.select(t.root+\" .right_hlight\").attr(\"width\",e).attr(\"height\",t.viz.rect_height-.99*r).attr(\"transform\",(function(){return\"translate(\"+(t.viz.x_scale(t.matrix.click_hlight_x)+t.viz.rect_width-e)+\",\"+.99*r+\")\"})),d3.select(t.root+\" .bottom_hlight\").attr(\"width\",(function(){return t.viz.rect_width-1.98*e})).attr(\"height\",r).attr(\"transform\",(function(){return\"translate(\"+(t.viz.x_scale(t.matrix.click_hlight_x)+.99*e)+\",\"+(t.viz.rect_height-r)+\")\"})),d3.select(t.root+\" .row_top_hlight\").attr(\"width\",t.viz.svg_dim.width).attr(\"height\",r),d3.select(t.root+\" .row_bottom_hlight\").attr(\"width\",t.viz.svg_dim.width).attr(\"height\",r).attr(\"transform\",(function(){return\"translate(0,\"+(t.viz.rect_height-r)+\")\"})),d3.select(t.root+\" .col_top_hlight\").attr(\"width\",t.viz.clust.dim.height).attr(\"height\",e).attr(\"transform\",(function(){return\"translate(\"+-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin)+\",0)\"})),d3.select(t.root+\" .col_bottom_hlight\").attr(\"width\",t.viz.clust.dim.height).attr(\"height\",e).attr(\"transform\",(function(){var r=t.viz.rect_width-e;return\"translate(\"+-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin)+\",\"+r+\")\"}))}},function(t,e,r){var n=r(50),o=r(52),a=r(51),i=r(54),s=r(53),l=r(1);t.exports=function(t){if((t=n(t)).viz=a(t.viz),t.viz=o(t.viz),t.sim_mat&&(t.viz.clust.dim.width<=t.viz.clust.dim.height?t.viz.clust.dim.height=t.viz.clust.dim.width:t.viz.clust.dim.width=t.viz.clust.dim.height),t.viz=s(t.viz),t.viz.x_scale.rangeBands([0,t.viz.clust.dim.width]),t.viz.y_scale.rangeBands([0,t.viz.clust.dim.height]),t.viz.border_width.x=t.viz.x_scale.rangeBand()/t.viz.border_fraction,t.viz.border_width.y=t.viz.y_scale.rangeBand()/t.viz.border_fraction,t.viz.rect_width=t.viz.x_scale.rangeBand()-t.viz.border_width.x,t.viz.rect_height=t.viz.y_scale.rangeBand()-t.viz.border_width.y,null!=t.viz.ds)for(var e;e<t.viz.ds.length;e++)t.viz.ds[e].rect_height=t.viz.ds[e].y_scale.rangeBand()-t.viz.border_width.y;return t.viz.ds_num_levels>0&&l(t.viz.ds,(function(e){e.y_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.height]),e.y_scale.domain(d3.range(e.num_rows+1)),e.rect_height=e.y_scale.rangeBand()-t.viz.border_width.y})),t.viz.square_zoom=t.viz.norm_labels.width.col/(t.viz.rect_width/2),t=i(t)}},function(t,e,r){var n=r(34),o=r(35),a=r(12);t.exports=function(t,e){var r=t.network_data.row_nodes_names||[];if(-1===t.viz.ds_level)e.selectAll(\".row\").attr(\"transform\",(function(e){var n=r.indexOf(e.name);return\"translate(0,\"+t.viz.y_scale(n)+\")\"})),e.selectAll(\".row\").selectAll(\".tile\").attr(\"transform\",(function(e){return a(t,e)})).attr(\"width\",t.viz.rect_width).attr(\"height\",t.viz.rect_height),e.selectAll(\".row\").selectAll(\".tile_up\").attr(\"d\",(function(){return n(t)})).attr(\"transform\",(function(e){return a(t,e)})),e.selectAll(\".row\").selectAll(\".tile_dn\").attr(\"d\",(function(){return o(t)})).attr(\"transform\",(function(e){return a(t,e)}));else{var i=t.viz.ds_level,s=\".ds\"+String(i)+\"_row\",l=t.viz.ds[i].rect_height;e.selectAll(s).attr(\"transform\",(function(e){return\"translate(0,\"+t.viz.ds[i].y_scale(e.row_index)+\")\"})),e.selectAll(s).selectAll(\".tile\").attr(\"transform\",(function(e){return a(t,e)})).attr(\"width\",t.viz.rect_width).attr(\"height\",l)}}},function(t,e){t.exports=function(t){var e,r,n=t.params.viz,o=n.svg_dim.width-3*n.uni_margin;(e=n.clust.margin.left+n.clust.dim.width+5.25*n.dendro_room.row)>o&&(e=o),r=n.clust.margin.top+3*n.uni_margin+90,d3.select(t.params.root+\" .tree_icon\").attr(\"transform\",(function(){return\"translate(\"+e+\",\"+(r-=75)+\")\"})).style(\"opacity\",1)}},function(t,e){t.exports=function(t){var e,r,n=t.params.viz,o=n.svg_dim.width-3*n.uni_margin;(e=n.clust.margin.left+n.clust.dim.width+4*n.dendro_room.row+7)>o&&(e=o),r=n.clust.margin.top+3*n.uni_margin+152,d3.select(t.params.root+\" .filter_icon\").attr(\"transform\",(function(){return\"translate(\"+e+\",\"+(r-=75)+\")\"})).style(\"opacity\",1)}},function(t,e){t.exports=function(t){var e=t.params;if(!1===d3.select(e.root+\" .tree_menu\").empty()){var r=t.params.viz.tree_menu_width;d3.select(e.root+\" .tree_menu\").attr(\"transform\",(function(){var t={};return t.x=e.viz.clust.dim.width+e.viz.clust.margin.left-r+30,t.y=e.viz.clust.margin.top+15,\"translate(\"+t.x+\", \"+t.y+\")\"}))}}},function(t,e){t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;e>0&&(r=2e3);var n=d3.selectAll(t.root+\" .horz_lines\"),o=d3.selectAll(t.root+\" .vert_lines\");n.style(\"opacity\",0).attr(\"transform\",(function(e){var r=e.row_index;return\"translate(  0,\"+t.viz.y_scale(r)+\") rotate(0)\"})).transition().duration(e).delay(r).style(\"opacity\",1),n.append(\"line\").attr(\"x1\",0).attr(\"x2\",t.viz.clust.dim.width).style(\"stroke-width\",(function(){return t.viz.border_width.y+\"px\"})),o.style(\"opacity\",0).attr(\"transform\",(function(e){var r=e.col_index;return\"translate(\"+t.viz.x_scale(r)+\") rotate(-90)\"})).transition().duration(e).delay(r).style(\"opacity\",1),o.append(\"line\").attr(\"x1\",0).attr(\"x2\",-t.viz.clust.dim.height).style(\"stroke-width\",(function(){return t.viz.border_width.x+\"px\"}))}},function(t,e,r){var n=r(255),o=r(256),a=r(257),i=r(258),s=r(259),l=r(260),c=r(261),u=r(262),d=r(279),f=r(280),_=r(281),p=r(282),h=r(130),m=r(283),v=r(2);t.exports=function(){var t=this.params;if(d3.select(t.root+\" .running_demo\").empty()){d3.select(t.root+\" .play_button\").classed(\"running_demo\",!0),h(t,!1),v.blockUI({css:{border:\"none\",padding:\"15px\",backgroundColor:\"#000\",\"-webkit-border-radius\":\"10px\",\"-moz-border-radius\":\"10px\",opacity:0,color:\"#fff\",cursor:\"default\"}}),d3.selectAll(\".blockUI\").style(\"opacity\",0);var e=750;!1===this.params.viz.is_expand&&(e=n(t,e,d),e-=1500),e=n(t,e,o),e=n(t,e,a),e=n(this,e,i),e=n(t,e,_),e=n(t,e,s),e=n(t,e,m),e=n(t,e,f),e=n(t,e,l),e=n(t,e,c),e=n(this,e,u),e=n(t,e,d),e=n(t,e,p)}}},function(t,e){t.exports=function(t,e,r){setTimeout(r().run,e,t);return e+=r().get_duration()}},function(t,e,r){var n=r(5);t.exports=function(){return{run:function(t){setTimeout(n,0,t,\"Clustergrammer allows users to generate\\ninteractive and sharable visualizations\\nby uploading a matrix\",4500),setTimeout(n,4500,t,\"This demo will quickly overview some\\nof Clustergrammer's interactive features\",4500)},get_duration:function(){return 1e4}}}},function(t,e,r){var n=r(5),o=r(17);t.exports=function(){return{run:function(t){var e=t.params;n(e,\"Zoom and pan by\\nscrolling and dragging\",4e3),setTimeout(o,1500,t,0,0,4)},get_duration:function(){return 4e3}}}},function(t,e,r){var n=r(5),o=r(17),a=r(27);t.exports=function(){return{run:function(t){var e=t.params;n(e,\"Reset zoom by double-clicking\\n\",4e3),setTimeout(a,2e3,e,\"double\",300,300),setTimeout(o,2400,t,0,0,1)},get_duration:function(){return 4500}}}},function(t,e,r){var n=r(5),o=r(27),a=r(2);t.exports=function(){function t(t,e){a(e).d3DblClick()}return a.fn.d3DblClick=function(){this.each((function(t,e){var r=document.createEvent(\"MouseEvents\");r.initMouseEvent(\"dblclick\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}))},{run:function(e){n(e,\"Reorder the matrix based on a single\\nrow or column by double-clicking a\\nlabel\",7e3);var r=function(t,e){return d3.selectAll(t.root+\" .row_label_group\").filter((function(){return this.__data__.name==e}))[0][0]}(e,\"EGFR\"),a=d3.select(r).attr(\"transform\"),i=d3.select(e.root+\" .clust_container\").attr(\"transform\").split(\",\")[1].replace(\")\",\"\"),s=.9*e.viz.norm_labels.width.row,l=a.split(\",\")[1].replace(\")\",\"\"),c=String(Number(l)+Number(i)+e.viz.rect_height/2);setTimeout(o,4e3,e,\"double\",s,c),setTimeout(t,4300,e,r)},get_duration:function(){return 8e3}}}},function(t,e,r){var n=r(5),o=r(40),a=r(2);t.exports=function(){function t(t,e,r){var n=d3.selectAll(\".toggle_\"+e+\"_order .btn\").filter((function(){return this.__data__==r}))[0];a(n).click()}return{run:function(e){n(e,\"Reorder all rows and columns\\nby clicking the reorder\\n buttons\",9e3),setTimeout(o,3e3,e,\"toggle_col_order\"),setTimeout(t,3500,e,\"col\",\"rank\"),setTimeout(o,7e3,e,\"toggle_row_order\"),setTimeout(t,7500,e,\"row\",\"rank\")},get_duration:function(){return 11e3}}}},function(t,e,r){var n=r(5),o=r(40),a=r(17),i=r(2);t.exports=function(){function t(t,e){i(t.root+\" .gene_search_box\").val(e),i(t.root+\" .gene_search_box\").autocomplete(\"search\",e)}function e(t){i(t.root+\" .submit_gene_button\").click(),i(t.root+\" .gene_search_box\").autocomplete(\"search\",\"\")}return{run:function(r){var i=r.params;n(i,\"Search for rows using\\nthe search box\",5e3),setTimeout(o,2500,i,\"gene_search_container\"),setTimeout(t,3500,i,\"E\"),setTimeout(t,4e3,i,\"EG\"),setTimeout(t,4500,i,\"EGF\"),setTimeout(t,5e3,i,\"EGFR\"),setTimeout(e,5500,i),setTimeout(a,7500,r,0,0,1)},get_duration:function(){return 1e4}}}},function(t,e,r){var n=r(5),o=r(40),a=r(127),i=r(2);t.exports=function(){function t(t,e,r,n){var o,s=t.params,l={};l[e]=r,a(t,l),i(s.root+\" .slider_\"+e).slider(\"value\",n),o=\"N_row_sum\"===e?\"sum\":\"variance\",d3.select(s.root+\" .title_\"+e).text(\"Top rows \"+o+\": \"+r)}return{run:function(e){var r=e.params,a=\"Filter rows based on sum or\\nvariance using the sliders\";n(r,a,4e3),setTimeout(o,5e3,r,\"slider_N_row_sum\",13e3),a=\"Filter: Top 20 rows by sum\",setTimeout(n,5e3,r,a,4e3),setTimeout(t,5300,e,\"N_row_sum\",20,1),a=\"Filter: Top 10 rows by sum\",setTimeout(n,1e4,r,a,4e3),setTimeout(t,10300,e,\"N_row_sum\",10,2),a=\"Filter: All rows\",setTimeout(n,15e3,r,a,4e3),setTimeout(t,15300,e,\"N_row_sum\",\"all\",0)},get_duration:function(){return 19500}}}},function(t,e){t.exports=function(t){d3.selectAll(t.root+\" .btn\").attr(\"disabled\",!0),d3.select(t.viz.viz_svg).style(\"opacity\",.7)}},function(t,e,r){var n=r(265),o=r(99);t.exports=function(t,e){var r=t.network_data.row_nodes,a=t.network_data.col_nodes,i=n(r,(function(t){return t.name})),s=n(a,(function(t){return t.name})),l=i.concat(s),c=e.network_data.row_nodes,u=e.network_data.col_nodes,d=n(c,(function(t){return t.name})),f=n(u,(function(t){return t.name})),_=d.concat(f),p=o(l,_).length,h=o(_,l).length,m={};m.update=p>0?1e3:0,m.enter=h>0?1e3:0,m.enter=m.enter+m.update,m.run_transition=!0;var v=t.network_data.links.length,g=e.network_data.links.length,y=.5*e.matrix.def_large_matrix;return(v>y||g>y)&&(m.run_transition=!1,m.update=0,m.enter=0),m}},function(t,e,r){var n=r(15),o=r(18),a=r(20);t.exports=function(t,e,r){e=n(e,r);for(var i=!o(t)&&a(t),s=(i||t).length,l=Array(s),c=0;c<s;c++){var u=i?i[c]:c;l[c]=e(t[u],u,t)}return l}},function(t,e,r){var n=r(128),o=r(90),a=r(56),i=r(267),s=r(271),l=r(88),c=r(272),u=r(129),d=r(58),f=r(10);t.exports=function(t,e,r){var _=t.params;d3.selectAll(_.viz.root_tips).remove();var p=f().attr(\"class\",(function(){var t=_.viz.root_tips.replace(\".\",\"\");return t+\" d3-tip \"+t+\"_tile_tip\"})).direction(\"nw\").offset([0,0]).style(\"display\",\"none\").html((function(t){var e,r=String(t.value.toFixed(3));if(_.keep_orig){var n=String(t.value_orig.toFixed(3));e=\"<p>\"+t.row_name+\" and \"+t.col_name+\"</p><p> normalized value: \"+r+\"</p><div> original value: \"+n+\"</div>\"}else e=\"<p>\"+t.row_name+\" and \"+t.col_name+\"</p><div> value: \"+r+\"</div>\";return e}));d3.select(_.root+\" .clust_group\").call(p),u(_);for(var h=e.row_nodes,m=e.col_nodes,v=e.links,g=0;g<v.length;g++){var y=v[g];v[g].name=h[y.source].name+\"_\"+m[y.target].name}var w=d3.select(_.root+\" .clust_group\").selectAll(\".row\").data(_.matrix.matrix,(function(t){return t.name}));r.run_transition?w.transition().delay(r.update).duration(1e3).attr(\"transform\",(function(t){var e=t.row_index;return\"translate(0,\"+_.viz.y_scale(e)+\")\"})):w.attr(\"transform\",(function(t){var e=t.row_index;return\"translate(0,\"+_.viz.y_scale(e)+\")\"})),d3.select(_.root+\" .clust_group\").selectAll(\".row\").each((function(t){i(_,t,r,1e3,this,p)})),d3.selectAll(_.root+\" .horz_lines\").remove(),d3.selectAll(_.root+\" .vert_lines\").remove(),s(_,r,1e3),n(t,1e3,r),c(_,r,1e3,p),o(t,1e3),a(t,1e3),l(_,r,1e3),setTimeout(d,2e3,_)}},function(t,e,r){var n=r(268),o=r(269),a=r(270),i=r(24),s=r(25),l=r(12),c=r(7),u=r(16);t.exports=function(t,e,r,d,f,_){var p=e.row_data,h=c(p,(function(t){return 0!=t.value})),m=d3.select(f).selectAll(\".tile\").data(h,(function(t){return t.col_name}));n(t,r,m,p,f);var v=m.on(\"mouseover\",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];i(t,this,_,r)})).on(\"mouseout\",(function(){s(t,this,_)})),g=t.network_data.col_nodes_names;r.run_transition?v.transition().delay(r.update).duration(d).attr(\"width\",t.viz.rect_width).attr(\"height\",t.viz.rect_height).attr(\"transform\",(function(e){return u(g,e.col_name)?l(t,e):\"translate(0,0)\"})):v.attr(\"width\",t.viz.rect_width).attr(\"height\",t.viz.rect_height).attr(\"transform\",(function(e){return u(g,e.col_name)?l(t,e):\"translate(0,0)\"})),\"updn\"==t.matrix.tile_type&&a(t,p,f,r,d,m,_),o(t,r,d,m,_)}},function(t,e,r){var n=r(7);t.exports=function(t,e,r,o,a){if(e.run_transition?r.exit().transition().duration(300).attr(\"fill-opacity\",0).remove():r.exit().attr(\"fill-opacity\",0).remove(),\"updn\"==t.matrix.tile_type){var i=n(o,(function(t){return 0!=t.value_up||0!=t.value_dn})),s=d3.select(a).selectAll(\".tile_up\").data(i,(function(t){return t.col_name}));e.run_transition?s.exit().transition().duration(300).attr(\"fill\",\"0\").remove():s.exit().attr(\"fill\",0).remove();var l=d3.select(a).selectAll(\".tile_dn\").data(i,(function(t){return t.col_name}));e.run_transition?l.exit().transition().duration(300).attr(\"fill\",0).remove():l.exit().attr(\"fill\",0).remove()}}},function(t,e,r){var n=r(24),o=r(25),a=r(12);t.exports=function(t,e,r,i,s){var l=i.enter().append(\"rect\").attr(\"class\",\"tile row_tile\").attr(\"width\",t.viz.rect_width).attr(\"height\",t.viz.rect_height).on(\"mouseover\",(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];n(t,this,s,r)})).on(\"mouseout\",(function(){o(t,this,s)})).attr(\"fill-opacity\",0).attr(\"transform\",(function(e){return a(t,e)}));e.run_transition?l.transition().delay(e.enter).duration(r).style(\"fill\",(function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]})).attr(\"fill-opacity\",(function(e){return t.matrix.opacity_scale(Math.abs(e.value))})):l.style(\"fill\",(function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]})).attr(\"fill-opacity\",(function(e){return t.matrix.opacity_scale(Math.abs(e.value))})),l.each((function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()}))}},function(t,e,r){var n=r(34),o=r(35),a=r(24),i=r(25),s=r(12),l=r(7);t.exports=function(t,e,r,c,u,d,f){var _=l(e,(function(t){return 0!=t.value_up||0!=t.value_dn})),p=d3.select(r).selectAll(\".tile_up\").data(_,(function(t){return t.col_name})).on(\"mouseover\",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];a(t,this,f,r)})).on(\"mouseout\",(function(){i(t,this,f)}));c.run_transition?p.transition().delay(c.update).duration(u).attr(\"d\",(function(){return n(t)})).attr(\"transform\",(function(e){return s(t,e)})):p.attr(\"d\",(function(){return n(t)})).attr(\"transform\",(function(e){return s(t,e)}));var h=d3.select(r).selectAll(\".tile_dn\").data(_,(function(t){return t.col_name})).on(\"mouseover\",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];a(t,this,f,r)})).on(\"mouseout\",(function(){i(t,this,f)}));c.run_transition?h.transition().delay(c.update).duration(u).attr(\"d\",(function(){return o(t)})).attr(\"transform\",(function(e){return s(t,e)})):h.attr(\"d\",(function(){return o(t)})).attr(\"transform\",(function(e){return s(t,e)})),d.selectAll(\".tile\").each((function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()}))}},function(t,e){t.exports=function(t,e,r){var n=t.network_data.row_nodes,o=t.network_data.col_nodes,a=d3.select(t.root+\" .clust_group\").selectAll(\".row\").data(t.matrix.matrix,(function(t){return t.name})).exit();e.run_transition?a.transition().duration(r).style(\"opacity\",0).remove():a.style(\"opacity\",0).remove(),d3.selectAll(t.root+\" .row_label_group\").data(n,(function(t){return t.name})).exit().transition().duration(r).style(\"opacity\",0).remove(),d3.selectAll(t.root+\" .col_label_group\").data(o,(function(t){return t.name})).exit().transition().duration(r).style(\"opacity\",0).remove(),d3.selectAll(t.root+\" .row_cat_group\").data(n,(function(t){return t.name})).exit().transition().duration(r).style(\"opacity\",0).remove(),d3.selectAll(t.root+\" .row_dendro_group\").data(n,(function(t){return t.name})).exit().transition().duration(r).style(\"opacity\",0).remove(),d3.selectAll(t.root+\" .col_label_text\").data(o,(function(t){return t.name})).exit().transition().duration(r).style(\"opacity\",0).remove(),d3.selectAll(t.root+\" .horz_lines\").data(n,(function(t){return t.name})).exit().transition().duration(r).style(\"opacity\",0).remove(),d3.selectAll(t.root+\" .vert_lines\").data(o,(function(t){return t.name})).exit().transition().duration(r).style(\"opacity\",0).remove(),d3.selectAll(t.root+\" .col_cat_group\").data(o,(function(t){return t.name})).exit().transition().duration(r).style(\"opacity\",0).remove(),d3.selectAll(t.root+\" .col_dendro_group\").data(o,(function(t){return t.name})).exit().transition().duration(r).style(\"opacity\",0).remove()}},function(t,e,r){var n=r(273);t.exports=function(t,e,r,o){d3.select(t.root+\" .clust_group\").selectAll(\".row\").data(t.matrix.matrix,(function(t){return t.name})).enter().append(\"g\").classed(\"row\",!0).attr(\"transform\",(function(e){return\"translate(0,\"+t.viz.y_scale(e.row_index)+\")\"})).each((function(a){n(t,a,e,r,o,this)}))}},function(t,e,r){var n=r(274),o=r(24),a=r(25),i=r(12),s=r(7);t.exports=function(t,e,r,l,c,u){var d=e.row_data,f=s(d,(function(t){return 0!==t.value})),_=d3.select(u).selectAll(\"rect\").data(f,(function(t){return t.col_name})).enter().append(\"rect\").attr(\"class\",\"tile row_tile\").attr(\"width\",t.viz.rect_width).attr(\"height\",t.viz.rect_height).style(\"fill\",(function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]})).on(\"mouseover\",(function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];o(t,this,c,r)})).on(\"mouseout\",(function(){a(t,this,c)}));_.style(\"fill-opacity\",0).transition().delay(r.enter).duration(l).style(\"fill-opacity\",(function(e){return t.matrix.opacity_scale(Math.abs(e.value))})),_.attr(\"transform\",(function(e){return i(t,e)})),\"updn\"==t.matrix.tile_type&&n(t,d,u,c,r,l,_)}},function(t,e,r){var n=r(34),o=r(35),a=r(12),i=r(7);t.exports=function(t,e,r,s,l,c,u){var d=i(e,(function(t){return 0!=t.value_up||0!=t.value_dn}));d3.select(r).selectAll(\".tile_up\").data(d,(function(t){return t.col_name})).enter().append(\"path\").attr(\"class\",\"tile_up\").attr(\"d\",(function(){return n(t)})).attr(\"transform\",(function(e){return a(t,e)})).style(\"fill\",(function(){return t.matrix.tile_colors[0]})).on(\"mouseover\",(function(e){d3.selectAll(t.root+\" .row_label_group text\").classed(\"active\",(function(t){return e.row_name===t.name})),d3.selectAll(t.root+\" .col_label_text text\").classed(\"active\",(function(t){return e.col_name===t.name})),t.matrix.show_tile_tooltips&&s.show(e)})).on(\"mouseout\",(function(){d3.selectAll(t.root+\" text\").classed(\"active\",!1),t.matrix.show_tile_tooltips&&s.hide()})).style(\"fill-opacity\",0).transition().delay(l.enter).duration(c).style(\"fill-opacity\",(function(e){var r=0;return Math.abs(e.value_dn)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_up))),r})),d3.select(r).selectAll(\".tile_dn\").data(d,(function(t){return t.col_name})).enter().append(\"path\").attr(\"class\",\"tile_dn\").attr(\"d\",(function(){return o(t)})).attr(\"transform\",(function(e){return a(t,e)})).style(\"fill\",(function(){return t.matrix.tile_colors[1]})).on(\"mouseover\",(function(e){d3.selectAll(t.root+\" .row_label_group text\").classed(\"active\",(function(t){return e.row_name===t.name})),d3.selectAll(t.root+\" .col_label_text text\").classed(\"active\",(function(t){return e.col_name===t.name})),t.matrix.show_tile_tooltips&&s.show(e)})).on(\"mouseout\",(function(){d3.selectAll(t.root+\" text\").classed(\"active\",!1),t.matrix.show_tile_tooltips&&s.hide()})).style(\"fill-opacity\",0).transition().delay(l.enter).duration(c).style(\"fill-opacity\",(function(e){var r=0;return Math.abs(e.value_up)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_dn))),r})),u.each((function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()}))}},function(t,e){t.exports=function(t){!1===t.dendro_filter.row&&\"clust\"===t.viz.inst_order.col&&d3.select(t.root+\" .row_slider_group\").style(\"opacity\",1).style(\"pointer-events\",\"all\"),d3.selectAll(t.root+\" .toggle_row_order .btn\").attr(\"disabled\",null),!1===t.dendro_filter.col&&\"clust\"===t.viz.inst_order.row&&d3.select(t.root+\" .col_slider_group\").style(\"opacity\",1).style(\"pointer-events\",\"all\"),d3.selectAll(t.root+\" .toggle_col_order .btn\").attr(\"disabled\",null),d3.selectAll(t.root+\" .gene_search_button .btn\").attr(\"disabled\",null),t.viz.run_trans=!1}},function(t,e){t.exports=function(t,e){[\"row\",\"col\"].forEach((function(r){var n;n=\"row\"===r?\"col\":\"row\",d3.selectAll(e.root+\" .toggle_\"+n+\"_order .btn\").filter((function(){return d3.select(this).attr(\"name\")===t.inst_order[r]})).classed(\"active\",!0)}))}},function(t,e){t.exports=function(t){Object.keys(t||{}).forEach((function(e){e.indexOf(\"cat-\")>-1&&delete t[e],e.indexOf(\"cat_\")>-1&&delete t[e]}))}},function(t,e,r){var n=r(128),o=r(56),a=r(13),i=r(129);t.exports=function(t){d3.selectAll(t.params.root+\" .row_cat_group\").remove(),d3.selectAll(t.params.root+\" .row_label_group\").remove(),d3.selectAll(t.params.root+\" .row\").remove();a(t,!0,!0,!0),o(t);var e=t.params.network_data.col_nodes;d3.selectAll(t.params.root+\" .col_label_group\").data(e,(function(t){return t.name})).exit().style(\"opacity\",0).remove(),d3.selectAll(t.params.root+\" .col_label_text\").data(e,(function(t){return t.name})).exit().style(\"opacity\",0).remove(),d3.selectAll(t.params.root+\" .col_cat_group\").data(e,(function(t){return t.name})).exit().style(\"opacity\",0).remove(),d3.selectAll(t.params.root+\" .col_dendro_group\").data(e,(function(t){return t.name})).exit().style(\"opacity\",0).remove(),i(t.params);var r={enter:0,update:0,run_transition:!1};n(t,0,r)}},function(t,e,r){var n=r(27),o=r(2);t.exports=function(){function t(t){o(t.root+\" .expand_button\").d3Click()}function e(t){r(t,\"row\",\"clust\"),r(t,\"col\",\"clust\")}function r(t,e,r){var n=d3.selectAll(\".toggle_\"+e+\"_order .btn\").filter((function(){return this.__data__==r}))[0];o(n).click()}return o.fn.d3Click=function(){this.each((function(t,e){var r=document.createEvent(\"MouseEvents\");r.initMouseEvent(\"click\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}))},{run:function(r){var o=Number(d3.select(r.root+\" .expand_button\").attr(\"x\").replace(\"px\",\"\")),a=Number(d3.select(r.root+\" .expand_button\").attr(\"y\").replace(\"px\",\"\"));setTimeout(n,0,r,\"single\",o,a),setTimeout(t,400,r),setTimeout(e,1500,r)},get_duration:function(){return 3500}}}},function(t,e,r){var n=r(5),o=r(40),a=r(112),i=r(2);t.exports=function(){function t(t,e,r){i(cgm.params.root+\" .slider_col\").slider(\"value\",r/10),a(cgm,e,r)}return{run:function(e){n(e,\"Identify row and column groups\\nof varying sizes using  the\\nsliders and dendrogram\",1e4),setTimeout(o,3e3,e,\"slider_col\",7e3),setTimeout(t,4e3,e,\"row\",3),setTimeout(t,5e3,e,\"row\",4),setTimeout(t,6e3,e,\"row\",5),setTimeout(t,7e3,e,\"row\",6),setTimeout(t,8e3,e,\"row\",7),setTimeout(t,9e3,e,\"row\",5)},get_duration:function(){return 11e3}}}},function(t,e,r){var n=r(5),o=r(27),a=r(2);t.exports=function(){function t(t,e){a(e).d3DblClick()}return a.fn.d3DblClick=function(){this.each((function(t,e){var r=document.createEvent(\"MouseEvents\");r.initMouseEvent(\"dblclick\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}))},{run:function(e){n(e,\"Row and column categories\\ncan be use to reorder\\nby double-clicking\",7e3);var r=d3.selectAll(e.root+\" .col_cat_super\").filter((function(){return\"cat-1\"===this.__data__}))[0],a=d3.select(\".col_cat_super\").attr(\"transform\"),i=Number(a.split(\"(\")[1].split(\",\")[0].replace(\")\",\"\"))+20,s=Number(a.split(\",\")[1].replace(\")\",\"\"));setTimeout(o,4e3,e,\"double\",i,s),setTimeout(t,4300,e,r)},get_duration:function(){return 8e3}}}},function(t,e,r){var n=r(5),o=r(130);t.exports=function(){function t(t){d3.select(t.root+\" .play_button\").classed(\"running_demo\",!1),o(t,!0)}return{run:function(e){setTimeout(n,0,e,\"Clustergrammer is built with gene\\nexpression data in mind and interfaces\\nwith several Ma'ayan lab web tools\",4500),setTimeout(n,4500,e,\"The example data being visualized is\\ngene expression data obtained from the\\nCancer Cell Line Encyclopedia\",4500),setTimeout(n,9e3,e,\"For more information please view\\nthe help documentation\",4500),setTimeout(t,14e3,e)},get_duration:function(){return 12e3}}}},function(t,e,r){var n=r(5),o=r(27),a=r(2);t.exports=function(){function t(t){a(t.root+\" .expand_button\").d3Click()}return a.fn.d3Click=function(){this.each((function(t,e){var r=document.createEvent(\"MouseEvents\");r.initMouseEvent(\"click\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}))},a.fn.d3DblClick=function(){this.each((function(t,e){var r=document.createEvent(\"MouseEvents\");r.initMouseEvent(\"dblclick\",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}))},{run:function(e){n(e,\"View additional controls\\nby clicking the menu button\",4e3);var r=Number(d3.select(e.root+\" .expand_button\").attr(\"x\").replace(\"px\",\"\")),a=Number(d3.select(e.root+\" .expand_button\").attr(\"y\").replace(\"px\",\"\"));setTimeout(o,3e3,e,\"single\",r,a),setTimeout(t,3400,e)},get_duration:function(){return 5e3}}}},function(t,e,r){var n=r(285),o=r(286);t.exports=function(){var t=this.params;n(this);o(t,30)}},function(t,e,r){var n=r(126);t.exports=function(t){var e=t.params;if(d3.select(e.root+\" .play_button\").empty()){var r=d3.select(e.root+\" .viz_svg\").append(\"g\").classed(\"play_button\",!0).classed(\"running_demo\",!1);n(e),r.append(\"circle\").style(\"r\",45).style(\"fill\",\"white\").style(\"stroke\",\"black\").style(\"stroke-width\",\"3px\").style(\"opacity\",.5),r.append(\"path\").attr(\"d\",(function(){return\"M-15,-22 l 40,22 l -40,22 z \"})).style(\"fill\",\"black\").style(\"opacity\",.5),r.on(\"mouseover\",(function(){d3.select(this).select(\"path\").style(\"fill\",\"red\").style(\"opacity\",1),d3.select(this).select(\"circle\").style(\"opacity\",1)})).on(\"mouseout\",(function(){d3.select(this).select(\"path\").style(\"fill\",\"black\").style(\"opacity\",.5),d3.select(this).select(\"circle\").style(\"opacity\",.5)})).on(\"click\",(function(){t.play_demo()}))}}},function(t,e){t.exports=function(t,e){if(d3.select(t.root+\" .demo_group\").empty()){var r=d3.select(t.root+\" .clust_container\").attr(\"transform\"),n=Number(r.split(\"(\")[1].split(\",\")[0]),o=Number(r.split(\",\")[1].replace(\")\",\"\")),a=d3.select(t.root+\" .viz_svg\").append(\"g\").classed(\"demo_group\",!0).attr(\"transform\",(function(){return\"translate(\"+(n+20)+\",\"+(o+40)+\")\"}));a.append(\"rect\").classed(\"rect_1\",!0),a.append(\"rect\").classed(\"rect_2\",!0),a.append(\"rect\").classed(\"rect_3\",!0);var i=1.3*e;a.append(\"text\").attr(\"id\",\"text_1\").attr(\"font-size\",e+\"px\").attr(\"font-weight\",1e3).attr(\"font-family\",'\"Helvetica Neue\", Helvetica, Arial, sans-serif'),a.append(\"text\").attr(\"id\",\"text_2\").attr(\"font-size\",e+\"px\").attr(\"font-weight\",1e3).attr(\"font-family\",'\"Helvetica Neue\", Helvetica, Arial, sans-serif').attr(\"transform\",(function(){return\"translate(0,\"+String(i)+\")\"})),a.append(\"text\").attr(\"id\",\"text_3\").attr(\"font-size\",e+\"px\").attr(\"font-weight\",1e3).attr(\"font-family\",'\"Helvetica Neue\", Helvetica, Arial, sans-serif').attr(\"transform\",(function(){return\"translate(0,\"+String(2*i)+\")\"}))}}},function(t,e,r){var n=r(43),o=r(65);t.exports=function(t){var e=n(this.config,t);o(this,e)}},function(t,e,r){var n=r(43),o=r(65),a=r(0);t.exports=function(t){var e,r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=(e=!1===i?this:i).config,l={};[\"row\",\"col\"].forEach((function(e){var n=JSON.parse(JSON.stringify(s.network_data[e+\"_nodes\"]));if(a.has(t,e))if(t[e].length>0){var o=t[e];(r=(n||[]).filter((function(t){return(o||[]).some((function(e){return t.name.toLowerCase().includes(e.toLowerCase())}))}))).length||(r=[{name:\"\",row_index:0}])}else r=n;else r=n;l[e+\"_nodes\"]=r}));var c=e.params.network_data.row_nodes,u=e.params.network_data.col_nodes,d=n(e.config,l);o(e,d),c.length>e.params.inst_nodes.row_nodes.length&&(e.params.inst_nodes.row_nodes=c),u.length>e.params.inst_nodes.col_nodes.length&&(e.params.inst_nodes.col_nodes=u)}},function(t,e,r){var n=r(39),o=r(49),a=r(63),i=r(66);t.exports=function(t,e){null!=t.params.cat_update_callback&&t.params.cat_update_callback(this);var r=t.params.viz.cat_colors.col;i(e,t.params.network_data.row_nodes,!0),i(e,t.params.inst_nodes.row_nodes,!0),t.params=o(t.params,!1),n(t,!0),a(t),t.params.new_row_cats=e,t.params.viz.cat_colors.col=r}},function(t,e,r){var n=r(39),o=r(49),a=r(63),i=r(66),s=r(291);t.exports=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this,r=s(e),l=e.params.viz.cat_colors.col;if(i(r,e.params.network_data.row_nodes),i(r,e.params.inst_nodes.row_nodes),e.params.new_row_cats=r,e.params.viz.cat_colors.col=l,t){var c=!0;e.params=o(e.params,c),n(e,!0),a(e)}}},function(t,e,r){var n=r(1);t.exports=function(t){var e,r,o,a,i,s,l,c,u=t.config.network_data.row_nodes||[],d=[],f=u[0],_=Object.keys(f||{}),p={};return _.forEach((function(t){t.indexOf(\"cat-\")>=0&&(i=f[t],l=parseInt(t.split(\"cat-\")[1],10),s=i.indexOf(\": \")>=0?i.split(\": \")[0]:t,p[l]=s)})),Object.keys(p||{}).sort().forEach((function(t){(c={}).cat_title=p[t],c.cats=[],d.push(c)})),u.each((function(t){Object.keys(t||{}).forEach((function(i){if(i.indexOf(\"cat-\")>-1){a=t[i],l=parseInt(i.split(\"cat-\")[1],10);var s=i;a=t[i];var c=t[i],u=t.name;c.indexOf(\": \")>-1?(s=c.split(\": \")[0],a=c.split(\": \")[1]):(s=i,a=c),0===d.length?function(t,n,o){(e={}).cat_title=t,e.cats=[],(r={}).cat_name=n,r.members=[],r.members.push(o),e.cats.push(r),d.push(e)}(s,a,u):(!1,d.forEach((function(t){s===t.cat_title&&(!0,o=!1,n(t.cats,(function(t){a===t.cat_name&&(o=!0,t.members.push(u))})),!1===o&&((r={}).cat_name=a,r.members=[],r.members.push(u),t.cats.push(r)))})))}}))})),d}},function(t,e,r){var n=r(127),o=r(293);t.exports=function(t,e,r){var a={};a[e]=r,n(t,a),o(t,e,r)}},function(t,e,r){var n=r(294);t.exports=function(t,e,r){var o,a,i=t.params;d3.select(i.root+\" .slider_\"+e).attr(\"current_state\",r),Object.keys(i.viz.possible_filters||{}).forEach((function(r){if(o=e.indexOf(\"row\")>-1?\"row\":e.indexOf(\"col\")>-1?\"col\":\"neither\",a=r.indexOf(\"row\")>-1?\"row\":r.indexOf(\"col\")>-1?\"col\":\"neither\",e!=r&&\"neither\"!=o&&o==a){var s=n(i,r);t.slider_functions[r].value(0),d3.select(i.root+\" .title_\"+r).text(s.text+s.state),d3.select(i.root+\" .slider_\"+r).attr(\"current_state\",s.state)}}));var s=n(i,e);d3.select(i.root+\" .title_\"+e).text(s.text+r+s.suffix)}},function(t,e,r){var n=r(42);t.exports=function(t,e){var r={},o={},a={};return r.state=n(t.viz.filter_data,e),a.top=e.split(\"_\")[0],a.node=e.split(\"_\")[1],a.measure=e.split(\"_\")[2],\"row\"===a.node?o.node=\"rows\":o.node=\"columns\",\"N\"===a.top&&(r.suffix=\"\"),\"pct\"===a.top&&(r.suffix=\"%\"),\"sum\"==a.measure?o.measure=\"sum\":\"var\"==a.measure&&(o.measure=\"variance\"),\"sum\"===a.measure&&(r.text=\"Top \"+o.node+\" \"+o.measure+\": \"),\"var\"===a.measure&&(r.text=\"Top \"+o.node+\" \"+o.measure+\": \"),Object.keys(t.viz.possible_filters||{}).indexOf(\"enr_score_type\")>-1&&\"col\"===a.node&&(r.text=\"Top Enriched Terms: \",r.suffix=\"\"),r}},function(t,e,r){var n=r(296),o=r(131);t.exports=function(){var t=n(),e=this.params,r=o(e);t(new Blob([r],{type:\"text/plain;charset=utf-8\"}),\"clustergrammer.txt\")}},function(t,e){t.exports=function(){\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\nvar t=t||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(t){\"use strict\";var e=t.document,r=t.URL||t.webkitURL||t,n=e.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),o=\"download\"in n,a=t.webkitRequestFileSystem,i=t.requestFileSystem||a||t.mozRequestFileSystem,s=function(e){(t.setImmediate||t.setTimeout)((function(){throw e}),0)},l=0,c=[],u=function(t,e,r){for(var n=(e=[].concat(e)).length;n--;){var o=t[\"on\"+e[n]];if(\"function\"==typeof o)try{o.call(t,r||t)}catch(t){s(t)}}},d=function(r,s){var d,f,_,p,h,m=this,v=r.type,g=!1,y=function(){var e=(t.URL||t.webkitURL||t).createObjectURL(r);return c.push(e),e},w=function(){u(m,\"writestart progress write writeend\".split(\" \"))},x=function(){!g&&d||(d=y()),f&&(f.location.href=d),m.readyState=m.DONE,w()},b=function(t){return function(){if(m.readyState!==m.DONE)return t.apply(this,arguments)}},z={create:!0,exclusive:!1};if(m.readyState=m.INIT,s||(s=\"download\"),o)return d=y(),n.href=d,n.download=s,p=n,(h=e.createEvent(\"MouseEvents\")).initMouseEvent(\"click\",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),p.dispatchEvent(h),m.readyState=m.DONE,void w();t.chrome&&v&&\"application/octet-stream\"!==v&&(_=r.slice||r.webkitSlice,r=_.call(r,0,r.size,\"application/octet-stream\"),g=!0),a&&\"download\"!==s&&(s+=\".download\"),f=\"application/octet-stream\"===v||a?t:t.open(),i?(l+=r.size,i(t.TEMPORARY,l,b((function(t){t.root.getDirectory(\"saved\",z,b((function(t){var e=function(){t.getFile(s,z,b((function(t){t.createWriter(b((function(e){e.onwriteend=function(e){f.location.href=t.toURL(),c.push(t),m.readyState=m.DONE,u(m,\"writeend\",e)},e.onerror=function(){var t=e.error;t.code!==t.ABORT_ERR&&x()},\"writestart progress write abort\".split(\" \").forEach((function(t){e[\"on\"+t]=m[\"on\"+t]})),e.write(r),m.abort=function(){e.abort(),m.readyState=m.DONE},m.readyState=m.WRITING})),x)})),x)};t.getFile(s,{create:!1},b((function(t){t.remove(),e()})),b((function(t){t.code===t.NOT_FOUND_ERR?e():x()})))})),x)})),x)):x()},f=d.prototype;return f.abort=function(){this.readyState=this.DONE,u(this,\"abort\")},f.readyState=f.INIT=0,f.WRITING=1,f.DONE=2,f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null,t.addEventListener(\"unload\",(function(){for(var t=c.length;t--;){var e=c[t];\"string\"==typeof e?r.revokeObjectURL(e):e.remove()}c.length=0}),!1),function(t,e){return new d(t,e)}}(self);return t}},function(t,e){t.exports=function(t,e,r){var n,o=e.name,a=t.viz.all_cats[r].length;if(a>0){o=\"('\"+o+\"'\";for(var i=0;i<a;i++)n=\"cat-\"+String(i),o=o+\", '\"+String(e[n])+\"'\";o+=\")\"}else o=String(o);return o}},function(t,e,r){var n=r(299),o=r(1);t.exports=function(){var t=this,e=t.params,r=e.viz.clust.dim.width,a=e.viz.clust.dim.height,i=d3.scale.linear().domain([0,r]).range([0,r]),s=d3.scale.linear().domain([0,a]).range([0,a]);d3.select(e.root+\" .clust_container\").append(\"g\").classed(\"brush_group\",!0),t.params.is_cropping=!0;var l=d3.svg.brush().x(i).y(s).on(\"brushend\",(function(){d3.select(t.params.root+\" .col_dendro_icons_container\").style(\"display\",\"none\"),d3.select(t.params.root+\" .row_dendro_icons_container\").style(\"display\",\"none\");var r=l.extent(),a=r[0],i=r[1],s=a[0],c=i[0],u=a[1],d=i[1];if(s!=c&&u!=d){setTimeout(n,500,t);var f=function(t,r,n,a,i,s){t>r&&(t=s[0],r=i[0]);n>a&&(n=s[1],a=i[1]);n-=e.viz.rect_height,t-=e.viz.rect_width;var l={row:[],col:[]};return o(e.matrix.matrix,(function(t){var r=e.viz.y_scale(t.row_index);r>n&&r<a&&l.row.push(t.name)})),d3.selectAll(e.root+\" .col_label_text\").each((function(e){var n=d3.select(this).attr(\"transform\"),o=Number(n.split(\",\")[0].split(\"(\")[1]);o>t&&o<r&&l.col.push(e.name)})),l}(s,c,u,d,a,i);t.filter_viz_using_names(f),d3.select(e.root+\" .crop_button\").style(\"color\",\"#337ab7\").classed(\"fa-crop\",!1).classed(\"fa-undo\",!0)}}));d3.select(e.root+\" .brush_group\").call(l),d3.selectAll(e.root+\" .extent\").style(\"opacity\",.2).style(\"fill\",\"black\")}},function(t,e){t.exports=function(t){d3.select(t.params.root+\" .brush_group\").transition().style(\"opacity\",0).remove(),t.params.is_cropping=!1}},function(t,e,r){var n,o,a;o=[r(132)],void 0===(a=\"function\"==typeof(n=function(t){return function(){\"use strict\";var e,r,n,o,a,i,s=0,l=100,c=.01,u=!1,d=\"horizontal\",f=!1,_=50,p=1,h=!1,m=t.dispatch(\"slide\",\"slideend\"),v=t.format(\".2%\"),g=t.format(\".0\"),y=null;function w(c){c.each((function(){r||(r=t.scale.linear().domain([s,l])),e=e||r.domain()[0];var c=t.select(this).classed(\"d3-slider d3-slider-\"+d,!0),u=t.behavior.drag();if(u.on(\"dragend\",(function(){m.slideend(t.event,e)})),\"array\"==k(e)&&2==e.length?(o=c.append(\"a\").classed(\"d3-slider-handle\",!0).attr(\"xlink:href\",\"#\").attr(\"id\",\"handle-one\").on(\"click\",N).call(u),y=c.append(\"a\").classed(\"d3-slider-handle\",!0).attr(\"id\",\"handle-two\").attr(\"xlink:href\",\"#\").on(\"click\",N).call(u)):o=c.append(\"a\").classed(\"d3-slider-handle\",!0).attr(\"xlink:href\",\"#\").attr(\"id\",\"handle-one\").on(\"click\",N).call(u),\"horizontal\"===d){if(c.on(\"click\",(function(){if(\"array\"!=k(e)){var n=Math.max(0,Math.min(i,t.event.offsetX||t.event.layerX));x(r.invert?b(r.invert(n/i)):z(n/i))}})),\"array\"==k(e)&&2==e.length){a=t.select(this).append(\"div\").classed(\"d3-slider-range\",!0),o.style(\"left\",v(r(e[0]))),a.style(\"left\",v(r(e[0]))),u.on(\"drag\",A);var h=100-parseFloat(v(r(e[1])));y.style(\"left\",v(r(e[1]))),a.style(\"right\",h+\"%\"),u.on(\"drag\",A)}else o.style(\"left\",v(r(e))),u.on(\"drag\",A);i=parseInt(c.style(\"width\"),10)}else{if(c.on(\"click\",(function(){if(\"array\"!=k(e)){var n=i-Math.max(0,Math.min(i,t.event.offsetY||t.event.layerY));x(r.invert?b(r.invert(n/i)):z(n/i))}})),u.on(\"drag\",E),\"array\"==k(e)&&2==e.length){a=t.select(this).append(\"div\").classed(\"d3-slider-range-vertical\",!0),o.style(\"bottom\",v(r(e[0]))),a.style(\"bottom\",v(r(e[0]))),u.on(\"drag\",E);var w=100-parseFloat(v(r(e[1])));y.style(\"bottom\",v(r(e[1]))),a.style(\"top\",w+\"%\"),u.on(\"drag\",E)}else o.style(\"bottom\",v(r(e))),u.on(\"drag\",E);i=parseInt(c.style(\"height\"),10)}function A(){\"handle-one\"===t.event.sourceEvent.target.id?p=1:\"handle-two\"==t.event.sourceEvent.target.id&&(p=2);var e=Math.max(0,Math.min(i,t.event.x));x(r.invert?b(r.invert(e/i)):z(e/i))}function E(){\"handle-one\"===t.event.sourceEvent.target.id?p=1:\"handle-two\"==t.event.sourceEvent.target.id&&(p=2);var e=i-Math.max(0,Math.min(i,t.event.y));x(r.invert?b(r.invert(e/i)):z(e/i))}function N(){t.event.stopPropagation()}f&&function(e){\"boolean\"==typeof f&&(f=t.svg.axis().ticks(Math.round(i/100)).tickFormat(g).orient(\"horizontal\"===d?\"bottom\":\"right\")),n=r.ticks?r.copy().range([0,i]):r.copy().rangePoints([0,i],.5),f.scale(n);var o=e.append(\"svg\").classed(\"d3-slider-axis d3-slider-axis-\"+f.orient(),!0).on(\"click\",N),a=o.append(\"g\");\"horizontal\"===d?(o.style(\"margin-left\",-_+\"px\"),o.attr({width:i+2*_,height:_}),\"top\"===f.orient()?(o.style(\"top\",-_+\"px\"),a.attr(\"transform\",\"translate(\"+_+\",\"+_+\")\")):a.attr(\"transform\",\"translate(\"+_+\",0)\")):(o.style(\"top\",-_+\"px\"),o.attr({width:_,height:i+2*_}),\"left\"===f.orient()?(o.style(\"left\",-_+\"px\"),a.attr(\"transform\",\"translate(\"+_+\",\"+_+\")\")):a.attr(\"transform\",\"translate(0,\"+_+\")\")),a.call(f)}(c)}))}function x(n){var i=\"array\"==k(e)&&2==e.length?e[p-1]:e,s=v(r(b(i))),l=v(r(b(n))),c=\"horizontal\"===d?\"left\":\"bottom\";if(s!==l){if(\"array\"==k(e)&&2==e.length?(e[p-1]=n,t.event&&m.slide(t.event,e)):t.event&&m.slide(t.event.sourceEvent||t.event,e=n),e[0]>=e[1])return;if(1===p)\"array\"==k(e)&&2==e.length&&(\"left\"===c?a.style(\"left\",l):a.style(\"bottom\",l)),u?o.transition().styleTween(c,(function(){return t.interpolate(s,l)})).duration(\"number\"==typeof u?u:250):o.style(c,l);else{var f=100-parseFloat(l),_=100-parseFloat(l);\"left\"===c?a.style(\"right\",f+\"%\"):a.style(\"top\",_+\"%\"),u?y.transition().styleTween(c,(function(){return t.interpolate(s,l)})).duration(\"number\"==typeof u?u:250):y.style(c,l)}}}function b(t){if(t===r.domain()[0]||t===r.domain()[1])return t;var e=t;if(h)e=z(r(t));else{var n=(t-r.domain()[0])%c;e=t-n,2*Math.abs(n)>=c&&(e+=n>0?c:-c)}return e}function z(t){var e=r.ticks?r.ticks():r.domain(),n=e.map((function(e){return t-r(e)})),o=-1,a=0,i=r.ticks?r.range()[1]:r.rangeExtent()[1];do{o++,Math.abs(n[o])<i&&(i=Math.abs(n[o]),a=o)}while(n[o]>0&&o<n.length-1);return e[a]}function k(t){return{}.toString.call(t).match(/\\s([a-zA-Z]+)/)[1].toLowerCase()}return w.min=function(t){return arguments.length?(s=t,w):s},w.max=function(t){return arguments.length?(l=t,w):l},w.step=function(t){return arguments.length?(c=t,w):c},w.animate=function(t){return arguments.length?(u=t,w):u},w.orientation=function(t){return arguments.length?(d=t,w):d},w.axis=function(t){return arguments.length?(f=t,w):f},w.margin=function(t){return arguments.length?(_=t,w):_},w.value=function(t){return arguments.length?(e&&x(b(t)),e=t,w):e},w.snap=function(t){return arguments.length?(h=t,w):h},w.scale=function(t){return arguments.length?(r=t,w):r},t.rebind(w,m,\"on\"),w}})?n.apply(e,o):n)||(t.exports=a)}]);"],"mappings":"AAAA;AACA;AACA","sourceRoot":""}